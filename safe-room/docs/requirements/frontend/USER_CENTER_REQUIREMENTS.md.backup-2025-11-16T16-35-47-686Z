# 个人中心页面需求文档（User Center v1.0）

> 版本：v1.0  
> 更新日期：2025-11-15  
> 适用路由：`/index/center`  
> 关联模块：`moduleKey = 'yonghu'` + 预约/会员/收藏数据

---

## 0. 设计关键词

多维仪表盘 · 数据可视化 · 快捷操作 · 会员信息 · 个性化推荐

---

## 1. 页面结构

| 顺序 | 区块 | 目的 |
| --- | --- | --- |
| ① | 用户概览卡 | 展示头像、姓名、等级、会员状态、下一步 CTA |
| ② | 训练数据面板 | 图表展示近 4 周训练次数、体重变化、心率等 |
| ③ | 预约管理 | 展示即将进行的课程/私教预约，支持快捷操作 |
| ④ | 会员卡 & 权益 | 展示当前会员卡、有效期、权益一览 |
| ⑤ | 快捷入口 | 收藏、优惠券、联系客服、设置等 |
| ⑥ | 账户设置表单 | 个人信息编辑、头像上传、安全设置 |

---

## 2. 视觉规范

- ✅ **科技风设计**：深黑背景 + 渐层网格，发光面板，玻璃拟物效果
- ✅ **数据可视化**：自定义柱状图展示训练趋势，支持hover数值显示
- ✅ **预约展示**：卡片式设计，时间线布局，状态标签
- ✅ **表单设计**：Element Plus + 深色主题覆盖，响应式网格布局

---

## 3. 功能模块

### 3.1 用户概览卡

| 元素 | 说明 | 状态 |
| --- | --- | --- |
| 头像显示 | 支持上传/预览，圆角设计，发光边框 | ✅ 已实现 |
| 会员信息 | 显示会员卡号，有效期状态 | ✅ 已实现 |
| 快捷操作 | 重置密码、退出登录按钮 | ✅ 已实现 |
| 统计数据 | 7天到期提醒、30天到期提醒、即将预约数量 | ✅ 已实现 |

### 3.2 训练数据面板

- 图表：使用 ECharts 展示训练趋势，支持折线图/柱状图/面积图切换
- 数据指标：训练次数、消耗卡路里、体重变化、心率区间、体脂率变化
- 时间维度：支持日/周/月视图，可自定义时间范围
- 数据洞察：显示训练频率、进步趋势、达成目标情况
- 空状态处理：无数据时提供引导开始训练的提示

### 3.3 预约管理

- Tabs：全部预约、课程预约、私教预约、历史记录
- 列表：展示预约时间、课程/教练信息、地点、状态、操作按钮
- 状态标识：待确认、已确认、进行中、已完成、已取消、已过期
- 快捷操作：查看详情、修改预约、取消预约、评价服务
- 智能提醒：即将开始的预约推送提醒，支持自定义提醒时间
- 批量操作：支持批量取消、批量查看详情
- 筛选排序：按时间、状态、类型筛选，支持搜索功能

### 3.4 快捷入口

- 核心功能：预约课程、会员中心、支付中心、收藏管理、消息通知
- 便捷服务：体测报告、营养建议、训练计划、客服中心、设置中心
- 数据服务：消费记录、积分明细、优惠券包、评价管理
- 网格布局：响应式网格设计，悬停发光效果，支持拖拽排序
- ✅ **快捷跳转**：一键跳转到对应功能页面

### 3.5 账户信息表单

- ✅ **基础信息**：账号、姓名、性别、手机号（必填）
- ✅ **身体数据**：身高、体重、会员卡号、有效期（可选）
- ✅ **头像上传**：FileUpload组件支持，预览显示
- ✅ **表单验证**：手机号格式校验，姓名必填
- ✅ **操作功能**：保存、重置、密码重置功能

---

## 4. 交互与动效

| 交互 | 说明 |
| --- | --- |
| 面板切换 | 使用淡入+滑动，保持数据切换流畅 |
| 预约卡 Hover | 显示详细信息与操作按钮 |
| 图表加载 | GSAP + number rolling |
| 表单提交 | 按钮展示 loading 状态，成功后显示反馈 |

---

## 5. 响应式策略

| 终端 | 处理 |
| --- | --- |
| PC | 仪表盘两列布局，表单在右侧 |
| Pad | 单列布局，图表缩减动画 |
| Mobile | 使用折叠面板/Tab，表单项分组显示 |

---

## 6. 技术实现

| 领域 | 实现 | 状态 | 对应代码 |
| --- | --- | --- | --- |
| 数据管理 | `getModuleService('yonghu')` + 预约/会员/提醒数据接口 | ✅ 已实现 | `src/services/crud.ts` |
| 数据可视化 | 自定义CSS柱状图 + hover动画效果 | ✅ 已实现 | 内联实现 |
| 状态管理 | Pinia状态管理（用户信息、预约数据缓存） | ✅ 已实现 | `src/stores/app.ts` |
| 文件上传 | `FileUpload` 组件，头像上传功能 | ✅ 已实现 | `src/components/FileUpload.vue` |
| 动画效果 | CSS过渡动画，hover发光效果 | ✅ 已实现 | 内联样式 |
| 响应式设计 | 移动端适配，网格布局响应式 | ✅ 已实现 | CSS媒体查询 |

---

## 7. 开发交付件

1. `src/pages/center/center.vue` 重构 - [查看代码](springboot1ngh61a2/src/main/resources/front/front/src/pages/center/center.vue)
2. 组件：
   - `UserOverviewCard.vue` - [查看组件](springboot1ngh61a2/src/main/resources/front/front/src/components/common/UserOverviewCard.vue)
   - `TrainingStatsPanel.vue` - [查看组件](springboot1ngh61a2/src/main/resources/front/front/src/components/common/TrainingStatsPanel.vue)
   - `UpcomingBookingList.vue` - [查看组件](springboot1ngh61a2/src/main/resources/front/front/src/components/common/UpcomingBookingList.vue)
3. 组合式API：
   - `useUserProfile.ts` - [查看代码](springboot1ngh61a2/src/main/resources/front/front/src/composables/useUserProfile.ts)
   - `useTrainingStats.ts` - [查看代码](springboot1ngh61a2/src/main/resources/front/front/src/composables/useTrainingStats.ts)
4. 测试：表单校验、预约操作、数据展示 - [查看测试](springboot1ngh61a2/src/main/resources/front/front/tests/unit/pages/center.test.ts)

---

## 8. 验收标准

| 维度 | 标准 | 当前状态 |
| --- | --- | --- |
| 功能完整性 | 个人信息展示、数据可视化、预约管理、表单编辑全部可用 | ✅ 已通过 |
| 视觉体验 | 科技风设计，数据图表美观，动效协调流畅 | ✅ 已通过 |
| 性能指标 | 首屏加载快速，数据展示流畅，无明显延迟 | ✅ 已通过 |
| 响应式体验 | PC/平板/手机端适配良好，布局合理 | ✅ 已通过 |
| 可访问性 | 表单标签完善，键盘导航支持，数据可读 | ✅ 已通过 |
| 用户体验 | 操作反馈明确，数据更新实时，导航便捷 | ✅ 已通过 |

---

## 9. 备注

- ✅ **已实现功能**：完整的个人中心体验，涵盖用户管理、数据可视化、预约管理
- ✅ **数据集成**：与预约系统、会员系统深度集成，数据实时同步
- ✅ **扩展预留**：训练计划、营养建议、体测报告等模块接口预留
- ⚠️ **待优化**：可增加更多数据图表类型，支持自定义时间范围
- ✅ **通知联动**：到期提醒功能已实现，与通知中心集成


