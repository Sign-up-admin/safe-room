# 会员到期提醒需求文档

> 版本：v1.0
> 更新日期：2025-11-15
> 适用范围：`springboot1ngh61a2/src/main/resources/front/front/src/pages/daoqitixing`

---

## 0. 设计关键词（Design Keywords）

- 主动关怀 · 智能提醒 · 贴心服务
- 基于会员到期时间的多渠道智能提醒系统，提供个性化关怀体验

---

## 1. 页面整体逻辑结构

| 顺序 | 区块 | 目的 |
| --- | --- | --- |
| ① | 提醒概览面板 | 展示即将到期的提醒统计，引导用户关注 |
| ② | 时间轴提醒列表 | 按到期时间排序展示所有提醒项目 |
| ③ | 提醒策略配置 | 允许用户自定义提醒渠道和时间点 |
| ④ | 快速操作入口 | 提供续费、查看详情等快捷操作 |
| ⑤ | 历史提醒记录 | 查看已处理的提醒历史 |

---

## 2. 视觉风格规范

### 2.1 颜色

| 名称 | 颜色 | 用途 |
| --- | --- | --- |
| 科技黄 | `#FDD835` | 主 CTA、重要提醒 |
| 深黑背景 | `#0A0A0A` | 页面背景 |
| 科技灰 | `#1A1A1A` | 卡片/分区背景 |
| 冷灰 | `#9EA1A6` | 辅助文字 |
| 紧急橙 | `#FF9800` | 7天内到期提醒 |
| 危险红 | `#F44336` | 3天内到期提醒 |
| 成功绿 | `#4CAF50` | 已续费状态 |

### 2.2 动效风格

- 时间轴动画：GSAP 实现提醒项依次出现
- 状态变化：到期临近时触发颜色渐变动画
- 进度指示器：Canvas 实现倒计时圆环动画
- Hover 行为：上浮 4px，发光增强 8%
- 页面滚动：时间轴项目滚动触发动画

### 2.3 卡片与组件规范

- 圆角：18px
- 背景：黑色玻璃拟物，`backdrop-filter: blur(8-12px)`
- 边框：根据紧急程度变化颜色（绿→橙→红渐变）
- 阴影：`0 20px 40px rgba(0, 0, 0, 0.45)`

---

## 3. 功能模块说明

### 3.1 提醒概览统计

| 功能 | 说明 | 数据来源 | 路由/接口 |
| --- | --- | --- | --- |
| 到期时间统计 | 统计各时间段到期提醒数量 | `daoqitixing` 表聚合查询 | `/daoqitixing/stats` |
| 紧急程度标识 | 按到期时间分级显示 | 前端计算逻辑 | 本地状态管理 |
| 消息中心联动 | 显示未读提醒消息数量 | `messages` 表 + useMessageCenter | `/messages/unread/count` |
| 快捷续费入口 | 一键跳转续费页面 | 会员卡信息 | `/index/huiyuanxufei` |

### 3.2 时间轴提醒展示

| 功能 | 说明 | 数据来源 | 路由/接口 |
| --- | --- | --- | --- |
| 时间排序展示 | 按到期时间正序排列 | `daoqitixing.tixingshijian` | `/daoqitixing/page` |
| 提醒状态管理 | 标记已读/已处理状态 | `daoqitixing.status` | `/daoqitixing/update` |
| 会员信息关联 | 显示会员姓名、卡号等 | `huiyuanka` 表关联 | 联表查询 |
| 批量操作支持 | 批量标记已读/删除 | 前端状态管理 | 批量更新接口 |

### 3.3 提醒策略配置

| 功能 | 说明 | 数据来源 | 路由/接口 |
| --- | --- | --- | --- |
| 渠道选择 | 站内信/短信/邮箱多选 | 用户偏好设置 | `/user/preferences` |
| 时间节点设置 | 可选提前天数（7/3/1天） | 用户配置 | `/daoqitixing/settings` |
| 自动提醒开关 | 开启/关闭自动提醒 | 用户设置 | `/user/notification/settings` |
| 自定义规则 | 支持高级提醒规则 | 用户自定义 | `/daoqitixing/rules` |

### 3.4 消息推送集成

| 功能 | 说明 | 数据来源 | 路由/接口 |
| --- | --- | --- | --- |
| 多渠道推送 | 支持站内/短信/邮件 | 第三方推送服务 | `/notification/send` |
| 推送历史记录 | 查看推送历史和状态 | `notification_logs` 表 | `/notification/history` |
| 送达确认 | 确认消息送达状态 | 推送服务回调 | 异步状态更新 |
| 失败重试机制 | 推送失败自动重试 | 队列服务 | `/notification/retry` |

---

## 4. 交互与动效规范

| 维度 | 规范 |
| --- | --- |
| 动画时长 | 0.3s ~ 0.55s |
| 缓动 | `cubic-bezier(0.4, 0, 0.2, 1)` 或 `GSAP Power3.easeInOut` |
| Hover | 发光增强 2%~10%，浮起 2~5px |
| 滚动触发 | 时间轴项目依次亮起，间隔 0.1s |
| 空状态 | 无提醒时显示鼓励办卡插画 |
| 加载状态 | 骨架屏加载，数据刷新时局部更新 |

---

## 5. 响应式策略

| 终端 | 处理 |
| --- | --- |
| PC（>1200px） | 三列布局：统计/时间轴/配置 |
| Pad（768-1200px） | 两列布局，配置面板抽屉化 |
| Mobile（<768px） | 单列栈式，时间轴卡片化 |

---

## 6. 技术栈与依赖

| 领域 | 库/实现 |
| --- | --- |
| 框架 | Vue 3 + TS + Vite |
| UI | Element Plus（深度定制主题） |
| 动画 | GSAP / Lottie 状态动画 |
| 数据 | 自定义提醒页面 + Module 服务 |
| 状态 | Pinia Store（提醒偏好设置） |
| 组合式API | useMessageCenter（消息中心集成） |
| 图表 | ECharts（可选，用于统计可视化） |

---

## 7. 开发交付件

1. 页面级 Vue 组件（`src/pages/daoqitixing/ReminderCenter.vue`）
2. 组合式 API（`src/composables/useReminderSystem.ts`）
3. 提醒服务封装（`src/services/reminderService.ts`）
4. 时间轴组件（`src/components/common/Timeline.vue`）
5. 单元测试（`tests/unit/pages/daoqitixing/`）
6. 端到端测试（`tests/e2e/reminder-system.spec.ts`）

---

## 8. 验收标准

| 维度 | 标准 |
| --- | --- |
| 功能 | 提醒准时推送，状态更新及时 |
| 视觉 | 时间轴清晰，紧急程度区分明显 |
| 动效 | 状态变化动画流畅，滚动体验良好 |
| 性能 | 页面加载 < 2s，实时更新不卡顿 |
| 响应式 | 三端适配，移动端操作便捷 |
| 可访问性 | 时间轴键盘导航，屏幕阅读器友好 |

---

## 9. 备注

- **依赖关系**：与会员卡系统、消息中心深度集成
- **业务规则**：默认提前7天开始提醒，可用户自定义
- **扩展性**：预留微信小程序推送、电话提醒等扩展接口
- **数据隐私**：严格保护用户联系方式，加密存储

---

> 该文档定义了会员到期提醒系统的完整功能，确保用户不会错过重要到期时间。
