---
title: ADMIN FORGOT PASSWORD REQUIREMENTS
version: v1.0.0
last_updated: 2025-11-16
status: active
category: technical
---
# 忘记密码页面需求文档（Admin Forgot Password v2.0）

> 版本：v2.0
> 更新日期：2025-11-16（基于现有实现更新）
> 适用路由：`/forgot-password` 或 `/reset-password`（待实现）  
> 关联组件：`src/views/forgot-password.vue`（待实现）

---

## 0. 设计关键词

安全可靠 · 流程简单 · 提示清晰 · 快速重置 · 用户友好

> 要求：密码重置流程 ≤ 20 秒，安全验证机制完善，提示信息明确。

---

## 1. 页面逻辑结构

| 顺序 | 区块 | 目的 |
| --- | --- | --- |
| ① | 页面标题和说明 | 明确功能，说明重置流程 |
| ② | 账号输入表单 | 输入需要重置密码的账号 |
| ③ | 验证信息（可选） | 手机号/邮箱验证（如实现） |
| ④ | 操作按钮 | 提交重置、返回登录 |

---

## 2. 视觉规范

### 2.1 背景
- 渐变背景：`linear-gradient(135deg, #1e1f42, #0a0b17)`  
- 与登录页、注册页保持一致的视觉风格

### 2.2 重置卡片
- 宽度：`min(520px, 100%)`，圆角 24px  
- 背景：`#FFFFFF`，阴影 `0 30px 80px rgba(10, 24, 64, 0.45)`  
- 标题区：显示"忘记密码"，副标题"请输入账号，系统将重置密码"

### 2.3 表单元素
- 标签：左对齐，字重 500  
- 输入框：标准输入框样式，支持 `clearable`  
- 提交按钮：主色 `#3A80FF`，hover 明度 +8%

---

## 3. 功能需求

### 3.1 当前实现（简化版）

当前系统采用简化版密码重置，仅需输入账号即可重置。

#### 3.1.1 表单字段

| 字段 | 类型 | 标签 | 必填 | 说明 |
| --- | --- | --- | --- | --- |
| `username` | text | 账号 | 是 | 需要重置密码的账号 |
| `role` | select | 角色类型（可选） | 否 | 选择账号所属角色 |

#### 3.1.2 重置流程

| 步骤 | 操作 | 接口/数据 | 边界场景 |
| --- | --- | --- | --- |
| 输入账号 | 输入需要重置的账号 | 前端表单 | 账号格式校验 |
| 选择角色 | （可选）选择账号角色 | 前端下拉 | 多角色支持 |
| 提交重置 | 点击"重置密码"按钮 | `POST /{tableName}/resetPass` | 网络失败、账号不存在 |
| 重置成功 | 显示新密码，提示修改 | 后端返回 | 密码重置为"123456" |
| 重置失败 | 显示错误信息 | `ElMessage.error` | 账号不存在 |

#### 3.1.3 接口规范

**重置密码接口**：`POST /{tableName}/resetPass`

- **参数**：
  - `username`：账号（必填）
  - 表单提交或 JSON 格式
- **响应**：
  ```json
  {
    "code": 0,
    "msg": "密码已重置为：123456"
  }
  ```
- **错误响应**：
  ```json
  {
    "code": 500,
    "msg": "账号不存在"
  }
  ```

### 3.2 增强版实现（规划）

#### 3.2.1 安全验证

| 验证方式 | 说明 | 优先级 |
| --- | --- | --- |
| 手机号验证 | 发送验证码到注册手机号 | 高 |
| 邮箱验证 | 发送验证链接到注册邮箱 | 中 |
| 安全问题 | 回答预设的安全问题 | 低 |
| 图形验证码 | 防止自动化攻击 | 必须 |

#### 3.2.2 重置方式

| 方式 | 说明 | 适用场景 |
| --- | --- | --- |
| 重置为默认密码 | 重置为"123456"，需首次登录修改 | 当前实现 |
| 发送临时密码 | 发送随机密码到手机/邮箱 | 增强版 |
| 发送重置链接 | 发送重置链接，用户自行设置新密码 | 增强版（推荐） |

---

## 4. 交互细节

| 交互点 | 规范 |
| --- | --- |
| 输入焦点 | 输入框获取焦点时边框高亮 |
| Loading | 提交时显示 loading，禁止重复提交 |
| 错误提示 | 表单项下方红色提示，顶部使用 `ElMessage.error` |
| 成功提示 | 重置成功后显示新密码，提示用户及时修改 |
| 返回登录 | 提供"返回登录"链接，快速跳转 |

---

## 5. 安全与合规

### 5.1 当前实现的安全措施

1. **账号验证**：验证账号是否存在，防止信息泄露
2. **HTTPS传输**：生产环境使用 HTTPS 传输数据
3. **防重复提交**：提交时禁用按钮，防止重复请求

### 5.2 安全风险与改进建议

| 风险 | 当前状态 | 改进建议 |
| --- | --- | --- |
| 无验证机制 | 仅需账号即可重置 | 增加手机/邮箱验证 |
| 默认密码固定 | 重置为"123456" | 使用随机密码或重置链接 |
| 无频率限制 | 可无限次重置 | 限制重置频率（如1小时1次） |
| 无日志记录 | 重置操作未记录 | 记录重置日志，便于审计 |

### 5.3 增强版安全措施（规划）

1. **验证码机制**：发送验证码到注册手机/邮箱
2. **频率限制**：同一账号1小时内最多重置1次
3. **IP限制**：同一IP地址1小时内最多重置3次
4. **操作日志**：记录所有重置操作，包括IP、时间、账号
5. **临时密码**：使用随机生成的临时密码，首次登录强制修改
6. **重置链接**：发送带时效的重置链接（30分钟有效）

---

## 6. 响应式策略

| 终端 | 处理 |
| --- | --- |
| PC (>992px) | 卡片居中，正常显示 |
| Pad (768-992px) | 调整卡片 padding 至 24px，字体 -2px |
| Mobile (<768px) | 卡片全宽，按钮全宽，隐藏装饰元素 |

---

## 7. 验收标准

| 维度 | 标准 |
| --- | --- |
| 功能 | 密码重置功能正常，账号验证正确 |
| 性能 | 页面加载 ≤ 1s；提交响应 ≤ 2s |
| 安全 | 账号验证正确，防止信息泄露 |
| 体验 | 流程简单，提示信息清晰 |
| 兼容性 | 主流浏览器正常显示和交互 |

---

## 8. 待实现功能

- [ ] 实现忘记密码页面组件
- [ ] 增加手机号验证码功能
- [ ] 增加邮箱验证功能
- [ ] 实现重置链接方式
- [ ] 增加频率限制
- [ ] 增加操作日志记录
- [ ] 增加图形验证码
- [ ] 优化重置成功后的提示信息

---

## 9. 使用场景

### 9.1 场景一：管理员忘记密码

1. 管理员访问忘记密码页面
2. 输入管理员账号
3. 系统重置密码为"123456"
4. 管理员使用新密码登录
5. 首次登录后修改密码

### 9.2 场景二：教练忘记密码

1. 教练访问忘记密码页面
2. 选择"健身教练"角色
3. 输入教练工号
4. 系统重置密码为"123456"
5. 教练使用新密码登录

---

## 10. 注意事项

1. **密码安全**：重置后的默认密码"123456"安全性较低，建议首次登录后强制修改
2. **账号保护**：即使账号不存在，也应返回统一提示，防止账号枚举
3. **用户体验**：重置成功后应明确提示新密码，并提供快速登录入口
4. **安全审计**：所有重置操作应记录日志，便于安全审计

---

