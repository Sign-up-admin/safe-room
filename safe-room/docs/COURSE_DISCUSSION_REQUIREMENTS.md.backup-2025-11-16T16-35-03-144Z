# 课程讨论页面需求文档（Course Discussion v1.0）

> 版本：v2.0
> 更新日期：2025-11-16
> 适用路由：`/index/discussjianshenkecheng`
> 关联模块：`moduleKey = 'discussjianshenkecheng'`

---

## 0. 设计关键词

社区互动 · 标签讨论 · 审核提示 · 点赞回复 · 热门推荐

---

## 1. 页面结构

| 顺序 | 区块 | 目的 |
| --- | --- | --- |
| ① | 讨论导航 | 按课程/标签筛选 |
| ② | 发帖入口 | 快速发布问题/经验 |
| ③ | 讨论列表 | 展示帖子内容、互动数据 |
| ④ | 热门话题 | 推荐高热标签、精选讨论 |
| ⑤ | CTA | 引导预约课程或加入会员 |

---

## 2. 视觉规范

- 背景采用深黑 + 渐变网格
- 帖子卡片使用玻璃拟物 + 左侧标签条
- 热门话题采用霓虹标签云展示
- 动态提示使用粒子效果

---

## 3. 功能模块

### 3.1 讨论导航

| 功能 | 说明 |
| --- | --- |
| 课程筛选 | 根据课程列表筛选相关讨论，支持多选 | 下拉多选框，实时过滤 |
| 标签筛选 | 动态标签云（器械、饮食、进阶、复训、教练推荐） | 点击高亮，组合筛选 |
| 排序方式 | 最新发布、最热回复、官方置顶、我的关注 | Tab切换，排序动画 |
 搜索功能 | 标题和内容全文搜索 | 实时搜索建议 |

### 3.2 发帖入口

- 发布按钮：悬浮球设计，右下角固定，支持展开/收起
- 快速发帖：简化模式，只需标题和内容
- 高级发帖：完整表单，包含标题、内容编辑器、关联课程、标签选择、图片上传
- 草稿功能：自动保存草稿，支持恢复编辑
- 预览功能：实时预览发布效果
- 显示审核说明（提交后待审核）

### 3.3 讨论列表

- 帖子卡片：作者头像、用户名、发布时间、关联课程标签、标题、内容摘要
- 互动数据：浏览数、点赞数、回复数、收藏数
- 状态标识：官方回复、热门讨论、置顶帖子
- 操作按钮：点赞、回复、收藏、分享、举报
- 展开/收起：长文本支持展开查看全文
- 互动：点赞、收藏、评论数量
- 官方标识：官方回复/教练回复显示徽章

### 3.4 帖子详情页面

- 完整内容展示：标题、作者信息、发布时间、关联课程、标签、全文内容
- 富媒体支持：图片、视频、链接预览、代码块高亮
- 互动功能：点赞、收藏、分享、关注作者
- 评论系统：多级回复、点赞评论、@用户提醒
- 相关推荐：相似讨论、相同标签的帖子、作者其他帖子
- 管理功能：举报、拉黑作者（登录用户）

### 3.5 热门话题

- 标签云：动态大小显示热门标签，点击筛选对应讨论
- 精选讨论：官方推荐的优质讨论，带推荐理由
- 热门排行：24小时/7天/30天热门讨论榜单
- 话题发现：基于用户兴趣推荐相关话题
- 活动专题：健身挑战、教练专访等主题讨论集合

- 标签云 + 话题榜单
- 点击标签自动筛选

---

## 4. 交互与动效

| 互动 | 规范 |
| --- | --- |
| 发帖按钮 | Hover 脉冲光效，点击后弹层从右侧滑入 |
| 点赞 | 心形填充 + 数字跳动 |
| 过滤 | 切换分类伴随底部光条移动 |
| 热门话题 | 标签云飘动，hover 发光 |

---

## 5. 响应式策略

| 终端 | 处理 |
| --- | --- |
| PC | 双列布局（列表 + 侧栏） |
| Pad | 侧栏下移，列表单列 |
| Mobile | 侧栏折叠为顶部标签，发帖按钮改为底部浮动 |

---

## 6. 技术实现

| 领域 | 实现 |
| --- | --- |
| 数据 | `/discussjianshenkecheng/list`, `/discussjianshenkecheng/save` |
| 状态 | Pinia（筛选条件、草稿） |
| 富文本 | 轻量编辑器（Markdown/Quill） |
| 动画 | GSAP、Particles.js（标签云） |

---

## 7. 开发交付件

1. `src/pages/discussjianshenkecheng/list.vue` 重构
2. 组件：`DiscussionFilters.vue`, `DiscussionCard.vue`, `TopicCloud.vue`, `DiscussionComposer.vue`
3. 测试：发帖、筛选、点赞、收藏

---

## 8. 验收标准

| 维度 | 标准 |
| --- | --- |
| 功能 | 发帖成功（审核提示）、筛选过滤准确、搜索结果相关 |
| 互动 | 点赞/回复/收藏实时更新，官方标识正确，评论系统完整 |
| 内容展示 | 富文本渲染正确，图片视频正常显示，多级回复清晰 |
 性能 | 列表懒加载流畅，搜索实时反馈，首屏加载 ≤ 2s |
| 可访问性 | 表单键盘操作，卡片语义结构完整，屏幕阅读器友好 |

---

## 9. 备注

- 发帖需防止刷屏（节流/验证码），新用户发帖限制
- 需与后台审核状态字段联动，实时显示审核进度
- 评论系统需支持敏感词过滤和@用户提醒通知
- 热门话题数据需支持缓存和定时刷新
- 搜索功能需支持分词和相关性排序
- 预留直播讨论和语音评论功能接口


