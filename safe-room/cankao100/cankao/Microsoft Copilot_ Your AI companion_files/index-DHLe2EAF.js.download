
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="c8961bcf-2e86-5d35-8857-a5b4e48ed34d")}catch(e){}}();
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/motion-lib-react-drL3p7KJ.js","assets/vendor-BZxM7dHU.js","assets/build-esm-index-CgiG16u7.js","assets/botd.esm-B-Mgb8YC.js","assets/i18next-http-backend-esm-index-B6Q_9d5z.js","assets/index.es-C-L2gmEi.js","assets/llm-selector-Bj_QqtXQ.js","assets/index-ouYxeWMq.js","assets/deferred-D4qUXHr0.js","assets/math.scalar.functions-B0475LkX.js","assets/animationGroup-DxnAXsF8.js","assets/skeleton-DD-ZO7tm.js","assets/rawTexture-AToXI3fn.js","assets/easing-BrxVXa55.js","assets/weightedsound-Dm0lQGFu.js","assets/audioEngine-B4Y22QVh.js","assets/babylonFileParser.function-CWsVgwsY.js","assets/outlineRenderer-D06AIubs.js","assets/discBuilder-BM_AyXF5.js","assets/backgroundMaterial-DOchlkXF.js","assets/standardMaterial-HPX3ih_I.js","assets/cubeTexture-P3Hh-xHI.js","assets/abstractEngine.cubeTexture-CF0yhlZA.js","assets/lazy-DQIQL8LU.js","assets/ray-lzwBD1f-.js","assets/dds-CjUXaakr.js","assets/dumpTools-mfyTMhRA.js","assets/khronosTextureContainer2-BofCIj9D.js","assets/workerPool-H9Ji3mCo.js","assets/assetContainer-DN-QNGpM.js","assets/shaderMaterial-D_DLFnRF.js","assets/timer-D_KYcZZD.js","assets/math.scalar-CUn8raON.js","assets/logDepthDeclaration-Cksizm8z.js","assets/fogFragmentDeclaration-CHunXFVu.js","assets/sceneUboDeclaration-CHePVh0I.js","assets/meshUboDeclaration-Cgj-YesF.js","assets/logDepthVertex-C8owtH4N.js","assets/helperFunctions-BjtPvZn6.js","assets/clipPlaneFragment-DH1q1p2z.js","assets/logDepthDeclaration-BLE-DpT3.js","assets/fogFragmentDeclaration-BCFg_Qv9.js","assets/sceneUboDeclaration-CkOga7a_.js","assets/meshUboDeclaration-np8tJnyB.js","assets/helperFunctions-CwMakeTw.js","assets/clipPlaneVertex-DBiyglQe.js","assets/logDepthVertex-qVnwsQDr.js","assets/pointLight-xt1ilRRd.js","assets/fresnelFunction-B7SfBx-k.js","assets/proceduralTexture-mf920QI1.js","assets/abstractAudioBus-DX5teTqO.js","assets/webAudioBaseSubGraph-BDY-vv4F.js","assets/abstractSoundInstance-TStbRSdB.js","assets/abstractSoundSource-CfJURUeJ.js","assets/webAudioBus-CKa8lGLm.js","assets/spatialWebAudio-DmZ0KLsi.js","assets/webAudioMainBus-CW9UxtPu.js","assets/webAudioStaticSound-CwgwMvJT.js","assets/webAudioStreamingSound-D0X50yIM.js","assets/webAudioSoundSource-fnW1B5n4.js","assets/webgpuEngine-BbsEXTCt.js","assets/bakedVertexAnimation-DfkM7hOV.js","assets/instancesDeclaration-ClljwWim.js","assets/fresnelFunction-DCp2HA1_.js","assets/decalFragment-eBL3frHH.js","assets/bonesVertex-C0K_Myb4.js","assets/morphTargetsVertex-BKETX-CJ.js","assets/asyncLock-DKtmHjk9.js","assets/engine.multiRender-dI-OcBPm.js","assets/environmentTextureTools-DOLR96q6.js","assets/engine.multiRender-pS6_MLld.js","assets/flowGraphParser-BhaVx1v4.js","assets/flowGraphRichTypes-BvS_z3-D.js","assets/flowGraphJsonPointerParserBlock-vWZp20TK.js","assets/flowGraphCachedOperationBlock-BIHZQCQ0.js","assets/flowGraphConsoleLogBlock-BJ_n6vBw.js","assets/flowGraphBranchBlock-DFuVYzYO.js","assets/flowGraphDoNBlock-t3axzm_R.js","assets/flowGraphForLoopBlock-ebKdQMJc.js","assets/flowGraphThrottleBlock-CMcnngxS.js","assets/flowGraphMultiGateBlock-DM1_t1sC.js","assets/flowGraphSwitchBlock-BGy22OHq.js","assets/flowGraphWaitAllBlock-DcQ1PNrE.js","assets/flowGraphCounterBlock-DT-dp13T.js","assets/flowGraphWhileLoopBlock-Ds19rjVg.js","assets/flowGraphDebounceBlock-BDVSLCbq.js","assets/flowGraphFlipFlopBlock-Db4SPqPd.js","assets/flowGraphSequenceBlock-Doy_Oa8x.js","assets/flowGraphSetDelayBlock-CTYq91eY.js","assets/flowGraphCancelDelayBlock-BS_C77bJ.js","assets/flowGraphPlayAnimationBlock-CFwwGBFQ.js","assets/flowGraphStopAnimationBlock-Mfxamxq7.js","assets/flowGraphPauseAnimationBlock-rtU07cYD.js","assets/flowGraphInterpolationBlock-CriKBJ45.js","assets/flowGraphEasingBlock-B5gMZTmx.js","assets/flowGraphBezierCurveEasingBlock-BROWEAbO.js","assets/flowGraphConditionalDataBlock-D_fCTqoh.js","assets/flowGraphGetVariableBlock-DUvjjSzF.js","assets/flowGraphSetVariableBlock-cuszrLnt.js","assets/flowGraphTransformCoordinatesSystemBlock-z436eHY4.js","assets/flowGraphGetPropertyBlock-DInHU9IN.js","assets/flowGraphSetPropertyBlock-DVnU-wce.js","assets/flowGraphConstantBlock-YB4c4Uji.js","assets/flowGraphGetAssetBlock-DTaiP1Hi.js","assets/flowGraphDataSwitchBlock-BFK0NMJk.js","assets/flowGraphMathBlocks-DkEt-JKi.js","assets/flowGraphBinaryOperationBlock-lF-sPN_a.js","assets/flowGraphUnaryOperationBlock-Ceh68xxR.js","assets/flowGraphMathCombineExtractBlocks-CzRTjdHU.js","assets/flowGraphMatrixMathBlocks-CJeSAsoG.js","assets/flowGraphVectorMathBlocks-9PkbJfDg.js","assets/flowGraphTypeToTypeBlocks-uQJabg_V.js","assets/flowGraphContextBlock-Bl9lmVMN.js","assets/flowGraphArrayIndexBlock-ZHT37xT0.js","assets/flowGraphCodeExecutionBlock-iEwHZw1x.js","assets/flowGraphIndexOfBlock-Dkzn5uAB.js","assets/flowGraphFunctionReferenceBlock-DuTX2L1p.js","assets/flowGraphMeshPickEventBlock-CH0-7vry.js","assets/flowGraphSceneReadyEventBlock-DPZqCoNu.js","assets/flowGraphReceiveCustomEventBlock-DiwBqjXJ.js","assets/flowGraphSendCustomEventBlock-Dwae3aAy.js","assets/flowGraphSceneTickEventBlock-DfyvhtNi.js","assets/flowGraphPointerOutEventBlock-Dayv4pWh.js","assets/flowGraphPointerOverEventBlock-Dek0DZt6.js","assets/spotLight-DpyRs_97.js","assets/glowMapGeneration.fragment-DEloGaKD.js","assets/glowMapGeneration.vertex--GOVAFVg.js","assets/glowMapGeneration.fragment-DkvRKRKD.js","assets/glowMapGeneration.vertex-hMSIZSWz.js","assets/glowMapMerge.fragment-C3KB90cD.js","assets/glowMapMerge.vertex-CnmiZ_u2.js","assets/glowBlurPostProcess.fragment-btJaOO5H.js","assets/glowMapMerge.fragment-lWmwmgr2.js","assets/glowMapMerge.vertex-l9IDmKqa.js","assets/glowBlurPostProcess.fragment-C-rKai5p.js","assets/shadowGeneratorSceneComponent-BFKlWuQh.js","assets/shadowMap.fragment-BcNIwYzX.js","assets/packingFunctions-DZEA0lsi.js","assets/shadowMapFragment-Bint6ZwI.js","assets/shadowMap.vertex-C7L7En9V.js","assets/shadowMapVertexMetric-BreLiPXu.js","assets/depthBoxBlur.fragment-BI3YOQLi.js","assets/shadowMapFragmentSoftTransparentShadow-gI8p45Ur.js","assets/shadowMap.fragment-e9EgB9-h.js","assets/shadowMapFragment-BWja_uiQ.js","assets/shadowMap.vertex-DqioY8py.js","assets/shadowMapVertexMetric-Blq5D7CQ.js","assets/depthBoxBlur.fragment-VgfeiJfp.js","assets/shadowMapFragmentSoftTransparentShadow-B9_q-iBt.js","assets/rectAreaLight-yRzPll_1.js","assets/thinInstanceMesh-BB_mKW5h.js","assets/lightFragment-JwrFfHMb.js","assets/lightFragment-COgJcMH6.js","assets/iesTextureLoader-CLk7ERSW.js","assets/hdrCubeTexture-CzWvLKm-.js","assets/iblCdfGenerator-DJbWCExh.js","assets/hdr-BXeNrG6g.js","assets/background.vertex-CFNWdL1a.js","assets/backgroundUboDeclaration-BRII5oP0.js","assets/shadowsVertex-CcI73U1y.js","assets/background.fragment--kVTHXow.js","assets/lightsFragmentFunctions-r06UxRp8.js","assets/background.vertex-5a1qYtwn.js","assets/backgroundUboDeclaration-CpA0z3he.js","assets/shadowsVertex-c3M4yOTh.js","assets/background.fragment-BMo6S5HE.js","assets/lightsFragmentFunctions-DeWoMTMs.js","assets/color.fragment-CpbwZkN3.js","assets/color.vertex-BbnV36FS.js","assets/vertexColorMixing-C9BlH5Sl.js","assets/pbr.vertex-CT-Egf2s.js","assets/harmonicsFunctions-CFhONOg-.js","assets/samplerVertexImplementation-CApEVAI8.js","assets/mainUVVaryingDeclaration-CnEEe3Da.js","assets/bumpVertex-coPxTWpS.js","assets/vertexColorMixing-9Q7gbaSd.js","assets/pbr.fragment-CLyR16EN.js","assets/oitFragment-mC0ONE34.js","assets/bumpFragment-C5CKUY1M.js","assets/pbr.vertex-CW-y125Z.js","assets/samplerVertexImplementation-_SiW_lAO.js","assets/harmonicsFunctions-BX0Y4ZTA.js","assets/mainUVVaryingDeclaration-CFZ-if13.js","assets/bumpVertex-ce7qO4Ut.js","assets/pbr.fragment-CNCwKQr-.js","assets/oitFragment-wDWA8glh.js","assets/bumpFragment-DDDi60Rt.js","assets/shaderLanguage-BjwqUAVi.js","assets/exrTextureLoader-D1mxQeCE.js","assets/ddsTextureLoader-iGt57DBl.js","assets/envTextureLoader-BGVe4bRM.js","assets/ktxTextureLoader-CqNu0DSf.js","assets/tgaTextureLoader-l56Wm_9r.js","assets/hdrTextureLoader-DY2agq8W.js","assets/basisTextureLoader-NzdWa69Z.js","assets/geometryBufferRenderer-BV_ILSVZ.js","assets/rawCubeTexture-CrngwTuk.js","assets/iblShadowsRenderPipeline-C73CDxzq.js","assets/iblCdfGeneratorSceneComponent-BeQLJByf.js","assets/procedural.vertex-BqGXo6s_.js","assets/procedural.vertex-BHoBumph.js","assets/default.fragment-K7w0X8Tv.js","assets/defaultUboDeclaration-f1j-n8Ju.js","assets/default.vertex-5zBz8u2I.js","assets/default.fragment-gvdlAD19.js","assets/defaultUboDeclaration-DED1d3fu.js","assets/default.vertex-BEcZwGVs.js","assets/dracoDecoder-WbwkhpCV.js","assets/meshoptCompression-DiAufuYL.js","assets/mesh.vertexData.functions-BXkNVxNr.js","assets/pointsCloudSystem-BhWdnGoB.js","assets/color.fragment-BzlSyCVF.js","assets/color.vertex-CpEzQvmc.js","assets/lodCube.fragment-CEMZXPxK.js","assets/lod.fragment-CV_4lOEm.js","assets/lodCube.fragment-5SZ-QspU.js","assets/lod.fragment-CXKFxsYG.js","assets/rgbdDecode.fragment-YeJgeP6x.js","assets/rgbdEncode.fragment-DH_QqUoK.js","assets/rgbdDecode.fragment-DUig02dZ.js","assets/rgbdEncode.fragment-DFvprUYg.js","assets/particles.fragment-CnpqOzY8.js","assets/particles.vertex-ogI2uDfE.js","assets/particles.fragment-CrB20hU-.js","assets/particles.vertex-CLXZ6Tvo.js","assets/postProcessRenderPipelineManagerSceneComponent-CevPD5B_.js","assets/postprocess.vertex-DIpZAL3C.js","assets/kernelBlur.fragment-yqfl5ah6.js","assets/kernelBlurVaryingDeclaration-CTqxq_YJ.js","assets/kernelBlur.vertex-NbeylnF7.js","assets/kernelBlur.fragment-mKnlu7aP.js","assets/kernelBlurVaryingDeclaration-D4RB-46x.js","assets/kernelBlur.vertex-B6MQtUBs.js","assets/pass.fragment-DiOwuxQ6.js","assets/passCube.fragment-pylfnZkm.js","assets/pass.fragment-dGikBixB.js","assets/passCube.fragment-C7u3kyzb.js","assets/vrDistortionCorrection.fragment-CswHNu8u.js","assets/vrDistortionCorrection.fragment-xHD3UInQ.js","assets/depth.fragment-DhdL4rbl.js","assets/depth.vertex-0T2z3Bou.js","assets/geometry.fragment-EDj9Lljo.js","assets/geometry.vertex-b5VX33eI.js","assets/boundingBoxRenderer.fragment-DhBpv68q.js","assets/boundingBoxRendererUboDeclaration-Uh45_iQ_.js","assets/boundingBoxRenderer.vertex-CWO7-vmV.js","assets/boundingBoxRenderer.fragment-VNepuVy9.js","assets/boundingBoxRenderer.vertex-1evNpZml.js","assets/outline.fragment-C0RUWUS3.js","assets/outline.vertex-DHWyKdg-.js","assets/outline.fragment-Czuxqpfn.js","assets/outline.vertex-BqVbnlIm.js","assets/index-BOwGiAGR.js","assets/glTFLoader-Bakr4tQL.js","assets/glTFLoaderExtensionRegistry-Cy34V9FQ.js","assets/objectModelMapping-CKA8lqli.js","assets/glTFLoaderAnimation-DHW-XOTs.js","assets/EXT_lights_image_based-CJ3vY1Ah.js","assets/EXT_mesh_gpu_instancing-BFD-lZIw.js","assets/EXT_meshopt_compression-B136CbJW.js","assets/EXT_texture_webp-CgnFhH6F.js","assets/EXT_texture_avif-feFe7hfL.js","assets/EXT_lights_ies-DhJE3_Ix.js","assets/KHR_draco_mesh_compression-TkllX-kt.js","assets/KHR_lights_punctual-DMbPielf.js","assets/KHR_materials_pbrSpecularGlossiness-BQkzja4X.js","assets/KHR_materials_unlit-CoQUjNJu.js","assets/KHR_materials_clearcoat-CszHKaLa.js","assets/KHR_materials_iridescence-DN9momCm.js","assets/KHR_materials_anisotropy-DsA_rJyc.js","assets/KHR_materials_emissive_strength-DttjHdRv.js","assets/KHR_materials_sheen-CMlCf9f8.js","assets/KHR_materials_specular-M7EXIeHV.js","assets/KHR_materials_ior-D2yt2IV7.js","assets/KHR_materials_variants-Bo7KaH1r.js","assets/KHR_materials_transmission-CciT1OaV.js","assets/KHR_materials_diffuse_transmission-vAQ7PPdu.js","assets/KHR_materials_volume-DOSdd1gb.js","assets/KHR_materials_dispersion-DILGMcwj.js","assets/EXT_materials_diffuse_roughness-BYYh6dTG.js","assets/KHR_mesh_quantization-J5ljbhxE.js","assets/KHR_texture_basisu-D1X_wKZP.js","assets/KHR_texture_transform-DPELiYVj.js","assets/KHR_xmp_json_ld-CayuP0la.js","assets/KHR_animation_pointer-ZHuqdWE2.js","assets/MSFT_audio_emitter-Dmh-gFKp.js","assets/MSFT_lod-BxRFOs1q.js","assets/MSFT_minecraftMesh-NV1hrDON.js","assets/MSFT_sRGBFactors-4y1D9-O5.js","assets/KHR_interactivity-XFyQ8ALt.js","assets/declarationMapper-CWHcQS3p.js","assets/KHR_node_visibility-BuMu3zrI.js","assets/KHR_node_selectability-6UjBY8CR.js","assets/KHR_node_hoverability-DS32SkKo.js","assets/ExtrasAsMetadata-CRT4EEnj.js","assets/viewer-lib-index-BHBgjYjN.js","assets/stlFileLoader.metadata-2VxBZznk.js","assets/babylon.inspector.bundle-qvpCLVyp.js","assets/index-BMpxw2Xn.js","assets/bvhFileLoader-DszqLjZh.js","assets/objFileLoader-DMzqpjAI.js","assets/stlFileLoader-C0SNmh8I.js","assets/splatFileLoader-DMCXLlHv.js","assets/sidebar-settings-CjU4dUvc.js","assets/use-pf-upsell-premium-payflow-enter-CeomoREJ.js","assets/settings-Dimvxqlj.js","assets/voice-options-Dywu6lVA.js","assets/voice-selector-Dq4VFaEo.js","assets/wallet-schemas-BH_RanJV.js","assets/utils-CL-u_a_W.js","assets/constants-XgbIGitR.js","assets/order-details-view-De6ISPVa.js","assets/card-info-BAr7EDXw.js","assets/visa-Bh8dqaXO.js","assets/product-info-d7hcPwpK.js","assets/pidl-pages-BGB4eq29.js","assets/constants-BnxRz7co.js","assets/variants-selection-screen-gPyAA-Xe.js","assets/v4-CtRu48qb.js","assets/index-Chjiymov.js","assets/subtract-Cv5ejUan.js","assets/shipping-address-B4fZqDNz.js","assets/tracked-product-settings-Baip3wl_.js","assets/use-price-tracking-DrVtW-OJ.js","assets/buy-button-2oKIkHFg.js","assets/wallet-apis-DVe-gzVM.js","assets/shopping-telemetry-Ds9kElKH.js","assets/shopping-utils-De06QBF4.js","assets/format-money-5coY0IJJ.js","assets/shopping-api-DC3lpSTN.js","assets/conversion-tracking-disclaimer-BVGRcZAu.js","assets/faq-link-C3svCEh4.js","assets/utils-UXwwC-wi.js","assets/use-ocv-feedback-D_f1ZDht.js","assets/rewards-link-B6mPWOLy.js","assets/gift-OnQCZ2z0.js","assets/alert-DLFasLOk.js","assets/error-CrJvEN6R.js","assets/mask-wrapper-2eO1s0v4.js","assets/use-set-first-name-BoTcQSQo.js","assets/moon-D4cmijza.js","assets/sun-CNe3YdGk.js","assets/task-manager-DyNYVJg0.js","assets/wallet-element-factory-Dee_VcGb.js","assets/disconnect-DiPRqov3.js","assets/settings-button-BHndbalj.js","assets/sidebar-pages-CeYQ1SWb.js","assets/conversations-CEmAvcij.js","assets/door-arrow-left-D3wgJUSP.js","assets/people-add-B4b38cvz.js","assets/rename-cmqS-4cn.js","assets/shield-error-DtfNCPHB.js","assets/use-leave-group-DPPZl39o.js","assets/people-rn6m66bs.js","assets/use-tasks-BloS8BmC.js","assets/code-VTsgieMg.js","assets/play-outline-D6q3qqme.js","assets/use-executable-web-artifacts-hook-CVE0gUgE.js","assets/core-DUCJaWe1.js","assets/language-loader-I_MF1Eud.js","assets/index-D0pMjP56.js","assets/sender-share-conversation-modal-MROmDfXa.js","assets/sender-share-modal-cta-with-social-media-BAB-NYLy.js","assets/subscription-promo-strategy-modal-BVnI5DLZ.js","assets/links-DKeM1jfa.js","assets/apps-CTmzx1rk.js","assets/checklist-CVrKv-6r.js","assets/cloud-MOv_XDvj.js","assets/research-B7iLJ1mh.js","assets/constants-B2Xedztk.js","assets/dist-esm-index-CtQH_2Mm.js","assets/appearance-component-interface-BA6OeRcS.js","assets/character-DSuN51RI.js","assets/use-set-up-babylon-6zxJQzOU.js","assets/starter-prompt-category-DUZwAd0F.js","assets/wallet-section-BqdKdB9q.js","assets/product-purchase-GWocEiJG.js","assets/upsell-block-DA8i8eCM.js","assets/cross-selling-strip-CkOaG0Tf.js","assets/price-tracking-block-DvLstINS.js","assets/use-shopping-telemetry-lhwjVnuP.js","assets/composer-auto-complete-D3TnxWRW.js","assets/composer-actions-prompt-suggestions-CbH7ItO6.js","assets/composer-prompt-suggestions-CUZiY3LM.js","assets/composer-file-upload-prompt-suggestions-BIjZTTGz.js","assets/over-task-quota-DG8kUOFj.js","assets/composer-action-_UseMRvN.js","assets/computer-use-task-closed-DecFsr4U.js","assets/arrow-export-ConhaaOC.js","assets/arrow-import-CsUuk8mx.js","assets/settings-gfiUviL0.js","assets/speed-Bbvy328d.js","assets/audio-controls-DMFPXuU0.js","assets/pause-C20ngh5X.js","assets/play-Blp3rXEZ.js","assets/close-button-sn0DYOLJ.js","assets/progress-bar-CMpLXd-j.js","assets/replay-CpEyRVlw.js","assets/safety-risk-card-7AOvpNDV.js","assets/use-send-action-command-D-Fz7EWH.js","assets/add-to-page-DqKFPmdR.js","assets/cross-selling-strip-consumer-DxFu8AqT.js","assets/composer-prompt-review-BPoD6ZpL.js","assets/biometric-consent-CqZ1CMik.js","assets/daily-briefing-chat-96XfC14T.js","assets/dailly-briefing-composer-input-CGe5GLVJ.js","assets/contract-down-left-bQaC_Jdc.js","assets/reaction-utils-b4OZD5ek.js","assets/composer-sign-in-CcDEEaBu.js","assets/merge-conversation-checkbox-gpooGP5Q.js","assets/daily-briefing-composer-player-B-S3VuqF.js","assets/actions-chat-detail-BgazmWRd.js","assets/arrow-loop-BrlzIIH5.js","assets/panel-right-expand-DoQyQMGQ.js","assets/new-tab-DuvjsT0S.js","assets/showroom-chat-detail-CyIE2lA1.js","assets/settings-wrapper-D6QJ8Bxo.js","assets/dismiss-strong-BkwSllpC.js","assets/group-chats-telemetry-xhlSFWvS.js","assets/media-viewer-BY9zRi9I.js","assets/picture-in-picture-Bz5G1xAF.js","assets/video-player-CTrkU7Vk.js","assets/native-player-BphrNnsJ.js","assets/composer-large-screen-BDPqv1yb.js","assets/list-card-carousel-bsi3CrfJ.js","assets/use-carousel-62zwtqRs.js","assets/image-card-B_u-Qu-x.js","assets/image-card-telemetry-s-9IGWAF.js","assets/image-gallery-BvzajMaD.js","assets/use-media-connection-Bn8UTxO7.js","assets/weather-card-3njqf05e.js","assets/weather-utils-BSFkm7Mf.js","assets/weather-states-categories-DW19TE3D.js","assets/weather-temperature-daily-YpcaPMzB.js","assets/card-carousel-DqFXFNXM.js","assets/types-S47nI6MK.js","assets/audio-recorder-QyWAQ4Sw.js","assets/ai-message-B6YK5Gxn.js","assets/research-header-CN8GBdwz.js","assets/citation-chips-row-DzPg8MnA.js","assets/research-final-response-D4wfg0D0.js","assets/use-ads-card-operations-DS0DjsTm.js","assets/progress-bar-optimistic-CqlJ1lKQ.js","assets/podcast-B8WvTow-.js","assets/use-podcast-share-BTQgF5Ah.js","assets/use-podcasts-navigation-5gFct-mR.js","assets/use-research-navigation-B-BHRcIk.js","assets/widget-section-CkcrzFxf.js","assets/shopping-starter-card-D_1DvizJ.js","assets/sse-stream-reader-TTgxa5Mo.js","assets/use-shopping-duration-telemetry-p6hmHq-N.js","assets/product-rating-DU8W1G34.js","assets/bell-filled-BDfriPj6.js","assets/bell-B2AZd9gh.js","assets/star-filled-CDRahiQ8.js","assets/use-shopping-visibility-telemetry-DwV_Lx_D.js","assets/arrow-up-right-CwKKh6Wj.js","assets/arrow-trending-down-vAtiOC9S.js","assets/price-history-chart-ChyTmpzG.js","assets/CategoricalChart-DyES_RTB.js","assets/decimal-ZKFLnszB.js","assets/CartesianChart-BxcQ0sFt.js","assets/ReferenceDot-CT1nZLIx.js","assets/Area-DueitNh2.js","assets/rich-card-actions-9uq1VJsx.js","assets/appearance-chat-BC--e6XA.js","assets/appearance-analytics-adapter-DpaODv2R.js","assets/typeahead-jWu7WZmq.js","assets/product-details-modal-CXHiLYAG.js","assets/wallet-dropdown-QYMlpB1p.js","assets/wallet-list-BmOq0weM.js","assets/price-tracking-modal-D2ca7ibq.js","assets/topic-selection.lazy-BwZY7C_Q.js","assets/shopping.lazy-DAHk7Rxy.js","assets/use-product-details-entrypoint-Dc2gEfPM.js","assets/login.lazy--KpOtq0Y.js","assets/library.lazy-CzZUxA7N.js","assets/edit-line-horizontal-Bsqg5uig.js","assets/page-share-modal-DUP2GXA8.js","assets/word-BJKR9mFy.js","assets/page-delete-modal-CBihBoVg.js","assets/shared-page-delete-modal-BW6AXRup.js","assets/secondsToMinutes-BdKC0TnO.js","assets/task-share-modal-BCv9C9rq.js","assets/tasks-schemas-1yq7HSqz.js","assets/share-url-modal-DbfHELro.js","assets/imagine._galleryItemId.lazy-B9nmL8HK.js","assets/creator-gallery-detail-DMdIjoq6.js","assets/heart-filled-xqmlaZEq.js","assets/heart-DazUYL0m.js","assets/separator-DGGHhZE6.js","assets/model-viewer-3d-Bcf04uMw.js","assets/cube-filled-UJQ1SF87.js","assets/cube-1m8clTVJ.js","assets/gaming.lazy-FtcNmV3r.js","assets/use-labs-telemetry-S9j4Sx3W.js","assets/gallery._galleryItemId.lazy-T-AUWbxS.js","assets/daily.lazy-ymdTEGKV.js","assets/daily-briefing-Do6Zwrsj.js","assets/formatDistanceToNow-MfUhmEiz.js","assets/constructNow-BxEKWCbK.js","assets/en-US-DXcgFgB0.js","assets/parseISO-B1OLZ2WR.js","assets/use-scroll-element-into-view-Bs7MxIqK.js","assets/arrow-maximize-iuQmnaWk.js","assets/arrow-minimize-CvTKXY00.js","assets/use-is-portrait-BobcFJus.js","assets/wand-CQoI_OLn.js","assets/use-discover-feed-BAepGsUm.js","assets/agents.lazy-BwRu-D8E.js","assets/index.lazy-Bt51D9xH.js","assets/arrow-referral-tM6LLIa9.js","assets/chat-sparkle-aoAHW8rx.js","assets/four-leaf-clover-DiOeYF_j.js","assets/copliot-outline-C9OuR-Zj.js","assets/index.lazy-jFOmmYGH.js","assets/index-BjPloTOi.js","assets/index.lazy-CAmOa4NG.js","assets/subscription.start.lazy-Bt_0opEQ.js","assets/subscription.manage.lazy-CttPqwl7.js","assets/shares._conversationId.lazy-DtY3qSJ-.js","assets/research._researchId.lazy-BwvleKWi.js","assets/use-page-back-DOBK2uKK.js","assets/task-error-CIVuYvaq.js","assets/rules.lazy-CefmsAYB.js","assets/link-multiple-CY2Oz9G2.js","assets/pro.subscribe.lazy-B67G5jRH.js","assets/checkout-wrapper-B72_b8Ov.js","assets/add-address-Cox7-xPs.js","assets/address-B5fuFHnl.js","assets/pidl-element-factory-j4dNArSr.js","assets/workflow-pi-dropdown-disabler-Bx5o7_Gq.js","assets/react-number-format.es-N83v4z3e.js","assets/dropdown-radio-ButH2BEi.js","assets/credit-card-4YXezCAn.js","assets/wallet-dropdown-expanded-title-DcStYEJq.js","assets/pidl-element-factory-Cq7KyA6l.css","assets/add-address-view-DXZ5OMHA.js","assets/form-field-skeleton-BdDWGc6f.js","assets/add-payment-instrument-ec5s_cRe.js","assets/add-payment-instrument-view-DexXVfsJ.js","assets/add-ewallet-skeleton-DVCIxRwE.js","assets/select-payment-instrument-B-CC1IuU.js","assets/start-line-DjEoHyB8.js","assets/paywall-container-CqFq0HjZ.js","assets/pro.subscribe-jQX9gqYg.css","assets/memory.narrative.lazy-DeaHpABM.js","assets/e.sol.lazy-m8y8xr4G.js","assets/e.so.lazy-Dqc5uiwu.js","assets/connector.callback.lazy-DyB4PYSp.js","assets/chats.private.lazy-Dvj275WI.js","assets/campaigns._campaignId.lazy-DJv6mr2m.js","assets/projects._projectId.lazy-Cg1h7Q7f.js","assets/partners.feedback.lazy-CaVVRbq7.js","assets/CentroFeedbackFunctions-DkvoQLeB.js","assets/pages._pageId.lazy-2DJaYK7Y.js","assets/use-clean-history-state-DRl6w-g1.js","assets/text-bold-ByHgRvug.js","assets/text-bullet-list-D1GJZ871.js","assets/text-code-B6vaWYea.js","assets/text-italic-BIq4ODKX.js","assets/text-numbered-list-CP7UZ92L.js","assets/text-paragraph-DtwS2_ma.js","assets/chat-Mj0zfPcN.js","assets/use-ensure-authenticated-Ck30tqey.js","assets/arrow-enter-up-us55PMkn.js","assets/thumbs-down-filled-X_8qqfcW.js","assets/thumbs-up-filled-Cv1C5EHR.js","assets/use-emit-page-loaded-CrnLQ_Ew.js","assets/use-clean-history-state-D2jPmWlQ.css","assets/copy-add-D8ae7JUy.js","assets/index.lazy-C5EgSo-r.js","assets/portrait-gallery-CdJ8XXys.js","assets/consent-modal-BMLH529x.js","assets/portrait-back-button-DStKC9bX.js","assets/portrait-cache-C4ELholK.js","assets/use-start-portrait-chat-CeRG1c8L.js","assets/mock-interview.lazy-CZQ822mf.js","assets/index.lazy-Btod3J0S.js","assets/labs-badge-BxTLwtdl.js","assets/shares.tasks._shareId.lazy-Baz44pNr.js","assets/shares.podcasts._shareId.lazy-Bk5VMbG9.js","assets/shares.3d-generations._shareId.lazy-Z-kXW6Gu.js","assets/use-3d-generations-BuZzD3wy.js","assets/arrow-counter-clockwise-Bxa-nIuv.js","assets/printer-3d-CorVgIjw.js","assets/use-sidebar-position-B1OvkYFF.js","assets/pro.redeem._redeemCode.lazy-DrwXgrJB.js","assets/pro.ewallet.return.lazy-glNK59oM.js","assets/podcasts._podcastType._podcastId.lazy-BbgcJFDu.js","assets/talk.lazy-BrAUFQFc.js","assets/audio-call-BdE5eOrj.js","assets/timer-Ck0hkGAF.js","assets/use-appearance-preload-behind-modal-BykIlenW.js","assets/gallery.lazy-CI27gv5S.js","assets/experiments._experimentAlias.lazy-CBNQhhDx.js","assets/discover._-_modalType_._-_modalId_.lazy-mFLoy6jv.js","assets/conversations.join._token.lazy-CQzWo6eN.js","assets/shares.pages._shareId.lazy-C_qY42gC.js","assets/eye-efc8EBWr.js","assets/chats_._conversationId.talk.lazy-DcRi0xha.js","assets/index.lazy-D5WWsb3Y.js","assets/self-portrait-api-C71BUPL-.js","assets/my-creations.lazy-IwD8o41S.js","assets/use-responsive-masonry-DluusuOA.js","assets/use-window-size-CUJqgKGa.js","assets/my-creations-BiEk7v8n.css","assets/create.lazy-BkaWRoVH.js","assets/projects_._projectId.chats._conversationId.lazy-D0U82g_z.js"])))=>i.map(i=>d[i]);
var XL=Object.defineProperty;var wb=e=>{throw TypeError(e)};var eO=(e,t,n)=>t in e?XL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var O=(e,t,n)=>eO(e,typeof t!="symbol"?t+"":t,n),Xh=(e,t,n)=>t.has(e)||wb("Cannot "+n);var de=(e,t,n)=>(Xh(e,t,"read from private field"),n?n.call(e):t.get(e)),Vt=(e,t,n)=>t.has(e)?wb("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),yt=(e,t,n,s)=>(Xh(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Le=(e,t,n)=>(Xh(e,t,"access private method"),n);import{a0 as tO,r as c,j as l,_ as B,a1 as nO,R as Ei,D as Pe,l as w,o as x,s as p,p as ke,P as _t,n as j,q as st,h as L,g as he,a2 as ur,f as Oi,J as V8,a3 as e1,a4 as sO,a5 as Ib,a6 as _d,a7 as H8,a8 as nf,a9 as oO,aa as rO,ab as _b,ac as ep,i as Rt,x as Ms,t as z,e as Td,I as z8,ad as aO,ae as iO,K as cO,af as lO,ag as Tb,ah as uO,ai as dO,u as q,L as mO,H as Ad,W as fO,d as Di,T as mn,aj as pO,v as t1,B as n1,M as hO,ak as gO,O as vO,al as CO,am as iu,b as yO,an as bO,ao as G8,ap as xO,aq as SO,ar as EO,as as eg,m as Qe,y as wO,at as IO,au as _O,av as TO,aw as AO}from"./vendor-BZxM7dHU.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();tO({jitless:!0});const W8=c.createContext({});function mr(e){const t=c.useRef(null);return t.current===null&&(t.current=e()),t.current}const kd=c.createContext(null),wi=c.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class kO extends c.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=s instanceof HTMLElement&&s.offsetWidth||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=o-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function MO({children:e,isPresent:t,anchorX:n}){const s=c.useId(),o=c.useRef(null),r=c.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=c.useContext(wi);return c.useInsertionEffect(()=>{const{width:i,height:u,top:d,left:m,right:f}=r.current;if(t||!o.current||!i||!u)return;const h=n==="left"?`left: ${m}`:`right: ${f}`;o.current.dataset.motionPopId=s;const g=document.createElement("style");return a&&(g.nonce=a),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${u}px !important;
            ${h}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[t]),l.jsx(kO,{isPresent:t,childRef:o,sizeRef:r,children:c.cloneElement(e,{ref:o})})}const NO=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:r,mode:a,anchorX:i})=>{const u=mr(RO),d=c.useId(),m=c.useCallback(h=>{u.set(h,!0);for(const g of u.values())if(!g)return;s&&s()},[u,s]),f=c.useMemo(()=>({id:d,initial:t,isPresent:n,custom:o,onExitComplete:m,register:h=>(u.set(h,!1),()=>u.delete(h))}),r?[Math.random(),m]:[n,m]);return c.useMemo(()=>{u.forEach((h,g)=>u.set(g,!1))},[n]),c.useEffect(()=>{!n&&!u.size&&s&&s()},[n]),a==="popLayout"&&(e=l.jsx(MO,{isPresent:n,anchorX:i,children:e})),l.jsx(kd.Provider,{value:f,children:e})};function RO(){return new Map}function PO(e=!0){const t=c.useContext(kd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,r=c.useId();c.useEffect(()=>{if(e)return o(r)},[e]);const a=c.useCallback(()=>e&&s&&s(r),[r,s,e]);return!n&&s?[!1,a]:[!0]}function lEe(){return LO(c.useContext(kd))}function LO(e){return e===null?!0:e.isPresent}const sf=e=>e.key||"";function Ab(e){const t=[];return c.Children.forEach(e,n=>{c.isValidElement(n)&&t.push(n)}),t}const $8=typeof window<"u",Md=$8?c.useLayoutEffect:c.useEffect,pt=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:r="sync",propagate:a=!1,anchorX:i="left"})=>{const[u,d]=PO(a),m=c.useMemo(()=>Ab(e),[e]),f=a&&!u?[]:m.map(sf),h=c.useRef(!0),g=c.useRef(m),C=mr(()=>new Map),[v,y]=c.useState(m),[b,E]=c.useState(m);Md(()=>{h.current=!1,g.current=m;for(let _=0;_<b.length;_++){const T=sf(b[_]);f.includes(T)?C.delete(T):C.get(T)!==!0&&C.set(T,!1)}},[b,f.length,f.join("-")]);const S=[];if(m!==v){let _=[...m];for(let T=0;T<b.length;T++){const A=b[T],k=sf(A);f.includes(k)||(_.splice(T,0,A),S.push(A))}return r==="wait"&&S.length&&(_=S),E(Ab(_)),y(m),null}const{forceRender:I}=c.useContext(W8);return l.jsx(l.Fragment,{children:b.map(_=>{const T=sf(_),A=a&&!u?!1:m===b||f.includes(T),k=()=>{if(C.has(T))C.set(T,!0);else return;let R=!0;C.forEach(P=>{P||(R=!1)}),R&&(I==null||I(),E(g.current),a&&(d==null||d()),s&&s())};return l.jsx(NO,{isPresent:A,initial:!h.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:r,onExitComplete:A?void 0:k,anchorX:i,children:_},T)})})},Sa=e=>e;let OO=Sa,q8=Sa;const H0={skipAnimations:!1,useManualTiming:!1},of=["read","resolveKeyframes","update","preRender","render","postRender"];function DO(e,t){let n=new Set,s=new Set,o=!1,r=!1;const a=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function u(m){a.has(m)&&(d.schedule(m),e()),m(i)}const d={schedule:(m,f=!1,h=!1)=>{const C=h&&o?n:s;return f&&a.add(m),C.has(m)||C.add(m),m},cancel:m=>{s.delete(m),a.delete(m)},process:m=>{if(i=m,o){r=!0;return}o=!0,[n,s]=[s,n],n.forEach(u),n.clear(),o=!1,r&&(r=!1,d.process(m))}};return d}const jO=40;function K8(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,a=of.reduce((b,E)=>(b[E]=DO(r),b),{}),{read:i,resolveKeyframes:u,update:d,preRender:m,render:f,postRender:h}=a,g=()=>{const b=H0.useManualTiming?o.timestamp:performance.now();n=!1,H0.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(b-o.timestamp,jO),1)),o.timestamp=b,o.isProcessing=!0,i.process(o),u.process(o),d.process(o),m.process(o),f.process(o),h.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(g))},C=()=>{n=!0,s=!0,o.isProcessing||e(g)};return{schedule:of.reduce((b,E)=>{const S=a[E];return b[E]=(I,_=!1,T=!1)=>(n||C(),S.schedule(I,_,T)),b},{}),cancel:b=>{for(let E=0;E<of.length;E++)a[of[E]].cancel(b)},state:o,steps:a}}const{schedule:ws,cancel:s1,state:Ku,steps:uEe}=K8(typeof requestAnimationFrame<"u"?requestAnimationFrame:Sa,!0),K5=c.createContext({strict:!1}),kb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tp={};for(const e in kb)tp[e]={isEnabled:t=>kb[e].some(n=>!!t[n])};function z0(e){for(const t in e)tp[t]={...tp[t],...e[t]}}function UO({children:e,features:t,strict:n=!1}){const[,s]=c.useState(!tg(t)),o=c.useRef(void 0);if(!tg(t)){const{renderer:r,...a}=t;o.current=r,z0(a)}return c.useEffect(()=>{tg(t)&&t().then(({renderer:r,...a})=>{z0(a),o.current=r,s(!0)})},[]),l.jsx(K5.Provider,{value:{renderer:o.current,strict:n},children:e})}function tg(e){return typeof e=="function"}const FO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function np(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||FO.has(e)}let Z8=e=>!np(e);function Y8(e){e&&(Z8=t=>t.startsWith("on")?!np(t):e(t))}try{Y8(require("@emotion/is-prop-valid").default)}catch{}function BO(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(Z8(o)||n===!0&&np(o)||!t&&!np(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}function Q8({children:e,isValidProp:t,...n}){t&&Y8(t),n={...c.useContext(wi),...n},n.isStatic=mr(()=>n.isStatic);const s=c.useMemo(()=>n,[JSON.stringify(n.transition),n.transformPagePoint,n.reducedMotion]);return l.jsx(wi.Provider,{value:s,children:e})}function VO(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}const o1=c.createContext({});function J8(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function G0(e){return typeof e=="string"||Array.isArray(e)}const HO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zO=["initial",...HO];function Z5(e){return J8(e.animate)||zO.some(t=>G0(e[t]))}function GO(e){return!!(Z5(e)||e.variants)}function WO(e,t){if(Z5(e)){const{initial:n,animate:s}=e;return{initial:n===!1||G0(n)?n:void 0,animate:G0(s)?s:void 0}}return e.inherit!==!1?t:{}}function $O(e){const{initial:t,animate:n}=WO(e,c.useContext(o1));return c.useMemo(()=>({initial:t,animate:n}),[Mb(t),Mb(n)])}function Mb(e){return Array.isArray(e)?e.join(" "):e}const qO=Symbol.for("motionComponentSymbol");function X8(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function KO(e,t,n){return c.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):X8(n)&&(n.current=s))},[t])}const e7=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ZO="framerAppearId",YO="data-"+e7(ZO),{schedule:QO}=K8(queueMicrotask,!1),JO=c.createContext({});function XO(e,t,n,s,o){var r,a;const{visualElement:i}=c.useContext(o1),u=c.useContext(K5),d=c.useContext(kd),m=c.useContext(wi).reducedMotion,f=c.useRef(null);s=s||u.renderer,!f.current&&s&&(f.current=s(e,{visualState:t,parent:i,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const h=f.current,g=c.useContext(JO);h&&!h.projection&&o&&(h.type==="html"||h.type==="svg")&&eD(f.current,n,o,g);const C=c.useRef(!1);c.useInsertionEffect(()=>{h&&C.current&&h.update(n,d)});const v=n[YO],y=c.useRef(!!v&&!(!((r=window.MotionHandoffIsComplete)===null||r===void 0)&&r.call(window,v))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,v)));return Md(()=>{h&&(C.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),QO.render(h.render),y.current&&h.animationState&&h.animationState.animateChanges())}),c.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,v)}),y.current=!1))}),h}function eD(e,t,n,s){const{layoutId:o,layout:r,drag:a,dragConstraints:i,layoutScroll:u,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:t7(e.parent)),e.projection.setOptions({layoutId:o,layout:r,alwaysMeasureLayout:!!a||i&&X8(i),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:s,layoutScroll:u,layoutRoot:d})}function t7(e){if(e)return e.options.allowProjection!==!1?e.projection:t7(e.parent)}function tD({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:o}){var r,a;e&&z0(e);function i(d,m){let f;const h={...c.useContext(wi),...d,layoutId:nD(d)},{isStatic:g}=h,C=$O(d),v=s(d,g);if(!g&&$8){sD();const y=oD(h);f=y.MeasureLayout,C.visualElement=XO(o,v,h,t,y.ProjectionNode)}return l.jsxs(o1.Provider,{value:C,children:[f&&C.visualElement?l.jsx(f,{visualElement:C.visualElement,...h}):null,n(o,d,KO(v,C.visualElement,m),v,g,C.visualElement)]})}i.displayName=`motion.${typeof o=="string"?o:`create(${(a=(r=o.displayName)!==null&&r!==void 0?r:o.name)!==null&&a!==void 0?a:""})`}`;const u=c.forwardRef(i);return u[qO]=o,u}function nD({layoutId:e}){const t=c.useContext(W8).id;return t&&e!==void 0?t+"-"+e:e}function sD(e,t){c.useContext(K5).strict}function oD(e){const{drag:t,layout:n}=tp;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const n7=e=>t=>typeof t=="string"&&t.startsWith(e),s7=n7("--"),rD=n7("var(--"),aD=e=>rD(e)?iD.test(e.split("/*")[0].trim()):!1,iD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,W0={};function dEe(e){for(const t in e)W0[t]=e[t],s7(t)&&(W0[t].isCSSVariable=!0)}const Nd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Y5=new Set(Nd);function o7(e,{layout:t,layoutId:n}){return Y5.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!W0[e]||e==="opacity")}const fr=e=>!!(e&&e.getVelocity),r7=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ua=(e,t,n)=>n>t?t:n<e?e:n,Rd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Zu={...Rd,transform:e=>ua(0,1,e)},rf={...Rd,default:1},Pd=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Va=Pd("deg"),Ru=Pd("%"),tt=Pd("px"),mEe=Pd("vh"),fEe=Pd("vw"),Nb={...Ru,parse:e=>Ru.parse(e)/100,transform:e=>Ru.transform(e*100)},cD={borderWidth:tt,borderTopWidth:tt,borderRightWidth:tt,borderBottomWidth:tt,borderLeftWidth:tt,borderRadius:tt,radius:tt,borderTopLeftRadius:tt,borderTopRightRadius:tt,borderBottomRightRadius:tt,borderBottomLeftRadius:tt,width:tt,maxWidth:tt,height:tt,maxHeight:tt,top:tt,right:tt,bottom:tt,left:tt,padding:tt,paddingTop:tt,paddingRight:tt,paddingBottom:tt,paddingLeft:tt,margin:tt,marginTop:tt,marginRight:tt,marginBottom:tt,marginLeft:tt,backgroundPositionX:tt,backgroundPositionY:tt},lD={rotate:Va,rotateX:Va,rotateY:Va,rotateZ:Va,scale:rf,scaleX:rf,scaleY:rf,scaleZ:rf,skew:Va,skewX:Va,skewY:Va,distance:tt,translateX:tt,translateY:tt,translateZ:tt,x:tt,y:tt,z:tt,perspective:tt,transformPerspective:tt,opacity:Zu,originX:Nb,originY:Nb,originZ:tt},Rb={...Rd,transform:Math.round},a7={...cD,...lD,zIndex:Rb,size:tt,fillOpacity:Zu,strokeOpacity:Zu,numOctaves:Rb},uD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dD=Nd.length;function mD(e,t,n){let s="",o=!0;for(let r=0;r<dD;r++){const a=Nd[r],i=e[a];if(i===void 0)continue;let u=!0;if(typeof i=="number"?u=i===(a.startsWith("scale")?1:0):u=parseFloat(i)===0,!u||n){const d=r7(i,a7[a]);if(!u){o=!1;const m=uD[a]||a;s+=`${m}(${d}) `}n&&(t[a]=d)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function i7(e,t,n){const{style:s,vars:o,transformOrigin:r}=e;let a=!1,i=!1;for(const u in t){const d=t[u];if(Y5.has(u)){a=!0;continue}else if(s7(u)){o[u]=d;continue}else{const m=r7(d,a7[u]);u.startsWith("origin")?(i=!0,r[u]=m):s[u]=m}}if(t.transform||(a||n?s.transform=mD(t,e.transform,n):s.transform&&(s.transform="none")),i){const{originX:u="50%",originY:d="50%",originZ:m=0}=r;s.transformOrigin=`${u} ${d} ${m}`}}const Q5=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function c7(e,t,n){for(const s in t)!fr(t[s])&&!o7(s,n)&&(e[s]=t[s])}function fD({transformTemplate:e},t){return c.useMemo(()=>{const n=Q5();return i7(n,t,e),Object.assign({},n.vars,n.style)},[t])}function pD(e,t){const n=e.style||{},s={};return c7(s,n,e),Object.assign(s,fD(e,t)),s}function hD(e,t){const n={},s=pD(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const gD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function l7(e){return typeof e!="string"||e.includes("-")?!1:!!(gD.indexOf(e)>-1||/[A-Z]/u.test(e))}const vD={offset:"stroke-dashoffset",array:"stroke-dasharray"},CD={offset:"strokeDashoffset",array:"strokeDasharray"};function yD(e,t,n=1,s=0,o=!0){e.pathLength=1;const r=o?vD:CD;e[r.offset]=tt.transform(-s);const a=tt.transform(t),i=tt.transform(n);e[r.array]=`${a} ${i}`}function Pb(e,t,n){return typeof e=="string"?e:tt.transform(t+n*e)}function bD(e,t,n){const s=Pb(t,e.x,e.width),o=Pb(n,e.y,e.height);return`${s} ${o}`}function u7(e,{attrX:t,attrY:n,attrScale:s,originX:o,originY:r,pathLength:a,pathSpacing:i=1,pathOffset:u=0,...d},m,f){if(i7(e,d,f),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:g,dimensions:C}=e;h.transform&&(C&&(g.transform=h.transform),delete h.transform),C&&(o!==void 0||r!==void 0||g.transform)&&(g.transformOrigin=bD(C,o!==void 0?o:.5,r!==void 0?r:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),a!==void 0&&yD(h,a,i,u,!1)}const d7=()=>({...Q5(),attrs:{}}),m7=e=>typeof e=="string"&&e.toLowerCase()==="svg";function xD(e,t,n,s){const o=c.useMemo(()=>{const r=d7();return u7(r,t,m7(s),e.transformTemplate),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};c7(r,e.style,e),o.style={...r,...o.style}}return o}function SD(e=!1){return(n,s,o,{latestValues:r},a)=>{const u=(l7(n)?xD:hD)(s,r,a,n),d=BO(s,typeof n=="string",e),m=n!==c.Fragment?{...d,...u,ref:o}:{},{children:f}=s,h=c.useMemo(()=>fr(f)?f.get():f,[f]);return c.createElement(n,{...m,children:h})}}function Lb(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function ED(e,t,n,s){if(typeof t=="function"){const[o,r]=Lb(s);t=t(n!==void 0?n:e.custom,o,r)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,r]=Lb(s);t=t(n!==void 0?n:e.custom,o,r)}return t}const wD=e=>Array.isArray(e),ID=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),pEe=e=>wD(e)?e[e.length-1]||0:e;function _D(e){const t=fr(e)?e.get():e;return ID(t)?t.toValue():t}function TD({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},s,o,r){const a={latestValues:AD(s,o,r,e),renderState:t()};return n&&(a.onMount=i=>n({props:s,current:i,...a}),a.onUpdate=i=>n(i)),a}const f7=e=>(t,n)=>{const s=c.useContext(o1),o=c.useContext(kd),r=()=>TD(e,t,s,o);return n?r():mr(r)};function AD(e,t,n,s){const o={},r=s(e,{});for(const h in r)o[h]=_D(r[h]);let{initial:a,animate:i}=e;const u=Z5(e),d=GO(e);t&&d&&!u&&e.inherit!==!1&&(a===void 0&&(a=t.initial),i===void 0&&(i=t.animate));let m=n?n.initial===!1:!1;m=m||a===!1;const f=m?i:a;if(f&&typeof f!="boolean"&&!J8(f)){const h=Array.isArray(f)?f:[f];for(let g=0;g<h.length;g++){const C=ED(e,h[g]);if(C){const{transitionEnd:v,transition:y,...b}=C;for(const E in b){let S=b[E];if(Array.isArray(S)){const I=m?S.length-1:0;S=S[I]}S!==null&&(o[E]=S)}for(const E in v)o[E]=v[E]}}}return o}function p7(e,t,n){var s;const{style:o}=e,r={};for(const a in o)(fr(o[a])||t.style&&fr(t.style[a])||o7(a,e)||((s=n==null?void 0:n.getValue(a))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(r[a]=o[a]);return r}const kD={useVisualState:f7({scrapeMotionValuesFromProps:p7,createRenderState:Q5})};function MD(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function ND(e,{style:t,vars:n},s,o){Object.assign(e.style,t,o&&o.getProjectionStyles(s));for(const r in n)e.style.setProperty(r,n[r])}const RD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PD(e,t,n,s){ND(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(RD.has(o)?o:e7(o),t.attrs[o])}function LD(e,t,n){const s=p7(e,t,n);for(const o in e)if(fr(e[o])||fr(t[o])){const r=Nd.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[r]=e[o]}return s}const Ob=["x","y","width","height","cx","cy","r"],OD={useVisualState:f7({scrapeMotionValuesFromProps:LD,createRenderState:d7,onUpdate:({props:e,prevProps:t,current:n,renderState:s,latestValues:o})=>{if(!n)return;let r=!!e.drag;if(!r){for(const i in o)if(Y5.has(i)){r=!0;break}}if(!r)return;let a=!t;if(t)for(let i=0;i<Ob.length;i++){const u=Ob[i];e[u]!==t[u]&&(a=!0)}a&&ws.read(()=>{MD(n,s),ws.render(()=>{u7(s,o,m7(n.tagName),e.transformTemplate),PD(n,s)})})}})};function DD(e,t){return function(s,{forwardMotionProps:o}={forwardMotionProps:!1}){const a={...l7(s)?OD:kD,preloadedFeatures:e,useRender:SD(o),createVisualElement:t,Component:s};return tD(a)}}const jD=DD(),ge=VO(jD);let Nf;function UD(){Nf=void 0}const Ci={now:()=>(Nf===void 0&&Ci.set(Ku.isProcessing||H0.useManualTiming?Ku.timestamp:performance.now()),Nf),set:e=>{Nf=e,queueMicrotask(UD)}};function FD(e,t){e.indexOf(t)===-1&&e.push(t)}function BD(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function hEe([...e],t,n){const s=t<0?e.length+t:t;if(s>=0&&s<e.length){const o=n<0?e.length+n:n,[r]=e.splice(t,1);e.splice(o,0,r)}return e}class VD{constructor(){this.subscriptions=[]}add(t){return FD(this.subscriptions,t),()=>BD(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let r=0;r<o;r++){const a=this.subscriptions[r];a&&a(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function J5(e,t){return t?e*(1e3/t):0}const Db=30,HD=e=>!isNaN(parseFloat(e)),Pu={current:void 0};class zD{constructor(t,n={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,o=!0)=>{const r=Ci.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ci.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=HD(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new VD);const s=this.events[t].add(n);return t==="change"?()=>{s(),ws.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Pu.current&&Pu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Ci.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Db)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Db);return J5(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rc(e,t){return new zD(e,t)}function GD(e){let t;return()=>(t===void 0&&(t=e()),t)}const WD=GD(()=>window.ScrollTimeline!==void 0),X5=e=>e*1e3,Vc=e=>e/1e3,$D={current:!1};function h7(e){return typeof e=="function"}const qD=e=>Array.isArray(e)&&typeof e[0]=="number",r1=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},KD=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let r=0;r<o;r++)s+=e(r1(0,o-1,r))+", ";return`linear(${s.substring(0,s.length-2)})`},g7=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,ZD=1e-7,YD=12;function QD(e,t,n,s,o){let r,a,i=0;do a=t+(n-t)/2,r=g7(a,s,o)-e,r>0?n=a:t=a;while(Math.abs(r)>ZD&&++i<YD);return a}function Ld(e,t,n,s){if(e===t&&n===s)return Sa;const o=r=>QD(r,0,1,e,n);return r=>r===0||r===1?r:g7(o(r),t,s)}const v7=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,C7=e=>t=>1-e(1-t),y7=Ld(.33,1.53,.69,.99),ev=C7(y7),JD=v7(ev),XD=e=>(e*=2)<1?.5*ev(e):.5*(2-Math.pow(2,-10*(e-1))),tv=e=>1-Math.sin(Math.acos(e)),ej=C7(tv),tj=v7(tv),Lu=e=>Math.round(e*1e5)/1e5,b7=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nj(e){return e==null}const sj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,nv=(e,t)=>n=>!!(typeof n=="string"&&sj.test(n)&&n.startsWith(e)||t&&!nj(n)&&Object.prototype.hasOwnProperty.call(n,t)),x7=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,r,a,i]=s.match(b7);return{[e]:parseFloat(o),[t]:parseFloat(r),[n]:parseFloat(a),alpha:i!==void 0?parseFloat(i):1}},oj=e=>ua(0,255,e),ng={...Rd,transform:e=>Math.round(oj(e))},mi={test:nv("rgb","red"),parse:x7("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+ng.transform(e)+", "+ng.transform(t)+", "+ng.transform(n)+", "+Lu(Zu.transform(s))+")"};function rj(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const $0={test:nv("#"),parse:rj,transform:mi.transform},Pc={test:nv("hsl","hue"),parse:x7("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Ru.transform(Lu(t))+", "+Ru.transform(Lu(n))+", "+Lu(Zu.transform(s))+")"},Yu={test:e=>mi.test(e)||$0.test(e)||Pc.test(e),parse:e=>mi.test(e)?mi.parse(e):Pc.test(e)?Pc.parse(e):$0.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?mi.transform(e):Pc.transform(e)},aj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ij(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(b7))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(aj))===null||n===void 0?void 0:n.length)||0)>0}const S7="number",E7="color",cj="var",lj="var(",jb="${}",uj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sp(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let r=0;const i=t.replace(uj,u=>(Yu.test(u)?(s.color.push(r),o.push(E7),n.push(Yu.parse(u))):u.startsWith(lj)?(s.var.push(r),o.push(cj),n.push(u)):(s.number.push(r),o.push(S7),n.push(parseFloat(u))),++r,jb)).split(jb);return{values:n,split:i,indexes:s,types:o}}function w7(e){return sp(e).values}function I7(e){const{split:t,types:n}=sp(e),s=t.length;return o=>{let r="";for(let a=0;a<s;a++)if(r+=t[a],o[a]!==void 0){const i=n[a];i===S7?r+=Lu(o[a]):i===E7?r+=Yu.transform(o[a]):r+=o[a]}return r}}const dj=e=>typeof e=="number"?0:e;function mj(e){const t=w7(e);return I7(e)(t.map(dj))}const _7={test:ij,parse:w7,createTransformer:I7,getAnimatableNone:mj},gEe=e=>e===Rd||e===tt,Ub=(e,t)=>parseFloat(e.split(", ")[t]),Fb=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const o=s.match(/^matrix3d\((.+)\)$/u);if(o)return Ub(o[1],t);{const r=s.match(/^matrix\((.+)\)$/u);return r?Ub(r[1],e):0}},fj=new Set(["x","y","z"]),pj=Nd.filter(e=>!fj.has(e));function hj(e){const t=[];return pj.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const op={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Fb(4,13),y:Fb(5,14)};op.translateX=op.x;op.translateY=op.y;const yi=new Set;let q0=!1,K0=!1;function T7(){if(K0){const e=Array.from(yi).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=hj(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([r,a])=>{var i;(i=s.getValue(r))===null||i===void 0||i.set(a)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}K0=!1,q0=!1,yi.forEach(e=>e.complete()),yi.clear()}function A7(){yi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(K0=!0)})}function gj(){A7(),T7()}class vj{constructor(t,n,s,o,r,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=r,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(yi.add(this),q0||(q0=!0,ws.read(A7),ws.resolveKeyframes(T7))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;for(let r=0;r<t.length;r++)if(t[r]===null)if(r===0){const a=o==null?void 0:o.get(),i=t[t.length-1];if(a!==void 0)t[0]=a;else if(s&&n){const u=s.readValue(n,i);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=i),o&&a===void 0&&o.set(t[0])}else t[r]=t[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),yi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,yi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Bb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(_7.test(e)||e==="0")&&!e.startsWith("url("));function Cj(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function yj(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],a=Bb(o,t),i=Bb(r,t);return!a||!i?!1:Cj(e)||(n==="spring"||h7(n))&&s}const bj=e=>e!==null;function k7(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(bj),r=t&&n!=="loop"&&t%2===1?0:o.length-1;return!r||s===void 0?o[r]:s}const xj=40;class Sj{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:r=0,repeatType:a="loop",...i}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ci.now(),this.options={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:r,repeatType:a,...i},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>xj?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&gj(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Ci.now(),this.hasAttemptedResolve=!0;const{name:s,type:o,velocity:r,delay:a,onComplete:i,onUpdate:u,isGenerator:d}=this.options;if(!d&&!yj(t,s,o,r))if($D.current||!a){u&&u(k7(t,this.options,n)),i&&i(),this.resolveFinishedPromise();return}else this.options.duration=0;const m=this.initPlayback(t,n);m!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...m},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Z0=2e4;function M7(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Z0;)t+=n,s=e.next(t);return t>=Z0?1/0:t}const a1=(e,t,n)=>e+(t-e)*n;function sg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ej({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,r=0,a=0;if(!t)o=r=a=n;else{const i=n<.5?n*(1+t):n+t-n*t,u=2*n-i;o=sg(u,i,e+1/3),r=sg(u,i,e),a=sg(u,i,e-1/3)}return{red:Math.round(o*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:s}}function rp(e,t){return n=>n>0?t:e}const og=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},wj=[$0,mi,Pc],Ij=e=>wj.find(t=>t.test(e));function Vb(e){const t=Ij(e);if(!t)return!1;let n=t.parse(e);return t===Pc&&(n=Ej(n)),n}const Hb=(e,t)=>{const n=Vb(e),s=Vb(t);if(!n||!s)return rp(e,t);const o={...n};return r=>(o.red=og(n.red,s.red,r),o.green=og(n.green,s.green,r),o.blue=og(n.blue,s.blue,r),o.alpha=a1(n.alpha,s.alpha,r),mi.transform(o))},_j=(e,t)=>n=>t(e(n)),sv=(...e)=>e.reduce(_j),Y0=new Set(["none","hidden"]);function Tj(e,t){return Y0.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Aj(e,t){return n=>a1(e,t,n)}function ov(e){return typeof e=="number"?Aj:typeof e=="string"?aD(e)?rp:Yu.test(e)?Hb:Nj:Array.isArray(e)?N7:typeof e=="object"?Yu.test(e)?Hb:kj:rp}function N7(e,t){const n=[...e],s=n.length,o=e.map((r,a)=>ov(r)(r,t[a]));return r=>{for(let a=0;a<s;a++)n[a]=o[a](r);return n}}function kj(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=ov(e[o])(e[o],t[o]));return o=>{for(const r in s)n[r]=s[r](o);return n}}function Mj(e,t){var n;const s=[],o={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const a=t.types[r],i=e.indexes[a][o[a]],u=(n=e.values[i])!==null&&n!==void 0?n:0;s[r]=u,o[a]++}return s}const Nj=(e,t)=>{const n=_7.createTransformer(t),s=sp(e),o=sp(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?Y0.has(e)&&!o.values.length||Y0.has(t)&&!s.values.length?Tj(e,t):sv(N7(Mj(s,o),o.values),n):rp(e,t)};function R7(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?a1(e,t,n):ov(e)(e,t)}const Rj=5;function P7(e,t,n){const s=Math.max(t-Rj,0);return J5(n-e(s),t-s)}const on={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zb=.001;function Pj({duration:e=on.duration,bounce:t=on.bounce,velocity:n=on.velocity,mass:s=on.mass}){let o,r,a=1-t;a=ua(on.minDamping,on.maxDamping,a),e=ua(on.minDuration,on.maxDuration,Vc(e)),a<1?(o=d=>{const m=d*a,f=m*e,h=m-n,g=Q0(d,a),C=Math.exp(-f);return zb-h/g*C},r=d=>{const f=d*a*e,h=f*n+n,g=Math.pow(a,2)*Math.pow(d,2)*e,C=Math.exp(-f),v=Q0(Math.pow(d,2),a);return(-o(d)+zb>0?-1:1)*((h-g)*C)/v}):(o=d=>{const m=Math.exp(-d*e),f=(d-n)*e+1;return-.001+m*f},r=d=>{const m=Math.exp(-d*e),f=(n-d)*(e*e);return m*f});const i=5/e,u=Oj(o,r,i);if(e=X5(e),isNaN(u))return{stiffness:on.stiffness,damping:on.damping,duration:e};{const d=Math.pow(u,2)*s;return{stiffness:d,damping:a*2*Math.sqrt(s*d),duration:e}}}const Lj=12;function Oj(e,t,n){let s=n;for(let o=1;o<Lj;o++)s=s-e(s)/t(s);return s}function Q0(e,t){return e*Math.sqrt(1-t*t)}const Dj=["duration","bounce"],jj=["stiffness","damping","mass"];function Gb(e,t){return t.some(n=>e[n]!==void 0)}function Uj(e){let t={velocity:on.velocity,stiffness:on.stiffness,damping:on.damping,mass:on.mass,isResolvedFromDuration:!1,...e};if(!Gb(e,jj)&&Gb(e,Dj))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,r=2*ua(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:on.mass,stiffness:o,damping:r}}else{const n=Pj(e);t={...t,...n,mass:on.mass},t.isResolvedFromDuration=!0}return t}function L7(e=on.visualDuration,t=on.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const r=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],i={done:!1,value:r},{stiffness:u,damping:d,mass:m,duration:f,velocity:h,isResolvedFromDuration:g}=Uj({...n,velocity:-Vc(n.velocity||0)}),C=h||0,v=d/(2*Math.sqrt(u*m)),y=a-r,b=Vc(Math.sqrt(u/m)),E=Math.abs(y)<5;s||(s=E?on.restSpeed.granular:on.restSpeed.default),o||(o=E?on.restDelta.granular:on.restDelta.default);let S;if(v<1){const _=Q0(b,v);S=T=>{const A=Math.exp(-v*b*T);return a-A*((C+v*b*y)/_*Math.sin(_*T)+y*Math.cos(_*T))}}else if(v===1)S=_=>a-Math.exp(-b*_)*(y+(C+b*y)*_);else{const _=b*Math.sqrt(v*v-1);S=T=>{const A=Math.exp(-v*b*T),k=Math.min(_*T,300);return a-A*((C+v*b*y)*Math.sinh(k)+_*y*Math.cosh(k))/_}}const I={calculatedDuration:g&&f||null,next:_=>{const T=S(_);if(g)i.done=_>=f;else{let A=0;v<1&&(A=_===0?X5(C):P7(S,_,T));const k=Math.abs(A)<=s,R=Math.abs(a-T)<=o;i.done=k&&R}return i.value=i.done?a:T,i},toString:()=>{const _=Math.min(M7(I),Z0),T=KD(A=>I.next(_*A).value,_,30);return _+"ms "+T}};return I}function Wb({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:r=500,modifyTarget:a,min:i,max:u,restDelta:d=.5,restSpeed:m}){const f=e[0],h={done:!1,value:f},g=k=>i!==void 0&&k<i||u!==void 0&&k>u,C=k=>i===void 0?u:u===void 0||Math.abs(i-k)<Math.abs(u-k)?i:u;let v=n*t;const y=f+v,b=a===void 0?y:a(y);b!==y&&(v=b-f);const E=k=>-v*Math.exp(-k/s),S=k=>b+E(k),I=k=>{const R=E(k),P=S(k);h.done=Math.abs(R)<=d,h.value=h.done?b:P};let _,T;const A=k=>{g(h.value)&&(_=k,T=L7({keyframes:[h.value,C(h.value)],velocity:P7(S,k,h.value),damping:o,stiffness:r,restDelta:d,restSpeed:m}))};return A(0),{calculatedDuration:null,next:k=>{let R=!1;return!T&&_===void 0&&(R=!0,I(k),A(k)),_!==void 0&&k>=_?T.next(k-_):(!R&&I(k),h)}}}const Fj=Ld(.42,0,1,1),Bj=Ld(0,0,.58,1),O7=Ld(.42,0,.58,1),Vj=e=>Array.isArray(e)&&typeof e[0]!="number",Hj={linear:Sa,easeIn:Fj,easeInOut:O7,easeOut:Bj,circIn:tv,circInOut:tj,circOut:ej,backIn:ev,backInOut:JD,backOut:y7,anticipate:XD},$b=e=>{if(qD(e)){q8(e.length===4);const[t,n,s,o]=e;return Ld(t,n,s,o)}else if(typeof e=="string")return Hj[e];return e};function zj(e,t,n){const s=[],o=n||R7,r=e.length-1;for(let a=0;a<r;a++){let i=o(e[a],e[a+1]);if(t){const u=Array.isArray(t)?t[a]||Sa:t;i=sv(u,i)}s.push(i)}return s}function rv(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const r=e.length;if(q8(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=zj(t,s,o),u=i.length,d=m=>{if(a&&m<e[0])return t[0];let f=0;if(u>1)for(;f<e.length-2&&!(m<e[f+1]);f++);const h=r1(e[f],e[f+1],m);return i[f](h)};return n?m=>d(ua(e[0],e[r-1],m)):d}function Gj(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=r1(0,t,s);e.push(a1(n,1,o))}}function D7(e){const t=[0];return Gj(t,e.length-1),t}function Wj(e,t){return e.map(n=>n*t)}function $j(e,t){return e.map(()=>t||O7).splice(0,e.length-1)}function ap({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=Vj(s)?s.map($b):$b(s),r={done:!1,value:t[0]},a=Wj(n&&n.length===t.length?n:D7(t),e),i=rv(a,t,{ease:Array.isArray(o)?o:$j(t,o)});return{calculatedDuration:e,next:u=>(r.value=i(u),r.done=u>=e,r)}}const qj=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ws.update(t,!0),stop:()=>s1(t),now:()=>Ku.isProcessing?Ku.timestamp:Ci.now()}},Kj={decay:Wb,inertia:Wb,tween:ap,keyframes:ap,spring:L7},Zj=e=>e/100;class Yj extends Sj{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:s,element:o,keyframes:r}=this.options,a=(o==null?void 0:o.KeyframeResolver)||vj,i=(u,d)=>this.onKeyframesResolved(u,d);this.resolver=new a(r,i,n,s,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:r,velocity:a=0}=this.options,i=h7(n)?n:Kj[n]||ap;let u,d;i!==ap&&typeof t[0]!="number"&&(u=sv(Zj,R7(t[0],t[1])),t=[0,100]);const m=i({...this.options,keyframes:t});r==="mirror"&&(d=i({...this.options,keyframes:[...t].reverse(),velocity:-a})),m.calculatedDuration===null&&(m.calculatedDuration=M7(m));const{calculatedDuration:f}=m,h=f+o,g=h*(s+1)-o;return{generator:m,mirroredGenerator:d,mapPercentToKeyframes:u,calculatedDuration:f,resolvedDuration:h,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:s}=this;if(!s){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:o,generator:r,mirroredGenerator:a,mapPercentToKeyframes:i,keyframes:u,calculatedDuration:d,totalDuration:m,resolvedDuration:f}=s;if(this.startTime===null)return r.next(0);const{delay:h,repeat:g,repeatType:C,repeatDelay:v,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-m/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const b=this.currentTime-h*(this.speed>=0?1:-1),E=this.speed>=0?b<0:b>m;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let S=this.currentTime,I=r;if(g){const k=Math.min(this.currentTime,m)/f;let R=Math.floor(k),P=k%1;!P&&k>=1&&(P=1),P===1&&R--,R=Math.min(R,g+1),!!(R%2)&&(C==="reverse"?(P=1-P,v&&(P-=v/f)):C==="mirror"&&(I=a)),S=ua(0,1,P)*f}const _=E?{done:!1,value:u[0]}:I.next(S);i&&(_.value=i(_.value));let{done:T}=_;!E&&d!==null&&(T=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return A&&o!==void 0&&(_.value=k7(u,this.options,o)),y&&y(_.value),A&&this.finish(),_}get duration(){const{resolved:t}=this;return t?Vc(t.calculatedDuration):0}get time(){return Vc(this.currentTime)}set time(t){t=X5(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Vc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=qj,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}function Qj(e){return new Yj(e)}function j7(e,t,n){var s;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let o=document;t&&(o=t.current);const r=(s=n==null?void 0:n[e])!==null&&s!==void 0?s:o.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}function U7(e,t){let n;const s=()=>{const{currentTime:o}=t,a=(o===null?0:o.value)/100;n!==a&&e(a),n=a};return ws.update(s,!0),()=>s1(s)}const Rf=new WeakMap;let Vr;function Jj(e,t){if(t){const{inlineSize:n,blockSize:s}=t[0];return{width:n,height:s}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function Xj({target:e,contentRect:t,borderBoxSize:n}){var s;(s=Rf.get(e))===null||s===void 0||s.forEach(o=>{o({target:e,contentSize:t,get size(){return Jj(e,n)}})})}function eU(e){e.forEach(Xj)}function tU(){typeof ResizeObserver>"u"||(Vr=new ResizeObserver(eU))}function nU(e,t){Vr||tU();const n=j7(e);return n.forEach(s=>{let o=Rf.get(s);o||(o=new Set,Rf.set(s,o)),o.add(t),Vr==null||Vr.observe(s)}),()=>{n.forEach(s=>{const o=Rf.get(s);o==null||o.delete(t),o!=null&&o.size||Vr==null||Vr.unobserve(s)})}}const Pf=new Set;let Ou;function sU(){Ou=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};Pf.forEach(n=>n(t))},window.addEventListener("resize",Ou)}function oU(e){return Pf.add(e),Ou||sU(),()=>{Pf.delete(e),!Pf.size&&Ou&&(Ou=void 0)}}function rU(e,t){return typeof e=="function"?oU(e):nU(e,t)}const aU=50,qb=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),iU=()=>({time:0,x:qb(),y:qb()}),cU={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Kb(e,t,n,s){const o=n[t],{length:r,position:a}=cU[t],i=o.current,u=n.time;o.current=e[`scroll${a}`],o.scrollLength=e[`scroll${r}`]-e[`client${r}`],o.offset.length=0,o.offset[0]=0,o.offset[1]=o.scrollLength,o.progress=r1(0,o.scrollLength,o.current);const d=s-u;o.velocity=d>aU?0:J5(o.current-i,d)}function lU(e,t,n){Kb(e,"x",t,n),Kb(e,"y",t,n),t.time=n}function uU(e,t){const n={x:0,y:0};let s=e;for(;s&&s!==t;)if(s instanceof HTMLElement)n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const o=s.getBoundingClientRect();s=s.parentElement;const r=s.getBoundingClientRect();n.x+=o.left-r.left,n.y+=o.top-r.top}else if(s instanceof SVGGraphicsElement){const{x:o,y:r}=s.getBBox();n.x+=o,n.y+=r;let a=null,i=s.parentNode;for(;!a;)i.tagName==="svg"&&(a=i),i=s.parentNode;s=a}else break;return n}const J0={start:0,center:.5,end:1};function Zb(e,t,n=0){let s=0;if(e in J0&&(e=J0[e]),typeof e=="string"){const o=parseFloat(e);e.endsWith("px")?s=o:e.endsWith("%")?e=o/100:e.endsWith("vw")?s=o/100*document.documentElement.clientWidth:e.endsWith("vh")?s=o/100*document.documentElement.clientHeight:e=o}return typeof e=="number"&&(s=t*e),n+s}const dU=[0,0];function mU(e,t,n,s){let o=Array.isArray(e)?e:dU,r=0,a=0;return typeof e=="number"?o=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?o=e.split(" "):o=[e,J0[e]?e:"0"]),r=Zb(o[0],n,s),a=Zb(o[1],t),r-a}const fU={All:[[0,0],[1,1]]},pU={x:0,y:0};function hU(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function gU(e,t,n){const{offset:s=fU.All}=n,{target:o=e,axis:r="y"}=n,a=r==="y"?"height":"width",i=o!==e?uU(o,e):pU,u=o===e?{width:e.scrollWidth,height:e.scrollHeight}:hU(o),d={width:e.clientWidth,height:e.clientHeight};t[r].offset.length=0;let m=!t[r].interpolate;const f=s.length;for(let h=0;h<f;h++){const g=mU(s[h],d[a],u[a],i[r]);!m&&g!==t[r].interpolatorOffsets[h]&&(m=!0),t[r].offset[h]=g}m&&(t[r].interpolate=rv(t[r].offset,D7(s),{clamp:!1}),t[r].interpolatorOffsets=[...t[r].offset]),t[r].progress=ua(0,1,t[r].interpolate(t[r].current))}function vU(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let s=t;for(;s&&s!==e;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function CU(e,t,n,s={}){return{measure:()=>vU(e,s.target,n),update:o=>{lU(e,n,o),(s.offset||s.target)&&gU(e,n,s)},notify:()=>t(n)}}const cu=new WeakMap,Yb=new WeakMap,rg=new WeakMap,Qb=e=>e===document.documentElement?window:e;function av(e,{container:t=document.documentElement,...n}={}){let s=rg.get(t);s||(s=new Set,rg.set(t,s));const o=iU(),r=CU(t,e,o,n);if(s.add(r),!cu.has(t)){const i=()=>{for(const h of s)h.measure()},u=()=>{for(const h of s)h.update(Ku.timestamp)},d=()=>{for(const h of s)h.notify()},m=()=>{ws.read(i,!1,!0),ws.read(u,!1,!0),ws.update(d,!1,!0)};cu.set(t,m);const f=Qb(t);window.addEventListener("resize",m,{passive:!0}),t!==document.documentElement&&Yb.set(t,rU(t,m)),f.addEventListener("scroll",m,{passive:!0})}const a=cu.get(t);return ws.read(a,!1,!0),()=>{var i;s1(a);const u=rg.get(t);if(!u||(u.delete(r),u.size))return;const d=cu.get(t);cu.delete(t),d&&(Qb(t).removeEventListener("scroll",d),(i=Yb.get(t))===null||i===void 0||i(),window.removeEventListener("resize",d))}}function yU({source:e,container:t,axis:n="y"}){e&&(t=e);const s={value:0},o=av(r=>{s.value=r[n].progress*100},{container:t,axis:n});return{currentTime:s,cancel:o}}const ag=new Map;function F7({source:e,container:t=document.documentElement,axis:n="y"}={}){e&&(t=e),ag.has(t)||ag.set(t,{});const s=ag.get(t);return s[n]||(s[n]=WD()?new ScrollTimeline({source:t,axis:n}):yU({source:t,axis:n})),s[n]}function bU(e){return e.length===2}function B7(e){return e&&(e.target||e.offset)}function xU(e,t){return bU(e)||B7(t)?av(n=>{e(n[t.axis].progress,n)},t):U7(e,F7(t))}function SU(e,t){if(e.flatten(),B7(t))return e.pause(),av(n=>{e.time=e.duration*n[t.axis].progress},t);{const n=F7(t);return e.attachTimeline?e.attachTimeline(n,s=>(s.pause(),U7(o=>{s.time=s.duration*o},n))):Sa}}function EU(e,{axis:t="y",...n}={}){const s={axis:t,...n};return typeof e=="function"?xU(e,s):SU(e,s)}function Jb(e,t){OO(!!(!t||t.current))}const wU=()=>({scrollX:Rc(0),scrollY:Rc(0),scrollXProgress:Rc(0),scrollYProgress:Rc(0)});function IU({container:e,target:t,layoutEffect:n=!0,...s}={}){const o=mr(wU);return(n?Md:c.useEffect)(()=>(Jb("target",t),Jb("container",e),EU((a,{x:i,y:u})=>{o.scrollX.set(i.current),o.scrollXProgress.set(i.progress),o.scrollY.set(u.current),o.scrollYProgress.set(u.progress)},{...s,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(s.offset)]),o}function V7(e){const t=mr(()=>Rc(e)),{isStatic:n}=c.useContext(wi);if(n){const[,s]=c.useState(e);c.useEffect(()=>t.on("change",s),[])}return t}function H7(e,t){const n=V7(t()),s=()=>n.set(t());return s(),Md(()=>{const o=()=>ws.preRender(s,!1,!0),r=e.map(a=>a.on("change",o));return()=>{r.forEach(a=>a()),s1(s)}}),n}function z7(e,t={}){const{isStatic:n}=c.useContext(wi),s=c.useRef(null),o=mr(()=>fr(e)?e.get():e),r=mr(()=>typeof o=="string"?o.replace(/[\d.-]/g,""):void 0),a=V7(o),i=c.useRef(o),u=c.useRef(Sa),d=()=>{m(),s.current=Qj({keyframes:[e4(a.get()),e4(i.current)],velocity:a.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:u.current})},m=()=>{s.current&&s.current.stop()};return c.useInsertionEffect(()=>a.attach((f,h)=>n?h(f):(i.current=f,u.current=g=>h(Xb(g,r)),ws.postRender(d),a.get()),m),[JSON.stringify(t)]),Md(()=>{if(fr(e))return e.on("change",f=>a.set(Xb(f,r)))},[a,r]),a}function Xb(e,t){return t?e+t:e}function e4(e){return typeof e=="number"?e:parseFloat(e)}const _U=e=>e&&typeof e=="object"&&e.mix,TU=e=>_U(e)?e.mix:void 0;function AU(...e){const t=!Array.isArray(e[0]),n=t?0:-1,s=e[0+n],o=e[1+n],r=e[2+n],a=e[3+n],i=rv(o,r,{mixer:TU(r[0]),...a});return t?i(s):i}function kU(e){Pu.current=[],e();const t=H7(Pu.current,e);return Pu.current=void 0,t}function al(e,t,n,s){if(typeof e=="function")return kU(e);const o=typeof t=="function"?t:AU(t,n,s);return Array.isArray(e)?t4(e,o):t4([e],([r])=>o(r))}function t4(e,t){const n=mr(()=>[]);return H7(e,()=>{n.length=0;const s=e.length;for(let o=0;o<s;o++)n[o]=e[o].get();return t(n)})}const MU={some:0,all:1};function NU(e,t,{root:n,margin:s,amount:o="some"}={}){const r=j7(e),a=new WeakMap,i=d=>{d.forEach(m=>{const f=a.get(m.target);if(m.isIntersecting!==!!f)if(m.isIntersecting){const h=t(m.target,m);typeof h=="function"?a.set(m.target,h):u.unobserve(m.target)}else typeof f=="function"&&(f(m),a.delete(m.target))})},u=new IntersectionObserver(i,{root:n,rootMargin:s,threshold:typeof o=="number"?o:MU[o]});return r.forEach(d=>u.observe(d)),()=>u.disconnect()}function yl(e,{root:t,margin:n,amount:s,once:o=!1,initial:r=!1}={}){const[a,i]=c.useState(r);return c.useEffect(()=>{if(!e.current||o&&a)return;const u=()=>(i(!0),o?void 0:()=>i(!1)),d={root:t&&t.current||void 0,margin:n,amount:s};return NU(e.current,u,d)},[t,e,n,o,s]),a}const G7=c.createContext(void 0);function RU(){return c.useContext(G7)}function PU(e){const{children:t,randomSeed:n}=e;return l.jsx(G7.Provider,{value:n,children:t})}const LU=()=>B(()=>import("./motion-lib-react-drL3p7KJ.js"),__vite__mapDeps([0,1])).then(e=>e.domMax);function OU(e){const{children:t,queryClient:n,randomSeed:s}=e;return l.jsx(Q8,{reducedMotion:"user",children:l.jsx(UO,{features:LU,strict:!0,children:l.jsx(nO,{client:n,children:l.jsx(PU,{randomSeed:s,children:t})})})})}const W7=[{name:"Arabic",i18nCode:"ar",direction:"rtl"},{name:"Basque",i18nCode:"eu",direction:"ltr"},{name:"Bengali",i18nCode:"bn-IN",direction:"ltr"},{name:"Bulgarian",i18nCode:"bg",direction:"ltr"},{name:"Catalan",i18nCode:"ca",direction:"ltr"},{name:"Chinese (Simplified)",i18nCode:"zh-Hans",direction:"ltr"},{name:"Chinese (Traditional)",i18nCode:"zh-Hant",direction:"ltr"},{name:"Croatian",i18nCode:"hr",direction:"ltr"},{name:"Czech",i18nCode:"cs",direction:"ltr"},{name:"Danish",i18nCode:"da",direction:"ltr"},{name:"Dutch",i18nCode:"nl",direction:"ltr"},{name:"English (US)",i18nCode:"en-US",direction:"ltr"},{name:"English (UK)",i18nCode:"en-GB",direction:"ltr"},{name:"Estonian",i18nCode:"et",direction:"ltr"},{name:"Finnish",i18nCode:"fi",direction:"ltr"},{name:"French",i18nCode:"fr",direction:"ltr"},{name:"Galician",i18nCode:"gl",direction:"ltr"},{name:"German",i18nCode:"de",direction:"ltr"},{name:"Gujarati",i18nCode:"gu",direction:"ltr"},{name:"Hebrew",i18nCode:"he",direction:"rtl"},{name:"Hindi",i18nCode:"hi",direction:"ltr"},{name:"Hungarian",i18nCode:"hu",direction:"ltr"},{name:"Icelandic",i18nCode:"is",direction:"ltr"},{name:"Indonesian",i18nCode:"id",direction:"ltr"},{name:"Italian",i18nCode:"it",direction:"ltr"},{name:"Japanese",i18nCode:"ja",direction:"ltr"},{name:"Kannada",i18nCode:"kn",direction:"ltr"},{name:"Korean",i18nCode:"ko",direction:"ltr"},{name:"Latvian",i18nCode:"lv",direction:"ltr"},{name:"Lithuanian",i18nCode:"lt",direction:"ltr"},{name:"Malay",i18nCode:"ms",direction:"ltr"},{name:"Malayalam",i18nCode:"ml",direction:"ltr"},{name:"Marathi",i18nCode:"mr",direction:"ltr"},{name:"Norwegian (Bokml)",i18nCode:"nb-NO",direction:"ltr"},{name:"Polish",i18nCode:"pl",direction:"ltr"},{name:"Portuguese (Brazil)",i18nCode:"pt-BR",direction:"ltr"},{name:"Portuguese (Portugal)",i18nCode:"pt-PT",direction:"ltr"},{name:"Punjabi",i18nCode:"pa",direction:"ltr"},{name:"Romanian",i18nCode:"ro",direction:"ltr"},{name:"Russian",i18nCode:"ru",direction:"ltr"},{name:"Serbian (Latin)",i18nCode:"sr-Latn-RS",direction:"ltr"},{name:"Slovak",i18nCode:"sk",direction:"ltr"},{name:"Slovenian",i18nCode:"sl",direction:"ltr"},{name:"Spanish",i18nCode:"es",direction:"ltr"},{name:"Swedish",i18nCode:"sv",direction:"ltr"},{name:"Tamil",i18nCode:"ta",direction:"ltr"},{name:"Telugu",i18nCode:"te",direction:"ltr"},{name:"Thai",i18nCode:"th",direction:"ltr"},{name:"Turkish",i18nCode:"tr",direction:"ltr"},{name:"Ukrainian",i18nCode:"uk",direction:"ltr"},{name:"Vietnamese",i18nCode:"vi",direction:"ltr"}],$7=W7.map(e=>e.i18nCode);function iv(e){const t="en-US";if(!e)return[t];const n=DU(e),s=jU(e),o=UU(e);return[n,s,o,t].filter(r=>!!r).filter((r,a,i)=>i.indexOf(r)===a)}function DU(e){return $7.find(t=>t.toLowerCase()===e.toLowerCase())}function jU(e){if(["en-AU","en-NZ","en-IE"].includes(e))return"en-GB";if(e.startsWith("zh-")){const t=e.toLocaleLowerCase();return t==="zh-TW".toLocaleLowerCase()||t==="zh-HK".toLocaleLowerCase()?"zh-Hant":"zh-Hans"}}function UU(e){var n;const t=(n=e.split("-")[0])==null?void 0:n.toLowerCase();if(t){const s=$7.find(o=>o.toLowerCase()===t||o.toLowerCase().startsWith(`${t}-`));if(s)return s}}const FU="__i18n__";function BU(){if(!(typeof window>"u"))return window[FU]}const co={};let VU=0;function N(e,t){const n=`atom${++VU}`,s={toString(){return(co?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?s.read=e:(s.init=e,s.read=HU,s.write=zU),t&&(s.write=t),s}function HU(e){return e(this)}function zU(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}const n4=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,ig=e=>"init"in e,cg=e=>!!e.write,ip=new WeakMap,X0=e=>{var t;return e2(e)&&!((t=ip.get(e))!=null&&t[1])},GU=(e,t)=>{const n=ip.get(e);if(n)n[1]=!0,n[0].forEach(s=>s(t));else if((co?"production":void 0)!=="production")throw new Error("[Bug] cancelable promise not found")},WU=e=>{if(ip.has(e))return;const t=[new Set,!1];ip.set(e,t);const n=()=>{t[1]=!0};e.then(n,n),e.onCancel=s=>{t[0].add(s)}},e2=e=>typeof(e==null?void 0:e.then)=="function",s4=e=>"v"in e||"e"in e,af=e=>{if("e"in e)throw e.e;if((co?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},q7=(e,t,n)=>{n.p.has(e)||(n.p.add(e),t.then(()=>{n.p.delete(e)},()=>{n.p.delete(e)}))},o4=(e,t,n,s,o)=>{var r;if((co?"production":void 0)!=="production"&&s===t)throw new Error("[Bug] atom cannot depend on itself");n.d.set(s,o.n),X0(n.v)&&q7(t,n.v,o),(r=o.m)==null||r.t.add(t),e&&$U(e,s,t)},Cc=()=>[new Map,new Map,new Set],lg=(e,t,n)=>{e[0].has(t)||e[0].set(t,new Set),e[1].set(t,n)},$U=(e,t,n)=>{const s=e[0].get(t);s&&s.add(n)},qU=(e,t)=>e[0].get(t),r4=(e,t)=>{e[2].add(t)},Ha=e=>{for(;e[1].size||e[2].size;){e[0].clear();const t=new Set(e[1].values());e[1].clear();const n=new Set(e[2]);e[2].clear(),t.forEach(s=>{var o;return(o=s.m)==null?void 0:o.l.forEach(r=>r())}),n.forEach(s=>s())}},K7=e=>{let t;(co?"production":void 0)!=="production"&&(t=new Set);const n=(v,y,b)=>{const E="v"in y,S=y.v,I=X0(y.v)?y.v:null;if(e2(b)){WU(b);for(const _ of y.d.keys())q7(v,b,e(_,y));y.v=b,delete y.e}else y.v=b,delete y.e;(!E||!Object.is(S,y.v))&&(++y.n,I&&GU(I,b))},s=(v,y,b,E)=>{var S;if(s4(b)&&(b.m&&!(E!=null&&E.has(y))||Array.from(b.d).every(([R,P])=>s(v,R,e(R,b),E).n===P)))return b;b.d.clear();let I=!0;const _=R=>{if(n4(y,R)){const V=e(R,b);if(!s4(V))if(ig(R))n(R,V,R.init);else throw new Error("no atom init");return af(V)}const P=s(v,R,e(R,b),E);if(I)o4(v,y,b,R,P);else{const V=Cc();o4(V,y,b,R,P),d(V,y,b),Ha(V)}return af(P)};let T,A;const k={get signal(){return T||(T=new AbortController),T.signal},get setSelf(){return(co?"production":void 0)!=="production"&&!cg(y)&&console.warn("setSelf function cannot be used with read-only atom"),!A&&cg(y)&&(A=(...R)=>{if((co?"production":void 0)!=="production"&&I&&console.warn("setSelf function cannot be called in sync"),!I)return u(y,...R)}),A}};try{const R=y.read(_,k);if(n(y,b,R),e2(R)){(S=R.onCancel)==null||S.call(R,()=>T==null?void 0:T.abort());const P=()=>{if(b.m){const V=Cc();d(V,y,b),Ha(V)}};R.then(P,P)}return b}catch(R){return delete b.v,b.e=R,++b.n,b}finally{I=!1}},o=v=>af(s(void 0,v,e(v))),r=(v,y,b)=>{var E,S;const I=new Map;for(const _ of((E=b.m)==null?void 0:E.t)||[])I.set(_,e(_,b));for(const _ of b.p)I.set(_,e(_,b));return(S=qU(v,y))==null||S.forEach(_=>{I.set(_,e(_,b))}),I},a=(v,y,b)=>{const E=[],S=new Set,I=(T,A)=>{if(!S.has(T)){S.add(T);for(const[k,R]of r(v,T,A))T!==k&&I(k,R);E.push([T,A,A.n])}};I(y,b);const _=new Set([y]);for(let T=E.length-1;T>=0;--T){const[A,k,R]=E[T];let P=!1;for(const V of k.d.keys())if(V!==A&&_.has(V)){P=!0;break}P&&(s(v,A,k,S),d(v,A,k),R!==k.n&&(lg(v,A,k),_.add(A))),S.delete(A)}},i=(v,y,b,...E)=>{const S=T=>af(s(v,T,e(T,b))),I=(T,...A)=>{const k=e(T,b);let R;if(n4(y,T)){if(!ig(T))throw new Error("atom not writable");const P="v"in k,V=k.v,U=A[0];n(T,k,U),d(v,T,k),(!P||!Object.is(V,k.v))&&(lg(v,T,k),a(v,T,k))}else R=i(v,T,k,...A);return Ha(v),R};return y.write(S,I,...E)},u=(v,...y)=>{const b=Cc(),E=i(b,v,e(v),...y);return Ha(b),E},d=(v,y,b)=>{if(b.m&&!X0(b.v)){for(const E of b.d.keys())b.m.d.has(E)||(m(v,E,e(E,b)).t.add(y),b.m.d.add(E));for(const E of b.m.d||[])if(!b.d.has(E)){b.m.d.delete(E);const S=f(v,E,e(E,b));S==null||S.t.delete(y)}}},m=(v,y,b)=>{if(!b.m){s(v,y,b);for(const E of b.d.keys())m(v,E,e(E,b)).t.add(y);if(b.m={l:new Set,d:new Set(b.d.keys()),t:new Set},(co?"production":void 0)!=="production"&&t.add(y),cg(y)&&y.onMount){const E=b.m,{onMount:S}=y;r4(v,()=>{const I=S((..._)=>i(v,y,b,..._));I&&(E.u=I)})}}return b.m},f=(v,y,b)=>{if(b.m&&!b.m.l.size&&!Array.from(b.m.t).some(E=>{var S;return(S=e(E,b).m)==null?void 0:S.d.has(y)})){const E=b.m.u;E&&r4(v,E),delete b.m,(co?"production":void 0)!=="production"&&t.delete(y);for(const S of b.d.keys()){const I=f(v,S,e(S,b));I==null||I.t.delete(y)}return}return b.m},C={get:o,set:u,sub:(v,y)=>{const b=Cc(),E=e(v),S=m(b,v,E);Ha(b);const I=S.l;return I.add(y),()=>{I.delete(y);const _=Cc();f(_,v,E),Ha(_)}},unstable_derive:v=>K7(...v(e))};return(co?"production":void 0)!=="production"&&Object.assign(C,{dev4_get_internal_weak_map:()=>({get:y=>{const b=e(y);if(b.n!==0)return b}}),dev4_get_mounted_atoms:()=>t,dev4_restore_atoms:y=>{const b=Cc();for(const[E,S]of y)if(ig(E)){const I=e(E),_="v"in I,T=I.v;n(E,I,S),d(b,E,I),(!_||!Object.is(T,I.v))&&(lg(b,E,I),a(b,E,I))}Ha(b)}}),C},KU=()=>{const e=new WeakMap;return K7(n=>{let s=e.get(n);return s||(s={d:new Map,p:new Set,n:0},e.set(n,s)),s})};let lu;const $e=()=>(lu||(lu=KU(),(co?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=lu),globalThis.__JOTAI_DEFAULT_STORE__!==lu&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),lu),Z7={},ZU=c.createContext(void 0),cv=e=>c.useContext(ZU)||$e(),Y7=e=>typeof(e==null?void 0:e.then)=="function",YU=e=>{e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t})},QU=Ei.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(YU(e),e)}),ug=new WeakMap,JU=e=>{let t=ug.get(e);return t||(t=new Promise((n,s)=>{let o=e;const r=u=>d=>{o===u&&n(d)},a=u=>d=>{o===u&&s(d)},i=u=>{"onCancel"in u&&typeof u.onCancel=="function"&&u.onCancel(d=>{if((Z7?"production":void 0)!=="production"&&d===u)throw new Error("[Bug] p is not updated even after cancelation");Y7(d)?(ug.set(d,t),o=d,d.then(r(d),a(d)),i(d)):n(d)})};e.then(r(e),a(e)),i(e)}),ug.set(e,t)),t};function M(e,t){const n=cv(),[[s,o,r],a]=c.useReducer(d=>{const m=n.get(e);return Object.is(d[0],m)&&d[1]===n&&d[2]===e?d:[m,n,e]},void 0,()=>[n.get(e),n,e]);let i=s;if((o!==n||r!==e)&&(a(),i=n.get(e)),c.useEffect(()=>{const d=n.sub(e,()=>{a()});return a(),d},[n,e,void 0]),c.useDebugValue(i),Y7(i)){const d=JU(i);return QU(d)}return i}function oe(e,t){const n=cv();return c.useCallback((...o)=>{if((Z7?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...o)},[n,e])}function Ue(e,t){return[M(e),oe(e)]}const i1={},XU=Symbol((i1?"production":void 0)!=="production"?"RESET":"");function vEe(e,t){let n=null;const s=new Map,o=new Set,r=i=>{let u;if(t===void 0)u=s.get(i);else for(const[m,f]of s)if(t(m,i)){u=f;break}if(u!==void 0)if(n!=null&&n(u[1],i))r.remove(i);else return u[0];const d=e(i);return s.set(i,[d,Date.now()]),a("CREATE",i,d),d};function a(i,u,d){for(const m of o)m({type:i,param:u,atom:d})}return r.unstable_listen=i=>(o.add(i),()=>{o.delete(i)}),r.getParams=()=>s.keys(),r.remove=i=>{{if(!s.has(i))return;const[u]=s.get(i);s.delete(i),a("REMOVE",i,u)}},r.setShouldRemove=i=>{if(n=i,!!n)for(const[u,[d,m]]of s)n(m,u)&&(s.delete(u),a("REMOVE",u,d))},r}const dg=(e,t,n)=>(t.has(n)?t:t.set(n,e())).get(n),eF=new WeakMap,tF=(e,t,n,s)=>{const o=dg(()=>new WeakMap,eF,t),r=dg(()=>new WeakMap,o,n);return dg(e,r,s)};function lv(e,t,n=Object.is){return tF(()=>{const s=Symbol(),o=([a,i])=>{if(i===s)return t(a);const u=t(a,i);return n(i,u)?i:u},r=N(a=>{const i=a(r),u=a(e);return o([u,i])});return r.init=s,r},e,t,n)}const a4=(e,t,n)=>(t.has(n)?t:t.set(n,e())).get(n),nF=new WeakMap,sF=(e,t,n)=>{const s=a4(()=>new WeakMap,nF,t);return a4(e,s,n)},oF={},i4=e=>!!e.write,rF=e=>typeof e=="function";function CEe(e,t){return sF(()=>{const n=new WeakMap,s=(a,i)=>{let u=n.get(a);if(u)return u;const d=i&&n.get(i),m=[],f=[];return a.forEach((h,g)=>{const C=g;f[g]=C;const v=d&&d.atomList[d.keyList.indexOf(C)];if(v){m[g]=v;return}const y=E=>{const S=E(o),I=E(e),T=s(I,S==null?void 0:S.arr).keyList.indexOf(C);if(T<0||T>=I.length){const A=a[s(a).keyList.indexOf(C)];if(A)return A;throw new Error("splitAtom: index out of bounds for read")}return I[T]},b=(E,S,I)=>{const _=E(o),T=E(e),k=s(T,_==null?void 0:_.arr).keyList.indexOf(C);if(k<0||k>=T.length)throw new Error("splitAtom: index out of bounds for write");const R=rF(I)?I(T[k]):I;Object.is(T[k],R)||S(e,[...T.slice(0,k),R,...T.slice(k+1)])};m[g]=i4(e)?N(y,b):N(y)}),d&&d.keyList.length===f.length&&d.keyList.every((h,g)=>h===f[g])?u=d:u={arr:a,atomList:m,keyList:f},n.set(a,u),u},o=N(a=>{const i=a(o),u=a(e);return s(u,i==null?void 0:i.arr)});(i1?"production":void 0)!=="production"&&(o.debugPrivate=!0),o.init=void 0;const r=i4(e)?N(a=>a(o).atomList,(a,i,u)=>{switch(u.type){case"remove":{const d=a(r).indexOf(u.atom);if(d>=0){const m=a(e);i(e,[...m.slice(0,d),...m.slice(d+1)])}break}case"insert":{const d=u.before?a(r).indexOf(u.before):a(r).length;if(d>=0){const m=a(e);i(e,[...m.slice(0,d),u.value,...m.slice(d)])}break}case"move":{const d=a(r).indexOf(u.atom),m=u.before?a(r).indexOf(u.before):a(r).length;if(d>=0&&m>=0){const f=a(e);d<m?i(e,[...f.slice(0,d),...f.slice(d+1,m),f[d],...f.slice(m)]):i(e,[...f.slice(0,m),f[d],...f.slice(m,d),...f.slice(d+1)])}break}}}):N(a=>a(o).atomList);return r},e,oF)}const aF=e=>typeof(e==null?void 0:e.then)=="function";function iF(e=()=>{try{return window.localStorage}catch(n){(i1?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},t){var n;let s,o;const r={getItem:(u,d)=>{var m,f;const h=C=>{if(C=C||"",s!==C){try{o=JSON.parse(C,t==null?void 0:t.reviver)}catch{return d}s=C}return o},g=(f=(m=e())==null?void 0:m.getItem(u))!=null?f:null;return aF(g)?g.then(h):h(g)},setItem:(u,d)=>{var m;return(m=e())==null?void 0:m.setItem(u,JSON.stringify(d,void 0))},removeItem:u=>{var d;return(d=e())==null?void 0:d.removeItem(u)}},a=u=>(d,m,f)=>u(d,h=>{let g;try{g=JSON.parse(h||"")}catch{g=f}m(g)});let i;try{i=(n=e())==null?void 0:n.subscribe}catch{}return!i&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(i=(u,d)=>{if(!(e()instanceof window.Storage))return()=>{};const m=f=>{f.storageArea===e()&&f.key===u&&d(f.newValue)};return window.addEventListener("storage",m),()=>{window.removeEventListener("storage",m)}}),i&&(r.subscribe=a(i)),r}const cF=iF();function uv(e,t,n=cF,s){const o=s==null?void 0:s.getOnInit,r=N(o?n.getItem(e,t):t);return(i1?"production":void 0)!=="production"&&(r.debugPrivate=!0),r.onMount=i=>{i(n.getItem(e,t));let u;return n.subscribe&&(u=n.subscribe(e,i,t)),u},N(i=>i(r),(i,u,d)=>{const m=typeof d=="function"?d(i(r)):d;return m===XU?(u(r,t),n.removeItem(e)):m instanceof Promise?m.then(f=>(u(r,f),n.setItem(e,f))):(u(r,m),n.setItem(e,m))})}const c4=new WeakMap;function lF(e,t){const n=cv(),s=uF(n);for(const[o,r]of e)s.has(o)||(s.add(o),n.set(o,r))}const uF=e=>{let t=c4.get(e);return t||(t=new WeakSet,c4.set(e,t)),t},dF="/static/cmc/assets/copilot-qr-dark-aggressive-banner-Dtr5ysxQ.webp",mF="/static/cmc/assets/copilot-qr-dark-aggressive-copied-popup-BRVm_KWU.webp",fF="/static/cmc/assets/copilot-qr-dark-aggressive-engaging-popup-YSBImXns.webp",pF="/static/cmc/assets/copilot-qr-dark-aggressive-secondday-popup--nxha975.webp",hF="/static/cmc/assets/copilot-qr-dark-aggressive-setting-TTFEOcbN.webp",gF="/static/cmc/assets/copilot-qr-dark-aggressive-think-deeper-popup-FHodYGgC.webp",vF="/static/cmc/assets/copilot-qr-dark-aggressive-thumbsup-card-DH3zTT3T.webp",CF="/static/cmc/assets/copilot-qr-dark-aggressive-thumbsup-popup-D7hBD_1Q.webp",yF="/static/cmc/assets/copilot-qr-dark-desktop-discover-strip-DnlsnV3g.webp",bF="/static/cmc/assets/copilot-qr-dark-desktop-setting-banner-CqsoJ8gk.webp",xF="/static/cmc/assets/copilot-qr-dark-desktop-setting-menu-item-C25mGU_p.webp",SF="/static/cmc/assets/copilot-qr-light-aggressive-banner-CKv2a8_f.webp",EF="/static/cmc/assets/copilot-qr-light-aggressive-copied-popup-M4nhJM3H.webp",wF="/static/cmc/assets/copilot-qr-light-aggressive-engaging-popup-B-vXLUhP.webp",IF="/static/cmc/assets/copilot-qr-light-aggressive-secondday-popup-DBikSjcg.webp",_F="/static/cmc/assets/copilot-qr-light-aggressive-setting-D2OBsvlS.webp",TF="/static/cmc/assets/copilot-qr-light-aggressive-think-deeper-popup-D5tA7N2r.webp",AF="/static/cmc/assets/copilot-qr-light-aggressive-thumbsup-card-CwLVOvcv.webp",kF="/static/cmc/assets/copilot-qr-light-aggressive-thumbsup-popup-DM6aMFdv.webp",MF="/static/cmc/assets/copilot-qr-light-desktop-discover-strip-flsYDh7H.webp",NF="/static/cmc/assets/copilot-qr-light-desktop-setting-banner-C2lNCEe_.webp",RF="/static/cmc/assets/copilot-qr-light-desktop-setting-menu-item-BzBe-XWV.webp",l4="/static/cmc/assets/copilot-qr-light-shopping-Dm2se5Rq.png",PF={appLayout:{showSettings:!0,showCookieBanner:!0,showSettingsRelyOnChatDetailLayout:!0,showMobileCrossSelling:!0},surfaceQueryParam:null,showScrollbarOnHover:!1,dailyBriefingOcid:"cp_msn_cmc",persistThemeChoice:!0,entraRedirectModalBehaviour:"replace",redirectBackEnabled:!0,crossPromotion:{discoverStrip:{dark:yF,light:MF,fontSize:"m"},settingMenuItem:{dark:xF,light:RF},settingBanner:{dark:bF,light:NF},aggressive:{banner:{dark:dF,light:SF},setting:{dark:hF,light:_F},card:{thumbsUp:{dark:vF,light:AF}},popup:{secondDay:{dark:pF,light:IF},thumbsUp:{dark:CF,light:kF},copied:{dark:mF,light:EF},engaging:{dark:fF,light:wF},thinkDeeper:{dark:gF,light:TF}}}},connectorPlatform:{isGoogleDriveEnabled:!0,isGoogleCalendarEnabled:!0,isOutlookEnabled:!0,isOneDriveEnabled:!0,isGmailEnabled:!0,isGoogleContactsEnabled:!0,isEdgeBrowserEnabled:!0},proSubscription:{enabled:!0,manageRefId:"cmc",urlParams:{client:"cmc",ocids:{ActionsLimit:{freeTrial:"cmmmcpyae96",buy:"cmm46gj0qnu"},VoiceLimit:{freeTrial:"cmm0ghcr8ka",buy:"cmmxki6wg02"},Settings:{freeTrial:"cmma4vbm2dq",buy:"cmmugsiwg58"},MarketSelect:{freeTrial:"cmmxe0nad8b",buy:"cmmtbwi4652",market:"none"},PodcastLimit:{buy:"cmmtzkwxk60"},DeepResearchLimit:{buy:"cmmoe57pdco"}}},m365UrlParams:{ocids:{Management:{buy:"cmmw7mw3yqb"},"Management-FromWinNative":{buy:"cmmuqx95kk5"},Settings:{buy:"cmma1qqdrup"},"Settings-FromWinNative":{buy:"cmmgeuw7z2g"},Unknown:{buy:"cmmipliy5qj"},VisionLimit:{buy:"cmm1z6j7vhd"},"VisionLimit-FromWinNative":{buy:"cmmipxlurfj"},"VisionLimit-FromEdge":{buy:"cmmkxmbp63s"},"VisionLimit-FromEdgeCopilotMode":{buy:"cmmtardi03n"},PodcastLimit:{buy:"cmml80k74li"},"PodcastLimit-FromWinNative":{buy:"cmmeqe0ui7z"},"PodcastLimit-FromEdgeCopilotMode":{buy:"cmmxl5ui5bi"},ActionsLimit:{buy:"cmm77pn9501"},"ActionsLimit-FromWinNative":{buy:"cmm5tgy4bxa"},"ActionsLimit-FromEdgeCopilotMode":{buy:"cmmq2as5182"},DeepResearchLimit:{buy:"cmmnfbwmed3"},"DeepResearchLimit-FromWinNative":{buy:"cmmoehrafkb"},"DeepResearchLimit-FromEdgeCopilotMode":{buy:"cmm8w5fhoop"},UpsellProToPremium:{buy:"cmm7zptzbn8"},"UpsellProToPremium-FromWinNative":{buy:"cmmtftzk1ke"},UpsellPFToPremium:{buy:"cmmmomom1i8"},"UpsellPFToPremium-FromWinNative":{buy:"cmmmkce74lz"}}},upsellFromAuth0:{navigateToProSubPageAfterLogin:!0}},referralEnabled:!0,adsEnabled:!0,adsIdSyncEnabled:!0,adsShowroomEnabled:!0,thinkDeeperFreemiumEnabled:!0,monitorAccountChangesAcrossTabs:!0,shopping:{upsell:{banner:{light:l4,dark:l4}},showPdpSidepane:!0},sidebarNavigation:!0,showChatDetail:!0,enableAuth0:!0,settingsOverrides:{shouldShowActivityHistory:!0,shouldShowMemoryDelete:!0,shouldShowEdgePasswordsAccessSetting:!0},enableCustom1DS:!0,actions:{enableActions:()=>Promise.resolve(!0)},landingPage:{enableCentralComposer:!0,enableStarterPrompts:!0,enableAutoSuggest:!0,enableWidgets:!0,enablePromptedGreetings:!0,shouldFetchWidgetsData:!0,regexForAutoSuggest:/\S+/},supportsYouTubeVideos:!0,useMSALPwBApp:!0,isBotDetectionEnabled:!0,enableLabs:!0,supportsChatDetails:!0,pages:{enableEditorImageUpload:!0},webWorkerEnabled:!0,restrictPromptPassthroughDomains:!0,enableSearchMode:!0},ai=class ai{constructor(){O(this,"cfg",PF)}static instance(){return ai.singleton||(ai.singleton=new ai),ai.singleton}config(){return this.cfg}setConfig(t){this.cfg=t}};O(ai,"singleton",null);let ae=ai;function LF(e,t){return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}function dv(e){const t=typeof window<"u"?window.matchMedia(e):null,[n,s]=c.useState(t==null?void 0:t.matches);return c.useEffect(()=>{t&&LF(t,o=>s(o.matches))},[e,t]),!!n}function Q7(e){const{children:t,serverFallback:n=null}=e;return c1()?t:n}function c1(){return c.useSyncExternalStore(OF,()=>!0,()=>!1)}function OF(){return()=>{}}const J7={sm:"640",md:"768",lg:"1024",xl:"1280","2xl":"1536","3xl":"1920"};function gt(e){const{breakpoint:t}=e,n=J7[t],s=!dv(`(min-width: ${n}px)`);return c1()?s:!1}function l1(e){const{breakpoint:t}=e,s=`(min-width: ${J7[t]}px)`,o=typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia(s):null;return!(o!=null&&o.matches)}function Ft(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function t2(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function mv(e,t){const n=Ft(e);return isNaN(t)?t2(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const X7=typeof document<"u",DF=typeof navigator<"u";function jF(e,t){if(X7)return document.cookie.split(";").filter(n=>n.trim().startsWith(`${e}=`)).at(t)}function da(e,t=0){const n=jF(e,t),s=n==null?void 0:n.split("=")[1];if(s)return decodeURIComponent(s)}function il(e,t,n={}){const{expireDays:s,path:o="/",domain:r,secure:a=!0,host:i}=n;if(!X7)return;let u=e;a&&!r&&o==="/"&&i&&(u=`__Host-${e}`);let d=`${u}=${encodeURIComponent(t)}; path=${o}`;if(s){const m=mv(new Date,s);d+=`; expires=${m.toUTCString()}`}r&&(d+=`; domain=${r}`),a&&(d+="; secure"),document.cookie=d}function eS(e,t={}){il(e,"",{...t,expireDays:-1})}const Ac={name:"CMCCP",expirationDays:365},u1={name:"BCP"},UF="3PAdsOptOut";function fv(){return da(Ac.name)??da(u1.name)}function u4(e,t){const{analytics:n,advertising:s,socialMedia:o}=e,r=new URLSearchParams;r.set("AD",s?"1":"0"),r.set("AL",n?"1":"0"),r.set("SM",o?"1":"0");const a=mv(new Date,t);return r.set("expires",a.getTime().toString()),r.toString()}function FF(e){il(Ac.name,u4(e,Ac.expirationDays),{expireDays:Ac.expirationDays}),il(u1.name,u4(e,Ac.expirationDays),{expireDays:Ac.expirationDays})}function ji(){const e=da(u1.name);if(!e)return{advertising:!1,analytics:!1,socialMedia:!1};const t=new URLSearchParams(e),n=t.get("AD")==="1",s=t.get("AL")==="1",o=t.get("SM")==="1";return{advertising:n,analytics:s,socialMedia:o}}function tS(){const e=da(UF)!=="1";return DF?navigator.globalPrivacyControl?!1:e:!1}const d4="mobileCrossSellingLastClosed",mg="mobilePromoCountClose",n2="hasBeenAuthenticated",Zr="colorTheme",d1="newConversationsStarted",cl="timeOfNewConversationThreshold",s2="hasResetConversationDisclaimer",o2="banAppealSubmitted",BF="hideDeleteConversationModal",VF="hasBeenPromptedForLocation",HF="hasSeenCharacter",m4="voiceAppearanceId",f4="voiceLiveCaptionEnabled",zF="disableAppearanceOnHomeScreen",nS="hasSeenAppearance",GF="hasSeenAppearanceEducationPopup",sS="hasSeenAppearanceOnVoiceCall",WF="hasSeenFirstRunExperienceAnimation",$F="hasUsedAppearanceColorShuffler",qF="hasUsedAppearanceVoiceCustomization",p4="actionOnAppearanceDiscoveryCta",KF="hasDismissedAppearanceModal",r2="crossPromoFirstVisit",pv="crossPromoDiscoverStripLastClosed",cp="crossPromoDiscoverStripCountClose",yEe="crossPromoStripGetAppIsClicked",h4="reviewActiveDays",a2="reviewPromptResponse",lp="userSidebarOpen",bEe="referralEligibilityStatus",xEe="referralHasSeenEntryNewBadge",ZF="coachmark",i2="isMsalSilentSsoEnabled",c2="isStartRetryEnabled",oS="user.UserFirstName",l2="loginStartTime",u2="reauthLoginFlag",SEe="subscription.m365SubscriberFRE",g4="userConversationVoiceSpeed",d2="tokenRetryMax2",m2="tokenRetryMax2Auth0",YF="copilotBeta",QF="copilotBetaAnnouncementRequired",f2="isMsalV4Upgrade",ar="copilotMsalLoginHint",v4="msalSilentSsoLastRunAt",up="msalLoginSdkVersion",JF="copilotVisionLastClicked",XF="hasEnteredGalleryDetailFromHome",EEe="portraitsConfig",p2="isReauthRedirectEnabled",Od="persistConversationMode",C4="hasOctoberMomentNotificationDismissedLsKey";function An(e,t){typeof window<"u"&&localStorage.setItem(e,t)}function rn(e){return typeof window<"u"?localStorage.getItem(e):null}function jt(e){typeof window<"u"&&localStorage.removeItem(e)}function wt(e,t){const n=rn(e);if(!n)return null;try{const s=JSON.parse(n);return t.parse(s)}catch{return null}}function Vn(e,t,n){try{t.parse(n),An(e,JSON.stringify(n))}catch{}}const hv=Pe([w("open"),w("close")]),rS=x({sidebarVisibility:hv.optional()});function eB(e){Vn(lp,rS,{sidebarVisibility:e}),il(lp,e,{expireDays:365*10})}function tB(e){const t=hv.safeParse(e);return t.success?t.data:"close"}function aS(){var n;const e=hv.safeParse(da(lp));if(e.success)return e.data;const t=(n=wt(lp,rS))==null?void 0:n.sidebarVisibility;return tB(t)}function nB(){return ae.instance().config().sidebarNavigation?aS()!=="close":!1}const Hc=N({left:nB(),right:!1}),Vo=N(e=>e(Hc).left,(e,t,n)=>{const s=e(Hc);t(Hc,{left:n,right:n&&l1({breakpoint:"xl"})?!1:s.right})}),Dd=N(e=>e(Hc).right,(e,t,n)=>{const s=e(Hc);t(Hc,{left:n&&l1({breakpoint:"xl"})?!1:s.left,right:n})}),iS=c.createContext(null),fg={didCatch:!1,error:null};class cS extends c.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=fg}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var n,s,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];(n=(s=this.props).onReset)===null||n===void 0||n.call(s,{args:r,reason:"imperative-api"}),this.setState(fg)}}componentDidCatch(t,n){var s,o;(s=(o=this.props).onError)===null||s===void 0||s.call(o,t,n)}componentDidUpdate(t,n){const{didCatch:s}=this.state,{resetKeys:o}=this.props;if(s&&n.error!==null&&sB(t.resetKeys,o)){var r,a;(r=(a=this.props).onReset)===null||r===void 0||r.call(a,{next:o,prev:t.resetKeys,reason:"keys"}),this.setState(fg)}}render(){const{children:t,fallbackRender:n,FallbackComponent:s,fallback:o}=this.props,{didCatch:r,error:a}=this.state;let i=t;if(r){const u={error:a,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")i=n(u);else if(s)i=c.createElement(s,u);else if(o!==void 0)i=o;else throw a}return c.createElement(iS.Provider,{value:{didCatch:r,error:a,resetErrorBoundary:this.resetErrorBoundary}},i)}}function sB(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((n,s)=>!Object.is(n,t[s]))}function oB(e){if(e==null||typeof e.didCatch!="boolean"||typeof e.resetErrorBoundary!="function")throw new Error("ErrorBoundaryContext not found")}function lS(){const e=c.useContext(iS);oB(e);const[t,n]=c.useState({error:null,hasError:!1}),s=c.useMemo(()=>({resetBoundary:()=>{e.resetErrorBoundary(),n({error:null,hasError:!1})},showBoundary:o=>n({error:o,hasError:!0})}),[e.resetErrorBoundary]);if(t.hasError)throw t.error;return s}const gv=N(!1),cn=N(null),Ui=N(e=>{const t=e(cn);return t?t.accountType==="AAD":!1}),vv=N(e=>{const t=e(cn);return t?t.accountType==="MSA":!1}),uS=N(e=>e(cn)!==null),Yr=N(null),rB=N(!0);var dS=Symbol.for("immer-nothing"),y4=Symbol.for("immer-draftable"),bt=Symbol.for("immer-state");function Gs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ll=Object.getPrototypeOf;function ul(e){return!!e&&!!e[bt]}function pr(e){var t;return e?mS(e)||Array.isArray(e)||!!e[y4]||!!((t=e.constructor)!=null&&t[y4])||f1(e)||p1(e):!1}var aB=Object.prototype.constructor.toString();function mS(e){if(!e||typeof e!="object")return!1;const t=ll(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===aB}function Qu(e,t){m1(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,s)=>t(s,n,e))}function m1(e){const t=e[bt];return t?t.type_:Array.isArray(e)?1:f1(e)?2:p1(e)?3:0}function h2(e,t){return m1(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function fS(e,t,n){const s=m1(e);s===2?e.set(t,n):s===3?e.add(n):e[t]=n}function iB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function f1(e){return e instanceof Map}function p1(e){return e instanceof Set}function Tn(e){return e.copy_||e.base_}function g2(e,t){if(f1(e))return new Map(e);if(p1(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=mS(e);if(t===!0||t==="class_only"&&!n){const s=Object.getOwnPropertyDescriptors(e);delete s[bt];let o=Reflect.ownKeys(s);for(let r=0;r<o.length;r++){const a=o[r],i=s[a];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(s[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(ll(e),s)}else{const s=ll(e);if(s!==null&&n)return{...e};const o=Object.create(s);return Object.assign(o,e)}}function Cv(e,t=!1){return h1(e)||ul(e)||!pr(e)||(m1(e)>1&&(e.set=e.add=e.clear=e.delete=cB),Object.freeze(e),t&&Object.entries(e).forEach(([n,s])=>Cv(s,!0))),e}function cB(){Gs(2)}function h1(e){return Object.isFrozen(e)}var v2={};function Ii(e){const t=v2[e];return t||Gs(0,e),t}function lB(e,t){v2[e]||(v2[e]=t)}var Ju;function dp(){return Ju}function uB(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function b4(e,t){t&&(Ii("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function C2(e){y2(e),e.drafts_.forEach(dB),e.drafts_=null}function y2(e){e===Ju&&(Ju=e.parent_)}function x4(e){return Ju=uB(Ju,e)}function dB(e){const t=e[bt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function S4(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[bt].modified_&&(C2(t),Gs(4)),pr(e)&&(e=mp(t,e),t.parent_||fp(t,e)),t.patches_&&Ii("Patches").generateReplacementPatches_(n[bt].base_,e,t.patches_,t.inversePatches_)):e=mp(t,n,[]),C2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==dS?e:void 0}function mp(e,t,n){if(h1(t))return t;const s=t[bt];if(!s)return Qu(t,(o,r)=>E4(e,s,t,o,r,n)),t;if(s.scope_!==e)return t;if(!s.modified_)return fp(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let r=o,a=!1;s.type_===3&&(r=new Set(o),o.clear(),a=!0),Qu(r,(i,u)=>E4(e,s,o,i,u,n,a)),fp(e,o,!1),n&&e.patches_&&Ii("Patches").generatePatches_(s,n,e.patches_,e.inversePatches_)}return s.copy_}function E4(e,t,n,s,o,r,a){if(ul(o)){const i=r&&t&&t.type_!==3&&!h2(t.assigned_,s)?r.concat(s):void 0,u=mp(e,o,i);if(fS(n,s,u),ul(u))e.canAutoFreeze_=!1;else return}else a&&n.add(o);if(pr(o)&&!h1(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;mp(e,o),(!t||!t.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,s)&&fp(e,o)}}function fp(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Cv(t,n)}function mB(e,t){const n=Array.isArray(e),s={type_:n?1:0,scope_:t?t.scope_:dp(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=s,r=yv;n&&(o=[s],r=Xu);const{revoke:a,proxy:i}=Proxy.revocable(o,r);return s.draft_=i,s.revoke_=a,i}var yv={get(e,t){if(t===bt)return e;const n=Tn(e);if(!h2(n,t))return fB(e,n,t);const s=n[t];return e.finalized_||!pr(s)?s:s===pg(e.base_,t)?(hg(e),e.copy_[t]=ed(s,e)):s},has(e,t){return t in Tn(e)},ownKeys(e){return Reflect.ownKeys(Tn(e))},set(e,t,n){const s=pS(Tn(e),t);if(s!=null&&s.set)return s.set.call(e.draft_,n),!0;if(!e.modified_){const o=pg(Tn(e),t),r=o==null?void 0:o[bt];if(r&&r.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(iB(n,o)&&(n!==void 0||h2(e.base_,t)))return!0;hg(e),or(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return pg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,hg(e),or(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Tn(e),s=Reflect.getOwnPropertyDescriptor(n,t);return s&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:s.enumerable,value:n[t]}},defineProperty(){Gs(11)},getPrototypeOf(e){return ll(e.base_)},setPrototypeOf(){Gs(12)}},Xu={};Qu(yv,(e,t)=>{Xu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Xu.deleteProperty=function(e,t){return Xu.set.call(this,e,t,void 0)};Xu.set=function(e,t,n){return yv.set.call(this,e[0],t,n,e[0])};function pg(e,t){const n=e[bt];return(n?Tn(n):e)[t]}function fB(e,t,n){var o;const s=pS(t,n);return s?"value"in s?s.value:(o=s.get)==null?void 0:o.call(e.draft_):void 0}function pS(e,t){if(!(t in e))return;let n=ll(e);for(;n;){const s=Object.getOwnPropertyDescriptor(n,t);if(s)return s;n=ll(n)}}function or(e){e.modified_||(e.modified_=!0,e.parent_&&or(e.parent_))}function hg(e){e.copy_||(e.copy_=g2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var pB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,s)=>{if(typeof t=="function"&&typeof n!="function"){const r=n;n=t;const a=this;return function(u=r,...d){return a.produce(u,m=>n.call(this,m,...d))}}typeof n!="function"&&Gs(6),s!==void 0&&typeof s!="function"&&Gs(7);let o;if(pr(t)){const r=x4(this),a=ed(t,void 0);let i=!0;try{o=n(a),i=!1}finally{i?C2(r):y2(r)}return b4(r,s),S4(o,r)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===dS&&(o=void 0),this.autoFreeze_&&Cv(o,!0),s){const r=[],a=[];Ii("Patches").generateReplacementPatches_(t,o,r,a),s(r,a)}return o}else Gs(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...i)=>this.produceWithPatches(a,u=>t(u,...i));let s,o;return[this.produce(t,n,(a,i)=>{s=a,o=i}),s,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){pr(e)||Gs(8),ul(e)&&(e=hB(e));const t=x4(this),n=ed(e,void 0);return n[bt].isManual_=!0,y2(t),n}finishDraft(e,t){const n=e&&e[bt];(!n||!n.isManual_)&&Gs(9);const{scope_:s}=n;return b4(s,t),S4(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const s=Ii("Patches").applyPatches_;return ul(e)?s(e,t):this.produce(e,o=>s(o,t))}};function ed(e,t){const n=f1(e)?Ii("MapSet").proxyMap_(e,t):p1(e)?Ii("MapSet").proxySet_(e,t):mB(e,t);return(t?t.scope_:dp()).drafts_.push(n),n}function hB(e){return ul(e)||Gs(10,e),hS(e)}function hS(e){if(!pr(e)||h1(e))return e;const t=e[bt];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=g2(e,t.scope_.immer_.useStrictShallowCopy_)}else n=g2(e,!0);return Qu(n,(s,o)=>{fS(n,s,hS(o))}),t&&(t.finalized_=!1),n}function gB(){class e extends Map{constructor(u,d){super(),this[bt]={type_:2,parent_:d,scope_:d?d.scope_:dp(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:u,draft_:this,isManual_:!1,revoked_:!1}}get size(){return Tn(this[bt]).size}has(u){return Tn(this[bt]).has(u)}set(u,d){const m=this[bt];return a(m),(!Tn(m).has(u)||Tn(m).get(u)!==d)&&(n(m),or(m),m.assigned_.set(u,!0),m.copy_.set(u,d),m.assigned_.set(u,!0)),this}delete(u){if(!this.has(u))return!1;const d=this[bt];return a(d),n(d),or(d),d.base_.has(u)?d.assigned_.set(u,!1):d.assigned_.delete(u),d.copy_.delete(u),!0}clear(){const u=this[bt];a(u),Tn(u).size&&(n(u),or(u),u.assigned_=new Map,Qu(u.base_,d=>{u.assigned_.set(d,!1)}),u.copy_.clear())}forEach(u,d){const m=this[bt];Tn(m).forEach((f,h,g)=>{u.call(d,this.get(h),h,this)})}get(u){const d=this[bt];a(d);const m=Tn(d).get(u);if(d.finalized_||!pr(m)||m!==d.base_.get(u))return m;const f=ed(m,d);return n(d),d.copy_.set(u,f),f}keys(){return Tn(this[bt]).keys()}values(){const u=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const d=u.next();return d.done?d:{done:!1,value:this.get(d.value)}}}}entries(){const u=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const d=u.next();if(d.done)return d;const m=this.get(d.value);return{done:!1,value:[d.value,m]}}}}[Symbol.iterator](){return this.entries()}}function t(i,u){return new e(i,u)}function n(i){i.copy_||(i.assigned_=new Map,i.copy_=new Map(i.base_))}class s extends Set{constructor(u,d){super(),this[bt]={type_:3,parent_:d,scope_:d?d.scope_:dp(),modified_:!1,finalized_:!1,copy_:void 0,base_:u,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return Tn(this[bt]).size}has(u){const d=this[bt];return a(d),d.copy_?!!(d.copy_.has(u)||d.drafts_.has(u)&&d.copy_.has(d.drafts_.get(u))):d.base_.has(u)}add(u){const d=this[bt];return a(d),this.has(u)||(r(d),or(d),d.copy_.add(u)),this}delete(u){if(!this.has(u))return!1;const d=this[bt];return a(d),r(d),or(d),d.copy_.delete(u)||(d.drafts_.has(u)?d.copy_.delete(d.drafts_.get(u)):!1)}clear(){const u=this[bt];a(u),Tn(u).size&&(r(u),or(u),u.copy_.clear())}values(){const u=this[bt];return a(u),r(u),u.copy_.values()}entries(){const u=this[bt];return a(u),r(u),u.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(u,d){const m=this.values();let f=m.next();for(;!f.done;)u.call(d,f.value,f.value,this),f=m.next()}}function o(i,u){return new s(i,u)}function r(i){i.copy_||(i.copy_=new Set,i.base_.forEach(u=>{if(pr(u)){const d=ed(u,i);i.drafts_.set(u,d),i.copy_.add(d)}else i.copy_.add(u)}))}function a(i){i.revoked_&&Gs(3,JSON.stringify(Tn(i)))}lB("MapSet",{proxyMap_:t,proxySet_:o})}var Ts=new pB,Un=Ts.produce;Ts.produceWithPatches.bind(Ts);Ts.setAutoFreeze.bind(Ts);Ts.setUseStrictShallowCopy.bind(Ts);Ts.applyPatches.bind(Ts);Ts.createDraft.bind(Ts);Ts.finishDraft.bind(Ts);function wEe(e){return e}function g1(e){const t=N(e,(n,s,o)=>s(t,Un(n(t),typeof o=="function"?o:()=>o)));return t}function bl(e,t){const n=oe(e);return c.useCallback(s=>n(Un(s)),[n])}function gS(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=gS(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function le(){for(var e,t,n=0,s="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=gS(e))&&(s&&(s+=" "),s+=t);return s}const jd={Namibia:"NA","South Africa":"ZA",Cameroon:"CM",Japan:"JP",Ghana:"GH",Ethiopia:"ET","United States":"US","United Arab Emirates":"AE",Bahrain:"BH",Djibouti:"DJ",Algeria:"DZ",Egypt:"EG","Western Sahara":"EH",Eritrea:"ER",Israel:"IL",Iraq:"IQ",Jordan:"JO",Comoros:"KM",Kuwait:"KW",Lebanon:"LB",Libya:"LY",Morocco:"MA",Mauritania:"MR",Oman:"OM","Palestinian Territories":"PS",Qatar:"QA","Saudi Arabia":"SA",Sudan:"SD",Somalia:"SO","South Sudan":"SS",Syria:"SY",Chad:"TD",Tunisia:"TN",Yemen:"YE",Chile:"CL",India:"IN",Tanzania:"TZ",Spain:"ES",Azerbaijan:"AZ",Russia:"RU",Belarus:"BY",Zambia:"ZM",Bulgaria:"BG",Mali:"ML",Bangladesh:"BD","China mainland":"CN",France:"FR","Bosnia & Herzegovina":"BA",Andorra:"AD",Italy:"IT",Philippines:"PH",Uganda:"UG",Iran:"IR",Czechia:"CZ","United Kingdom":"GB",Denmark:"DK",Greenland:"GL",Kenya:"KE",Austria:"AT",Belgium:"BE",Switzerland:"CH",Germany:"DE",Liechtenstein:"LI",Luxembourg:"LU",Niger:"NE",Maldives:"MV",Senegal:"SN",Bhutan:"BT",Togo:"TG",Cyprus:"CY",Greece:"GR","Antigua & Barbuda":"AG",Anguilla:"AI",Albania:"AL",Argentina:"AR","American Samoa":"AS",Australia:"AU",Barbados:"BB",Burundi:"BI",Bermuda:"BM",Brunei:"BN",Brazil:"BR",Bahamas:"BS",Botswana:"BW",Belize:"BZ",Canada:"CA","Cocos (Keeling) Islands":"CC","Cook Islands":"CK",Colombia:"CO","Cape Verde":"CV","Christmas Island":"CX","Diego Garcia":"DG",Dominica:"DM",Estonia:"EE",Finland:"FI",Fiji:"FJ","Falkland Islands":"FK",Micronesia:"FM",Grenada:"GD",Guernsey:"GG",Gibraltar:"GI",Gambia:"GM",Guam:"GU",Guyana:"GY","Hong Kong":"HK",Hungary:"HU",Indonesia:"ID",Ireland:"IE","Isle of Man":"IM","Chagos Archipelago":"IO",Jersey:"JE",Jamaica:"JM",Kiribati:"KI","St. Kitts & Nevis":"KN","South Korea":"KR","Cayman Islands":"KY","St. Lucia":"LC",Liberia:"LR",Lesotho:"LS",Lithuania:"LT",Latvia:"LV",Madagascar:"MG","Marshall Islands":"MH","Myanmar (Burma)":"MM",Macao:"MO","Northern Mariana Islands":"MP",Montserrat:"MS",Malta:"MT",Mauritius:"MU",Malawi:"MW",Mexico:"MX",Malaysia:"MY","Norfolk Island":"NF",Nigeria:"NG",Netherlands:"NL",Norway:"NO",Nauru:"NR",Niue:"NU","New Zealand":"NZ","Papua New Guinea":"PG",Pakistan:"PK",Poland:"PL","Pitcairn Islands":"PN","Puerto Rico":"PR",Portugal:"PT",Palau:"PW",Rwanda:"RW","Solomon Islands":"SB",Seychelles:"SC",Sweden:"SE",Singapore:"SG","St. Helena":"SH",Slovenia:"SI",Slovakia:"SK","Sierra Leone":"SL","Sint Maarten":"SX",Eswatini:"SZ","Turks & Caicos Islands":"TC",Thailand:"TH",Tokelau:"TK",Tonga:"TO",Trkiye:"TR","Trinidad & Tobago":"TT",Tuvalu:"TV",Taiwan:"TW",Ukraine:"UA","U.S. Outlying Islands":"UM","St. Vincent & Grenadines":"VC","British Virgin Islands":"VG","U.S. Virgin Islands":"VI",Vanuatu:"VU",Samoa:"WS",Zimbabwe:"ZW",Bolivia:"BO","Caribbean Netherlands":"BQ","Costa Rica":"CR",Cuba:"CU",Curaao:"CW","Dominican Republic":"DO","Ceuta & Melilla":"EA",Ecuador:"EC","Equatorial Guinea":"GQ",Guatemala:"GT",Honduras:"HN",Haiti:"HT","Canary Islands":"IC",Nicaragua:"NI",Panama:"PA",Peru:"PE",Paraguay:"PY","El Salvador":"SV",Uruguay:"UY",Venezuela:"VE",Afghanistan:"AF","Burkina Faso":"BF",Guinea:"GN","Guinea-Bissau":"GW","Faroe Islands":"FO",Benin:"BJ","St. Barthlemy":"BL","Congo - Kinshasa":"CD","Central African Republic":"CF","Congo - Brazzaville":"CG","Cte d'Ivoire":"CI",Gabon:"GA","French Guiana":"GF",Guadeloupe:"GP",Monaco:"MC","St. Martin":"MF",Martinique:"MQ","New Caledonia":"NC","French Polynesia":"PF","St. Pierre & Miquelon":"PM",Runion:"RE","Wallis & Futuna":"WF",Mayotte:"YT",Croatia:"HR",Armenia:"AM",Iceland:"IS","San Marino":"SM","Vatican City":"VA",Georgia:"GE",Kazakhstan:"KZ",Cambodia:"KH","North Korea":"KP",Kyrgyzstan:"KG",Angola:"AO",Laos:"LA",Mozambique:"MZ","North Macedonia":"MK",Mongolia:"MN","Svalbard & Jan Mayen":"SJ",Nepal:"NP",Aruba:"AW",Suriname:"SR","So Tom & Prncipe":"ST","Timor-Leste":"TL",Moldova:"MD",Romania:"RO","Sri Lanka":"LK",Kosovo:"XK",Montenegro:"ME",Serbia:"RS","land Islands":"AX",Tajikistan:"TJ",Turkmenistan:"TM",Uzbekistan:"UZ",Vietnam:"VN"},vS=["blowing-dust","blowing-sand","blowing-snow","clear","clear-occasional-rain-or-thunderstorms","clear-then-cloudy","clear-then-occasional-rain","clear-then-occasional-snow","clear-then-rain","clear-then-rain-or-snow","clear-then-rain-or-thunderstorms","clear-then-snow","clear-then-snow-or-rain","clear-then-thunderstorms","clear-with-isolated-snow","clear-with-isolated-thunderstorms","clear-with-occasional-clouds","clear-with-occasional-rain","clear-with-occasional-rain-or-snow","clear-with-occasional-snow","clear-with-occasional-snow-or-rain","cloudy","cloudy-and-occasionally-clear","cloudy-occasional-rain-or-thunderstorms","cloudy-then-clear","cloudy-then-occasional-rain","cloudy-then-occasional-snow","cloudy-then-occasionally-clear","cloudy-then-rain","cloudy-then-rain-or-snow","cloudy-then-rain-or-thunderstorms","cloudy-then-snow","cloudy-then-snow-or-rain","cloudy-with-isolated-rain","cloudy-with-occasional-rain","cloudy-with-occasional-rain-or-snow","cloudy-with-occasional-snow","cloudy-with-occasional-snow-or-rain","cloudy-with-thundersnow-at-times","drifting-sand","drifting-snow","drizzle","duststorm","fair","fog","freezing-drizzle","freezing-fog","freezing-rain","hail","haze","heavy-drizzle","heavy-rain","heavy-snow","heavy-thunderstorms","ice-pellets","light-drizzle","light-fog","light-freezing-drizzle","light-freezing-rain","light-hail","light-rain","light-rain-and-snow","light-rain-and-snow-shower","light-rain-shower","light-snow","light-snow-shower","mostly-clear","mostly-cloudy","mostly-sunny","partly-cloudy","partly-sunny","patchy-fog","rain","rain-and-occasionally-clear","rain-and-occasionally-cloudy","rain-and-snow","rain-and-snow-shower","rain-or-snow","rain-or-snow-then-clear","rain-or-snow-then-cloudy","rain-showers","rain-then-clear","rain-then-cloudy","rain-then-occasional-snow","rain-turning-to-snow","rain-with-occasional-snow","severe-duststorm","sleet","smoke","snow","snow-and-occasionally-clear","snow-and-occasionally-cloudy","snow-or-rain","snow-or-rain-then-clear","snow-or-rain-then-cloudy","snow-showers","snow-then-clear","snow-then-cloudy","snow-then-rain","squalls","sunny","thundersnow","thunderstorms","unknown","windy-rainstorm","windy-with-heavy-snow"],vB=["adult","teen"],CB=["twenty-four-hours","one-day","five-days","one-week","one-month","one-year","five-years","max"],yB=["pro","m365-basic","m365-personal-classic","m365-family-classic-admin","m365-family-classic-guest","m365-personal","m365-family-admin","m365-family-guest","m365-premium-admin","m365-premium-guest"],bB=["direct","apple","google","retail"],xB=["guest","free","m365-personal","pro","m365-premium"],SB=["python"],EB=["ready","disconnected","disabled","sign-in-required","unavailable"],CS=["google-drive","google-calendar","gmail","one-drive","outlook","outlook-calendar","google-contacts","edge-browser","unknown"],wB=["implicit-consent","explicit-consent"],IB=5,yS=10240,IEe=100,_Ee=2,_B=15e3,TB=372,AB=352,bS=6,ct={mediaViewer:"z-10",composer:"z-10",composerBottomSlot:"z-20",coachmark:"z-30",chatScrollToBottomButton:"z-20",babylonCharacter:"z-10",citations:"z-40",settings:"z-30",audioBase:"z-10",audioDisplayContent:"z-40",modalBackground:"z-30",modal:"z-40",sidebar:"z-40",sidebarSmallScreen:"max-md:z-40",tooltip:"z-40",toastNotification:"z-50",dropdownMenuOverModal:"z-50",pages:{warning:"z-10",chat:"z-20",chatSmallScreenOverlay:"z-50",floatingMenu:"z-50"},shopping:{navigation:"z-10"},stickyHeader:"z-20",headerIcon:"z-30",header:"z-[60]",default:"z-0",labs3d:{errorPage:"z-20"},composerDimmedBackground:"z-40",composerModalOnDimmedBackground:"z-50",citationHoverCard:"z-40"},es={default:.15,slow:.5,composerButton:.2,settings:.1,audio:{available:.5,unavailable:2,deepLinkLanding:.5},suggestions:.2,dailyBriefing:{background:.5,sourcePopoverScale:.2,sourcePopoverOpacity:.15}},TEe=.25,AEe=2,kEe=0,kB=1.5,xS=2e3,MB=1e3,NB=.25,Fe={opacity:0},nt={opacity:1},RB=.2,PB=.025,MEe={initial:Fe,animate:{...nt,transition:{delayChildren:RB,staggerChildren:PB}}},bv={willChange:"auto"},LB="9188040d-6c67-4c5b-b112-36a304b66dad",gg="copilot.cloud.microsoft",NEe=le("mt-px text-end uppercase text-foreground-450 text-xs dark:text-foreground-600"),REe="flex items-center justify-between text-start",OB=["Austria","Belgium","Brazil","Bulgaria","Canada","Croatia","Cyprus","Czechia","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Iceland","Ireland","Italy","Latvia","Liechtenstein","Lithuania","Luxembourg","Malta","Netherlands","Norway","China mainland","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerland","Trkiye","United Kingdom"],v1=OB.map(e=>jd[e]),DB=["Austria","Belgium","Bulgaria","Croatia","Cyprus","Czechia","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden"],jB=DB.map(e=>jd[e]),UB=["Belarus","China mainland","Lebanon","Macao","Russia","Venezuela","North Korea","Cuba","Syria","Iran"],xv=UB.map(e=>jd[e]),FB="https://account.live.com/ep",SS="Think Deeper",ES="Smart",wS="Smart (GPT-5)",BB="Search",PEe=1500,pp=24*60*60*1e3,VB=5,Sv=451,IS="Not allowed child account",Ev="LEGALLY_UNAVAILABLE_STATUS",b2=3,vg=[80,100,110,125,150],Ud=100,HB=1e3,zB=!1,w4=!1,GB=!1,LEe="/chats/private",hp=3,Fd="userInput";function ms(e){const{key:t,schema:n,initialValue:s}=e;return uv(t,s,{getItem:()=>wt(t,n)??s,setItem:(r,a)=>{a===void 0?jt(t):Vn(t,n,a)},removeItem:()=>jt(t)},{getOnInit:!0})}class C1 extends Error{constructor(n,s){super(n);O(this,"endpoint");O(this,"status");this.name="ApiError",this.endpoint=s.route,this.status=s.statusCode}get route(){return this.endpoint}get statusCode(){return this.status}}function ta(e){const t=e.split("://");return t.length===1?`https://${e}`:t[0]==="http"?`https://${t[1]}`:e}async function WB(e){return new Promise(t=>{let n=!1;e==null||e.catch(s=>{s instanceof Error?(n=!0,t(`Type: ${s.name}, Message: ${s.message}, Stack: ${s.stack}`)):(n=!0,t(`Type: ${typeof s}, Value: ${JSON.stringify(s)}`))}),setTimeout(()=>{n||t("Promise.catch wasn't called. The Promise is not rejected.")},1e3)})}function $B(e){let t;return"route"in e&&typeof e.route=="string"&&(t=e.route),t}function qB(e,t){if(!("route"in e)){const n=e;n.route=t}}function pe(e){return $e().get(e)}const wv=N(!1);function _S(e){const{children:t}=e;return Bd()?t:null}function Bd(){return M(wv)}function TS(){return pe(wv)}const AS=N([]),I4=new Map,KB=N(!0),ZB=["sidebar-narrow","sidebar-settings","sidebar-compact-nav-items","composer-v4","library","creator-gallery-rename-to-imagine"],Ea=e=>{if(!TS()&&ZB.includes(e))return KB;let t=I4.get(e);return t||(t=N(n=>n(AS).includes(e)),I4.set(e,t),t)};function G(e){return M(Ea(e))}function be(e){return $e().get(Ea(e))}function Zt(e){return M(Ea(e))}function It(e){return $e().get(Ea(e))}class YB{constructor(){O(this,"latestClientExperimentationAssignmentRequestId",null);O(this,"latestApiExperimentationAssignmentRequestId",null)}getTraceIdAnalytics(){return{TraceId_LastClientAssignment:this.latestClientExperimentationAssignmentRequestId,TraceId_Latest:this.latestApiExperimentationAssignmentRequestId}}trackClientExperimentationAssignment(t){const n=this.getTraceIdFromResponseHeaders(t);n&&(this.latestClientExperimentationAssignmentRequestId=n)}trackLatestApiAssignment(t){const n=this.getTraceIdFromResponseHeaders(t);n&&(this.latestApiExperimentationAssignmentRequestId=n)}trackLatestChatConnectedAssignment(t){const{requestId:n}=t;this.latestApiExperimentationAssignmentRequestId=n}getTraceIdFromResponseHeaders(t){return(t.get("x-ceto-ref")??"").split("|")[0]??null}}const td=new YB;function Iv(){return"dddc2f9"}function QB(){return`mscmc@${Iv().substring(0,7)}`}const ii=class ii{constructor(){O(this,"listeners",new Map)}static getInstance(){return ii.instance||(ii.instance=new ii),ii.instance}on(t,n){var s;this.listeners.has(t)||this.listeners.set(t,[]),(s=this.listeners.get(t))==null||s.push(n)}emit(t,n){const s=this.listeners.get(t);if(s)for(const o of s)o(n)}off(t,n){const s=this.listeners.get(t);s&&this.listeners.set(t,s.filter(o=>o!==n))}};O(ii,"instance",null);let x2=ii;const Ge=x2.getInstance();function JB(e){let t="unknown";try{const n=/(?:CopilotNative|BingNative|MicrosoftLauncher)\/([0-9]+(?:\.[0-9]+)*(?:-[a-zA-Z0-9]+)?)/,s=e==null?void 0:e.match(n);if(s!=null&&s[1]){const[,o]=s;t=o}return t}catch{return t}}function ma(e,t){typeof sessionStorage>"u"||sessionStorage.setItem(e,t)}function hr(e){return typeof sessionStorage>"u"?null:sessionStorage.getItem(e)}function OEe(e){return hr(e)==="true"}function XB(e){typeof sessionStorage>"u"||sessionStorage.removeItem(e)}const fs=x({partId:p()}),xl=x({event:w("invokeAction"),actionId:p()}),eV=["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","text/csv","application/json","application/xml","text/html","text/css","text/javascript","text/markdown","application/javascript","image/jpeg","image/png","image/gif","image/svg+xml","image/webp","audio/mpeg","audio/wav","audio/ogg","video/mp4","video/webm","video/ogg","application/zip","application/x-rar-compressed","application/x-7z-compressed"],tV=ke(SB),Vd=ke(eV),nV=x({type:w("code"),language:tV,content:p()}),sV=x({type:w("file"),url:p().refine(e=>e.startsWith("/")||_t().safeParse(e).success,{error:"Must be a valid URL or relative path"}),name:p(),contentType:Vd}),oV=x({type:w("browser"),screenshot:p().optional(),tabIds:j().array().optional(),activeTabId:j().optional()}),rV=st("type",[nV,sV,oV]),kS=Pe([w("running"),w("completed"),w("failed")]),aV=x({title:p(),status:kS}),MS=x({status:kS,title:p(),steps:L(aV),artifacts:L(rV)}),NS=fs.extend({type:w("activity"),activity:MS}),fn=x({amount:j(),currency:p().nullable(),currencySymbol:p().nullable()}),iV=ke(["current-search-term","recent-searches","age","gender","website-visits","interests","custom-audience","similar-audience","profile-targeting"]);ke(["multimedia","product","tourActivity","propertyPromotion","text","miniShowroom","mainShowroom"]);const cV=ke(["top","bottom","left","right"]),RS=x({adDomain:p(),advertiser:x({name:p(),country:p()}),isVerified:he(),selectionReasons:L(iV)}),Fi=x({url:p(),urlPingSuffix:p()}),yr=x({url:p(),width:j().nullish(),height:j().nullish(),link:Fi.nullish(),impressionToken:p().nullish()}),PS=x({downPayment:p(),description:p()}),lV=x({rating:j(),link:Fi,impressionToken:p()}),Hd=x({businessName:p(),image:yr,impressionToken:p().nullish()}),_v=x({text:p(),url:p(),urlPingSuffix:p()}),uV=x({title:p(),text:p(),url:p(),layout:ke(["inline","overlay"])}),Sl=x({impressionToken:p(),selectionCriteria:RS}),LS=x({rowIndex:ur(),columnIndex:ur(),textPosition:cV,imagesPerRow:ur()}),dV=Sl.extend({type:w("multimedia"),description:p(),title:p(),displayUrl:p(),link:Fi,image:yr.nullish(),logo:Hd.nullish(),action:_v.nullish()}),zd=x({category:p(),value:p()}),OS=x({seller:p(),link:Fi,price:fn,lowPrice:fn.nullish(),item:x({name:p(),image:yr})}),DS=x({isFree:he(),description:p()}),jS=Sl.extend({type:w("product"),offer:OS,tags:L(zd).nullish(),shipping:DS.nullish(),productRating:lV.nullish(),installment:PS.nullish(),pricePerUnit:p().nullish(),energyRating:p().nullish()}),US=Sl.extend({type:w("tourActivity"),title:p(),domain:p(),startingPrice:fn,image:yr,link:Fi,tags:L(zd).nullish()}),FS=Sl.extend({type:w("propertyPromotion"),title:p(),domain:p(),price:fn,image:yr,link:Fi,tags:L(zd).nullish()}),mV=Sl.extend({type:w("text"),title:p(),description:p(),displayUrl:p(),link:Fi,image:yr.nullish(),logo:Hd.nullish(),disclaimer:uV.nullish()}),fV=Sl.extend({type:w("miniShowroom"),title:p(),description:p(),displayUrl:p(),image:yr,logo:Hd.nullish(),brandId:p().nullish(),brandBackground:ur().nullish()}),BS=x({impressionToken:p(),layout:LS,selectionCriteria:RS.nullish()}),pV=BS.extend({type:w("multimedia"),image:yr,title:p(),description:p(),action:_v.nullish()}),hV=BS.extend({type:w("product"),offer:OS,shipping:DS.nullish(),installment:PS.nullish(),pricePerUnit:p().nullish()}),gV=Pe([hV,pV]),vV=x({ad:gV,adId:p().nullish()}),CV=x({isLoading:he().nullish(),loadErrorCount:ur().nullish()}),VS=CV.extend({type:w("mainShowroom"),id:p(),impressionToken:p(),brandId:p().nullish(),title:p().nullish(),description:p().nullish(),backgroundColor:ur().nullish(),images:L(yr).nullish(),logo:Hd.nullish(),slotAds:L(vV).nullish(),action:_v.nullish(),layout:LS.nullish()}),HS=Pe([dV,jS,US,FS,mV,fV,VS]),yV=Pe([jS,US,FS]),Tv=x({pageLoadPingUrl:p(),visibilityPingUrlBase:p(),clickPingUrlBase:p()}),Cg=x({tagsSupported:he()});x({supportedTypes:L(ke(["multimedia","product","tourActivity","propertyPromotion","text","showroom","miniShowroom","mainShowroom"])),product:Cg.nullish(),propertyPromotion:Cg.nullish(),tourActivity:Cg.nullish(),optOutOfPersonalization:he().nullish()});const zS=ke(["open","expand","chat"]);x({showroom:x({scenario:zS.nullish(),brandId:p(),brandName:p().nullish(),adId:p().nullish()})});const bV=x({requestId:p(),ads:L(VS),instrumentation:Tv}),xV=bV.extend({key:p()}),SV=x({brandBackground:ur().nullish(),brandLogo:Hd.nullish(),conversationId:p(),miniShowroomAd:x({messageId:p(),partId:p(),rguid:p()}),showroomData:L(xV).nullish(),openAt:j(),theme:ke(["light","dark"]).nullish(),viewMode:ke(["cardView","extendedView"]),activeCardRguid:p().nullish(),lastUserMessageRguid:p().nullish()});SV.extend({brandId:p(),adId:p().nullish(),scenario:zS.nullish()});x({brandId:p(),brandName:p().nullish(),messageId:p(),conversationId:p(),visible:he()});const EV=x({selectedTag:zd.nullish(),collapsed:he().nullish(),filteredAds:L(yV).nullish(),createdAt:j().nullish()}),wV=EV.extend({type:w("ads"),requestId:p(),summary:p(),ads:L(HS).nullish(),instrumentation:Tv,adsSessionId:p().nullish(),adTags:L(zd).nullish()}),DEe=x({requestId:p(),ads:L(HS).nullish(),instrumentation:Tv}),gs={OneDriveAccess:"one-drive-access",BrowserAction:"browser-action",BrowserActions:"browser-actions",ComputerUseActions:"computer-use-actions",OutlookAccess:"outlook-access",OutlookCalendarAccess:"outlook-calendar-access",GoogleDriveAccess:"google-drive-access",GoogleCalendarAccess:"google-calendar-access",GoogleContactsAccess:"google-contacts-access",GmailAccess:"gmail-access",EdgePasswords:"edge-passwords",EdgeBrowserAccess:"edge-browser-access"},IV=ke([gs.OneDriveAccess,gs.BrowserAction,gs.BrowserActions,gs.ComputerUseActions,gs.OutlookAccess,gs.OutlookCalendarAccess,gs.GoogleDriveAccess,gs.GoogleCalendarAccess,gs.GoogleContactsAccess,gs.GmailAccess,gs.EdgePasswords,gs.EdgeBrowserAccess]),_4={active:"active",rejected:"rejected"},GS=ke([_4.active,_4.rejected]),_V=x({type:w("consent"),consentTypes:L(IV),status:GS}),yg={notAllowed:"not-allowed",blocked:"blocked",safetyCheck:"safety-check"},TV=ke([yg.notAllowed,yg.blocked,yg.safetyCheck]),AV=x({type:w("browserAction"),title:p(),description:p().nullish(),url:p().nullish(),reason:TV}),kV=st("type",[AV]),MV=x({type:w("consentV2"),status:GS,consents:L(kV)}),NV=st("type",[_V,MV]),jEe={BrowserAction:"browser-action"};x({type:w("command"),command:x({type:w("updateCard"),messageId:p(),partId:p(),update:x({type:w("consent"),status:w("rejected")})})});const RV=x({type:w("computerUseFeedback")}),Bi=Pe([w("startTask"),w("pauseTask"),w("resumeTask"),w("cancelTask"),w("takeTaskControl"),w("releaseTaskControl"),w("sendFormData")]),PV=Pe([w("bringAgentTabsToForeground"),w("failedTask"),w("completedTask"),w("moveAgentTabsToBackground"),w("showConsentDialog")]);Pe([Bi,PV]);const LV=Pe([w("allSessionInfo"),w("activeSessionInfo"),w("failedTask"),w("completedTask")]);Pe([Bi,LV]);const OV=Pe([w("allSessionInfo"),w("activeSessionInfo"),w("failedTask"),w("completedTask")]);Pe([Bi,OV]);const WS=Pe([w("askUserInput"),w("safetyRiskDetected"),w("userTakeControl"),w("giveBackControl"),w("resumeFromInput"),w("resumeFromRisk"),w("pauseByClick"),w("resumeByClick"),w("taskCompleted")]),DV=x({reason:WS,title:p().optional(),text:p().optional()}),Vi=x({taskId:p()}),jV=Vi.extend({type:w("startTask")}),UV=Vi.extend({type:w("pauseTask")}),FV=Vi.extend({type:w("resumeTask")}),BV=Vi.extend({type:w("cancelTask")}),VV=Vi.extend({type:w("takeTaskControl")}),HV=Vi.extend({type:w("releaseTaskControl")}),zV=x({identifier:p(),value:p()}),GV=Vi.extend({type:w("sendFormData"),fields:L(zV)}),$S=x({title:p(),instruction:x({text:p(),websites:L(x({url:_t(),iconUrl:_t().optional()}))})}),UEe=$S.extend({id:p()});$S.extend({isActive:he()});const WV=ke(["choose","replay"]),$V=ke(["2","1","0.5"]),qV=x({isRunning:he().nullish(),speed:$V.nullish()}),KV=x({name:p(),url:p().nullish(),description:p().nullish(),phoneNumber:p().nullish(),smsNumber:p().nullish(),chatUrl:p().nullish(),whatsAppUrl:p().nullish()}),ZV=x({type:w("safetyHelpline"),countryEmergencyNumber:p().nullable(),helplines:L(KV)}),YV=x({type:w("artifact"),title:p(),artifact:x({type:Pe([w("code")]),language:Pe([w("html")]),content:p()})}),QV=x({type:w("document"),attachmentId:p(),fileName:p(),contentType:Vd}),JV=x({username:p(),password:p()}),XV=x({type:w("edge-passwords"),websiteName:p(),usernameSuggestion:p().optional(),savedCredentials:L(JV).optional(),allowManualEntry:he().optional()}),eH=ke(["email","google","microsoft","apple","phone","x","facebook","amazon"]),tH=x({type:w("federatedLogin"),providers:L(eH),websiteName:p()}),nH=x({type:w("file"),url:_t(),name:p(),contentType:Vd}),sH=x({name:p(),disclaimerUrl:p(),url:p()}),qS=x({price:j().nullish(),changeInPercentage:j().nullish(),changeInAmount:j().nullish()}),oH=ke(["unavailable","upcoming","live","beat","miss","inline"]),rH=x({releaseAt:p().nullish(),status:oH}),KS=x({id:p(),symbol:p(),displayName:p(),price:j(),previousClosePrice:j(),changeInPercentage:j(),changeInAmount:j(),updatedAt:p(),iconUrl:p(),provider:sH,isFollowed:he().nullish()}),aH=x({priceOpen:j().nullish(),priceHigh:j().nullish(),priceLow:j().nullish(),price52wHigh:j().nullish(),price52wLow:j().nullish()}),Gd=KS.extend({intradayPricing:aH,isMarketLastSale:he(),exchangeTimeZoneId:p().nullish(),isMarketRegularHours:he().nullish(),lastUpdatedAt:p(),tradingDayEndAt:p(),accumulatedVolume:j().nullish()}),iH=Gd.extend({securityType:w("stock"),marketCap:j().nullish(),marketCapCurrency:p().nullish(),averageVolume:j().nullish(),peRatio:j().nullish(),postMarket:qS.nullish(),earnings:rH.nullish()}),cH=Gd.extend({securityType:w("etf"),netAssets:j().nullish(),expenseRatio:j().nullish(),yieldPercent:j().nullish(),postMarket:qS.nullish()}),lH=Gd.extend({securityType:w("index")}),uH=KS.extend({securityType:w("fund"),price52wHigh:j().nullish(),price52wLow:j().nullish(),netAssets:j().nullish(),expenseRatio:j().nullish(),yieldPercent:j().nullish(),oneYearReturn:j().nullish()}),ZS=x({amount:j().nullish(),currency:p().nullish(),currencySymbol:p().nullish()}),T4=x({value:ZS,fullName:p().nullish()}),dH=x({oneMonth:j().nullish(),sixMonths:j().nullish(),oneYear:j().nullish()}),mH=Gd.extend({securityType:w("currencyExchange"),fromCurrency:T4,toCurrency:T4,percentageReturns:dH}),fH=Gd.extend({securityType:w("cryptocurrency"),marketDominancePercentage:j().nullish(),circulatingSupply:j().nullish(),maxSupply:j().nullish(),oneYearReturn:j().nullish(),marketCap:ZS,marketCapCurrency:p().nullish()}),pH=ke(CB),hH=x({price:j(),volume:j(),at:p()}),A4=L(hH),gH=x({afterHoursSeries:A4,series:A4,chartType:pH}),vH=st("securityType",[iH,cH,lH,uH,mH,fH]),YS=x({currency:p(),instrument:vH,chart:gH.nullish()}),CH=YS.extend({type:w("financeChart")}),yH=x({securities:L(YS)}),bH=yH.extend({type:w("financeComparisonChart")}),xH=st("type",[CH,bH]),SH=x({id:p()}),EH=L(SH),FEe=x({entities:EH}),wH=x({type:w("basic"),front:p(),back:p()}),IH=x({type:w("flashcard"),title:p(),flashcards:L(wH)}),_H=x({id:j(),autocompleteAttribute:p(),autofillType:p(),fieldLabel:p(),fieldName:p(),formControlType:p()}),TH=x({fields:L(_H)}),AH=x({forms:L(TH)}),kH=x({type:w("form-fill"),websiteName:p(),headerText:p().optional(),bodyText:p().optional(),formStructure:AH}),MH=x({type:w("generativeUI"),markup:p(),data:Oi(p(),V8())}),NH=x({latitude:j(),longitude:j()}),gp=x({name:p(),location:NH}),RH=x({value:j(),count:j().nullish(),maxRating:j().nullish()}),PH=gp.extend({npi:p(),name:p(),primarySpecialtyTitle:p(),rating:RH.nullish(),professionalCredentials:L(p()).nullish(),location:gp.shape.location.extend({uuid:p(),address:p(),name:p().nullish(),phoneNumber:p().nullish()}),url:p().nullish()}),LH=x({type:w("healthcareEntity"),entities:L(PH)}),OH=x({name:p(),type:p().nullish(),year:ur().nullish()}),DH=x({carrierName:p().nullish()}),jH=x({name:p().nullish(),address:p(),latitude:j(),longitude:j(),phoneNumber:p().nullish()}),UH=x({npi:p(),name:p(),professionalCredentials:L(p()).nullish(),location:jH.nullish(),url:p().nullish(),primarySpecialtyTitle:p().nullish(),otherSpecialtyTitles:L(p()).nullish(),educations:L(OH).nullish(),insurances:L(DH).nullish(),performanceOutcomesIndex:j().nullish(),languages:L(p()).nullish(),dataSourceUrl:p()}),FH=x({name:p(),subtitle:p(),logoUrl:p()}),BH=x({title:p(),previewContent:p(),detailedContent:p().nullish()}),VH=x({type:w("healthcareInfo"),content:BH,source:FH}),HH=Pe([LH,VH]),QS=x({image:x({url:p(),thumbnailUrl:p(),altText:p(),width:j(),height:j()}),source:x({title:p(),url:p(),iconUrl:p().nullable()})}),zH=x({type:w("image"),images:L(QS)}),GH=x({type:w("inlineImage"),title:p(),description:p()}).extend(QS.shape),JS=x({title:p(),description:p(),startTime:j(),endTime:j()}),WH=x({title:p(),description:p(),videos:L(x({title:p(),description:p(),url:p(),embedUrl:p(),thumbnailUrl:p(),iconUrl:p().optional()}))}),$H=x({video:x({url:p(),thumbnailUrl:p(),duration:j(),title:p(),isShort:he(),playlistIndex:j().optional()}),source:x({url:p(),iconUrl:p().optional()}),bestMomentIndex:j().optional(),moments:L(JS).optional(),playlists:L(WH).optional()}),qH=x({type:w("video"),videos:L($H)}),KH=x({type:w("inlineVideo"),title:p(),description:p(),video:x({url:p(),thumbnailUrl:p(),title:p(),isShort:he()}),source:x({url:p(),iconUrl:p().optional()}),moments:L(JS).optional()}),ZH=x({name:p(),logoUrl:p().nullable(),postUrl:p()}),YH=x({title:p(),companyName:p(),companyLogoUrl:p().nullable(),postedAt:p(),location:p(),providers:L(ZH),description:p(),salary:p().nullable(),type:p().nullable(),locationType:p().nullable(),tags:L(p()).nullable()}),QH=x({type:w("job"),jobs:L(YH)}),JH=x({type:w("localEntity"),entities:L(gp.extend({phoneNumber:p().nullish(),url:p().nullish(),reviews:L(x({count:j(),rating:j(),providerName:p(),providerIconUrl:p().nullish(),url:p()})),location:gp.shape.location.extend({address:p().nullish()}),photos:L(x({url:p(),altText:p().nullish(),providerName:p().nullish(),providerUrl:p()})),openState:p().nullish(),category:p().nullish(),price:p().nullish()}))}),XH=x({providerName:p(),url:p().nullish(),thumbnailUrl:p(),providerOptions:L(p()).nullish(),source:x({url:p(),name:p()}).nullish()}),ez=x({sourceName:p(),maxRating:j(),rating:j(),url:p()}),tz=x({url:p(),source:x({url:p(),name:p()}).nullish()}),S2=x({url:p().nullish(),name:p().nullish()}),nz={thumbnail:x({url:p(),source:S2.nullish()}),source:S2.nullish()},sz=x({type:w("mediaSpotlight"),title:p(),label:p().nullish(),description:p(),thumbnail:tz,facts:Oi(p(),p()).nullish(),criticRatings:L(ez).nullish(),watchLinks:L(XH).nullish(),featuredVideo:x(nz).nullish(),sources:L(S2).nullish()}),oz=x({entityId:p(),title:p(),subtitle:p(),thumbnailUrl:p()}),rz=x({type:w("mediaCarousel"),items:L(oz)}),XS=x({url:_t(),title:p(),snippet:p().nullish(),publisher:p().nullish(),iconUrl:Pe([_t(),w("")]).nullish()}),az=L(XS),iz=x({relatedResults:az}),cz=XS.extend({type:w("navigation")}),lz=x({name:p(),thumbnailUrl:p()}),uz=x({provider:lz,title:p(),url:p(),thumbnailUrl:p(),updatedAt:p()}),dz=x({title:p(),articles:L(uz)}),mz=dz.extend({type:w("newsCarousel")}),fz=x({id:p(),type:w("oneDrive"),name:p(),lastModifiedAt:p(),url:p(),webDavUrl:p().optional(),contentType:p(),size:j()}),pz=x({type:w("m365"),items:L(fz)}),hz=x({type:w("linkedin"),firstName:p().nullish(),lastName:p().nullish(),profileUrl:_t().nullish(),backgroundPictureUrl:_t().nullish(),profilePictureUrl:_t().nullish(),headline:p().nullish(),location:p().nullish(),followerCount:j().nullish(),positions:L(x({title:p().nullish(),company:p().nullish(),description:p().nullish()})).nullish(),educations:L(x({degree:p().nullish(),fieldOfStudy:p().nullish(),school:p().nullish()})).nullish(),isLimitedResult:he().nullish()}),gz=x({type:w("bing"),title:p().nullish(),label:p().nullish(),description:p().nullish(),thumbnail:x({url:_t(),source:x({url:_t(),name:p()}).nullish()}),facts:L(x({name:p(),value:p()})).nullish(),sources:L(x({url:_t(),name:p()})).nullish()}),vz=st("type",[hz,gz]),Cz=x({type:w("person"),persons:L(vz)}),yz=ke(["one-drive","google-drive","outlook-calendar","google-calendar","google-contacts","gmail","outlook","edge-browser","windows"]),El=x({id:p(),source:yz,url:p().nullish()}),bz=El.extend({type:w("document"),fileName:p(),modifiedAt:p().nullish(),contentType:p().optional()}),xz=El.extend({type:w("image"),fileName:p(),modifiedAt:p().nullish(),thumbnailUrl:p().optional()}),Sz=El.extend({type:w("event"),subject:p().nullish(),startsAt:p(),endsAt:p(),location:p().nullish(),calendarName:p().nullish()}),Ez=El.extend({type:w("contact"),displayName:p(),thumbnailUrl:p().nullish(),emailAddresses:L(p()).nullish(),phoneNumbers:L(x({type:p().nullish(),value:p().nullish()})).nullish()}),wz=El.extend({type:w("email"),id:p(),senderEmailAddress:p(),receivedAt:p(),subject:p().nullish()}),Iz=El.extend({type:w("webPage"),url:p(),title:p(),iconUrl:p().optional(),visitedAt:p()}),_z=st("type",[bz,xz,Sz,Ez,wz,Iz]),Tz=x({type:w("personalArtifacts"),artifacts:L(_z)}),Az=x({name:p(),url:p(),width:j().optional(),height:j().optional(),thumbnailUrl:p().optional()}),kz=x({images:L(Az)}),Mz=kz.extend({type:w("phoneImages")}),Nz=x({qrCodeUrl:p(),linkDeviceUrl:p()}),Rz=Nz.extend({type:w("phoneLinking")}),Pz=Pe([w("executing"),w("completed"),w("failed")]),Av=x({deviceName:p().optional(),state:Pz.optional(),disabled:he().optional(),completedAt:p().optional()}),Lz=ke(["sunday","monday","tuesday","wednesday","thursday","friday","saturday"]),Oz=Av.extend({triggerAt:p(),repeatDays:L(Lz).optional().nullable()}),Dz=Oz.extend({type:w("phoneAlarm")}),jz=Av.extend({seconds:j()}),Uz=jz.extend({type:w("phoneTimer")}),Fz=Av.extend({actionId:p(),text:p(),phoneNumber:p().nullable().optional(),contactName:p().nullable().optional(),deviceName:p().optional()}),Bz=Fz.extend({type:w("phoneSendMessage")}),Vz=xl.extend({actionName:w("phone_send_message"),parameters:x({text:p(),phoneNumber:p().nullable().optional(),contactName:p().nullable().optional()})}),Hz=st("type",[Rz,Mz,Dz,Uz,Bz]),zz=x({id:p(),label:p(),type:w("single-select"),options:L(p()),defaultOptionIndex:j()}),Gz=x({id:p(),label:p(),type:w("multiple-select"),options:L(p())}),Wz=Pe([zz,Gz]),$z=x({id:p(),displayName:p(),previewImageUrl:p()}),qz=x({type:w("powerPointCreator"),actionId:p(),actionType:p(),text:p(),questions:L(Wz),themes:L($z)}),Kz=x({type:w("quiz"),title:p(),quiz:L(x({type:w("singleSelect"),question:p(),options:L(p()),answer:j(),topics:L(p()).nullable(),explanation:p()}))}),Zz=x({value:j(),count:j().nullish(),maxRating:j().nullish()}),Yz=x({hours:j(),minutes:j()}),eE=x({name:p(),quantity:j().nullish(),unit:p().nullish()}),Qz=x({title:p(),url:_t(),source:p(),imageUrl:_t().nullish(),rating:Zz.nullish(),serving:j().nullish(),calories:j().nullish(),cookingTime:Yz.nullish(),instructions:L(p()).nullish(),ingredients:L(eE).nullish()}),Jz=x({type:w("recipe"),recipes:L(Qz)});x({title:p(),url:_t(),ingredients:L(eE),instructions:L(p()).nullish(),imageUrl:_t().nullish(),messageId:p().nullish()});const kv=x({position:j(),url:p(),title:p(),iconUrl:p().nullish(),publisher:p().nullish(),snippet:p().nullish()}),tE=x({url:p(),name:p(),imageUrl:p(),images:L(p()).nullish(),price:fn,seller:p().nullish()}),Mv=x({value:j(),count:j()}).nullish(),Xz=tE.extend({type:w("shopping"),id:p(),rating:Mv}),eG=x({emailEnabled:he(),anyRetailer:he()}),nE=tE.extend({isNotificationEnabled:he().nullish(),offerId:p(),currentPrice:fn.nullish(),percentageDrop:j(),durationInWeeks:j(),notificationOptions:eG.nullish()}),Nv=x({title:p().nullish(),url:p()}),tG=ke(["textual","visual"]),nG=x({displayName:p(),value:p(),isActive:he(),isSelected:he(),thumbnailImage:Nv.nullish()}),sE=x({id:p(),displayName:p(),filterValues:L(nG),filterType:tG}),oE=x({id:p().nullish(),groupId:p().nullish(),brandGroupId:p().nullish()}),rE=x({displayName:p(),values:L(p())}),aE=x({offerUrl:p(),domain:p(),logoUrl:p().nullish()}),iE=x({summary:p(),attributions:L(aE)}),cE=x({pros:L(p()).nullish(),cons:L(p()).nullish(),attributions:L(aE)}),lE=st("type",[x({type:w("buyWithMerchant"),checkoutUrl:p().nullish(),merchant:p().nullish()}),x({type:w("buyWithCopilot"),merchantProvider:p().nullish(),storeId:p().nullish()})]),Rv=x({product:oE,offerId:p(),url:p(),name:p(),description:p().nullish(),images:L(Nv).nullish(),filters:L(sE).nullish(),specifications:L(rE).nullish(),review:iE.nullish(),prosAndCons:cE.nullish(),price:fn,discountPrice:fn.nullish(),seller:p(),sellerLogoUrl:p().nullish(),brandName:p().nullish(),rating:Mv.nullish(),checkoutOption:lE.nullish(),curation:p().nullish(),canTrackPrice:he()}),sG=x({type:w("shoppingProducts"),products:L(Rv)}),Pv=Pe([w("lowest-price"),w("free-shipping")]),uE=x({offerName:p(),offerId:p(),url:p(),price:fn,discountPrice:fn.nullish(),seller:p(),sellerLogoUrl:p().nullish(),tags:L(Pv).nullish(),canTrackPrice:he()}),BEe=x({error:p(),message:p()}),dE=x({minPrice:fn,maxPrice:fn,averagePrice:fn,timePeriodInDays:j()}),mE=x({date:e1(),price:fn}),fE=x({daily:mE.array()}),pE=x({label:p(),prompt:p()}),oG=Pe([w("nudge"),w("flyout")]),hE=x({edgeEntryPoint:oG.optional()}),rG=hE.extend({scenario:w("priceHistory"),priceHistory:x({dailyPrices:mE.array(),type:Pe([w("increase"),w("decrease")]),percentage:j()})}),aG=hE.extend({scenario:w("cashback"),cashbackData:x({isAdOffer:he()})}),gE=st("scenario",[rG,aG]),Lv=x({name:p(),logoUrl:p().nullish()}),Ov=ke(["affiliate","storewideAd","productAd"]),y1=ke(["flat","percentage"]),iG=x({type:w(y1.enum.percentage),percentage:j()}),cG=x({type:w(y1.enum.flat),cashback:fn}),lG=st("type",[iG,cG]),uG=x({rebate:lG,name:p()}),dG=x({type:w(y1.enum.percentage),percentage:j(),maxCashback:fn}),mG=x({type:w(y1.enum.flat),cashback:fn,minPurchaseRequired:fn}),fG=st("type",[dG,mG]),vE=x({type:w(Ov.enum.productAd),cashback:fn,expiresAt:p()}),pG=vE.extend({seller:Lv}),CE=x({type:w(Ov.enum.storewideAd),rebate:fG,expiresAt:p()}),hG=CE.extend({seller:Lv}),yE=x({type:w(Ov.enum.affiliate),categories:L(uG),exclusions:p()}),gG=yE.extend({seller:Lv}),vG=st("type",[vE,CE,yE]);st("type",[pG,hG,gG]);const VEe=Rv.extend({otherBuyingOptions:L(uE).nullish(),priceInsight:dE.nullish(),tags:L(Pv).nullish(),priceHistory:fE.nullish(),conversationStarters:L(pE).nullish(),insights:gE.nullish(),supportsPriceInsights:he()}),CG=x({product:oE.nullish(),offerId:p().nullish(),url:p().nullish(),name:p().nullish(),description:p().nullish(),images:L(Nv).nullish(),filters:L(sE).nullish(),specifications:L(rE).nullish(),review:iE.nullish(),prosAndCons:cE.nullish(),price:fn.nullish(),discountPrice:fn.nullish(),seller:p().nullish(),sellerLogoUrl:p().nullish(),brandName:p().nullish(),rating:Mv.nullish(),checkoutOption:lE.nullish(),curation:p().nullish(),canTrackPrice:he().nullish(),otherBuyingOptions:L(uE).nullish(),priceInsight:dE.nullish(),tags:L(Pv).nullish(),priceHistory:fE.nullish(),conversationStarters:L(pE).nullish(),insights:gE.nullish()});x({metadata:CG.nullish(),cashbackOffers:L(vG).nullish(),seller:p().nullish(),sellerLogoUrl:p().nullish()});const HEe=x({products:nE.array()}),yG=x({category:p(),curationGroupId:p(),position:Pe([w("top"),w("middle"),w("bottom")]).nullish()}),Lf=Rv.extend({curationInfo:yG.nullish()});x({product:Lf,messageId:p(),allProducts:L(Lf).nullish(),accessories:L(Lf).nullish()});const bG=x({type:w("shoppingCurated"),title:p().optional(),products:L(Lf),groupType:p().nullish()}),xG=st("type",[Xz,sG,bG]),zEe=x({emailNotificationEnabled:he()}),SG=x({name:p(),url:p(),offerId:p()}),EG=x({url:p(),source:p()}),wG=x({reason:p(),references:L(EG)}),IG=ke(["buy-now","buy-later"]),GEe=x({whenToBuy:IG,seller:SG,supportingReasons:L(wG)}),_G=Pe([w("top-highlight"),w("buying-tip"),w("ideal-for"),w("review-snapshot")]),WEe=x({title:p(),content:p(),type:_G,citations:L(kv)}),TG=x({muid:p().default(""),isShoppingEnabled:he().default(!1),isPersonalizationDataConsentEnabled:he().default(!1)}),AG=x({isRebatesActive:he().nullish(),ldClickData:p().nullish(),msClickId:p().nullish(),uClickData:p().nullish()});x({isPDP:he().nullish(),name:p().nullish(),image:_t().nullish(),base64_image:p().nullish(),price_currency:p().nullish(),price_value:sO().nullish(),isShoppingEnabled:he().nullish(),cashback:AG.nullish(),isPersonalizationDataConsentEnabled:he().nullish(),muid:p().nullish(),"aggregateRating/ratingValue":Pe([p(),Ib()]).nullish(),"aggregateRating/reviewCount":Pe([p(),Ib()]).nullish(),"offers/price":p().nullish()});x({name:p().optional(),rating:x({value:j(),count:j()}).optional(),images:L(x({url:p()})).optional(),price:x({amount:j(),currency:p().nullable(),currencySymbol:p().nullable()}).optional(),offerPrice:p().optional(),isPDP:he().optional()});const kG=x({title:p(),prompt:p(),imageUrl:p()}),bE=x({name:p(),cards:L(kG)});x({tabs:L(bE)});x({title:p(),description:p(),imageUrl:p(),prompt:p()});x({title:p(),description:p(),videoSourceDarkMode:p(),videoSourceLightMode:p()});const MG=x({imageUrls:L(p()),title:p(),prompt:p()}),xE=x({title:p(),prompt:p()});L(xE);const NG=x({type:w("continueShopping"),items:L(MG)}),RG=x({type:w("forYou"),items:L(xE)}),PG=x({type:w("trackedProducts"),products:L(nE)}),LG=x({type:w("momentInTime"),tabs:L(bE)}),OG=st("type",[NG,RG,PG,LG]),$Ee=x({sections:L(OG).nullable()}),DG=ke(["home","away"]),po=ke(["win","loss","tie","no-game"]),SE=ke(["pre-game","in-progress","final","postponed","delayed","abandoned","cancelled"]),jG=ke(["test","odi","t20"]),UG=ke(["test","limited-overs","super-over"]),FG=ke([...SE.options,"drinks","dinner","tea","lunch","innings-break","super-over","toss","stumps","strategic-timeout","forfeited"]),BG=ke([...SE.options,"bye","retired","forfeited","unscheduled","suspended"]),VG=ke(["men-singles","men-doubles","women-singles","women-doubles","mixed-doubles"]),HG=ke(["round-of256","round-of128","round-of64","round-of32","round-of16","quarter-final","semi-final","final"]),EE=x({name:p(),city:p().nullish()}),zG=x({name:p(),thumbnailUrl:p().nullish(),seasonPhase:p().nullish(),seasonStartsAt:p().nullish(),seasonEndsAt:p().nullish(),leagueId:p()}),GG=x({type:w("league"),league:zG}),vp=x({name:p(),thumbnailUrl:p().nullish()}),WG=x({type:w("team"),team:vp}),$G=x({type:w("matchup"),matchup:x({teamA:vp,teamB:vp})}),Wd=st("type",[GG,WG,$G]),qG=x({name:p(),alias:p().nullish(),thumbnailUrl:p().nullish()}),KG=x({playerName:p(),clock:x({minutes:j(),seconds:j()})}),ZG=x({ballPossessionPercentage:j().nullish(),goals:L(KG).nullish()}),b1=x({wins:j(),losses:j(),overtimeLosses:j().nullish()}),YG=ke(["quarter","half","halftime","extra","penalties","shoot-out","overtime","inning","period"]),QG=ke(["top","bottom"]),br=x({type:YG,period:j().nullish(),division:QG.nullish()}),$d=x({playingPeriod:br,score:p()}),ss=qG.extend({primaryColorHex:p().nullish(),venueType:DG.nullish(),previousGameOutcomes:L(po).nullish(),seed:j().nullish(),gameOutcome:po.nullish(),score:p().nullish(),record:b1.nullish(),winProbability:j().nullish(),playingPeriodScores:L($d).nullish()}),Dv=ss.extend({winProbability:j().nullish()}),wE=ss.extend({score:p(),gameStats:ZG.nullish()}),JG=wE.extend({gameOutcome:po}),XG=x({wins:j(),participantName:p()}),eW=ke(["final","not-started","in-progress"]),tW=ke(["national-championship","first-four","first-round","second-round","conference-semifinal","conference-final","sweet16","sweet-sixteen","elite-eight","final-four","final"]),nW=x({state:eW,winsInfo:L(XG).nullish(),gameNumber:j().nullish(),conference:p().nullish()}),IE=nW.extend({phase:tW}),jv=x({name:p(),score:p()}),sW=x({current:j(),total:j(),aggregatedScores:L(jv).nullish()}),Uv=x({startsAt:p(),status:p(),leagueName:p(),legInfo:sW.nullish(),leagueId:p().nullish(),gameId:p().nullish(),startTimeToBeAnnounced:he().nullish(),seasonPhase:p().nullish()}),Hi=x({minutes:j(),seconds:j()}),oW=Dv.extend({record:b1.nullish(),gameOutcome:po.nullish(),score:p().nullish(),playingPeriodScores:L($d).nullish(),gameStats:_d().nullish()}),zi=Uv.extend({name:p().nullish(),week:j().nullish(),clock:Hi.nullish(),bracket:_d().nullish(),currentPlayingPeriod:br.nullish()}),Gi=Uv.extend({name:p().nullish(),bracket:IE.nullish(),week:j().nullish(),clock:Hi.nullish(),currentPlayingPeriod:br.nullish()}),rW=zi.extend({status:w("pre-game"),participants:L(Dv)}),Fv=x({clock:Hi,description:p(),team:vp,participantScores:L(jv).nullish()}),_E=Fv.extend({type:ke(["score-change","yellow-card","red-card"])}),Bv=Fv.extend({type:ke(["three-point-made","two-point-made","touchdown","field-goal","extra-point","safety","two-point-conversion","blocked-punt-safety","blocked-field-goal-safety","fumble-safety"])}),Wi=x({url:p(),thumbnailUrl:p(),title:p(),durationInSeconds:j().nullish()}),aW=Gi.extend({status:w("pre-game"),participants:L(oW),timeline:x({events:L(Bv)}).nullish(),videos:L(Wi).nullish()}),iW=zi.extend({status:w("in-progress"),participants:L(wE),clock:Hi,currentPlayingPeriod:br.nullish(),timeline:x({events:L(_E)}).nullish(),videos:L(Wi).nullish()}),cW=zi.extend({status:w("final"),participants:L(JG),videos:L(Wi).nullish(),timeline:x({events:L(_E)}).nullish()}),lW=zi.extend({status:w("postponed"),participants:L(ss)}),uW=zi.extend({status:w("delayed"),participants:L(ss)}),dW=zi.extend({status:w("abandoned"),participants:L(ss)}),mW=zi.extend({status:w("cancelled"),participants:L(ss)}),E2=st("status",[rW,iW,cW,dW,mW,uW,lW]),TE=ss.extend({playingPeriodScores:L($d).nullish(),score:p(),record:b1.nullish(),gameOutcome:po.nullish(),winProbability:j().nullish(),gameStats:_d().nullish()}),fW=TE.extend({gameOutcome:po}),pW=Gi.extend({status:w("in-progress"),participants:L(TE),clock:Hi,currentPlayingPeriod:br,timeline:x({events:L(Bv)}).nullish(),videos:L(Wi).nullish()}),hW=Gi.extend({status:w("final"),participants:L(fW),videos:L(Wi).nullish(),clock:Hi.nullish(),currentPlayingPeriod:br.nullish(),timeline:x({events:L(Bv)}).nullish()}),gW=Gi.extend({status:w("postponed"),participants:L(ss)}),vW=Gi.extend({status:w("delayed"),participants:L(ss)}),CW=Gi.extend({status:w("abandoned"),participants:L(ss)}),yW=Gi.extend({status:w("cancelled"),participants:L(ss)}),w2=st("status",[aW,pW,hW,CW,yW,vW,gW]),bW=x({type:w("sportsSchedule"),sport:ke(["basketball","ice-hockey","football"]),games:L(w2),header:Wd.nullish(),heroGame:w2.nullish()}),xW=x({type:w("sportsSchedule"),sport:w("soccer"),games:L(E2),header:Wd.nullish(),heroGame:E2.nullish()}),SW=x({type:w("sportsGame"),sport:ke(["basketball","ice-hockey","football"]),game:w2}),EW=x({type:w("sportsGame"),sport:w("soccer"),game:E2}),$i=Uv.extend({name:p().nullish(),week:j().nullish(),videos:L(Wi).nullish(),bracket:IE.nullish(),clock:Hi.nullish(),currentPlayingPeriod:br.nullish()}),AE=x({hits:j(),errors:j(),runs:j()}),Vv=Fv.extend({type:ke(["conversion","bat"]),playingPeriod:br,participantScores:L(jv)}),kE=Dv.extend({record:b1.nullish(),gameOutcome:po.nullish(),score:p().nullish(),playingPeriodScores:L($d).nullish(),gameStats:AE.nullish()}),ME=kE.extend({playingPeriodScores:L($d).nullish(),score:p(),gameStats:AE.nullish()}),wW=ME.extend({gameOutcome:po}),IW=$i.extend({status:w("pre-game"),participants:L(kE),timeline:x({events:L(Vv)}).nullish()}),_W=$i.extend({status:w("in-progress"),participants:L(ME),currentPlayingPeriod:br.nullish(),timeline:x({events:L(Vv)}).nullish()}),TW=$i.extend({status:w("final"),participants:L(wW),videos:L(Wi).nullish(),timeline:x({events:L(Vv)}).nullish()}),AW=$i.extend({status:w("postponed"),participants:L(ss)}),kW=$i.extend({status:w("delayed"),participants:L(ss)}),MW=$i.extend({status:w("abandoned"),participants:L(ss)}),NW=$i.extend({status:w("cancelled"),participants:L(ss)}),I2=st("status",[IW,_W,TW,AW,kW,MW,NW]),RW=x({type:w("sportsSchedule"),sport:w("baseball"),games:L(I2),header:Wd.nullish(),heroGame:I2.nullish()}),PW=x({type:w("sportsGame"),sport:w("baseball"),game:I2}),LW=x({ballsFaced:j(),runsScored:j(),isBatting:he()}),OW=x({oversBowled:p(),wicketsTaken:j(),runsConceded:j(),isBowling:he()}),DW=LW.extend({type:w("batting")}),jW=OW.extend({type:w("bowling")}),NE=st("type",[DW,jW]),UW=x({name:p(),stats:NE}),FW=x({playerName:p(),teamName:p(),gameStats:L(NE).nullish()}),BW=x({current:j(),required:j().nullish()}),VW=x({name:p(),currentMatch:j(),totalMatches:j(),roundName:p().nullish(),equation:p().nullish()}),RE=x({type:UG,runs:j(),wickets:j(),oversPlayed:p(),isFollowedOn:he(),isDeclared:he(),duckworthLewisEquation:x({target:j(),revisedOvers:p()}).nullish()}),Hv=x({name:p(),alias:p().nullish(),thumbnailUrl:p().nullish()}),HW=Hv.extend({previousGameOutcomes:L(po).nullish()}),zW=Hv.extend({inningScores:L(RE).nullish(),playersStats:L(UW).nullish(),yetToBat:he()}),GW=Hv.extend({gameOutcome:po,didNotBat:he(),inningScores:L(RE).nullish()}),WW=x({startsAt:p(),startTimeToBeAnnounced:he(),tossInfo:p().nullish(),participants:L(HW),type:w("pre")}),$W=x({gameSummary:p(),runRate:BW.nullish(),participants:L(zW),type:w("live")}),qW=x({startsAt:p(),gameSummary:p(),playerOfTheMatch:FW.nullish(),participants:L(GW),type:w("final")}),KW=st("type",[WW,$W,qW]),_2=x({gameId:p(),leagueId:p(),venue:EE.nullish(),format:jG,status:FG,seriesInfo:VW,phase:KW}),ZW=x({type:w("sportsGame"),sport:w("cricket"),game:_2}),YW=x({type:w("sportsSchedule"),sport:w("cricket"),games:L(_2),header:Wd.nullish(),heroGame:_2.nullable()}),QW=x({name:p(),countryFlagThumbnailUrl:p().nullish(),seed:j().nullish()}),JW=x({points:j(),isServing:he(),tieBreakerPoints:j().nullish(),currentGamePoints:p().nullish(),setWon:he().nullish()}),PE=x({players:L(QW)}),XW=PE,LE=PE.extend({setPoints:L(JW)}),e$=LE.extend({gameOutcome:po}),t$=x({type:w("pre"),participants:L(XW)}),n$=x({type:w("live"),participants:L(LE)}),s$=x({type:w("final"),participants:L(e$)}),o$=st("type",[t$,n$,s$]),k4=x({gameId:p(),leagueId:p(),status:BG,startsAt:p().nullish(),startTimeToBeAnnounced:he(),venue:EE.nullish(),matchType:VG,round:HG.nullish(),phase:o$}),r$=x({type:w("sportsSchedule"),sport:w("tennis"),games:L(k4),header:Wd.nullish(),heroGame:k4.nullish()}),a$=Pe([bW,xW,RW,YW,r$]),i$=st("sport",[EW,SW,PW,ZW]),c$=Pe([a$,i$]),l$=x({type:w("suggestVision")}),u$=ke(["c","f"]),d$=ke(["mm","cm","in"]),m$=ke(["hPa","inHg","mb","mmHg"]),f$=ke(["bft","kph","mph","ms"]),p$=ke(["m","km","mi"]),h$=x({temperature:u$,height:d$,pressure:m$.optional(),speed:f$.optional(),distance:p$.optional()}),zv=ke(vS),g$=ke(["rain","snow"]),Gv=x({type:g$.nullish(),amount:j().nullish(),chance:j()}),v$=x({current:j(),high:j().optional(),low:j().optional()}),C$=x({at:p(),state:zv,summary:p(),description:p().optional(),temperature:v$,precipitation:Gv.optional()}),OE=x({high:j(),low:j()}),y$=x({date:p(),state:zv,temperature:OE,precipitation:Gv.optional()}),b$=x({at:p(),state:zv,temperature:OE,precipitation:Gv.optional()}),x$=x({daily:L(y$),hourly:L(b$).nullish().optional()}),S$=x({type:w("weather"),location:p(),units:h$,spotlight:C$.optional(),forecast:x$}),nd=ke(vS),E$=x({type:w("weatherTemperatureHourly"),location:p(),unit:Pe([w("f"),w("c")]),spotlight:x({date:p(),state:nd,summary:p(),temperature:j().optional(),high:j(),low:j()}),forecast:L(x({at:p(),state:nd,temperature:j(),precipitationChance:j()}))}),w$=x({type:w("weatherTemperatureDaily"),location:p(),unit:Pe([w("f"),w("c")]),forecast:L(x({date:p(),state:nd,high:j(),low:j(),precipitationChance:j()}))}),DE=Pe([w("rain"),w("snow")]),jE=Pe([w("in"),w("mm")]),I$=x({type:w("weatherPrecipitationHourly"),location:p(),unit:jE,precipitationType:DE,spotlight:x({date:p(),summary:p(),amount:j(),chance:j()}),forecast:L(x({at:p(),state:nd,amount:j(),chance:j()}))}),_$=x({type:w("weatherPrecipitationDaily"),location:p(),unit:jE,precipitationType:DE,forecast:L(x({date:p(),state:nd,amount:j(),chance:j()}))}),T$=Pe([S$,E$,w$,I$,_$]),UE=Pe([wV,YV,NV,XV,tH,xH,kH,MH,HH,zH,GH,QH,JH,pz,sz,rz,Cz,Hz,Kz,nH,ZV,xG,KH,c$,qH,T$,Jz,RV,QV,mz,Tz,IH,cz,l$,qz]),FE="clicked",Wv="dismissed",qEe=x({mainColor:p().nullable().optional(),secondaryColor:p().nullable().optional(),leftAccentColor:p().nullable().optional(),rightAccentColor:p().nullable().optional(),selectedVariant:p().nullable().optional(),palette:p().nullable().optional(),randomPalette:he().optional()}),M4=Pe([ke([FE,Wv]),H8()]),BE=x({primaryColor:p(),secondaryColor:p().nullable().optional(),leftAccentColor:p().nullable().optional(),rightAccentColor:p().nullable().optional()}),KEe=x({appearance:x({body:BE}).nullable()}),T2=x({userId:p(),userDisplayName:p().nullish()}),A$=x({participants:L(T2).nullish(),owner:T2.nullish()});T2.extend({isYou:he(),avatar:p().optional(),isOwner:he()});x({token:p().min(1),displayName:p().trim().min(1).optional()});const ZEe=x({conversationId:p()}),k$=x({url:_t()}),M$=x({url:_t().nullish()}),YEe=x({owner:p().nullish(),conversationTitle:p().nullish(),numberOfOtherParticipants:j().min(1)}),QEe=x({errorCode:p().optional()}),N$=x({id:p(),imageUrl:p(),voiceId:p()}),JEe=st("type",[x({type:w("media"),delta:p()}),x({type:w("remainingTime"),seconds:j()}),x({type:w("startFailed"),startFailedType:Pe([w("time-expired"),w("start-model-failed"),w("throttled")])}),x({type:w("terminated"),reason:Pe([w("time-expired-day"),w("interrupted")])})]),R$=x({id:p(),previewImageUrl:p(),voiceId:p().optional()}),XEe=x({portraits:L(R$)});Pe([w("take-photo"),w("select-voice")]);ke(["free-talk","prepare-interview","learn-about-x","practice-speaking","talk-to-future-self"]);const Dr=x({light:p(),dark:p()}),P$=x({foreground1:Dr,foreground2:Dr,accent:Dr,shape:Dr,shapeInverse:Dr,background1:Dr,background2:Dr,background3:Dr}),N4=x({name:ke(["ginto-copilot-nord-bold","ginto-copilot-nord-medium-italic","ginto-copilot-480","kari-regular"]),url:_t()}),L$=x({name:p(),url:_t()}),dl=x({url:_t()}),ml=x({urlLight:_t(),urlDark:_t()}),A2=x({url:_t()}),wl=x({type:p(),title:p()}),O$=wl.extend({type:w("coverPage"),content:p(),template:ke(["image-background","fuzzy-image"]),image0:dl,sticker0:ml.nullish(),sticker1:ml.nullish()}),D$=wl.extend({type:w("heroImage"),content:p(),template:ke(["noisy-circle","macaron","wavy-shape"]),image0:dl}),j$=wl.extend({type:w("stickerSheet"),content:p(),template:ke(["sticker1","sticker2"]),sticker0:ml,sticker1:ml,accent0:A2,accent1:A2}),U$=wl.extend({type:w("simpleText"),content:p(),template:p().nullish()}),F$=wl.extend({type:w("photoJournal"),content:p().nullish(),template:ke(["shapes-only","shapes-accents"]),variation:ke(["shape-group1","shape-group2"]),label0:p(),label1:p(),image0:dl,image1:dl,sticker0:ml.nullish(),accent0:A2.nullish()}),B$=wl.extend({type:w("endPage"),content:p(),template:ke(["wide-cards","tall-cards"]),variation:ke(["shape-group1","shape-group2"]),questions:L(p()),image0:dl,image1:dl.nullish(),sticker0:ml}),V$=x({type:w("shareDefault"),template:p().nullish()}),H$=st("type",[O$,D$,j$,U$,F$,B$,V$]),z$=x({id:p(),modifiedAt:p(),theme:P$,font:N4,fontHandwriting:N4.nullish(),masks:L(L$),sections:L(H$)}),G$=x({type:w("chatAboutNarrative"),narrativeId:p(),messageIndex:j()}),W$=x({id:p(),text:p(),createdAt:p()}),$$=x({results:L(W$),next:p().nullable()}),q$=x({type:w("provideImageFeedback"),messageId:p(),feedbackTypes:L(p())}),K$=x({type:w("createPage"),messageId:p()}),Z$=x({type:w("appendToPage"),messageId:p(),pageId:p()}),VE=x({id:p(),conversationId:p()}),Y$=x({id:p(),fileName:p(),contentType:p()}),ewe=x({title:p().nullish(),content:p().nullish(),conversationId:p(),attachments:L(Y$).optional().nullable()}),Q$=fs.extend({type:w("page"),page:x({id:p(),conversationId:p(),title:p().nullish()})}),J$=x({id:p(),title:p().nullish(),updatedAt:p(),conversationId:p().optional(),type:ke(["page","sharedPage"]).optional(),previewContent:p().nullish()}),X$=x({results:L(J$),next:p().nullish()}),twe=x({title:p().nullish(),content:p().nullish(),shareLink:p(),page:x({id:p()}).nullable()}),nwe=x({id:p(),url:p()}),eq=ke(["page-count-exceeded","page-content-length-exceeded"]),tq=x({errorCode:eq}),swe=x({title:p().nullish()}).nullish(),owe=ke(["public","user"]),rwe=x({id:p(),url:p()});x({type:w("podcast"),id:p().min(1)});const HE=w("generatePodcast"),nq=x({type:HE,taskId:p().min(1)}),zE=w("createPowerPoint"),sq=x({type:zE,messageId:p(),themeId:p(),responses:Oi(p(),L(j()))}),oq=x({prompt:p()}),x1=w("executeTask"),rq=x({type:x1,taskId:p(),context:oq.optional()}),aq=p(),iq=x({currentConversationId:p().nullable(),isNewUser:he(),banExpiresAt:p().nullable(),remainingTurns:j().nullable(),features:L(aq),allowBeta:he().nullish(),userId:p().nullish(),inDataUseWaitingPeriod:he().nullish()}),cq=x({id:p(),name:p(),previewUrl:p(),voicemails:L(p())}),lq=x({id:p(),backgroundImageUrl:p()}),uq=x({id:p(),name:p(),location:lq.nullish()}),mo=x({type:p(),label:p()}),dq=L(mo),mq=x({positive:L(mo),negative:L(mo)}),qn=Pe([dq,mq]),za=x({type:p(),label:p(),subOptions:L(mo).nullish()}),GE=x({local:qn,ads:qn,video:qn,image:qn,sports:qn,job:qn,shopping:qn,recipe:qn,finance:qn,quiz:qn,weather:qn,personalArtifacts:qn,healthcareInfo:qn,navigation:qn,healthcareEntity:qn}),fq=x({positive:L(mo).nullish(),negative:L(mo)});GE.keyof();const WE=x({newsArticle:L(za),newsVideo:L(za),newsGem:L(za),chat:L(za),dailyBriefing:L(za),podcast:L(za),default:L(za)});WE.keyof();const pq=x({computerUse:L(mo)}),hq=x({text:L(mo),image:L(mo),call:L(mo),appearance:L(mo),card:GE,showroom:fq.nullish(),discover:WE.nullish(),task:pq.nullish()}),gq=x({maxFilesPerMessage:j(),maxFileNameLength:j(),image:x({mimeTypes:L(p()),maxBytes:j()}),document:x({mimeTypes:L(p()),maxBytes:j()}),binary:x({mimeTypes:L(p()),maxBytes:j()})}),vq=x({minTextLength:j().min(0),textDeltaPercent:j().min(0).max(100),debounceInMilliseconds:j().min(0)}),Cq=x({signInPrompts:L(j()),voices:L(cq),maxTextMessageLength:j(),feedbackOptions:hq,characters:L(uq).nullish(),pageLimit:j(),maxPageContentLength:j(),maxPageTitleLength:j(),messagePreview:vq,attachments:gq,portraits:L(N$).nullish()});x({hasVisionAccess:he(),allowedDomains:L(p()).nullable(),allowedDomainSuffixes:L(p()).nullable(),blockedDomains:L(p()).nullable(),blockedDomainSuffixes:L(p()).nullable()});const yq=x({startTime:p(),text:p()}),bq=x({startTime:p(),text:p(),words:L(yq)}),R4=x({url:p(),duration:j(),transcript:L(bq).nullish()}),xq=x({title:p(),image:p(),url:p(),createdAt:p()}),Sq=x({publisherName:p(),publisherIcon:p(),articles:L(xq)}),P4=x({url:p(),foregroundColor:p(),backgroundColor:p()}),L4=x({name:p(),foregroundColor:p(),backgroundColor:p(),altText:p().nullish(),url:p()}),Eq=x({landscape:L4,portrait:L4}),wq=x({id:p(),title:p(),image:x({landscape:P4,portrait:P4}),audio:Oi(p(),R4),transitionMusic:R4.nullable(),sources:L(Sq)}),$E=x({topics:L(x({id:p(),label:p(),imageUrl:p(),isFollowed:he()}))}),Iq=x({position:j(),chapterId:p()}),qE=x({isAvailable:he(),podcastId:p(),chapters:L(wq),topics:$E.optional(),playback:Iq}),_q=x({positionInSeconds:j(),chapterId:p()}),Tq=x({id:p(),title:p(),topic:p().nullable().optional(),image:Eq,audio:x({name:p(),duration:j()})}),Cp=x({isAvailable:he(),podcastId:p(),chapters:L(Tq),playback:_q}),Aq=ke(xB),KE=ke(yB),kq=ke(bB),Mq=x({channel:kq,tier:KE,isAutoRenew:he()}),Nq=x({portrait:x({consentType:w("portrait"),version:p().nullable()}).nullable()}),ZE=nf({id:p(),firstName:p().nullable(),anid:p().nullable(),isPro:he(),isDeprecated:he().nullish(),inEeaPlusRegion:he(),inGdprRegion:he(),regionCode:ke(Object.values(jd)),isHistoryMigrationPending:he(),isInsider:he(),isEligibleForFreeTrial:he().optional(),phoneLink:nf({deviceName:p().nullable()}).nullable(),ageGroup:ke(vB).nullable(),allowedToggles:nf({textTraining:he(),voiceTraining:he(),personalization:he()}),remainingUsage:nf({reasoningCalls:j(),podcastGenerations:j(),researchCalls:j(),visionCallSeconds:j(),videoGenerations:j()}).nullish(),accountTier:Aq.nullish(),subscriptions:L(Mq).nullish(),requiredConsents:Nq,privacyRequirement:ke(wB).nullable()}),Rq=x({preferredVoice:p().nullable(),preferredCharacter:p().nullable().optional(),optOutOfTraining:he(),optInToVoiceTraining:he(),optOutOfPersonalization:he(),optOutOfPhoneConnection:he(),optInToGenerativeUI:he().optional(),allowBiometricDataUse:he().optional(),allowOneDriveAccess:he().optional(),allowEdgePasswordsAccess:he().optional(),allowBrowserActions:he().optional(),allowComputerUseActions:he().optional(),allowOutlookAccess:he().optional(),features:x({suggestedFollowups:he().optional()}).nullish()}),YE=x({errorCode:Pe([w("attachment-too-large"),w("unsupported-content-type"),w("empty-attachment"),w("content-blocked"),w("rate-limit-exceeded"),w("not-signed-in")])}),Pq=Pe([x({url:p()}),YE]),QE=Pe([x({id:p()}),YE]),$v=x({id:p(),title:p().optional(),updatedAt:p(),characterId:p().nullable().optional(),continuedAt:p().nullable(),group:A$.nullish()}),Lq=x({results:L($v),next:p().nullable()}),Oq=x({id:p()}),JE=Pe([w("thumbs-down"),w("thumbs-up"),_d()]),qd=Pe([w("running"),w("completed"),w("failed"),w("cancelled"),w("pending"),w("paused")]),Dq=Pe([w("research"),w("computerUse"),w("podcast"),w("videoGeneration")]),jq=x({type:w("chainOfThought"),text:p()}),Uq=x({type:w("query"),text:p()}),Fq=x({type:w("citation"),title:p(),url:p()}),Bq=ke(["start","preplan","plan","exploration","reflection","report"]),Vq=x({completion:j().min(0).max(1),step:Bq}),Hq=st("type",[jq,Uq,Fq]),zq=x({url:p().nullish(),prompt:p()}),XE=x({id:p(),title:p().nullish(),contents:L(Hq).nullish(),inlineCitations:L(kv).nullish(),partialOutput:L(p()).nullish(),finalResponse:p().nullish(),summary:p().nullish(),coverImage:zq.nullish(),type:w("research"),status:qd,prompt:p().optional(),progress:Vq.nullish()}),awe=XE.omit({id:!0}).extend({shareId:p()}),ew=x({url:p(),createdAt:p()}),Gq=x({type:w("computerUse"),title:p().nullish(),conversationId:p().nullish(),id:p(),status:qd,lastScreenshot:ew.nullish(),updatedAt:p().nullish()}),tw=x({id:p(),title:p().nullish(),thumbnail:x({name:p().nullish()}).nullish()}),Wq=x({type:w("podcast"),id:p(),podcast:tw.nullish(),status:qd,updatedAt:p().nullish()}),$q=x({type:w("error"),errorCode:ke(["Failed","Blocked","Throttled"])}),qq=x({type:w("success"),thumbnailUrl:p().nullish(),videoUrl:p().nullish()}),nw=st("type",[$q,qq]),Kq=x({type:w("videoGeneration"),id:p(),result:nw.nullish(),status:qd,prompt:p().nullish(),updatedAt:p().nullish()}),sw=st("type",[XE,Gq,Wq,Kq]),S1=x({id:p(),title:p().optional(),conversationId:p().optional(),updatedAt:p(),status:qd,type:Dq}),Zq=S1.extend({type:w("research")}),Yq=S1.extend({type:w("computerUse"),screenshot:p().nullish(),lastScreenshot:ew.nullish(),chainOfThought:L(p()).nullish(),computerAction:p().nullish(),statusChange:DV.optional(),lastUserCommand:Bi.optional(),reaction:JE.optional(),activeTabFaviconUrl:p().nullish(),activeTabTitle:p().nullish(),viewMode:WV.nullish(),replay:qV.nullish()}),Qq=S1.extend({type:w("podcast"),podcast:tw.nullish()}),Jq=S1.extend({type:w("videoGeneration"),result:nw.nullish()}),Xq=st("type",[Zq,Yq,Qq,Jq]),iwe=x({results:L(Xq),next:p().nullable()}),qi=Pe([w("report"),...JE.options]),eK=Pe([w("generating"),w("generated"),w("failed"),w("non-complete")]),E1=x({id:p(),createdAt:p()}),tK=x({index:p(),title:p(),url:p(),iconUrl:p().nullable(),publisher:p().nullable(),snippet:p().nullish()}),nK=fs.extend({type:w("image"),url:p().optional(),prompt:p().optional().nullable(),isPartiallyLoading:he().optional(),reaction:qi.optional(),partialGenerationStep:j().optional(),status:eK.optional(),progressionText:p().nullable().optional()}),sK=fs.extend({type:w("citation"),...kv.shape}),oK=fs.extend({type:w("text"),text:p(),citations:L(tK).optional(),reaction:qi.optional()}),rK=fs.extend({type:w("task"),task:sw.nullish(),reaction:qi.optional()}),aK=fs.extend({type:w("card"),card:UE,reaction:qi.optional()}),iK=Pe([w("loading"),w("success"),w("failed")]),cK=fs.extend({type:w("indicator-ai-response"),text:p(),state:iK}),lK=fs.extend({type:w("document"),attachmentId:p(),fileName:p(),contentType:Vd,reaction:qi.optional()}),uK=fs.extend({type:w("deleted"),partType:ke(["page","task"])}),dK=fs.extend({type:w("error"),text:p()});x({text:p(),title:p().optional(),lastSubActionScreenshotUrl:p().nullish()});const ow=fs.extend({type:w("chainOfThought"),text:p(),title:p().optional(),screenshotUrl:p().nullish(),reaction:qi.optional(),partId:p()}),mK=Pe([ow,NS]),fK=fs.extend({type:w("chainOfThoughtGroup"),items:L(mK).optional(),isComplete:he()}),pK=fs.extend({type:w("memorySignal"),text:p(),signalType:Pe([w("remember"),w("forget")]).nullish()}),hK=x({position:Pe([w("left"),w("right")]),isDefault:he(),isStreamingComplete:he().optional()}),gK=st("type",[oK,nK,Q$,sK,dK,aK,lK,rK,uK,ow,fK,NS,pK,cK]),vK=x({type:w("text"),text:p()}),CK=x({type:w("browserTabs"),tabs:L(x({title:p().optional(),url:p().optional(),id:j().optional(),favIconUrl:p().optional(),windowId:j()}))}),yK=x({type:w("image"),url:p()}),bK=x({type:w("document"),partId:p(),fileName:p(),contentType:p()});x({type:w("document"),attachmentId:p()});const qv=w("startProductCheckoutActions"),xK=x({type:qv,offerId:p().nullish()}),rw=w("requestPrompt"),SK=x({type:rw,promptKey:p()});Pe([Bi,x1,qv]);Pe([w("provideImageFeedback"),w("createPage"),w("appendToPage"),w("promptCharacterSpeech"),w("chatAboutNarrative"),w("sendFormData"),w("topicClick"),w("setCharacterAppearance"),Bi,x1,HE,zE,qv,rw]);const EK=x({type:w("promptCharacterSpeech")}),wK=x({type:w("topicClick"),topic:p()}),IK=x({type:w("setCharacterAppearance"),body:BE}),_K=st("type",[q$,K$,Z$,jV,UV,FV,BV,VV,HV,GV,EK,G$,rq,nq,sq,wK,xK,IK,SK]),TK=x({type:w("command"),command:_K}),AK=x({type:w("dailyBriefing"),chapterId:p()}),kK=x({type:w("greeting"),greetingMessage:p()}),MK=x({type:w("news"),articleId:p()}),NK=x({type:w("newsGem"),gemId:p(),snapshotKey:p()}),RK=st("type",[AK,kK,MK,NK]);x({type:w("reference"),reference:RK});const aw=st("type",[vK,yK,bK,TK,CK]),PK=["chat","smart","study","reasoning","research","computerUse","search","coco"],wa=ke(PK),Kv=x({type:w("ai")}),Zv=x({type:w("human")}),Yv=x({type:w("groupParticipant"),id:p(),displayName:p().nullish()});st("type",[Kv,Zv,Yv]);const LK=ke(["idle","streaming"]),Qv=E1.extend({author:w("ai"),authorMetadata:Kv.optional(),content:L(gK),mode:wa.optional(),sideBySideConfig:hK.optional(),reaction:qi.optional(),streamingState:LK.optional().default("idle")}),Jv=E1.extend({author:w("human"),authorMetadata:Zv.optional(),content:L(aw),mode:wa.nullable()}),Xv=E1.extend({author:w("groupParticipant"),authorMetadata:Yv.optional(),content:L(aw),mode:wa.nullable()}),OK=E1.extend({author:w("system")}),DK=ke(["kicked","joined","left"]),jK=OK.extend({participant:x({userId:p(),userDisplayName:p()}),updateType:DK}),iw=Pe([Qv.omit({authorMetadata:!0}).extend({author:Kv}),Jv.omit({authorMetadata:!0}).extend({author:Zv}),Xv.omit({authorMetadata:!0}).extend({author:Yv})]),cw=x({results:L(iw),next:p().nullable()}),cwe=x({url:p()}),UK=x({conversation:x({id:p(),title:p()})});x({qc:x({q:p(),gt:p(),sc:p()}),s:L(x({st:p(),t:p()}))});const FK=x({suggestions:L(x({text:p(),source:p()}))}),eC=Pe([w("active"),w("banned"),w("ineligible")]),tC=Pe([w("active"),w("not-started"),w("expired"),w("paused")]),BK=Pe([w("not-started"),w("completed"),w("ineligible")]),VK=x({id:p(),type:p(),points:j()}),HK=x({redeemableCount:j(),redeemedCount:j(),skus:L(VK)}),lwe=x({userStatus:eC,status:tC,startAt:p(),endAt:p(),referralCode:p().nullish(),referralTaskStatus:BK.nullish(),rewards:HK.nullish()}),uwe=x({userStatus:eC.nullish(),programStatus:tC}),dwe=x({userStatus:eC.nullish(),programStatus:tC,lastRequestTime:p(),userId:p()}),O4=ke(["prefillComposer","sendMessage"]),nC=st("type",[x({type:w(O4.enum.prefillComposer),prompt:p()}),x({type:w(O4.enum.sendMessage),prompt:p()})]),lw=x({id:p(),text:p(),action:nC}),zK=x({id:p(),text:p(),thumbnail:x({url:p(),altText:p()}),action:nC});x({id:p(),text:p(),action:nC});const GK=x({id:p(),label:p(),items:L(lw)}),uw=st("type",[x({type:w("text"),id:p(),title:p().nullish(),items:L(lw)}),x({type:w("textAndImage"),id:p(),title:p().nullish(),items:L(zK)}),x({type:w("categories"),id:p(),title:p().nullish(),categories:L(GK)})]);x({widgets:L(uw)});const WK=x({text:p()}),$K=x({greetingOptions:L(WK),widgets:L(uw)}),qK=x({pages:L($K)});x({Questions:L(p()),Url:p(),NormalizedUrl:p().optional(),DebugInfo:p().optional()});x({tabId:j(),windowId:j(),url:p(),title:p(),content:p().optional(),favIconUrl:p().optional()});const dw=x({id:p(),type:ke(CS),status:ke(EB)}),KK=x({connections:L(dw)}),ZK=x({connection:dw,loginUrl:p()}),YK=x({encrypted:x({keyName:p(),blob:p()}),unencryptedMetadata:x({url:p(),blacklisted:he().optional(),dateLastUsedWindowsEpochMicros:j().optional(),passwordIssues:Oi(p(),V8()).optional(),type:j()}),encryptedNotesBackup:x({keyName:p(),blob:p()}).optional()});x({passwords:L(YK),count:j(),hasMore:he().optional()});const QK=st("author",[Qv,Jv,Xv]),mwe=st("author",[Qv,Jv,Xv,jK]),JK=st("eventName",[x({eventName:w("auth0.accountAdded")}),x({eventName:w("auth0.accountRemoved")})]),XK=["imagegeneration","f1","school","msn","bing"],Qr={OPENED:0,RECENT:1,HISTORY:2},eZ=x({messages:L(QK),conversationTitle:p()}),tZ={ocid:"OCID",OCID:"OCID",msclkid:"msclkid",gclid:"gclid",rdt_cid:"rdtCid",fbclid:"fbclid",ttclid:"ttclid",li_fat_id:"liFatId",vmcid:"vmcid",ttd_clk:"ttdClk"},D4={gclid:"Google",msclkid:"Bing",rdt_cid:"Reddit",fbclid:"Meta",ttclid:"TikTok",li_fat_id:"LinkedIn",vmcid:"Yahoo",ttd_clk:"TradeDesk"};let k2=null;function tn(e){return typeof window>"u"?null:new URLSearchParams(window.location.search).get(e)}function gr(e){sC([e])}function sC(e){const t=new URL(window.location.href),n=e.filter(s=>t.searchParams.has(s));if(n.length!==0){for(const s of n)t.searchParams.delete(s);window.history.replaceState(null,"",t)}}function nZ(){return Object.entries(tZ).reduce((e,[t,n])=>{const s=tn(t);return s?{...e,[n]:s}:e},{})}function mw(){sC(["ocid","OCID","msclkid","gclid","rdt_cid","fbclid","ttclid","li_fat_id","vmcid","ttd_clk"])}function sZ(){const e=tn("form");if(e)return gr("form"),e;const t=tn("FORM");return t&&gr("FORM"),t}function oZ(){const e=tn("ocid");return e||tn("OCID")}function rZ(){return tn("alias")}function aZ(){const e=tn("chat-mode");return e&&gr("chat-mode"),e}function fwe(){const e=tn("audiomode");return e&&gr("audiomode"),e}function iZ(){const e=tn("q");return e&&gr("q"),e}function cZ(){const e=tn("prompt");return e&&gr("prompt"),e}function lZ(){const e=tn("sandbox");return e&&gr("sandbox"),e==="1"}function uZ(){if(typeof window>"u")return!1;const e=tn("disable-all-features");return e!==null&&e!=="0"&&e!=="false"}function pwe(){return tn("payflow-correlationId")}function hwe(){return tn("entry-point")??""}function gwe(){const e=tn("campaign");return e?(ma("campaignId",e),e):null}function vwe(){const e=tn("referral-code");return e?(ma("referralCode",e),e):null}function dZ(){const e=tn("windows");return e&&gr("windows"),e==="1"}function mZ(){return tn("charid")}const fZ=[["payflowCorrelationId","pfcid"],["payflowFrom","pff"],["payflowAuthHint","pfah"],["payflowEntry","pfe"],["payflowRequiresPremium","pfrp"]];function Cwe(){const e={payflowCorrelationId:"",payflowFrom:"",payflowAuthHint:"",payflowEntry:"",payflowRequiresPremium:""};for(const[t,n]of fZ){const s=tn(n);s&&(e[t]=s)}return e}function pZ(){const e=tn("intent");return k2===null&&(k2=e),e}function hZ(){return k2}function gZ(e){const t=e.toLowerCase();return XK.includes(t)}const vZ=["text","queryParam"];function CZ(e){return vZ.includes(e)}function yZ(){const e=tn("input-method");return e?(gr("input-method"),CZ(e)?e:"queryParam"):"queryParam"}function ywe(){return[]}function bwe(){return[]}function Ia(e){const t=typeof navigator<"u"?navigator.userAgent:null;return t?e.test(t):!1}function bZ(){return Ia(/BingSapphire/gi)}function xZ(){return Ia(/NewsSapphire/gi)}function oC(){return typeof navigator>"u"?!1:!!(navigator.userAgent.match(/Mac/)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Macintosh/i.test(navigator.userAgent)&&"ontouchend"in document)}function Kd(){return oC()||Ia(/iPad|iPhone|Android|iPod/gi)}function SZ(){return Ia(/macintosh|mac os x/gi)&&!oC()&&!rC()}function EZ(){return Ia(/Android/gi)}function rC(){return oC()||Ia(/iPhone|iPad|iPod/gi)}function fw(){return Ia(/Windows|Win32|WOW64/i)}function wZ(){return Ia(/CopilotNative.*macOS/gi)}const w1=N(!1),IZ=he().optional(),fl=ms({key:YF,schema:IZ,initialValue:void 0}),_Z=he().optional(),bg=ms({key:QF,schema:_Z,initialValue:void 0});function TZ(){return pe(w1)&&!!pe(fl)}function pw(){return typeof window>"u"||window.isStudioServer?"studio":"snr"}function hw(){if(!(typeof window>"u"))return window.isStudioSsr?"ssr":"csr"}const AZ={"thumbs-up":"thumbsUp","thumbs-down":"thumbsDown",report:"reportMessage"},j4="homepage";function kZ(){return It("kill-analytics-custom-batch")?{instrumentationKey:"be6e4c19699f4fdf9f8c0ec9f9b398ef-25d58bb9-9926-4df7-8e36-bc7afb4b2c34-7563",channelConfiguration:{eventsLimitInMem:5e3},propertyConfiguration:{populateBrowserInfo:!0},disableCookiesUsage:!0}:{instrumentationKey:"be6e4c19699f4fdf9f8c0ec9f9b398ef-25d58bb9-9926-4df7-8e36-bc7afb4b2c34-7563",channelConfiguration:{eventsLimitInMem:5e3,autoFlushEventsLimit:5},propertyConfiguration:{populateBrowserInfo:!0},disableCookiesUsage:!0,extensionConfig:{PostChannel:{maxBatchInterval:1e4,maxBatchCount:20,immediateEventLimit:100}}}}class MZ{constructor(t={}){O(this,"analytics",null);O(this,"features");O(this,"picassoId",null);O(this,"anid",null);O(this,"formCode",null);O(this,"landingPage",j4);O(this,"trafficAlias",null);O(this,"settings",null);O(this,"isAADUser",null);O(this,"isNewUser",null);O(this,"isCopilotMode",null);O(this,"accountType",null);O(this,"referrer",null);O(this,"deviceInfo",null);O(this,"anaheimId",null);O(this,"pluginProvider",null);O(this,"pluginCache",null);O(this,"publisherInfo",null);O(this,"isInitializing",!1);O(this,"pendingEvents",[]);O(this,"initRetryCount",0);O(this,"maxRetries");O(this,"maxPendingEvents");O(this,"delay");O(this,"onInitializeError");O(this,"initializationPromise",null);this.maxRetries=t.maxRetries??3,this.maxPendingEvents=t.maxPendingEvents??1e3,this.delay=t.delay??0,this.onInitializeError=t.onInitializeError}getSurface(){return this.getPlatformSurface("cmc")}getAppName(){return`CopilotN-${this.currentEnv}-web-${this.getSurface()}`}ensureInitialized(t){!this.isInitialized&&!this.isInitializing&&(this.pluginProvider=t,this.isInitializing=!0,this.initialize())}get plugin(){return this.pluginCache===null&&this.pluginProvider!==null&&this.analytics!==null&&(this.pluginCache=this.pluginProvider(),this.pluginCache&&this.analytics.addNotificationListener(this.pluginCache)),this.pluginCache}get isInitialized(){return this.analytics!==null&&this.analytics.isInitialized()}get currentEnv(){return"prod"}get initializationFailed(){return this.initRetryCount>=this.maxRetries}setFeatures(t){this.features=t.join(",")}setAnid(t){this.anid=t}getAnid(){return this.anid}setIsNewUser(t){this.isNewUser===null&&(this.isNewUser=t)}setIsAad(t){this.isAADUser=t}setCopilotMode(t){this.isCopilotMode=t}setSettings(t){this.settings={...this.settings,...t}}getPicassoId(){return this.picassoId}setPicassoId(t){this.picassoId=t}setFormCode(t){this.formCode=t}getFormCode(){return this.formCode}setDeviceInfo(t){this.deviceInfo=t}setLandingPage(t){this.landingPage===j4&&(this.landingPage=t)}getLandingPage(){return this.landingPage}isValidLowercaseUserAccountType(t){return["msa","aad","apple","google"].includes(t)}setUserAccountType(t){if(!t){this.accountType=null;return}const n=t.toLowerCase();this.isValidLowercaseUserAccountType(n)?this.accountType=n:this.accountType=null}getUserAccountType(){return this.accountType}processFormCode(){const t=sZ();this.formCode=t}processAlias(){const t=rZ();t&&(this.trafficAlias=t)}processReferrer(){this.referrer===null&&typeof document<"u"&&(this.referrer=document.referrer)}getAnaheimIdFromHTML(){try{const t=document.querySelector("meta[name='x-client-data']");if(!t)return null;const n=t.getAttribute("content");if(!n)return null;const s=atob(n),o=JSON.parse(s);if(typeof o!="object"||o===null)return null;const r=o;if(!("4"in r))return null;const a=r[4];return typeof a=="string"?a:null}catch{return null}}processAnaheimId(){const t=this.getAnaheimIdFromHTML();t&&(this.anaheimId=t)}initialize(){this.isInitialized||(this.processFormCode(),this.processAlias(),this.processReferrer(),this.processAnaheimId(),this.processPublisherFromUrl(),this.initializationPromise=this.dynamicInitialization(),this.initializationPromise.catch(()=>{}))}async dynamicInitialization(){var n,s;this.delay>0&&await new Promise(o=>{setTimeout(o,this.delay)});const t=await B(()=>import("./vendor-BZxM7dHU.js").then(o=>o.ax),[]).catch(o=>o instanceof Error?o:new Error(`Failed to load @microsoft/1ds-analytics-js: ${o}`));if(t instanceof Error)(n=this.onInitializeError)==null||n.call(this,t),this.initRetryCount+=1,this.initRetryCount>=this.maxRetries&&((s=this.onInitializeError)==null||s.call(this,new Error("ApplicationInsights initialization: Max retries reached")),this.pendingEvents.length=0);else{const{ApplicationInsights:o}=t;this.analytics=new o;const r=kZ();this.analytics.initialize(r,[]),this.flushPendingEvents()}this.isInitializing=!1}flushPendingEvents(){for(let t=0,n=this.pendingEvents.length;t<n;t+=1){const s=this.pendingEvents[t];s&&this.trackEventInternal(s)}this.pendingEvents.length=0}getPlatformSurface(t){if(t==="pageseditor"){if(EZ())return"android";if(rC())return"ios";if(wZ())return"mac"}return t}getAppFlavor(){return TZ()?{eventInfo_appFlavor:"beta"}:null}processPublisherFromUrl(){const t=new URLSearchParams(window.location.search),n=Object.keys(D4).find(s=>t.has(s));n&&(this.publisherInfo={publisher:D4[n]})}getFixEventProperties(){var t;return{appName:this.getAppName(),appVersion:Iv(),surface:this.getSurface(),server:pw(),surfaceVersion:JB(navigator.userAgent),accountType:this.accountType,userMuid:da("MUID"),aliasMuid:da("MUID",1),userAnid:this.anid,userPicassoId:this.picassoId,userFlightIds:this.features,trafficAlias:this.trafficAlias,eventInfo_entryPoint:this.formCode,eventInfo_surfaceVisible:document.visibilityState==="visible",eventInfo_isCopilotMode:this.isCopilotMode,isAADUser:this.isAADUser,isNewUser:this.isNewUser,pathname:window.location.pathname,msalVersion:(t=window.msal)==null?void 0:t.version,referrer:this.referrer,anaheimId:this.anaheimId,renderingType:hw(),"UserInfo.Id":this.picassoId,...td.getTraceIdAnalytics(),...this.settings,...this.deviceInfo,...this.getAppFlavor(),...this.publisherInfo}}trackEvent(t){if(!this.initializationFailed){if(this.pendingEvents.length>=this.maxPendingEvents){console.warn(`Analytics pending events queue is full (${this.maxPendingEvents}). Dropping event: ${JSON.stringify(t)}`);return}if(this.ensureInitialized(this.pluginProvider),this.isInitializing||!this.isInitialized){this.pendingEvents.push(t);return}this.trackEventInternal(t)}}async trackEventAsyncAfterInit(t){this.isInitialized?this.trackEvent(t):this.initializationPromise&&await this.initializationPromise}trackEventInternal(t){var i,u;const n=this.getFixEventProperties(),s=ji(),o=tS(),r=((i=this.plugin)==null?void 0:i.generateClientEventId(t))??void 0;if(!this.analytics){console.error("Failed to initialize AnalyticsService.");return}const a={name:t.name,data:{...n,eventInfo_clientEventId:r,...t.data},ext:{web:{consentDetails:JSON.stringify({Required:!0,Analytics:s.analytics,SocialMedia:s.socialMedia,Advertising:s.advertising,GPC_DataSharingOptIn:o})}}};(t.data.eventName==="copilotCompose"||t.data.eventName==="copilotAudioInput")&&Ge.emit("composer:send-query",{isNewUser:this.isNewUser,event:t.data}),(u=this.plugin)==null||u.onBeforeTrackEvent(a),this.analytics.track(a)}}const D=new MZ({maxRetries:3,maxPendingEvents:1e3,delay:200,onInitializeError:e=>{console.error("AnalyticsService initialization error:",e)}}),NZ=.03,RZ=.1;function PZ(){return ae.instance().config().sentryDsnOverride??"https://323dd84fb4f632ccd95493debe9312e0@o4508134825000960.ingest.us.sentry.io/4508799962644480"}let xg,yc;async function LZ(e,t){const n=await aC();n&&n.captureReactException(e,t)}async function aC(){if(xg)return xg;if(!It("kill-sentry"))return yc||(yc=(async()=>{try{const t=await B(()=>import("./build-esm-index-CgiG16u7.js"),__vite__mapDeps([2,1]));xg=t;const n=[t.browserTracingIntegration(),t.tanstackRouterBrowserTracingIntegration(La())],s=w4?[t.browserProfilingIntegration()]:[];t.init({dsn:PZ(),release:QB(),sampleRate:RZ,environment:"production",integrations:[...n,...s],tracesSampleRate:NZ,profilesSampleRate:w4?.1:0,replaysSessionSampleRate:0,replaysOnErrorSampleRate:0}),t.setTag("surface","cmc"),t.setTag("isMobile",Kd()?"1":"0"),t.setTag("server",pw());const o=hw();return o&&t.setTag("renderingType",o),yc=void 0,t}catch{yc=void 0;return}})(),yc)}async function OZ(e){const t=await aC();t!==void 0&&t.setUser(e?{id:e}:null)}function gw(e,t){const n=$B(e);D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"ErrorBoundary",eventInfo_errorName:e.name,eventInfo_errorMessage:e.message,eventInfo_errorStack:e.stack??"",eventInfo_componentStack:t.componentStack??"",...n&&{eventInfo_apiRoute:n},...e instanceof C1&&{eventInfo_statusCode:e.statusCode}}}),LZ(e,t)}function sd(e,t,n=!1){D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"APIResponseParseError",eventInfo_apiUrl:t,eventInfo_errors:JSON.stringify(e.format()),eventInfo_safe:n}})}async function U4(e){const t=await WB(e.promise);D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"UnhandledRejection",eventInfo_reason:`${e.reason}`,eventInfo_customData:t}})}function DZ(e,t,n){try{new URL(ta(e)).hostname}catch(s){D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"invalidCitationURL",eventInfo_url:e,eventInfo_errorMessage:s instanceof Error?s.message:"",eventInfo_conversationId:t,eventInfo_messageId:n}})}}function vw(e){D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"PlaybackApiError",eventInfo_errorMessage:e instanceof Error?e.message:"",eventInfo_details:"An error occurred during media playback tracking api call."}})}function jZ(e,t,n){D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"InvalidJsonResponse",eventInfo_apiUrl:n,eventInfo_errorMessage:e.message,eventInfo_errorCode:t.statusText,eventInfo_details:JSON.stringify(Object.fromEntries(t.headers.entries()))}})}const UZ=25,FZ=25,BZ=6e3,VZ=12,HZ=["mica","aqua","erin"];function Cw(e){switch(e){case"mica":case"aqua":case"erin":return e;default:return null}}function zZ(e,t){switch(e){case"mica":return t("characterAnimation.characterNameMica");case"aqua":return t("characterAnimation.characterNameAqua");case"erin":return t("characterAnimation.characterNameErin");default:return""}}function GZ(e,t){return(n,s)=>{D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"CharacterError",eventInfo_details:`animatingMessageId: ${e}, characterId: ${t}, name: ${n.name}, info: ${s.componentStack}`,eventInfo_errorMessage:n.message}}),gw(n,s)}}function WZ(e,t){try{const n=e==null?void 0:e.updatedAt;if(!t||!n)return;const s=new Date(n),o=new Date(t);(s.getTime()-o.getTime())/1e3/60>1&&D.trackEvent({name:"system",data:{eventName:"historyUpdatedAtDiscrepancy",eventInfo_conversationId:e.id,eventInfo_conversationUpdatedAt:n,eventInfo_lastMessageCreatedAt:t}})}catch{}}function iC(e){return e?e.history.some(t=>t.author==="ai"&&t.streamingState==="streaming"):!1}const vn=()=>be("smart-mode-default")?"smart":"chat";function $Z(e){return e.author==="human"}function qZ(e){const t=e.filter($Z);if(t.length===0)return;const n=t[t.length-1];return(n==null?void 0:n.mode)??null}function KZ(e){const t=qZ(e);return t===void 0?"undetermined":t===null?"unknown":t==="coco"?"coco":"non-coco"}function ZZ(e,t){if(t==="undetermined")return e;const n=t==="unknown",s=t==="coco",o=e==="coco";return s?"coco":o?vn():e}gB();const _a=N(!1),yw=N(!1),YZ=N(!1),QZ=N(!1),Zd=N(void 0),vt=N(new Map),je=N(void 0),M2=N(null),Sg=N(void 0),bw=N(e=>e(Sg),(e,t,n)=>{const s=e(Sg);s!==n&&(t(vt,o=>{const r=new Map(o);return s&&r.delete(s),r}),t(Sg,n))}),xw=N(null),hn=N(e=>{const t=e(je);if(t)return e(vt).get(t)}),cC=lv(hn,e=>e?iC(e):!1,(e,t)=>e===t),xwe=e=>lv(vt,t=>{const n=t.get(e);return n?iC(n):!1},(t,n)=>t===n),zc=N(!1),ho=N(new Map),Swe=N([]);N([]);const Ewe=e=>N(t=>t(ho).get(e)),Ta=N(e=>{var t;return((t=e(hn))==null?void 0:t.history)??[]}),Sw=N(e=>{const t=e(hn);return t?KZ(t.history):"undetermined"}),I1=N(e=>{const t=e(vt);for(const n of t.values())if(!n.title&&!n.history.length&&n.isNew)return n.id}),JZ=lv(vt,e=>{if(!(e instanceof Map))return!1;for(const t of e.values()){const{history:n}=t;if(Array.isArray(n)&&n.length>0)return!0}return!1},(e,t)=>e===t),_1=N(new Map),XZ=N(new Map),_u=N(void 0),T1=N([]),lC=N(e=>{var t;return Cw((t=e(hn))==null?void 0:t.characterId)}),bi=N("idle"),Ew=N(!1),Wo=N(null),F4=N("idle"),ni=N("checking-availability"),eY=N(null),ww=N([]),_i=N(null),uC=N(null),dC=N([]),tY=N([]),Iw=N(null),nY=N(e=>e(_i)===0),mC=N(null),fC=N(null),sY=N(null),xi=N(!1),oY=N(!1),_w=N(!1),Tw=N(yS),od=N(void 0),rY=N(!0),Aw=N(null),aY=N(e=>!!e(Aw));N(null);const Il=N(!1),A1=N(void 0),iY=N(void 0),cY=N(e=>{const t=e(hn);return t==null?void 0:t.suggestedFollowup}),wwe=N(void 0),kw=N(null),Iwe=N(!1),lY=N(!1),pC=N(void 0),_we=N(!1),Twe=N(void 0);N(null);const uY=N(!1),Awe=g1({}),Hn=N("chat-only"),kwe=N(null),Mwe=N(null),Nwe=N(null),k1=N(null),Mw=N({}),hC=N(!1),ir=N(null),Nw=N({data:void 0,isLoading:!1}),dY=N(e=>e(Nw).data),Rw=N(e=>e(Nw).isLoading),Of=N(!1),Pw=N(null);N(e=>{const t=e(Pw);return(t==null?void 0:t.lcp)??null});const gC=N(null),mY=N(null),Lw=N(null),N2=ms({key:ZF,schema:Oi(p(),p()),initialValue:{}}),vC=N(null),CC=N(!1),rd=N([]),Ow=N(null),fY=N(null);x({url:p().optional()});const Sn=N(null);x({enabled:he().optional()});function pY(){return!1}const hY="https://www.copilot.com",gY="https://www.copilot-stg.com";function Dw(){return typeof window>"u"?!1:window.location.origin===hY||window.location.origin===gY}function yC(){return Dw()?`${window.location.origin}/c/api`:"https://copilot.microsoft.com/c/api"}function vY(){return wt(f2,he().nullable())===!0}function CY(){return wt(d2,he().nullable())===!0}function yY(){return wt(m2,he().nullable())===!0}function bY(){return wt(p2,he().nullable())===!0}const si={UNDEFINED:"0",CHILD:"1",ADULT:"3",NOT_ADULT:"4",CHILD_NO_PARENTAL_CONSENT_REQUIRED:"5"},xY=x({name:p(),email:p(),ageGroup:ke([si.UNDEFINED,si.CHILD,si.ADULT,si.NOT_ADULT,si.CHILD_NO_PARENTAL_CONSENT_REQUIRED]),sub:p()}),Ss={LOGIN_START:"auth0:loginStart",LOGIN_SUCCESS:"auth0:loginSuccess",LOGIN_FAILURE:"auth0:loginFailure",LOGOUT_SUCCESS:"auth0:logoutSuccess",LOGOUT_FAILURE:"auth0:logoutFailure",ACQUIRE_TOKEN_START:"auth0:acquireTokenStart",ACQUIRE_TOKEN_FAILURE:"auth0:acquireTokenFailure",REAUTH_START:"auth0:reauthStart",REAUTH_SUCCESS:"auth0:reauthSuccess",INITIALIZE_START:"auth0:initializeStart",INITIALIZE_END:"auth0:initializeEnd",ACQUIRE_TOKEN_OVERALL_SUCCESS:"auth0:acquireTokenOverallSuccess",ACQUIRE_TOKEN_OVERALL_FAILURE:"auth0:acquireTokenOverallFailure",ACQUIRE_TOKEN_TIMEOUT:"auth0:acquireTokenTimeout"},xr={ACQUIRE_TOKEN_OVERALL_SUCCESS:"msal:acquireTokenOverallSuccess",ACQUIRE_TOKEN_OVERALL_FAILURE:"msal:acquireTokenOverallFailure",ACQUIRE_TOKEN_TIMEOUT:"msal:acquireTokenTimeout",INTERACTION_IN_PROGRESS:"msal:interactionInProgress",REAUTH_ACQUIRETOKENREDIRECT_START:"msal:reauthAcquireTokenRedirectStart",REAUTH_ACQUIRETOKENREDIRECT_SUCCESS:"msal:reauthAcquireTokenRedirectSuccess",REAUTH_POPUP_SHOW:"msal:reauthPopupShow",RETRIEVE_LOGIN_WITH_LOGIN_HINT_START:"msal:retrieveLoginWithLoginHintStart",RETRIEVE_LOGIN_WITH_LOGIN_HINT_SUCCESS:"msal:retrieveLoginWithLoginHintSuccess"};function M1(){return pY()||!1}function N1(){if(!M1())return"140e65af-45d1-4427-bf08-3e7295db6836/ChatAI.ReadWrite"}const SY={auth:{clientId:"14638111-3389-403d-b206-a6a71d9f8f16",authority:"https://login.microsoftonline.com/common",navigateToLoginRequestUrl:!1},system:{allowPlatformBroker:!1},cache:{cacheLocation:"localStorage"}},EY={auth:{clientId:"14638111-3389-403d-b206-a6a71d9f8f16",authority:"https://login.microsoftonline.com/common",navigateToLoginRequestUrl:!1},system:{allowNativeBroker:!1},cache:{cacheLocation:"localStorage"}},wY={scopes:[N1()],extraQueryParameters:{lw:"1",coa:"1",nopa:"2",fl:"easi2_nowld",cobrandid:"8c0b039e-5a73-4399-9b56-7e237be2cd06"},prompt:"select_account",redirectUri:typeof window<"u"?window.location.origin:void 0},IY={scopes:[N1()],prompt:"none",authority:"https://login.microsoftonline.com/consumers",redirectUri:typeof window<"u"?window.location.origin:void 0};function _Y(){return{...IY,scopes:[N1()]}}function Yd(){return{...wY,scopes:[N1()]}}const B4={scopes:["User.Read"]},TY={scopes:["OneDrive.ReadWrite"],authority:"https://login.microsoftonline.com/consumers"},AY={scopes:["service::http://Passport.NET/purpose::PURPOSE_GETKEYDATA_ANAHEIM"],authority:"https://login.microsoftonline.com/consumers"},bC={graphMeApiSuffix:"/me",graphMeImageApiSuffix:"/me/photo/$value",graphMeLicenseDetails:"/me/licenseDetails"},V4={appName:"copilot_studio",enableMATS:!0,appVersion:"0.0.0"};function kY(){return M1()?void 0:"IalDS3vRtEI5X0zvsmGG7zJP9UrHTcei"}function MY(){return M1()?void 0:"auth.copilot.microsoft.com"}function jw(){return M1()?void 0:"https://copilot.microsoft.com"}function NY(){return{clientId:kY(),domain:MY(),cacheLocation:"localstorage",useRefreshTokens:!0,useRefreshTokensFallback:!0}}const Uw="openid profile email offline_access ChatAI.ReadWrite",Fw=typeof window<"u"?window.location.origin:void 0;function R1(){return{authorizationParams:{audience:jw(),scope:Uw,redirect_uri:Fw}}}function RY(){return{authorizationParams:{audience:jw(),scope:Uw,redirect_uri:Fw,prompt:"select_account"}}}const R2="cp-pro";function PY(e){switch(e){case"login":return Yd();case"graph":return B4;case"oneDrive":return TY;case"decryptionService":return AY;default:return B4}}const LY={actAsBroker:!0,preferredInteractionType:"redirect"};function mt(e,t){$e().set(e,t)}const OY=1e4,DY=1e4,jY=1.8,UY=2.6,Bw={initialDelayMs:100,maxDelayMs:500,backoffFactor:2,maxRetries:2},Vw=["UpsellProToPremium","UpsellProToPremium-FromWinNative","ActionsLimit","ActionsLimit-FromWinNative","ActionsLimit-FromEdgeCopilotMode","DeepResearchLimit","DeepResearchLimit-FromWinNative","DeepResearchLimit-FromEdgeCopilotMode","VisionLimit","VisionLimit-FromWinNative","VisionLimit-FromEdge","VisionLimit-FromEdgeCopilotMode","PodcastLimit","PodcastLimit-FromWinNative","PodcastLimit-FromEdgeCopilotMode","Management","Management-FromWinNative","MarketSelect","Settings","Settings-FromWinNative","ProfileUpdateRequired","VoiceLimit","VideoLimit","UpsellPFToPremium","UpsellPFToPremium-FromWinNative","Unknown"],Rwe={Pageseditor:"pageseditor-supported-features"},FY=["m365-family-classic-guest","m365-family-guest","m365-premium-guest"],BY="App Store",VY="Google Play",HY=["m365-personal","m365-family-admin"],Hw=["m365-family-guest","m365-premium-guest","m365-premium-admin"],zw=["m365-personal","m365-family-admin"],zY=["m365-personal","m365-family-admin"];function xC(e){const t=It("kill-subs-pro-to-premium"),n=e.some(a=>a.tier==="pro"),s=e.some(a=>zY.includes(a.tier)),o=e.some(a=>a.channel!=="direct");return{isEligible:!t&&n&&!o&&(e.length===1||s&&e.length===2),hasM365Transition:s}}const Gw=["m365-personal-classic","m365-premium-guest","m365-family-guest","m365-family-classic-admin","m365-family-classic-guest","m365-basic"],Ww=["m365-family-admin","m365-personal"],P1=["m365-premium-admin","pro"],H4=[...P1,...Ww,...Gw];function GY(e,t=!1){if(e.length===0)return t?"buypremium":"buym365";if(e.some(n=>n.tier==="pro")){if(It("kill-subs-pro-to-premium"))return null;const{isEligible:n,hasM365Transition:s}=xC(e);return n?s?"switchpremiumm365dual":"switchpremiumsolo":"buypremium"}return e.some(n=>Hw.includes(n.tier))?null:e.some(n=>zw.includes(n.tier))||t?"upgradepremium":"upgradem365"}function WY(e,t=[]){return t.length===0?null:e.length===0?t.includes("m365-personal")?"buym365":t.includes("m365-premium")?"buypremium":null:t.includes("m365-personal")?e.some(n=>Gw.includes(n.tier))?"upgradem365":null:t.includes("m365-premium")?e.some(n=>P1.includes(n.tier))?null:"upgradepremium":null}function Pwe(e){return["m365-personal","m365-family-admin","m365-premium-admin"].find(n=>n===e)??null}function Lwe(e){var t;return e.length>0&&((t=$w(e)[0])==null?void 0:t.tier)!=="pro"}function Owe(e){return e.some(t=>HY.includes(t.tier))&&!e.some(t=>P1.includes(t.tier))}function $w(e){return e.slice().sort((t,n)=>H4.indexOf(t.tier)-H4.indexOf(n.tier))}function Dwe(e){const t=e.find(n=>n.tier==="pro");return(t==null?void 0:t.isAutoRenew)??!1}function $Y(e){const t=e==null?void 0:e.tier,n=e==null?void 0:e.channel,s=t!==void 0&&!FY.includes(t)&&(n==="apple"||n==="google");return{shouldRedirectMobile:s,redirectMobileSource:s?n:null}}function jwe({isPro:e,subscriptions:t}){if(t.length===0&&!e)return!0;if(e){const{isEligible:n}=xC(t);return n}return!1}function qY(e){return e.toLowerCase()==="zh-hant"?"zh-TW":e}function Uwe(e,t){const n=t?`${e}-From${t}`:e;return Vw.find(s=>s.toLowerCase()===n.toLowerCase())??"Unknown"}function Fwe(e){if(!e)return"settings.accountPlan.freePlan";switch(e.tier){case"pro":return"settings.accountPlan.proPlan";case"m365-premium-admin":return"settings.accountPlan.premiumPlan";case"m365-family-admin":return"settings.accountPlan.familyPlan";case"m365-personal":return"settings.accountPlan.personalPlan";default:return null}}const Aa="ellie",qw=[Aa],z4=Pe([ke(qw),H8()]),KY=x({model:w("vasa"),eyesOpenRatio:L(j()).min(1),eyesPose:L(j()).min(6),jawPose:L(j()).length(3),neckPose:L(j()).length(3),rotation:L(j()).length(3),translation:L(j()).length(3),viseme:L(j()).min(10)}),ZY=x({model:w("spda2e"),poseDiffusion:L(j())}),YY=x({type:w("summary"),text:p()}),QY=x({type:w("topicList"),id:p(),topics:L(x({text:p()})).nullable(),selectedIndex:j().nullable()}),JY=st("type",[QY,YY]).nullable(),XY=Pe([p(),j(),he(),_d()]),ad=oO(()=>Pe([XY,L(ad),Oi(p(),ad)])),eQ=x({op:w("add"),path:p(),value:ad}),tQ=x({op:w("remove"),path:p()}),nQ=x({op:w("replace"),path:p(),value:ad}),sQ=x({op:w("move"),from:p(),path:p()}),oQ=x({op:w("copy"),from:p(),path:p()}),rQ=x({op:w("test"),path:p(),value:ad}),aQ=st("op",[eQ,tQ,nQ,sQ,oQ,rQ]),Eg=L(aQ),iQ=Pe([w("event-not-recognized"),w("over-turn-limit"),w("unknown-error"),w("message-too-large"),w("invalid-event"),w("empty-message"),w("empty-text"),w("text-too-long"),w("multiple-text-parts"),w("multiple-image-parts"),w("too-many-messages"),w("over-lifetime-task-quota"),w("over-task-quota"),w("page-content-length-exceeded"),w("page-count-exceeded"),w("character-out-of-capacity"),p()]),cQ=Pe([w("blocked"),w("not-signed-in"),w("failed"),p()]),Kw=Pe([w("quiz"),w("generative-ui"),w("flashcard")]),Zw=Pe([w("throttled"),w("throttled-non-pro"),w("time-expired"),w("time-expired-non-pro"),w("not-in-flight"),w("error"),w("signed-out"),w("region-not-available"),w("time-expired-month"),w("time-expired-month-non-pro")]),lQ=Pe([w("throttled"),w("error"),w("time-expired"),w("inactivity")]),uQ=ke(["human","ai"]),dQ=x({voice:p().optional(),speed:j().min(50).max(200).optional(),initiator:uQ.optional()}).partial(),G4=j().min(0).max(200).prefault(100),W4=Pe([w("standard"),w("character")]),$4=st("event",[xl,x({event:w("pong"),id:p()}),x({event:w("connected"),id:p(),requestId:p()}),x({event:w("received"),conversationId:p(),messageId:p(),createdAt:p()}),x({event:w("newMessage"),id:p(),conversationId:p(),message:iw}),x({event:w("emojiReaction"),messageId:p(),emoji:p()}),x({event:w("startMessage"),conversationId:p(),messageId:p(),createdAt:p()}),x({event:w("appendText"),messageId:p(),text:p(),partId:p()}),x({event:w("replaceText"),messageId:p(),text:p(),partId:p()}),x({event:w("titleUpdate"),conversationId:p(),title:p()}),x({event:w("generatingImage"),messageId:p(),prompt:p(),partId:p(),progressionText:p().nullable().optional()}),x({id:p(),event:w("generatingImages"),messageId:p(),partIds:L(p()),prompt:p()}),x({event:w("imageGenerated"),messageId:p(),url:p(),partId:p()}),x({event:w("partialImageGenerated"),messageId:p(),url:p(),partId:p(),content:p()}),x({event:w("page"),messageId:p(),partId:p(),page:x({id:p(),conversationId:p(),title:p().nullish()})}),x({event:w("challenge"),method:Pe([w("copilot"),w("hashcash"),w("cloudflare")]).nullish(),parameter:p().nullish()}),x({event:w("imageGenerationFailed"),messageId:p(),errorCode:cQ,partId:p()}),x({id:p(),event:w("generatingCard"),messageId:p(),partId:p(),type:Kw}),x({id:p(),event:w("cardGenerationFailed"),messageId:p(),partId:p()}),x({event:w("transcriptEvent"),text:p()}),x({event:w("audioStart"),conversationId:p()}),x({event:w("audio"),audio:p()}),x({event:w("audioStartFailed"),reason:Zw}),x({event:w("audioTimeRemaining"),seconds:j()}),x({event:w("callTerminated"),reason:lQ}),x({event:w("audioEnd")}),x({event:w("callEnded"),id:p()}),x({event:w("audioConfig"),options:dQ}),x({event:w("interruptAudio")}),x({event:w("speechEndDetected")}),x({event:w("speechStartDetected")}),x({event:w("citation"),messageId:p(),url:p(),title:p(),partId:p(),iconUrl:p().nullable(),publisher:p().nullable(),snippet:p().nullish()}),x({event:w("chainOfThought"),messageId:p(),partId:p(),text:p()}),x({event:w("turnLimitReached"),id:p()}),x({event:w("done"),messageId:p()}),x({event:w("error"),errorCode:iQ}),x({event:w("card"),messageId:p(),partId:p(),card:UE}),x({event:w("document"),messageId:p(),partId:p(),attachmentId:p(),fileName:p(),contentType:Vd}),x({event:w("callUI"),id:p(),callUI:JY}),x({event:w("callUIUpdate"),id:p(),update:Eg}),x({event:w("banned"),expiresAt:p()}),x({id:p(),event:w("suggestedFollowups"),messageId:p(),suggestions:L(p())}),x({event:w("taskStart"),id:p(),messageId:p(),partId:p(),task:sw}),x({event:w("taskUpdate"),id:p().nullish(),taskId:p(),update:Eg}),x({event:w("startSuggestion"),id:p(),pageId:p(),suggestionId:p(),editTargets:L(x({startIndex:j(),endIndex:j()}))}),x({event:w("appendSuggestion"),id:p(),pageId:p(),suggestionId:p(),text:p()}),x({event:w("characterAnimation"),id:p(),offsetInMilliseconds:j().nullable().optional(),frame:st("model",[KY,ZY]).nullable().optional()}),x({event:w("characterAnimationEnd"),messageId:p()}),x({event:w("setCallType"),callType:W4}),x({event:w("callTypeChanged"),callType:W4}),x({event:w("activityStart"),activity:MS,id:p(),messageId:p(),partId:p()}),x({event:w("activityUpdate"),id:p(),messageId:p(),partId:p(),update:Eg}),x({event:w("memorySignal"),messageId:p(),partId:p(),text:p(),signalType:Pe([w("remember"),w("forget")]).nullish()}),x({event:w("sideBySideComparison"),id:p(),conversationId:p(),sideBySideComparisonId:p(),defaultMessageId:p(),options:L(x({messageId:p(),position:Pe([w("left"),w("right")])}))}),x({event:w("characterEmotion"),emotion:p(),bodyReaction:p()}),x({event:w("modeSelected"),id:p(),messageId:p(),mode:Pe([w("chat"),w("reasoning")])}),x({event:w("partCompleted"),id:p(),messageId:p(),partId:p()}),x({event:w("characterAppearance"),body:x({primaryColor:p().nullable(),secondaryColor:p().nullable(),leftAccentColor:p().nullable(),rightAccentColor:p().nullable(),colorParticles:p().nullable().optional(),shape:p().nullable().optional()}),props:x({hat:p().nullable().optional(),glasses:p().nullable().optional(),accessory:p().nullable().optional()}).optional(),id:p()}),x({event:w("browserAutomate"),messageId:p(),partId:p(),tabIds:L(j()),activeTabId:j().optional()}),x({event:w("relatedSearchResultsAvailable"),messageId:p()}),x({event:w("participantUpdate"),conversationId:p(),participant:x({userId:p(),userDisplayName:p()}),updateType:Pe([w("kicked"),w("joined"),w("left")]),id:p()}),x({event:w("suggestVision"),conversationId:p()})]),Yw={kNotPresent:0,kAccepted:1},Bwe={kNoError:0,kUnknownError:1,kNoConsent:2,kBlockedByDlp:3,kNotSupportedError:4,kNetworkError:5,kNoVideoTranscript:6,kNoWebContents:7,kNoDocumentHelper:8},Vwe={kNotYetDetermined:0,kWeb:1,kVideoTranscript:4};function Hwe(e){return typeof e=="object"&&e!==null&&"eventName"in e&&"requestId"in e&&(!("isOutgoing"in e)||!e.isOutgoing)&&"args"in e}const Yt=N(void 0),Qd=N(e=>e(Yt)!==void 0),Qw=ms({key:oS,schema:p().optional(),initialValue:void 0}),Jw=N(e=>{const t=e(Yt),n=e(Qw);return t===void 0?n:t.firstName??t.givenName}),L1=N(e=>{var t;return(t=e(Yt))==null?void 0:t.id}),Jd=N(void 0),zwe=N(e=>e(T1).find(t=>t.id===e(Jd))),Gwe=N(e=>{var s,o;const t=e(T1),n=e(Jd)??((s=t[0])==null?void 0:s.id);return(o=t.find(r=>r.id===n))==null?void 0:o.voicemails}),mQ=ms({key:g4,schema:G4,initialValue:wt(g4,G4)??Ud}),bo=ms({key:m4,schema:z4,initialValue:wt(m4,z4)??void 0}),fQ=ms({key:zF,schema:he().optional(),initialValue:void 0}),Wwe=ms({key:f4,schema:he(),initialValue:wt(f4,he())??!1}),Xw=N(null),Xd=N(null),eI=N(e=>e(dC).find(t=>t.id===e(Xd))),$we=N(!1),qwe=N(Yw.kNotPresent),Kwe=N(Yw.kNotPresent),tI=N(void 0),SC=N(!1),O1=N(void 0),pQ=N(!1);N(!1);const nI=N(void 0),hQ=N(!1),gQ=N(!1),vQ=N(!1),sI=N(void 0),oI=N(void 0),D1=N(null),em=N(null),j1=N(null),CQ=N(!0),Zwe=N(!1),Ywe=N(!1),rI=N(e=>{const t=e(Yt),n=(t==null?void 0:t.subscriptions)??[];return n.some(s=>s.tier==="pro")&&!n.some(s=>s.tier==="m365-premium-admin")}),yQ=N(e=>{var t;return(t=e(Yt))==null?void 0:t.isStudent}),aI=N(e=>{var t;return(t=e(Yt))==null?void 0:t.inEeaPlusRegion}),Mn=N(void 0),bQ=N(!1);N(e=>{const t=e(Mn);return t&&jB.includes(t)});const iI=N(void 0),Qwe=N(e=>{var t;return((t=e(Yt))==null?void 0:t.isEligibleForFreeTrial)??!1}),cI=N(void 0),tm=N(e=>{var t;return((t=e(Yt))==null?void 0:t.ageGroup)==="teen"}),Jwe=N(!1),Xwe=N(e=>{var t;return(t=e(Yt))==null?void 0:t.allowedToggles.computerUseActions}),xQ=N(e=>{var t;return(t=e(Yt))==null?void 0:t.allowedToggles.personalization}),SQ=N(e=>{var t;return(t=e(Yt))==null?void 0:t.allowedToggles.textTraining}),EQ=N(e=>{var t;return(t=e(Yt))==null?void 0:t.allowedToggles.voiceTraining}),lI=N(!1),uI=N(null),nm=N(e=>{var t,n;return((n=(t=e(Yt))==null?void 0:t.subscriptions)==null?void 0:n.filter(s=>KE.safeParse(s.tier).success))??[]}),Ki=N(e=>{const t=e(nm);return $w(t)[0]}),wQ=N(e=>{const t=e(Ki);return(t==null?void 0:t.tier)??"free"}),IQ=N(null),EC=N(null);N(e=>{var t;return((t=e(Yt))==null?void 0:t.accountTier)??null});const _Q=N(e=>{var n;const t=(n=e(Ki))==null?void 0:n.tier;return t!==void 0&&Ww.includes(t)}),wC=N(e=>{var n;const t=(n=e(Ki))==null?void 0:n.tier;return t!==void 0&&P1.includes(t)}),U1=N(e=>{const t=e(_Q),n=e(wC);return t||n}),TQ=N(e=>e(nm).length>0);function dI(e,t,n){return n!==void 0?n:t&&!e}function Qt(){const e=M(iI),t=M(Ui),n=!!M(cn);return dI(t,n,e)}function F1(){const e=$e(),t=e.get(iI),n=e.get(Ui),s=!!e.get(cn);return dI(n,s,t)}const AQ=ke(["upgrade-subscription","mobile-cross-selling","mac-cross-selling"]),mI={connectorConsentFlowStartUrl:p(),parsedPayflowEntryPoint:ke(Vw),payflowAuthHint:p(),payflowCorrelationId:p(),payflowInstanceId:p(),payflowRequiresPremium:he(),reauthAcquireTokenStartTime:p(),redirectPathOnNextStart:p(),retrieveLoginWithLoginHintStartTime:p(),settingsPromoteContent:AQ,shouldStartSubscription:he(),"sticky-conversation-mode":wa};function $s(e,t){if(typeof sessionStorage>"u")return!1;try{return mI[e].parse(t),sessionStorage.setItem(e,JSON.stringify(t)),!0}catch{return!1}}function Dn(e){if(typeof sessionStorage>"u")return null;const t=sessionStorage.getItem(e);if(!t)return null;try{const n=JSON.parse(t);return mI[e].parse(n)}catch{return null}}function na(e){typeof sessionStorage>"u"||sessionStorage.removeItem(e)}async function kQ(e){var s;const t=(s=e.body)==null?void 0:s.getReader();if(!t)return 0;let n=0;try{const o=performance.now();for(;performance.now()-o<2e3;){const{value:r,done:a}=await t.read();if(a)break;n+=r.byteLength}return n}catch{return 0}}const MQ=1e3;function $t(e){D.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:e.source,eventInfo_clickScenario:e.scenario,eventInfo_clickDestination:e.destination,eventInfo_conversationId:e.conversationId,eventInfo_podcastId:e.podcastId,eventInfo_messageId:e.messageId,eventInfo_mode:e.chatMode,eventInfo_messageType:e.messageType,eventInfo_cardType:e.cardType,eventInfo_merchantPlatform:e.merchantPlatform,eventInfo_additionalData:e.additionalData?JSON.stringify(e.additionalData):void 0}})}function ye(e){D.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_pageName:e.pageName,eventInfo_sectionName:e.sectionName,eventInfo_clickSource:e.source,eventInfo_clickScenario:e.scenario,eventInfo_clickDestination:e.destination,eventInfo_conversationId:e.conversationId,eventInfo_customData:e.customData}})}const NQ=30*60*1e3;function fI(e){const t=Date.now(),n={eventInfo_pageName:e.pageName,eventInfo_sectionName:e.sectionName,eventInfo_clickSource:e.source,eventInfo_clickScenario:e.scenario,eventInfo_conversationId:e.conversationId,eventInfo_correlationId:`${e.conversationId}-${t}`};D.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickDestination:e.destination,eventInfo_customData:e.customData,...n}});let s=!1,o=null;const r=()=>{o!==null&&(window.clearTimeout(o),o=null),document.removeEventListener("visibilitychange",a)},a=()=>{if(document.visibilityState==="visible"&&!s){s=!0;const i=Math.floor((Date.now()-t)/1e3);D.trackEvent({name:"interaction",data:{eventName:"copilotClickDwellTime",eventInfo_dwellTime:i,...n}}),r()}};document.addEventListener("visibilitychange",a),o=window.setTimeout(()=>{r()},NQ)}function un(e){D.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionScenario:e.scenario,eventInfo_impressionPage:e.page,eventInfo_impressionElement:e.element,eventInfo_status:e.status,eventInfo_customData:e.customData}})}function go(e){D.trackEvent({name:"health",data:{eventName:"copilotFeatureSuccess",eventInfo_feature:e.feature,eventInfo_scenario:e.scenario,eventInfo_duration:e.duration,eventInfo_customData:e.customData}})}function qt(e){D.trackEvent({name:"health",data:{eventName:"copilotError",eventInfo_feature:e.feature,eventInfo_scenario:e.scenario,eventInfo_errorType:e.errorType,eventInfo_errorMessage:e.errorMessage,eventInfo_exception:e.exception,eventInfo_customData:e.customData}})}function RQ(e){D.trackEvent({name:"interaction",data:{eventName:"copilotSettingChange",eventInfo_settingName:e.settingName,eventInfo_settingOldValue:e.oldValue,eventInfo_settingNewValue:e.newValue}})}function pI(e,t=MQ){let n;function s(){n=window.setTimeout(()=>{e()},t)}function o(){window.clearTimeout(n)}return{onHoverStart:s,onHoverEnd:o}}function hI(e,t,n,s){setTimeout(async()=>{try{const{status:o}=s,r=await kQ(s),a=s.headers.get("x-ceto-ref")??"";D.trackEvent({name:"apiresponse",data:{eventName:"copilotApiResponse",eventInfo_path:e,eventInfo_method:t,eventInfo_status:o,eventInfo_duration:n,eventInfo_responseContentLength:r,eventInfo_cetoRef:a}})}catch{}},0)}function q4(){performance.mark("userSession-end",{startTime:performance.now()});const{duration:e}=performance.measure("userSession-duration","startupTime-begin","userSession-end");D.trackEvent({name:"system",data:{eventName:"copilotExitEvent",eventInfo_duration:e}})}function PQ(e,t,n){D.trackEvent({name:"interaction",data:{eventName:"copilotComposerInput",eventInfo_conversationId:e,eventInfo_inputMethod:t,eventInfo_customData:n}})}function LQ(e){D.trackEvent({name:"interaction",data:{eventName:"copilotScroll",eventInfo_ScrollSource:e.scrollSource,eventInfo_ScrollStartX:e.scrollStartX,eventInfo_ScrollStartY:e.scrollStartY,eventInfo_ScrollEndX:e.scrollEndX,eventInfo_ScrollEndY:e.scrollEndY,eventInfo_ScrollDuration:e.scrollDuration,eventInfo_userInitiated:e.userInitiated,eventInfo_customData:e.customData}})}const P2="authInitStartTime";function gI(e,t){if(F1()){const s=$e().get(cn),o=s==null?void 0:s.accountType;qt({feature:"api",scenario:t,errorType:"missingToken",errorMessage:`User is authenticated but no token was available for ${t==="getWssAPIUrl"?"WebSocket connection":"API request"}`,customData:JSON.stringify({path:e,accountType:o})})}}function vI(e,t){const s=$e().get(cn),o=s==null?void 0:s.accountType,r=s==null?void 0:s.provider,a=s==null?void 0:s.tenantId;o||qt({feature:"api",scenario:t,errorType:"emptyAccountTypeWithToken",errorMessage:`Can get the token but with no user account type ${t==="getWssAPIUrl"?"WebSocket connection":"API request"}`,customData:JSON.stringify({path:e,provider:r,tenantId:a})})}function CI(e){const{providerType:t,apiName:n,extraInfo:s}=e,o=Date.now().toString();ma(P2,o),D.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_apiName:n,eventInfo_success:!0,eventInfo_customData:JSON.stringify({eventInfo_providerType:t,...s})}})}function yI(e){const{providerType:t,apiName:n,extraInfo:s}=e,o=Date.now(),r=hr(P2);if(r){const a=parseFloat(r),i=o-a;sessionStorage.removeItem(P2),D.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_apiName:n,eventInfo_success:!0,eventInfo_duration:i,eventInfo_customData:JSON.stringify({eventInfo_providerType:t,...s})}})}}function bI(e){const{authWorkflowAccountType:t,interactionType:n,correlationId:s,prompt:o,redirectUri:r,apiName:a,extraInfo:i}=e,u=Date.now().toString();An(l2,u),D.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_apiName:a,eventInfo_success:!0,eventInfo_customData:JSON.stringify({eventInfo_authWorkflowAccountType:t??"unknown",eventInfo_interactionType:n??"",eventInfo_correlationId:s??"",eventInfo_prompt:o??"",eventInfo_redirectUri:r??"",...i})}})}function xI(e){const{authWorkflowAccountType:t,isMSA:n,authority:s,correlationId:o,interactionType:r,apiName:a,extraInfo:i}=e,u=Date.now(),d=rn(l2);let m;if(d){const f=parseFloat(d);m=u-f,jt(l2)}D.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_apiName:a,eventInfo_success:!0,eventInfo_customData:JSON.stringify({eventInfo_authWorkflowAccountType:t??"unknown",eventInfo_interactionType:r,eventInfo_correlationId:o,eventInfo_authority:s,eventInfo_isMSA:n??!1,...i}),eventInfo_duration:m??0}})}function SI(e){const{providerType:t,apiName:n,extraInfo:s}=e;D.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_success:!0,eventInfo_apiName:n,eventInfo_customData:JSON.stringify({eventInfo_providerType:t,...s})}})}function Fo(e){const{authWorkflowAccountType:t,apiName:n,duration:s,extraInfo:o}=e;D.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_success:!0,eventInfo_apiName:n,eventInfo_duration:s??0,eventInfo_customData:JSON.stringify({eventInfo_authWorkflowAccountType:t??"unknown",eventInfo_wasInBackground:B1(),...o})}})}async function EI(e){const{authWorkflowAccountType:t,apiName:n,duration:s,extraInfo:o}=e;await D.trackEventAsyncAfterInit({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_success:!0,eventInfo_apiName:n,eventInfo_duration:s??0,eventInfo_customData:JSON.stringify({eventInfo_authWorkflowAccountType:t??"unknown",eventInfo_wasInBackground:B1(),...o})}})}function fa(e){const{authWorkflowAccountType:t,apiName:n,errorMessage:s,errorType:o,errorExtraInfo:r,errorCode:a,extraInfo:i}=e;D.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_success:!1,eventInfo_apiName:n,eventInfo_errorType:o,eventInfo_errorMessage:s,eventInfo_errorCode:a,eventInfo_customData:JSON.stringify({eventInfo_authWorkflowAccountType:t??"unknown",eventInfo_wasInBackground:B1(),...i,...r})}})}function wg(e){const{authWorkflowAccountType:t,apiName:n}=e;An(u2,"1"),D.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_success:!0,eventInfo_apiName:n,eventInfo_customData:JSON.stringify({eventInfo_authWorkflowAccountType:t})}})}function OQ(e){const{authWorkflowAccountType:t,apiName:n,duration:s}=e,o=rn(u2);o==="1"&&jt(u2),o==="1"&&D.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_success:!0,eventInfo_apiName:n,eventInfo_duration:s??0,eventInfo_customData:JSON.stringify({eventInfo_authWorkflowAccountType:t})}})}function IC(e,t){return{eventInfo_requestType:t,eventInfo_retryAttemptCount:e.attemptCount,eventInfo_retryStartTime:e.startTime,eventInfo_retryEndDelay:e.endTime,eventInfo_retryDelayTimings:e.delayTimings.join(","),eventInfo_allErrors:JSON.stringify(e.errors),eventInfo_wasInBackground:B1()}}function wI(e,t,n){Fo({authWorkflowAccountType:n,apiName:n==="microsoft"?xr.ACQUIRE_TOKEN_OVERALL_SUCCESS:Ss.ACQUIRE_TOKEN_OVERALL_SUCCESS,extraInfo:IC(e,t)})}function II(e,t,n){const s=IC(e,t),o=e.errors[e.errors.length-1];fa({authWorkflowAccountType:n,apiName:n==="microsoft"?xr.ACQUIRE_TOKEN_OVERALL_FAILURE:Ss.ACQUIRE_TOKEN_OVERALL_FAILURE,errorType:(o==null?void 0:o.errorType)??"unknown",errorMessage:(o==null?void 0:o.errorMessage)??"unknown error",extraInfo:{...s,eventInfo_exitReason:e.exitReason}})}function _I(e,t,n){const s=IC(e,t);fa({authWorkflowAccountType:n,apiName:n==="microsoft"?xr.ACQUIRE_TOKEN_TIMEOUT:Ss.ACQUIRE_TOKEN_TIMEOUT,errorType:"RequestTimeoutError",errorMessage:`Token acquisition timed out on attempt ${e.attemptCount}`,extraInfo:{...s,eventInfo_totalDuration:e.endTime-e.startTime}})}function DQ(e){const t=e instanceof Error?e.message:String(e);D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"GraphAPITimeout",eventInfo_errorMessage:t,eventInfo_details:"Student status check failed or timed out"}})}function B1(){return typeof document<"u"&&document.visibilityState==="hidden"}async function jQ(e){$s("reauthAcquireTokenStartTime",Date.now().toString()),await EI({apiName:xr.REAUTH_ACQUIRETOKENREDIRECT_START,authWorkflowAccountType:"microsoft",extraInfo:{eventInfo_errorMessage:e.errorMessage,eventInfo_correlationId:e.correlationId}})}function UQ(){const e=Dn("reauthAcquireTokenStartTime"),t=Date.now();if(e){const n=t-parseInt(e,10);$s("reauthAcquireTokenStartTime",""),Fo({apiName:xr.REAUTH_ACQUIRETOKENREDIRECT_SUCCESS,authWorkflowAccountType:"microsoft",extraInfo:{eventInfo_duration:n}})}}function FQ(e){Fo({apiName:xr.REAUTH_POPUP_SHOW,authWorkflowAccountType:"microsoft",extraInfo:{eventInfo_errorMessage:e}})}async function BQ(){$s("retrieveLoginWithLoginHintStartTime",Date.now().toString()),await EI({apiName:xr.RETRIEVE_LOGIN_WITH_LOGIN_HINT_START,authWorkflowAccountType:"microsoft"})}function VQ(){const e=Dn("retrieveLoginWithLoginHintStartTime"),t=Date.now();if(e){const n=t-parseInt(e,10);$s("retrieveLoginWithLoginHintStartTime",""),Fo({apiName:xr.RETRIEVE_LOGIN_WITH_LOGIN_HINT_SUCCESS,authWorkflowAccountType:"microsoft",extraInfo:{eventInfo_duration:n}})}}var Id,Kr,Yc,rr;class Zi{constructor(t,n){Vt(this,Id);Vt(this,Kr,null);Vt(this,Yc);Vt(this,rr,null);yt(this,Id,t),yt(this,Yc,n)}async get(t){return(de(this,rr)===null||de(this,Yc)&&(!de(this,Kr)||de(this,Kr)<Date.now()-de(this,Yc)))&&(yt(this,rr,de(this,Id).call(this,t)),yt(this,Kr,Date.now())),de(this,rr)}set(t){yt(this,rr,t),yt(this,Kr,Date.now())}reset(){yt(this,rr,null),yt(this,Kr,null)}get isInstantiated(){return de(this,rr)!==null}}Id=new WeakMap,Kr=new WeakMap,Yc=new WeakMap,rr=new WeakMap;function sm(e){return new Promise(t=>{setTimeout(t,e)})}class om extends Error{constructor(n,s){super(s??`Request timed out after ${n}ms`);O(this,"name","RequestTimeoutError");O(this,"timeoutMs");this.timeoutMs=n,Object.setPrototypeOf(this,om.prototype)}}async function HQ(e,t){const n=new AbortController,s=setTimeout(()=>{n.abort()},t);try{const o=await e(n);return clearTimeout(s),o}catch(o){throw clearTimeout(s),n.signal.aborted||o instanceof Error&&o.name==="AbortError"?new om(t):o}}async function TI(e,t,n,s,o){let r=s!==void 0&&n!==void 0?t*s**n:t,a;const i=new Promise((d,m)=>{a=setTimeout(()=>{m(new om(r))},r)}),u=e().then(d=>(clearTimeout(a),d)).catch(d=>{throw clearTimeout(a),d});return Promise.race([u,i])}function zQ(e){return e instanceof om}const GQ={maxRetries:2,initialDelayMs:100,maxDelayMs:500,backoffFactor:2,jitterFactor:.1};function WQ(e){return e instanceof Error?{errorType:e.name,errorMessage:e.message}:{errorType:"Unknown",errorMessage:String(e)}}function $Q(e,t,n,s){const o=e.maxDurationMs!==void 0&&s>=e.maxDurationMs;return n>e.maxRetries?{shouldExit:!0,exitReason:"maxRetriesReached"}:o?{shouldExit:!0,exitReason:"maxDurationReached"}:e.shouldRetry&&!e.shouldRetry(t)?{shouldExit:!0,exitReason:"shouldRetryFalse"}:{shouldExit:!1,exitReason:null}}function qQ(e,t){const n=t.jitterFactor?e*t.jitterFactor*(Math.random()*2-1):0,s=e+n;return Math.min(Math.max(s,0),t.maxDelayMs)}async function rm(e,t={}){var u,d,m,f;const n={...GQ,...t},s=performance.now();let o=n.initialDelayMs,r=0;const a=[],i=[];for(let h=0;h<=n.maxRetries;h+=1)try{const g=await e(h),C=performance.now();return(u=n.onSuccess)==null||u.call(n,{attemptCount:h+1,delayTimings:i,startTime:s,endTime:C,errors:a}),g}catch(g){r=h+1,a.push(WQ(g));const C=performance.now(),v=zQ(g);if(v&&n.onTimeout&&n.onTimeout({attemptCount:h+1,delayTimings:i,startTime:s,endTime:C,errors:a}),h===n.maxRetries)throw(d=n.onFailure)==null||d.call(n,{attemptCount:h+1,delayTimings:i,startTime:s,endTime:C,errors:a,exitReason:v?"requestTimeout":"maxRetriesReached"}),g;const y=C-s,{shouldExit:b,exitReason:E}=$Q(n,g,r,y);if(b)throw(m=n.onFailure)==null||m.call(n,{attemptCount:h+1,delayTimings:i,startTime:s,endTime:C,errors:a,exitReason:E}),g;let S=qQ(o,n);if(n.maxDurationMs!==void 0){const A=n.maxDurationMs-y;if(A<=0)throw(f=n.onFailure)==null||f.call(n,{attemptCount:h+1,delayTimings:i,startTime:s,endTime:C,errors:a,exitReason:"maxDurationReached"}),g;S=Math.min(S,A)}const I=performance.now();await sm(S);const T=performance.now()-I;i.push(T),o=Math.min(o*n.backoffFactor,n.maxDelayMs)}throw new Error("Unexpected end of retry loop")}const Do=new Zi(KQ);async function KQ(){CI({apiName:Ss.INITIALIZE_START,providerType:"auth0"});const e=await rO(NY());yI({apiName:Ss.INITIALIZE_END,providerType:"auth0"});const t=new Map([["on",null],["off",null],["cache-only",null]]);async function n(r,a){const i=performance.now();Fo({authWorkflowAccountType:a,apiName:Ss.ACQUIRE_TOKEN_START});const u=yY();try{if(!u){const h=await e.getTokenSilently(r),g=performance.now();return go({feature:"auth0SdkUsage",scenario:"getAuth0AccessToken",duration:g-i,customData:JSON.stringify({cacheMode:r.cacheMode??"on"})}),h}const d={...Bw,shouldRetry:h=>!(h instanceof _b&&h.error==="login_required"),onSuccess:h=>wI(h,"graph",a??"google"),onFailure:h=>II(h,"graph",a??"google"),onTimeout:h=>_I(h,"graph",a??"google")},m=await rm((h=0)=>TI(()=>e.getTokenSilently(r),DY,h,UY),d),f=performance.now();return go({feature:"auth0SdkUsage",scenario:"getAuth0AccessToken",duration:f-i,customData:JSON.stringify({cacheMode:r.cacheMode??"on"})}),m}catch(d){d instanceof _b?(o({options:r,startTime:i,authWorkflowAccountType:a,errorType:d.error,errorMessage:d.error_description,exception:d.stack}),d.error==="login_required"&&mt(Yr,{reason:"token-expired",provider:"auth0"})):d instanceof Error?o({options:r,startTime:i,authWorkflowAccountType:a,errorType:d.name,errorMessage:d.message,exception:d.stack}):o({options:r,startTime:i,authWorkflowAccountType:a,errorType:"unknown",errorMessage:`${d}`});return}}async function s(r){const a=await e.getUser();if(!a)return;const i=a.sub&&a.sub.startsWith("google")?"google":"apple",u=r.cacheMode??"on",d=t.get(u);if(!d){const m=n(r,i);t.set(u,m);const f=await m;return t.set(u,null),f}return d}function o(r){const{startTime:a,options:i,authWorkflowAccountType:u,errorType:d,errorMessage:m,exception:f}=r;fa({authWorkflowAccountType:u,apiName:Ss.ACQUIRE_TOKEN_FAILURE,errorType:d,errorMessage:m,errorExtraInfo:{eventInfo_providerType:"auth0",eventInfo_exception:f??"",cacheMode:i.cacheMode??"on",duration:performance.now()-a}})}return{auth0:e,getAuth0AccessToken:s}}function _C(e){const t=e.split(".")[1];if(t===void 0)return;const n=t.replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(n).split("").map(o=>`%${`00${o.charCodeAt(0).toString(16)}`.slice(-2)}`).join(""));try{const o=JSON.parse(s);return xY.parse(o)}catch{return}}async function ZQ(e,t){const{getAuth0AccessToken:n}=await Do.get(),{authorizationParams:s}=R1(),o={...s,dob:e,ctry:t},r=await n({authorizationParams:o,cacheMode:"off"});if(!r)return;const a=_C(r);if(a)return a}async function YQ(){const{getAuth0AccessToken:e}=await Do.get(),t=await e(R1());if(!t)return;const n=_C(t);if(n){if(n.sub.startsWith("google"))return"Google";if(n.sub.startsWith("apple"))return"Apple"}}function QQ(e){switch(e){case"apple":return"Apple";case"google":return"Google";case"msa":return"MSA";default:return}}function JQ(){const e=wt(up,p());return vY()&&(!e||!e.startsWith("3."))}const L2=new BroadcastChannel("cp.broadcast");class XQ{constructor(){O(this,"hasTrackedRedirectError",!1);O(this,"CODE_RE",/[?&]code=[^&]+/);O(this,"STATE_RE",/[?&]state=[^&]+/);O(this,"ERROR_RE",/[?&]error=[^&]+/)}async handleRedirectWithoutAccount(){try{const{auth0:t}=await Do.get();if(this.hasAuthParams()){const n=performance.now();await t.handleRedirectCallback();const s=performance.now();go({feature:"auth0SdkUsage",scenario:"handleRedirect",duration:s-n});const o=await t.getUser();if(!o)return;const r=o.sub?this.getTokenType(o.sub):void 0;xI({apiName:Ss.LOGIN_SUCCESS,authWorkflowAccountType:r}),L2.postMessage({eventName:"auth0.accountAdded"})}}catch(t){this.trackRedirectErrorOncePerSession(t)}}async getCurrentActiveUserAccount(){const{auth0:t}=await Do.get(),n=await t.getUser();if(!n)return null;const{sub:s}=n;return s?{id:s,tenantId:crypto.randomUUID(),provider:"auth0",accountType:this.getAccountType(s)}:null}async logIn(t){const{connection:n}=t;if(!n)throw new Error("connection in LoginOpts are required");const{auth0:s}=await Do.get();return bI({apiName:Ss.LOGIN_START,authWorkflowAccountType:t.connection??void 0}),s.loginWithRedirect({authorizationParams:{...RY().authorizationParams,connection:this.getConnectionFromTokenType(n)}})}async logOut(){const{auth0:t}=await Do.get(),n=await t.getUser(),s=n&&n.sub?this.getTokenType(n.sub):void 0;try{await t.logout({logoutParams:{returnTo:window.location.origin}}),L2.postMessage({eventName:"auth0.accountRemoved"}),SI({apiName:Ss.LOGOUT_SUCCESS,providerType:"auth0"})}catch(o){fa({authWorkflowAccountType:s,apiName:Ss.LOGOUT_FAILURE,errorMessage:`${o}`,errorExtraInfo:{eventInfo_providerType:"auth0"}}),console.error("Auth0 logout failed:",o)}}async getAuthToken(t="login"){if(t!=="graph")try{const{auth0:n,getAuth0AccessToken:s}=await Do.get(),o=await s(R1());if(!o)return;const r=await n.getUser();if(r){const a=r.sub,i=this.getTokenType(a);return{accessToken:o,tokenType:i}}}catch{return}}async getUserInfo(){const{auth0:t}=await Do.get(),n=await t.getUser();if(n)return{mail:n.email??"",givenName:n.given_name??"",surname:n.surname??"",imgSrc:n.picture,isStudent:!1}}async getUserInfoFromToken(t){const n=_C(t);if(!n)return;const{email:s,name:o}=n;return{mail:s,givenName:o.split(" ")[0]??"",surname:"",imgSrc:"",isStudent:!1}}supportsTokenType(t){return t==="apple"||t==="google"}getTokenType(t){return t.startsWith("google")?"google":"apple"}getAccountType(t){return t.startsWith("google")?"Google":"Apple"}getConnectionFromTokenType(t){return t==="apple"?"apple":"google-oauth2"}hasAuthParams(t=window.location.search){return(this.CODE_RE.test(t)||this.ERROR_RE.test(t))&&this.STATE_RE.test(t)}trackRedirectErrorOncePerSession(t){this.hasTrackedRedirectError||(D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"auth0HandleRedirectPromise",eventInfo_details:"Error handling redirect promise",eventInfo_errorMessage:`${t}`}}),fa({apiName:Ss.LOGIN_FAILURE,errorExtraInfo:{eventInfo_providerType:"auth0"},errorMessage:`${t}`})),this.hasTrackedRedirectError=!0}}var O2=function(e,t){return O2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},O2(e,t)};function eIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");O2(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var K4=function(){return K4=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K4.apply(this,arguments)};function Nt(e,t,n,s){function o(r){return r instanceof n?r:new n(function(a){a(r)})}return new(n||(n=Promise))(function(r,a){function i(m){try{d(s.next(m))}catch(f){a(f)}}function u(m){try{d(s.throw(m))}catch(f){a(f)}}function d(m){m.done?r(m.value):o(m.value).then(i,u)}d((s=s.apply(e,t||[])).next())})}function tIe(e,t){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},s,o,r,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=i(0),a.throw=i(1),a.return=i(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function i(d){return function(m){return u([d,m])}}function u(d){if(s)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(s=1,o&&(r=d[0]&2?o.return:d[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,d[1])).done)return r;switch(o=0,r&&(d=[d[0]&2,r.value]),d[0]){case 0:case 1:r=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!r||d[1]>r[0]&&d[1]<r[3])){n.label=d[1];break}if(d[0]===6&&n.label<r[1]){n.label=r[1],r=d;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(d);break}r[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(m){d=[6,m],o=0}finally{s=r=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function nIe(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],s=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function sIe(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var s=n.call(e),o,r=[],a;try{for(;(t===void 0||t-- >0)&&!(o=s.next()).done;)r.push(o.value)}catch(i){a={error:i}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(a)throw a.error}}return r}function oIe(e,t,n){if(n||arguments.length===2)for(var s=0,o=t.length,r;s<o;s++)(r||!(s in t))&&(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}var Cs;(function(e){e.GET="GET",e.PATCH="PATCH",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"})(Cs||(Cs={}));const eJ="v1.0",tJ="https://graph.microsoft.com/",nJ=new Set(["graph.microsoft.com","graph.microsoft.us","dod-graph.microsoft.us","graph.microsoft.de","microsoftgraph.chinacloudapi.cn","canary.graph.microsoft.com"]);class Ti extends Error{static setGraphClientError(t){let n;return t instanceof Error?n=t:(n=new Ti,n.customError=t),n}constructor(t){super(t),Object.setPrototypeOf(this,Ti.prototype)}}const sJ=["$select","$expand","$orderby","$filter","$top","$skip","$skipToken","$count"],oJ=e=>{const t=r=>r.replace(/\/+$/,""),n=r=>r.replace(/^\/+/,""),s=(r,a)=>[t(r),n(a)].join("/");return Array.prototype.slice.call(e).reduce(s)},Ig=e=>{const t=e&&e.constructor&&e.constructor.name;if(t==="Buffer"||t==="Blob"||t==="File"||t==="FormData"||typeof e=="string")return e;if(t==="ArrayBuffer")e=Buffer.from(e);else if(t==="Int8Array"||t==="Int16Array"||t==="Int32Array"||t==="Uint8Array"||t==="Uint16Array"||t==="Uint32Array"||t==="Uint8ClampedArray"||t==="Float32Array"||t==="Float64Array"||t==="DataView")e=Buffer.from(e.buffer);else try{e=JSON.stringify(e)}catch{throw new Error("Unable to stringify the content")}return e},AI=e=>MI(e),kI=(e,t)=>(t.forEach(n=>rJ(n)),MI(e,t)),MI=(e,t=nJ)=>{if(e=e.toLowerCase(),e.indexOf("https://")!==-1){e=e.replace("https://","");const n=e.indexOf(":"),s=e.indexOf("/");let o="";if(s!==-1)return n!==-1&&n<s?(o=e.substring(0,n),t.has(o)):(o=e.substring(0,s),t.has(o))}return!1},rJ=e=>{if(e.indexOf("/")!==-1)throw new Ti("Please add only hosts or hostnames to the CustomHosts config. If the url is `http://example.com:3000/`, host is `example:3000`")};class Ai{constructor(t=[]){this.middlewareOptions=new Map;for(const n of t){const s=n.constructor;this.middlewareOptions.set(s,n)}}getMiddlewareOptions(t){return this.middlewareOptions.get(t)}setMiddlewareOptions(t,n){this.middlewareOptions.set(t,n)}}const aJ=()=>{let e="";for(let t=0;t<32;t++)(t===8||t===12||t===16||t===20)&&(e+="-"),e+=Math.floor(Math.random()*16).toString(16);return e},NI=(e,t,n)=>{let s=null;if(typeof Request<"u"&&e instanceof Request)s=e.headers.get(n);else if(typeof t<"u"&&t.headers!==void 0)if(typeof Headers<"u"&&t.headers instanceof Headers)s=t.headers.get(n);else if(t.headers instanceof Array){const o=t.headers;for(let r=0,a=o.length;r<a;r++)if(o[r][0]===n){s=o[r][1];break}}else t.headers[n]!==void 0&&(s=t.headers[n]);return s},RI=(e,t,n,s)=>{if(typeof Request<"u"&&e instanceof Request)e.headers.set(n,s);else if(typeof t<"u")if(t.headers===void 0)t.headers=new Headers({[n]:s});else if(typeof Headers<"u"&&t.headers instanceof Headers)t.headers.set(n,s);else if(t.headers instanceof Array){let o=0;const r=t.headers.length;for(;o<r;o++){const a=t.headers[o];if(a[0]===n){a[1]=s;break}}o===r&&t.headers.push([n,s])}else Object.assign(t.headers,{[n]:s})},PI=(e,t,n,s)=>{typeof Request<"u"&&e instanceof Request?e.headers.append(n,s):typeof t<"u"&&(t.headers===void 0?t.headers=new Headers({[n]:s}):typeof Headers<"u"&&t.headers instanceof Headers?t.headers.append(n,s):t.headers instanceof Array?t.headers.push([n,s]):t.headers===void 0?t.headers={[n]:s}:t.headers[n]===void 0?t.headers[n]=s:t.headers[n]+=`, ${s}`)},iJ=(e,t)=>Nt(void 0,void 0,void 0,function*(){const n=t.headers.get("Content-Type")?yield t.blob():yield Promise.resolve(void 0),{method:s,headers:o,referrer:r,referrerPolicy:a,mode:i,credentials:u,cache:d,redirect:m,integrity:f,keepalive:h,signal:g}=t;return new Request(e,{method:s,headers:o,body:n,referrer:r,referrerPolicy:a,mode:i,credentials:u,cache:d,redirect:m,integrity:f,keepalive:h,signal:g})});class cJ{constructor(t,n){this.authenticationProvider=t,this.authenticationProviderOptions=n}}var pl;(function(e){e[e.NONE=0]="NONE",e[e.REDIRECT_HANDLER_ENABLED=1]="REDIRECT_HANDLER_ENABLED",e[e.RETRY_HANDLER_ENABLED=2]="RETRY_HANDLER_ENABLED",e[e.AUTHENTICATION_HANDLER_ENABLED=4]="AUTHENTICATION_HANDLER_ENABLED"})(pl||(pl={}));class sa{constructor(){this.featureUsage=pl.NONE}static updateFeatureUsageFlag(t,n){let s;t.middlewareControl instanceof Ai?s=t.middlewareControl.getMiddlewareOptions(sa):t.middlewareControl=new Ai,typeof s>"u"&&(s=new sa,t.middlewareControl.setMiddlewareOptions(sa,s)),s.setFeatureUsage(n)}setFeatureUsage(t){this.featureUsage=this.featureUsage|t}getFeatureUsage(){return this.featureUsage.toString(16)}}class id{constructor(t){this.authenticationProvider=t}execute(t){return Nt(this,void 0,void 0,function*(){const n=typeof t.request=="string"?t.request:t.request.url;if(AI(n)||t.customHosts&&kI(n,t.customHosts)){let s;t.middlewareControl instanceof Ai&&(s=t.middlewareControl.getMiddlewareOptions(cJ));let o,r;s&&(o=s.authenticationProvider,r=s.authenticationProviderOptions),o||(o=this.authenticationProvider);const i=`Bearer ${yield o.getAccessToken(r)}`;PI(t.request,t.options,id.AUTHORIZATION_HEADER,i),sa.updateFeatureUsageFlag(t,pl.AUTHENTICATION_HANDLER_ENABLED)}else t.options.headers&&delete t.options.headers[id.AUTHORIZATION_HEADER];return yield this.nextMiddleware.execute(t)})}setNext(t){this.nextMiddleware=t}}id.AUTHORIZATION_HEADER="Authorization";class lJ{execute(t){return Nt(this,void 0,void 0,function*(){t.response=yield fetch(t.request,t.options)})}}class en{constructor(t=en.DEFAULT_DELAY,n=en.DEFAULT_MAX_RETRIES,s=en.defaultShouldRetry){if(t>en.MAX_DELAY&&n>en.MAX_MAX_RETRIES){const o=new Error(`Delay and MaxRetries should not be more than ${en.MAX_DELAY} and ${en.MAX_MAX_RETRIES}`);throw o.name="MaxLimitExceeded",o}else if(t>en.MAX_DELAY){const o=new Error(`Delay should not be more than ${en.MAX_DELAY}`);throw o.name="MaxLimitExceeded",o}else if(n>en.MAX_MAX_RETRIES){const o=new Error(`MaxRetries should not be more than ${en.MAX_MAX_RETRIES}`);throw o.name="MaxLimitExceeded",o}else if(t<0&&n<0){const o=new Error("Delay and MaxRetries should not be negative");throw o.name="MinExpectationNotMet",o}else if(t<0){const o=new Error("Delay should not be negative");throw o.name="MinExpectationNotMet",o}else if(n<0){const o=new Error("MaxRetries should not be negative");throw o.name="MinExpectationNotMet",o}this.delay=Math.min(t,en.MAX_DELAY),this.maxRetries=Math.min(n,en.MAX_MAX_RETRIES),this.shouldRetry=s}getMaxDelay(){return en.MAX_DELAY}}en.DEFAULT_DELAY=3;en.DEFAULT_MAX_RETRIES=3;en.MAX_DELAY=180;en.MAX_MAX_RETRIES=10;en.defaultShouldRetry=()=>!0;class oa{constructor(t=new en){this.options=t}isRetry(t){return oa.RETRY_STATUS_CODES.indexOf(t.status)!==-1}isBuffered(t,n){const s=typeof t=="string"?n.method:t.method;return!((s===Cs.PUT||s===Cs.PATCH||s===Cs.POST)&&NI(t,n,"Content-Type")==="application/octet-stream")}getDelay(t,n,s){const o=()=>Number(Math.random().toFixed(3)),r=t.headers!==void 0?t.headers.get(oa.RETRY_AFTER_HEADER):null;let a;return r!==null?Number.isNaN(Number(r))?a=Math.round((new Date(r).getTime()-Date.now())/1e3):a=Number(r):a=n>=2?this.getExponentialBackOffTime(n)+s+o():s+o(),Math.min(a,this.options.getMaxDelay()+o())}getExponentialBackOffTime(t){return Math.round(1/2*(Math.pow(2,t)-1))}sleep(t){return Nt(this,void 0,void 0,function*(){const n=t*1e3;return new Promise(s=>setTimeout(s,n))})}getOptions(t){let n;return t.middlewareControl instanceof Ai&&(n=t.middlewareControl.getMiddlewareOptions(this.options.constructor)),typeof n>"u"&&(n=Object.assign(new en,this.options)),n}executeWithRetry(t,n,s){return Nt(this,void 0,void 0,function*(){if(yield this.nextMiddleware.execute(t),n<s.maxRetries&&this.isRetry(t.response)&&this.isBuffered(t.request,t.options)&&s.shouldRetry(s.delay,n,t.request,t.options,t.response)){++n,RI(t.request,t.options,oa.RETRY_ATTEMPT_HEADER,n.toString());const o=this.getDelay(t.response,n,s.delay);return yield this.sleep(o),yield this.executeWithRetry(t,n,s)}else return})}execute(t){return Nt(this,void 0,void 0,function*(){const s=this.getOptions(t);return sa.updateFeatureUsageFlag(t,pl.RETRY_HANDLER_ENABLED),yield this.executeWithRetry(t,0,s)})}setNext(t){this.nextMiddleware=t}}oa.RETRY_STATUS_CODES=[429,503,504];oa.RETRY_ATTEMPT_HEADER="Retry-Attempt";oa.RETRY_AFTER_HEADER="Retry-After";class Ws{constructor(t=Ws.DEFAULT_MAX_REDIRECTS,n=Ws.defaultShouldRedirect){if(t>Ws.MAX_MAX_REDIRECTS){const s=new Error(`MaxRedirects should not be more than ${Ws.MAX_MAX_REDIRECTS}`);throw s.name="MaxLimitExceeded",s}if(t<0){const s=new Error("MaxRedirects should not be negative");throw s.name="MinExpectationNotMet",s}this.maxRedirects=t,this.shouldRedirect=n}}Ws.DEFAULT_MAX_REDIRECTS=5;Ws.MAX_MAX_REDIRECTS=20;Ws.defaultShouldRedirect=()=>!0;class bs{constructor(t=new Ws){this.options=t}isRedirect(t){return bs.REDIRECT_STATUS_CODES.indexOf(t.status)!==-1}hasLocationHeader(t){return t.headers.has(bs.LOCATION_HEADER)}getLocationHeader(t){return t.headers.get(bs.LOCATION_HEADER)}isRelativeURL(t){return t.indexOf("://")===-1}shouldDropAuthorizationHeader(t,n){const s=/^[A-Za-z].+?:\/\/.+?(?=\/|$)/,o=s.exec(t);let r,a;o!==null&&(r=o[0]);const i=s.exec(n);return i!==null&&(a=i[0]),typeof r<"u"&&typeof a<"u"&&r!==a}updateRequestUrl(t,n){return Nt(this,void 0,void 0,function*(){n.request=typeof n.request=="string"?t:yield iJ(t,n.request)})}getOptions(t){let n;return t.middlewareControl instanceof Ai&&(n=t.middlewareControl.getMiddlewareOptions(Ws)),typeof n>"u"&&(n=Object.assign(new Ws,this.options)),n}executeWithRedirect(t,n,s){return Nt(this,void 0,void 0,function*(){yield this.nextMiddleware.execute(t);const o=t.response;if(n<s.maxRedirects&&this.isRedirect(o)&&this.hasLocationHeader(o)&&s.shouldRedirect(o)){if(++n,o.status===bs.STATUS_CODE_SEE_OTHER)t.options.method=Cs.GET,delete t.options.body;else{const r=this.getLocationHeader(o);!this.isRelativeURL(r)&&this.shouldDropAuthorizationHeader(o.url,r)&&delete t.options.headers[bs.AUTHORIZATION_HEADER],yield this.updateRequestUrl(r,t)}yield this.executeWithRedirect(t,n,s)}else return})}execute(t){return Nt(this,void 0,void 0,function*(){const s=this.getOptions(t);return t.options.redirect=bs.MANUAL_REDIRECT,sa.updateFeatureUsageFlag(t,pl.REDIRECT_HANDLER_ENABLED),yield this.executeWithRedirect(t,0,s)})}setNext(t){this.nextMiddleware=t}}bs.REDIRECT_STATUS_CODES=[301,302,303,307,308];bs.STATUS_CODE_SEE_OTHER=303;bs.LOCATION_HEADER="Location";bs.AUTHORIZATION_HEADER="Authorization";bs.MANUAL_REDIRECT="manual";const uJ="3.0.7";class ys{execute(t){return Nt(this,void 0,void 0,function*(){const n=typeof t.request=="string"?t.request:t.request.url;if(AI(n)||t.customHosts&&kI(n,t.customHosts)){let s=NI(t.request,t.options,ys.CLIENT_REQUEST_ID_HEADER);s||(s=aJ(),RI(t.request,t.options,ys.CLIENT_REQUEST_ID_HEADER,s));let o=`${ys.PRODUCT_NAME}/${uJ}`,r;if(t.middlewareControl instanceof Ai&&(r=t.middlewareControl.getMiddlewareOptions(sa)),r){const a=r.getFeatureUsage();o+=` (${ys.FEATURE_USAGE_STRING}=${a})`}PI(t.request,t.options,ys.SDK_VERSION_HEADER,o)}else delete t.options.headers[ys.CLIENT_REQUEST_ID_HEADER],delete t.options.headers[ys.SDK_VERSION_HEADER];return yield this.nextMiddleware.execute(t)})}setNext(t){this.nextMiddleware=t}}ys.CLIENT_REQUEST_ID_HEADER="client-request-id";ys.SDK_VERSION_HEADER="SdkVersion";ys.PRODUCT_NAME="graph-js";ys.FEATURE_USAGE_STRING="featureUsage";function dJ(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Z4;(function(e){e[e.MANUAL=0]="MANUAL",e[e.RANDOM=1]="RANDOM"})(Z4||(Z4={}));var Lo;(function(e){e.ARRAYBUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.RAW="raw",e.STREAM="stream",e.TEXT="text"})(Lo||(Lo={}));var D2;(function(e){e.TEXT_HTML="text/html",e.TEXT_XML="text/xml",e.APPLICATION_XML="application/xml",e.APPLICATION_XHTML="application/xhtml+xml"})(D2||(D2={}));var yp;(function(e){e.TEXT_PLAIN="text/plain",e.APPLICATION_JSON="application/json"})(yp||(yp={}));var bp;(function(e){e.DOCUMENT="^(text\\/(html|xml))|(application\\/(xml|xhtml\\+xml))$",e.IMAGE="^image\\/.+"})(bp||(bp={}));class Du{static parseDocumentResponse(t,n){return typeof DOMParser<"u"?new Promise((s,o)=>{t.text().then(r=>{try{const i=new DOMParser().parseFromString(r,n);s(i)}catch(a){o(a)}})}):Promise.resolve(t.body)}static convertResponse(t,n){return Nt(this,void 0,void 0,function*(){if(t.status===204)return Promise.resolve();let s;const o=t.headers.get("Content-type");switch(n){case Lo.ARRAYBUFFER:s=yield t.arrayBuffer();break;case Lo.BLOB:s=yield t.blob();break;case Lo.DOCUMENT:s=yield Du.parseDocumentResponse(t,D2.TEXT_XML);break;case Lo.JSON:s=yield t.json();break;case Lo.STREAM:s=yield Promise.resolve(t.body);break;case Lo.TEXT:s=yield t.text();break;default:if(o!==null){const r=o.split(";")[0];new RegExp(bp.DOCUMENT).test(r)?s=yield Du.parseDocumentResponse(t,r):new RegExp(bp.IMAGE).test(r)?s=t.blob():r===yp.TEXT_PLAIN?s=yield t.text():r===yp.APPLICATION_JSON?s=yield t.json():s=Promise.resolve(t.body)}else s=Promise.resolve(t.body);break}return s})}static getResponse(t,n,s){return Nt(this,void 0,void 0,function*(){if(n===Lo.RAW)return Promise.resolve(t);{const o=yield Du.convertResponse(t,n);if(t.ok)if(typeof s=="function")s(null,o);else return o;else throw o}})}}class mJ{constructor(t){this.provider=t}getAccessToken(){return Nt(this,void 0,void 0,function*(){return new Promise((t,n)=>{this.provider((s,o)=>Nt(this,void 0,void 0,function*(){if(o)t(o);else{if(!s){const a="Access token is undefined or empty.						Please provide a valid token.						For more help - https://github.com/microsoftgraph/msgraph-sdk-javascript/blob/dev/docs/CustomAuthenticationProvider.md";s=new Ti(a)}const r=yield Ti.setGraphClientError(s);n(r)}}))})})}}class ju extends Error{constructor(t=-1,n,s){super(n||s&&s.message),Object.setPrototypeOf(this,ju.prototype),this.statusCode=t,this.code=null,this.requestId=null,this.date=new Date,this.body=null,this.stack=s?s.stack:this.stack}}class xp{static constructError(t,n,s){const o=new ju(n,"",t);return t.name!==void 0&&(o.code=t.name),o.body=t.toString(),o.date=new Date,o.headers=s==null?void 0:s.headers,o}static constructErrorFromResponse(t,n,s){const o=t.error,r=new ju(n,o.message);return r.code=o.code,o.innerError!==void 0&&(r.requestId=o.innerError["request-id"],r.date=new Date(o.innerError.date)),r.body=JSON.stringify(o),r.headers=s==null?void 0:s.headers,r}static getError(t=null,n=-1,s,o){return Nt(this,void 0,void 0,function*(){let r;if(t&&t.error?r=xp.constructErrorFromResponse(t,n,o):t instanceof Error?r=xp.constructError(t,n,o):(r=new ju(n),r.body=t),typeof s=="function")s(r,null);else return r})}}class fJ{constructor(t,n,s){this.parsePath=o=>{if(o.indexOf("https://")!==-1){o=o.replace("https://","");const a=o.indexOf("/");a!==-1&&(this.urlComponents.host="https://"+o.substring(0,a),o=o.substring(a+1,o.length));const i=o.indexOf("/");i!==-1&&(this.urlComponents.version=o.substring(0,i),o=o.substring(i+1,o.length))}o.charAt(0)==="/"&&(o=o.substr(1));const r=o.indexOf("?");if(r===-1)this.urlComponents.path=o;else{this.urlComponents.path=o.substr(0,r);const a=o.substring(r+1,o.length).split("&");for(const i of a)this.parseQueryParameter(i)}},this.httpClient=t,this.config=n,this.urlComponents={host:this.config.baseUrl,version:this.config.defaultVersion,oDataQueryParams:{},otherURLQueryParams:{},otherURLQueryOptions:[]},this._headers={},this._options={},this._middlewareOptions=[],this.parsePath(s)}addCsvQueryParameter(t,n,s){this.urlComponents.oDataQueryParams[t]=this.urlComponents.oDataQueryParams[t]?this.urlComponents.oDataQueryParams[t]+",":"";let o=[];s.length>1&&typeof n=="string"?o=Array.prototype.slice.call(s):typeof n=="string"?o.push(n):o=o.concat(n),this.urlComponents.oDataQueryParams[t]+=o.join(",")}buildFullUrl(){const t=oJ([this.urlComponents.host,this.urlComponents.version,this.urlComponents.path])+this.createQueryString();return this.config.debugLogging&&console.log(t),t}createQueryString(){const t=this.urlComponents,n=[];if(Object.keys(t.oDataQueryParams).length!==0)for(const s in t.oDataQueryParams)Object.prototype.hasOwnProperty.call(t.oDataQueryParams,s)&&n.push(s+"="+t.oDataQueryParams[s]);if(Object.keys(t.otherURLQueryParams).length!==0)for(const s in t.otherURLQueryParams)Object.prototype.hasOwnProperty.call(t.otherURLQueryParams,s)&&n.push(s+"="+t.otherURLQueryParams[s]);if(t.otherURLQueryOptions.length!==0)for(const s of t.otherURLQueryOptions)n.push(s);return n.length>0?"?"+n.join("&"):""}parseQueryParameter(t){if(typeof t=="string")if(t.charAt(0)==="?"&&(t=t.substring(1)),t.indexOf("&")!==-1){const n=t.split("&");for(const s of n)this.parseQueryParamenterString(s)}else this.parseQueryParamenterString(t);else if(t.constructor===Object)for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&this.setURLComponentsQueryParamater(n,t[n]);return this}parseQueryParamenterString(t){if(this.isValidQueryKeyValuePair(t)){const n=t.indexOf("="),s=t.substring(0,n),o=t.substring(n+1);this.setURLComponentsQueryParamater(s,o)}else this.urlComponents.otherURLQueryOptions.push(t)}setURLComponentsQueryParamater(t,n){if(sJ.indexOf(t)!==-1){const s=this.urlComponents.oDataQueryParams[t],o=s&&(t==="$expand"||t==="$select"||t==="$orderby");this.urlComponents.oDataQueryParams[t]=o?s+","+n:n}else this.urlComponents.otherURLQueryParams[t]=n}isValidQueryKeyValuePair(t){const n=t.indexOf("=");return!(n===-1||t.indexOf("(")!==-1&&t.indexOf("(")<n)}updateRequestOptions(t){const n=Object.assign({},t.headers);if(this.config.fetchOptions!==void 0){const s=Object.assign({},this.config.fetchOptions);Object.assign(t,s),typeof this.config.fetchOptions.headers!==void 0&&(t.headers=Object.assign({},this.config.fetchOptions.headers))}Object.assign(t,this._options),t.headers!==void 0&&Object.assign(n,t.headers),Object.assign(n,this._headers),t.headers=n}send(t,n,s){var o;return Nt(this,void 0,void 0,function*(){let r;const a=new Ai(this._middlewareOptions);this.updateRequestOptions(n);const i=(o=this.config)===null||o===void 0?void 0:o.customHosts;try{return r=(yield this.httpClient.sendRequest({request:t,options:n,middlewareControl:a,customHosts:i})).response,yield Du.getResponse(r,this._responseType,s)}catch(u){if(u instanceof Ti)throw u;let d;throw r&&(d=r.status),yield xp.getError(u,d,s,r)}})}setHeaderContentType(){if(!this._headers){this.header("Content-Type","application/json");return}const t=Object.keys(this._headers);for(const n of t)if(n.toLowerCase()==="content-type")return;this.header("Content-Type","application/json")}header(t,n){return this._headers[t]=n,this}headers(t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this._headers[n]=t[n]);return this}option(t,n){return this._options[t]=n,this}options(t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this._options[n]=t[n]);return this}middlewareOptions(t){return this._middlewareOptions=t,this}version(t){return this.urlComponents.version=t,this}responseType(t){return this._responseType=t,this}select(t){return this.addCsvQueryParameter("$select",t,arguments),this}expand(t){return this.addCsvQueryParameter("$expand",t,arguments),this}orderby(t){return this.addCsvQueryParameter("$orderby",t,arguments),this}filter(t){return this.urlComponents.oDataQueryParams.$filter=t,this}search(t){return this.urlComponents.oDataQueryParams.$search=t,this}top(t){return this.urlComponents.oDataQueryParams.$top=t,this}skip(t){return this.urlComponents.oDataQueryParams.$skip=t,this}skipToken(t){return this.urlComponents.oDataQueryParams.$skipToken=t,this}count(t=!0){return this.urlComponents.oDataQueryParams.$count=t.toString(),this}query(t){return this.parseQueryParameter(t)}get(t){return Nt(this,void 0,void 0,function*(){const n=this.buildFullUrl(),s={method:Cs.GET};return yield this.send(n,s,t)})}post(t,n){return Nt(this,void 0,void 0,function*(){const s=this.buildFullUrl(),o={method:Cs.POST,body:Ig(t)};return(t&&t.constructor&&t.constructor.name)==="FormData"?o.headers={}:(this.setHeaderContentType(),o.headers=this._headers),yield this.send(s,o,n)})}create(t,n){return Nt(this,void 0,void 0,function*(){return yield this.post(t,n)})}put(t,n){return Nt(this,void 0,void 0,function*(){const s=this.buildFullUrl();this.setHeaderContentType();const o={method:Cs.PUT,body:Ig(t)};return yield this.send(s,o,n)})}patch(t,n){return Nt(this,void 0,void 0,function*(){const s=this.buildFullUrl();this.setHeaderContentType();const o={method:Cs.PATCH,body:Ig(t)};return yield this.send(s,o,n)})}update(t,n){return Nt(this,void 0,void 0,function*(){return yield this.patch(t,n)})}delete(t){return Nt(this,void 0,void 0,function*(){const n=this.buildFullUrl(),s={method:Cs.DELETE};return yield this.send(n,s,t)})}del(t){return Nt(this,void 0,void 0,function*(){return yield this.delete(t)})}getStream(t){return Nt(this,void 0,void 0,function*(){const n=this.buildFullUrl(),s={method:Cs.GET};return this.responseType(Lo.STREAM),yield this.send(n,s,t)})}putStream(t,n){return Nt(this,void 0,void 0,function*(){const s=this.buildFullUrl(),o={method:Cs.PUT,headers:{"Content-Type":"application/octet-stream"},body:t};return yield this.send(s,o,n)})}}class LI{constructor(...t){if(!t||!t.length){const n=new Error;throw n.name="InvalidMiddlewareChain",n.message="Please provide a default middleware chain or custom middleware chain",n}this.setMiddleware(...t)}setMiddleware(...t){t.length>1?this.parseMiddleWareArray(t):this.middleware=t[0]}parseMiddleWareArray(t){t.forEach((n,s)=>{s<t.length-1&&n.setNext(t[s+1])}),this.middleware=t[0]}sendRequest(t){return Nt(this,void 0,void 0,function*(){if(typeof t.request=="string"&&t.options===void 0){const n=new Error;throw n.name="InvalidRequestOptions",n.message="Unable to execute the middleware, Please provide valid options for a request",n}return yield this.middleware.execute(t),t})}}const pJ=()=>typeof process=="object"&&typeof dJ=="function";class TC{static createWithAuthenticationProvider(t){const n=new id(t),s=new oa(new en),o=new ys,r=new lJ;if(n.setNext(s),pJ()){const a=new bs(new Ws);s.setNext(a),a.setNext(o)}else s.setNext(o);return o.setNext(r),TC.createWithMiddleware(n)}static createWithMiddleware(...t){return new LI(...t)}}const hJ=()=>{if(typeof Promise>"u"&&typeof fetch>"u"){const e=new Error("Library cannot function without Promise and fetch. So, please provide polyfill for them.");throw e.name="PolyFillNotAvailable",e}else if(typeof Promise>"u"){const e=new Error("Library cannot function without Promise. So, please provide polyfill for it.");throw e.name="PolyFillNotAvailable",e}else if(typeof fetch>"u"){const e=new Error("Library cannot function without fetch. So, please provide polyfill for it.");throw e.name="PolyFillNotAvailable",e}return!0};class Sp{static init(t){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=s==="authProvider"?new mJ(t[s]):t[s]);return Sp.initWithMiddleware(n)}static initWithMiddleware(t){return new Sp(t)}constructor(t){this.config={baseUrl:tJ,debugLogging:!1,defaultVersion:eJ},hJ();for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(this.config[s]=t[s]);let n;if(t.authProvider!==void 0&&t.middleware!==void 0){const s=new Error;throw s.name="AmbiguityInInitialization",s.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain not both",s}else if(t.authProvider!==void 0)n=TC.createWithAuthenticationProvider(t.authProvider);else if(t.middleware!==void 0)n=new LI(...[].concat(t.middleware));else{const s=new Error;throw s.name="InvalidMiddlewareChain",s.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain",s}this.httpClient=n}api(t){return new fJ(this.httpClient,this.config,t)}}const gJ=["CAREERCOACH_STUDENTS","EXCHANGESTANDARD_STUDENT","M365EDU_A3_STUDENT","M365EDU_A3_STUUSEBNFT","M365EDU_A3_STUUSEBNFT_RPA1","M365EDU_A5_STUDENT","M365EDU_A5_STUUSEBNFT","M365EDU_A5_NOPSTNCONF_STUUSEBNFT","OFFICESUBSCRIPTION_STUDENT","ATP_ENTERPRISE_STUDENT","ATP_ENTERPRISE_STUDENTS_USE_BENEFIT","POWER_BI_STANDARD_STUDENT","MCOEV_STUDENT","MEE_STUDENT","STANDARDWOFFPACK_STUDENT","STANDARDWOFFPACK_IW_STUDENT","ENTERPRISEPACKPLUS_STUDENT","ENTERPRISEPREMIUM_STUDENT","WIN10_ENT_A3_STU","MCO_TEAMS_EDU_HS_STUDENT","PROJECT_PROFESSIONAL_STUDENT","PROJECT_P1_STUDENT"];function vJ(e){return Sp.init({authProvider:t=>{t(null,e)}})}async function _g(e,t){const n=performance.now(),s=await t;return D.trackEvent({name:"system",data:{eventName:"externalApiResponse",eventInfo_id:e,eventInfo_duration:performance.now()-n,eventInfo_service:"microsoft-graph"}}),s}async function CJ(e){return e.api(bC.graphMeApiSuffix).get()}async function yJ(e){try{const t=await e.api(bC.graphMeImageApiSuffix).get();return URL.createObjectURL(t)}catch{return}}async function bJ(e){const t=pe(Ui);if(be("aad-student")&&t)try{const n=await e.api(bC.graphMeLicenseDetails).get();return n&&n.value.some(o=>o.skuPartNumber&&gJ.includes(o.skuPartNumber))}catch(n){return console.error("Error checking student status:",n),!1}else return!1}async function Y4(e){const t=vJ(e),[n,s,o]=await Promise.all([_g("user",CJ(t)),_g("user_photo",yJ(t)),_g("is_student",bJ(t))]);return{...n,imgSrc:s,isStudent:o}}class xJ{supportsNaa(){return!1}supportsPwBBroker(){return!1}async handleInteractionRequiredError(t,n,s,o){var r;mt(cn,null),mt(Yr,{reason:"token-expired",provider:"microsoft",loginHint:(r=n.account)==null?void 0:r.username,errorMessage:s,correlationId:o})}}class SJ extends xJ{supportsPwBBroker(){return ae.instance().config().useMSALPwBApp??!1}async instantiateMsal(){let t,n,s;if(JQ()){const i=(await B(()=>import("./azure-msal-browser-1p-v4-index-CJGT3s_5.js"),[])).default;window.msal=i;const{PublicClientApplication:u,PairwiseBrokerApplication:d}=i;t=u,n=d,s=SY}else{const a=await B(()=>import("./vendor-BZxM7dHU.js").then(d=>d.ay),[]);window.msal=a;const{PublicClientApplication:i,PairwiseBrokerApplication:u}=a;t=i,n=u,s=EY}const o=this.supportsPwBBroker();CI({apiName:window.msal.EventType.INITIALIZE_START,providerType:"microsoft",extraInfo:{eventInfo_isPwB:o}});let r;return o?(r=new n(s,LY,V4),await r.initialize(),await r.initializeBrokering()):r=await t.createPublicClientApplication(s,V4),yI({apiName:window.msal.EventType.INITIALIZE_END,providerType:"microsoft",extraInfo:{eventInfo_isPwB:o}}),r}}const OI=new Zi(EJ);async function EJ(){return new SJ}function wJ(e){return!(window.msal&&e instanceof window.msal.InteractionRequiredAuthError||window.msal&&e instanceof window.msal.AuthError&&(e.errorMessage===IS||parseInt(e.errorCode,10)===Sv))}const is=new Zi(IJ);async function IJ(){const e=await OI.get(),t=await e.instantiateMsal(),n=new Map([["login",null],["graph",null],["oneDrive",null],["decryptionService",null]]);async function s(r,a){var m,f;const i=PY(r),u={account:a,...i,extraQueryParameters:{sus:"1"},tokenQueryParameters:{sus:"1"}},d=CY();try{if(!d)return{accessToken:(await t.acquireTokenSilent(u)).accessToken};const h={...Bw,shouldRetry:C=>wJ(C),onSuccess:C=>wI(C,r,"microsoft"),onFailure:C=>II(C,r,"microsoft"),onTimeout:C=>_I(C,r,"microsoft")};return await rm(async(C=0)=>TI(async()=>({accessToken:(await t.acquireTokenSilent(u)).accessToken}),OY,C,jY),h)}catch(h){if(window.msal&&h instanceof window.msal.InteractionRequiredAuthError){if(D.trackEvent({name:"system",data:{eventName:"copilotWebAcquireTokenRedirect",eventInfo_requestType:r,eventInfo_traceId:h.traceId,eventInfo_errorMessage:h.errorMessage,eventInfo_errorCode:h.errorCode,eventInfo_correlationId:h.correlationId,eventInfo_timeSinceStartMs:performance.now()-window.appStart,eventInfo_localAccountId:a==null?void 0:a.localAccountId,eventInfo_homeAccountId:a==null?void 0:a.homeAccountId}}),bY()&&!e.supportsNaa()){await jQ({correlationId:h.correlationId,errorMessage:h.errorMessage}),await t.acquireTokenRedirect({...Yd(),loginHint:(f=(m=u.account)==null?void 0:m.idTokenClaims)==null?void 0:f.login_hint,account:u.account,prompt:void 0});return}return e.handleInteractionRequiredError(t,u,h.errorMessage,h.correlationId)}if(window.msal&&h instanceof window.msal.AuthError&&(h.errorMessage===IS||parseInt(h.errorCode,10)===Sv))throw D.trackEvent({name:"system",data:{eventName:"copilotWebAcquireTokenUnderaged",eventInfo_requestType:r,eventInfo_errorMessage:h.errorMessage,eventInfo_errorCode:h.errorCode,eventInfo_correlationId:h.correlationId}}),new Error(Ev);return}}return{msal:t,getMsalAccessToken:async r=>{const a=t.getActiveAccount();if(!a&&!e.supportsNaa())return;const i=n.get(r);if(!i){const u=s(r,a??void 0);n.set(r,u);const d=await u;return n.set(r,null),d}return i}}}function _J(e){var n;const t=(n=e.payload)==null?void 0:n.scopes;return Array.isArray(t)?t.some(s=>typeof s!="string"?!1:s==="ConsumerStore.Purchase"||s.endsWith("purchase.create")):!1}async function TJ(e){var n,s,o,r,a,i,u,d,m,f,h;const t=_J(e);if(e.eventType===((n=window.msal)==null?void 0:n.EventType.LOGIN_START)){const g=e.payload;bI({apiName:window.msal.EventType.LOGIN_START,authWorkflowAccountType:"microsoft",interactionType:e.interactionType??void 0,correlationId:g.correlationId,prompt:g.prompt,redirectUri:g.redirectUri,extraInfo:{eventInfo_isBrokered:t}})}else if(e.eventType===((s=window.msal)==null?void 0:s.EventType.LOGIN_SUCCESS)||e.eventType===((o=window.msal)==null?void 0:o.EventType.SSO_SILENT_SUCCESS)){const g=e.payload&&"account"in e.payload?e.payload.account:null,C=g?!ra(g.tenantId):void 0,v=e.payload,y=(r=g==null?void 0:g.idTokenClaims)==null?void 0:r.login_hint;y&&Vn(ar,p(),y),xI({apiName:e.eventType,authWorkflowAccountType:"microsoft",interactionType:e.interactionType??void 0,correlationId:v.correlationId,authority:v.authority,isMSA:C,extraInfo:{eventInfo_isBrokered:t}})}else if(e.eventType===((a=window.msal)==null?void 0:a.EventType.LOGOUT_SUCCESS))wt(ar,p())&&jt(ar),wt(up,p())&&jt(up),SI({apiName:window.msal.EventType.LOGOUT_SUCCESS,providerType:"microsoft",extraInfo:{eventInfo_isBrokered:t}});else if(e.eventType===((i=window.msal)==null?void 0:i.EventType.ACQUIRE_TOKEN_START)||e.eventType===((u=window.msal)==null?void 0:u.EventType.ACQUIRE_TOKEN_NETWORK_START)){ma("msalAcquireTokenStartTime",Date.now().toString());const g=e.payload;Fo({authWorkflowAccountType:"microsoft",apiName:e.eventType,extraInfo:{eventInfo_interactionType:e.interactionType??void 0,eventInfo_correlationId:g.correlationId,eventInfo_redirectUri:g.redirectUri,eventInfo_cacheLookupPolicy:g.cacheLookupPolicy,eventInfo_prompt:g.prompt,eventInfo_isBrokered:t,eventInfo_localAccountId:(d=g.account)==null?void 0:d.localAccountId,eventInfo_homeAccountId:(m=g.account)==null?void 0:m.homeAccountId}})}else if(e.eventType===((f=window.msal)==null?void 0:f.EventType.ACQUIRE_TOKEN_SUCCESS)){const g=Date.now()-parseInt(hr("msalAcquireTokenStartTime")??"0",10);ma("msalAcquireTokenStartTime","");const C=e.payload,{account:v}=C,y=(h=v.idTokenClaims)==null?void 0:h.login_hint;y&&Vn(ar,p(),y),Fo({authWorkflowAccountType:"microsoft",apiName:e.eventType,extraInfo:{eventInfo_interactionType:e.interactionType??void 0,eventInfo_correlationId:C.correlationId,eventInfo_expiresOn:C.expiresOn,eventInfo_extExpiresOn:C.extExpiresOn,eventInfo_refreshOn:C.refreshOn,eventInfo_duration:g,eventInfo_fromCache:C.fromCache,eventInfo_isBrokered:t,eventInfo_localAccountId:C.account.localAccountId,eventInfo_homeAccountId:C.account.homeAccountId}})}else if(window.msal&&(e.eventType===window.msal.EventType.LOGIN_FAILURE||e.eventType===window.msal.EventType.ACQUIRE_TOKEN_FAILURE||e.eventType===window.msal.EventType.SSO_SILENT_FAILURE||e.eventType===window.msal.EventType.ACQUIRE_TOKEN_BY_CODE_FAILURE||e.eventType===window.msal.EventType.LOGOUT_FAILURE)){const{msal:g}=await is.get();let C;e.eventType===window.msal.EventType.ACQUIRE_TOKEN_FAILURE&&(C=Date.now()-parseInt(hr("msalAcquireTokenStartTime")??"0",10)),e.eventType===window.msal.EventType.LOGIN_FAILURE&&jt(ar);const v=e.error,y=g.getActiveAccount(),b=y==null?void 0:y.localAccountId,E=y==null?void 0:y.homeAccountId;fa({authWorkflowAccountType:"microsoft",apiName:e.eventType,errorType:(v==null?void 0:v.name)??"",errorMessage:(v==null?void 0:v.message)??"",extraInfo:{eventInfo_isBrokered:t},errorExtraInfo:{eventInfo_correlationId:v==null?void 0:v.correlationId,eventInfo_errorMessage:v==null?void 0:v.errorMessage,eventInfo_errorCode:v==null?void 0:v.errorCode,eventInfo_name:v==null?void 0:v.name,eventInfo_interactionType:e.interactionType??void 0,eventInfo_subError:v==null?void 0:v.subError,eventInfo_duration:C,eventInfo_localAccountId:b,eventInfo_homeAccountId:E}})}else Fo({authWorkflowAccountType:"microsoft",apiName:e.eventType,extraInfo:{eventInfo_interactionType:e.interactionType??void 0,eventInfo_isBrokered:t}})}function ra(e){return e!==LB}function AJ(e){Fo({apiName:"msal:silentSSOCustomSuccess",authWorkflowAccountType:"microsoft",duration:e.duration,extraInfo:{eventInfo_accountUpdate:e.accountUpdate,eventInfo_accountType:e.accountType,eventInfo_message:e.message}})}function Tg(e){fa({apiName:"msal:silentSsoCustomError",authWorkflowAccountType:"microsoft",errorMessage:e.message,errorCode:e.errorCode})}class kJ{constructor(){O(this,"hasTrackedRedirectError",!1);O(this,"isHandlingRedirect",!1)}async handleRedirectWithoutAccount(){try{const{msal:t}=await is.get();this.isHandlingRedirect&&fa({authWorkflowAccountType:"microsoft",apiName:xr.INTERACTION_IN_PROGRESS,errorType:"interaction_in_progress",errorMessage:"Attempted to call handleRedirectPromise while already handling a redirect"}),this.isHandlingRedirect=!0;try{const n=await t.handleRedirectPromise();n&&(t.setActiveAccount(n.account),VQ(),UQ(),OQ({authWorkflowAccountType:"microsoft",apiName:"msal:reauthSuccess"}))}finally{this.isHandlingRedirect=!1}}catch(t){this.trackRedirectErrorOncePerSession(t)}}async logIn(){var o;const{msal:t}=await is.get(),n={...Yd()};Vn(up,p(),((o=window.msal)==null?void 0:o.version)??"");const s=this.buildRedirectUri();return s&&(n.redirectUri=s),t.loginRedirect(n)}buildRedirectUri(){const{surfaceQueryParam:t}=ae.instance().config(),n=new URLSearchParams;let s;if(t!=null&&t.useForLoginRedirect)for(const[r,a]of Object.entries(t.params))n.set(r,a);const o=new URLSearchParams(window.location.search).get("back");return o&&n.set("back",o),n.toString()&&(s=`${window.location.origin}?${n}`),s}async logOut(){const{msal:t}=await is.get(),n=t.getActiveAccount();await t.logoutRedirect({account:n,onRedirectNavigate:()=>!1}),D.setPicassoId(null)}async getAuthToken(t="login"){return(await is.get()).getMsalAccessToken(t)}async getUserInfo(){const t=await this.getAuthToken("graph");if(t)return Y4(t.accessToken)}async getUserInfoFromToken(t){return Y4(t)}supportsTokenType(t){return t===void 0}trackRedirectErrorOncePerSession(t){this.hasTrackedRedirectError||D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"msalHandleRedirectPromise",eventInfo_details:"Error handling redirect promise",eventInfo_errorMessage:`${t}`}}),this.hasTrackedRedirectError=!0}async getAccount(){var o;const{msal:t}=await is.get(),n=t.getAllAccounts(),s=t.getActiveAccount();if((n.length>1||n.length===1&&(s==null?void 0:s.homeAccountId)!==((o=n[0])==null?void 0:o.homeAccountId))&&Fo({authWorkflowAccountType:"microsoft",apiName:"msal:getAllAccounts",extraInfo:{eventInfo_accountCount:n.length,eventInfo_accountTypes:n.map(r=>ra(r.tenantId)?"AAD":"MSA")}}),n.length!==0){if(n.length===1)return n[0];if(n.length>1&&s)return s}}async getCurrentActiveUserAccount(){var n;const t=await this.getAccount();return t?{id:((n=t.idTokenClaims)==null?void 0:n.oid)??"",tenantId:t.tenantId,provider:"microsoft",accountType:ra(t.tenantId)?"AAD":"MSA"}:null}async NAAGetTokenAndSetAccount(){var s;const{msal:t}=await is.get(),n=await this.getAuthToken();if(n){const o=await this.getAccount();return o?(t.setActiveAccount(o),{userAccount:{id:((s=o.idTokenClaims)==null?void 0:s.oid)??"",tenantId:o.tenantId,provider:"microsoft",accountType:ra(o.tenantId)?"AAD":"MSA"},authToken:n}):null}return null}}class Tt{constructor(){O(this,"middlewares",[])}add(t){this.middlewares.push(t)}async run(t){let n={...t};for(const s of this.middlewares)try{n=await s(n)}catch{continue}return n}}class DI{constructor(){O(this,"handlers",[])}add(t){this.handlers.push(t)}run(t){let n={...t};for(const s of this.handlers)try{n=s(n)}catch{continue}return n}}const jI=new Tt,Q4=new Tt,rIe=new Tt,aIe=new Tt,MJ=new Tt,NJ=new Tt,RJ=new Tt,PJ=new Tt,LJ=new Tt,OJ=new Tt,DJ=new Tt,iIe=new Tt,J4=new Tt,cIe=new Tt,jJ=new Tt,UJ=new Tt,FJ=new Tt,BJ=new Tt,VJ=new Tt,HJ=new Tt,UI=new Tt,zJ=new Tt,GJ=new Tt,lIe=new DI,uIe=new DI,dIe=new Tt,mIe={ContextualConsent:"browser.underside_chat_consent",VideoTranscriptConsent:"browser.underside_video_transcript_consent"},fIe=new Tt,pIe=new Tt,hIe=new Tt,gIe=new Tt;var Qc;const ci=class ci{constructor(){O(this,"providers");this.providers={microsoft:new kJ,auth0:new XQ}}async handleRedirectWithoutAccount(){await this.providers.microsoft.handleRedirectWithoutAccount(),ae.instance().config().enableAuth0&&await this.providers.auth0.handleRedirectWithoutAccount()}async getCurrentActiveUserAccountAndSetGlobalUserAccount(){const t=await this.providers.microsoft.getCurrentActiveUserAccount();if(t){this.setUserAccount(t);return}if(!ae.instance().config().enableAuth0)return;const n=await this.providers.auth0.getCurrentActiveUserAccount();n&&this.setUserAccount(n)}static instance(){return de(ci,Qc)||yt(ci,Qc,new ci),de(ci,Qc)}getCurrentProvider(){const t=pe(cn);return t?this.providers[t.provider]:null}async getAccountFromProviders(){var t;return((t=this.getCurrentProvider())==null?void 0:t.getCurrentActiveUserAccount())??null}setUserAccount(t){mt(cn,t),D.setUserAccountType(t==null?void 0:t.accountType)}async getAuthToken(t="login"){var o,r,a;const n=await Q4.run({type:t});if(n.isHandled){if(t==="login"&&((o=n.authToken)==null?void 0:o.tokenType)!==void 0){const i=QQ(n.authToken.tokenType);D.setUserAccountType(i)}return n.authToken}const s=this.getCurrentProvider();if(!s&&t==="login"){if((await OI.get()).supportsNaa()){const u=await((a=(r=this.providers.microsoft).NAAGetTokenAndSetAccount)==null?void 0:a.call(r));if(u){const{authToken:d,userAccount:m}=u;return this.setUserAccount(m),d}}return}return s==null?void 0:s.getAuthToken(t)}async getUserInfo(){const t=await Q4.run({type:"graph"});if(t.isHandled){if(!t.authToken)return;const{tokenType:s,accessToken:o}=t.authToken,r=s!=="msa"?s:void 0;if(this.providers.microsoft.supportsTokenType(r))return this.providers.microsoft.getUserInfoFromToken(o);if(this.providers.auth0.supportsTokenType(r)){const a=await this.providers.auth0.getUserInfoFromToken(o);if(a)return a}return}const n=this.getCurrentProvider();if(n)return n.getUserInfo()}logIn(t,n){return this.providers[t].logIn(n)}async logOut(){const t=this.getCurrentProvider();return t&&(await t.logOut(),this.setUserAccount(null)),Promise.resolve()}async initAuthAccount(){await this.handleRedirectWithoutAccount(),await this.getCurrentActiveUserAccountAndSetGlobalUserAccount()}};Qc=new WeakMap,Vt(ci,Qc,null);let pa=ci;function FI(){return null}function WJ(){return null}function BI(){return null}function VI({featureOverrides:e,localFeatureOverrides:t,localFeaturesToDisable:n,serverFeatures:s,surfaceConfig:o}){var a,i,u;const r=new Set([...s]);(a=o.settingsOverrides)!=null&&a.shouldHideShopping&&r.delete("shopping-card"),o.startInVoice&&r.add("start-in-voice"),(i=o.pages)!=null&&i.enabled?r.add("pages"):((u=o.pages)==null?void 0:u.enabled)===!1&&r.delete("pages");for(const d of e)r.add(d);for(const d of t)r.add(d);for(const d of n)r.delete(d);return Array.from(r)}function HI(){return[]}function zI(){return[]}async function AC(){const{msal:e}=await is.get();return e.getActiveAccount()}async function kC(){const e=await AC();return e?ra(e.tenantId):!1}async function X4(){const e=await AC();if(!(!e||!ra(e.tenantId)))return e}async function GI(){const e=await AC();if(!(!e||ra(e.tenantId)))return e}async function $J(){return(await is.get()).getMsalAccessToken("oneDrive")}async function qJ(){if(!await kC())return;jt(ar);const{msal:e}=await is.get(),t=e.getActiveAccount();t&&e.clearCache({account:t})}const WI="urlFeatureOverrides";function KJ(){return typeof window>"u"?null:sessionStorage.getItem(WI)}function $I(){const e=KJ();return e?e.split(",").map(n=>n):[]}function ZJ(){const e=tn("features");return e!=null&&e.trim()&&typeof window<"u"&&sessionStorage.setItem(WI,e.trim()),$I()}const YJ={VITE_API_URL:"copilot.microsoft.com/c/api"};async function QJ(e,t){try{return await e.json()}catch(n){throw(n instanceof SyntaxError||n instanceof TypeError||n instanceof DOMException)&&jZ(n,e,t),n}}function qI(e={}){const{query:t={}}=e,n=new URLSearchParams;for(const[i,u]of Object.entries(t))n.append(i,u);const s=VI({featureOverrides:$I(),localFeatureOverrides:HI(),localFeaturesToDisable:zI(),serverFeatures:[],surfaceConfig:ae.instance().config()}).join(",");s&&(n.append("features",s),n.append("setflight",s));const o=FI();o&&(n.append("promptBranch",o),WJ()&&n.append("useSxs","true"));const r=BI();r&&n.append("sxsFeature",r);const{surfaceQueryParam:a}=ae.instance().config();if(a)for(const[i,u]of Object.entries(a.params))n.append(i,u);return n}function KI(e){return e!==void 0&&e.tokenType!==void 0&&e.tokenType!=="msa"}async function e6(e,t){const{VITE_API_URL:n}=YJ;let s;if(Dw()?s=`${window.location.host}/c/api`:s=n,!s)throw new Error("Cannot initialize websocket because the required env vars are not set: VITE_API_URL");const o={...t,"api-version":"2"},r=await pa.instance().getAuthToken(),a=await kC();r&&!a&&(o.accessToken=r.accessToken,KI(r)&&(o["X-UserIdentityType"]=r.tokenType)),r===void 0?gI(e,"getWssAPIUrl"):vI(e,"getWssAPIUrl"),pe(fl)&&(o.appFlavor="beta");const i=qI({query:o});return`wss://${s}/${e}?${i}`}function JJ(e,t){const n=[yC(),e],s=qI({query:t});return s.toString()&&n.push("?",String(s)),n.join("")}function XJ(e,t,n){if(e.attemptCount>1){const s=e.errors.filter(i=>i.errorType==="RequestTimeoutError").length,o=e.errors[e.errors.length-1],r=o==null?void 0:o.errorType,a=o==null?void 0:o.errorMessage;D.trackEvent({name:"system",data:{eventName:"copilotFeatureSuccess",eventInfo_feature:"apiRetry",eventInfo_scenario:t,eventInfo_duration:e.endTime-e.startTime,eventInfo_customData:JSON.stringify({attemptCount:e.attemptCount,errorCount:e.errors.length,timeoutErrorCount:s,delayTimings:e.delayTimings,lastErrorType:r,lastErrorMessage:a})}})}n==null||n(e)}function eX(e,t,n){var r,a;const s=e.exitReason==="requestTimeout",o={path:t,attemptCount:e.attemptCount,totalDuration:e.endTime-e.startTime,exitReason:e.exitReason,errorCount:e.errors.length,isTimeoutFailure:s,lastErrorType:(r=e.errors[e.errors.length-1])==null?void 0:r.errorType,lastErrorMessage:(a=e.errors[e.errors.length-1])==null?void 0:a.errorMessage,delayTimings:e.delayTimings};D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"ApiRetryFailure",eventInfo_errorMessage:s?`API retry failed due to timeout after ${e.attemptCount} attempts`:`API retry failed after ${e.attemptCount} attempts. Exit reason: ${e.exitReason}`,eventInfo_details:JSON.stringify(o)}}),n==null||n(e)}function tX(e,t,n){D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"ApiRetryTimeout",eventInfo_errorMessage:`Request timed out after ${e.timeoutMs}ms (attempt ${e.attemptCount})`,eventInfo_details:JSON.stringify({timeoutMs:e.timeoutMs,attemptCount:e.attemptCount,errorCount:e.errors.length,delayTimings:e.delayTimings,scenario:t,duration:e.endTime-e.startTime})}}),n==null||n(e)}async function zn(e,t={}){const{options:n,query:s,analytics:o,retry:r,requestTimeoutMs:a}=t;if(r){const{onSuccess:i,onFailure:u,onTimeout:d,retryOn401:m}=r,f={...r,onSuccess:g=>{XJ(g,(o==null?void 0:o.anonymousPath)??e,i)},onFailure:g=>{eX(g,(o==null?void 0:o.anonymousPath)??e,u)},onTimeout:g=>{tX({...g,timeoutMs:a??-1},(o==null?void 0:o.anonymousPath)??e,d)}};return rm(a?()=>HQ(g=>Ag({path:e,options:n,query:s,analytics:o,abortController:g,retryOn401:m}),a):()=>Ag({path:e,options:n,query:s,analytics:o,retryOn401:m}),f)}return Ag({path:e,options:n,query:s,analytics:o})}async function Ag(e){const{path:t,options:n,query:s,analytics:o,abortController:r,retryOn401:a}=e,i=new Headers(n==null?void 0:n.headers);Rt.resolvedLanguage?i.set("X-Search-UILang",Rt.resolvedLanguage.toLowerCase()):Rt.language&&i.set("X-Search-UILang",Rt.language.toLowerCase());const u=await pa.instance().getAuthToken(),d=await kC();u&&!d&&(i.set("Authorization",`Bearer ${u.accessToken}`),KI(u)&&i.set("X-UserIdentityType",u.tokenType)),u===void 0?gI(t,"fetchApi"):vI(t,"fetchApi"),pe(fl)&&i.set("X-Copilot-App-Flavor","beta");const m=performance.now(),f=await fetch(JJ(t,s),{...n,credentials:"include",headers:i,signal:r==null?void 0:r.signal}),h=performance.now();if(hI((o==null?void 0:o.anonymousPath)??t,(n==null?void 0:n.method)??"GET",h-m,f.clone()),td.trackLatestApiAssignment(f.headers),a&&f.status===401)throw new C1(`401 Unauthorized: ${t}`,{statusCode:401,route:t});return f}async function kn({path:e,args:t={}}){var s;const n={method:"POST",...t.options,headers:{"Content-Type":"application/json",...(s=t.options)==null?void 0:s.headers},body:t.body?JSON.stringify(t.body):void 0};return zn(e,{...t,options:n})}async function St(e,t,n={}){const{analytics:s,onFailedRequest:o}=n,r=(s==null?void 0:s.anonymousPath)??e,a=await zn(e,n);let i=!0;if(!a.ok&&o&&(i=!!o(a)),!i)return{data:void 0,response:{ok:a.ok,status:a.status,headers:a.headers},zodError:void 0};const u=await QJ(a,r);let d,m;const{safe:f}=n.parseOptions??{};if(f){const h=t.safeParse(u);h.error&&sd(h.error,r,!0),d=u,m=h.error}else try{d=t.parse(u)}catch(h){throw h instanceof ep&&sd(h,r,!1),h}return{data:d,response:{ok:a.ok,status:a.status,headers:a.headers},zodError:m}}class nX{generateClientEventId(t){if(this.shouldLogForEventName(t.data.eventName))return crypto.randomUUID()}onBeforeTrackEvent(t){this.logEventIfNeededNonBlocking(t,"prepared")}eventsSent(t){for(const n of t)this.logEventIfNeededNonBlocking(n,"success")}eventsDiscarded(t,n){for(const s of t)this.logEventIfNeededNonBlocking(s,this.getStatusFromDiscardedReason(n))}logEventIfNeededNonBlocking(t,n){this.logEventIfNeeded(t,n).catch(()=>{})}async logEventIfNeeded(t,n){var s,o,r,a,i,u,d,m;this.shouldLogForEventName((s=t.data)==null?void 0:s.eventName)&&await zn("/client-telemetry",{options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:(o=t.data)==null?void 0:o.eventInfo_clientEventId,eventName:(r=t.data)==null?void 0:r.eventName,status:n,retryCount:"sendAttempt"in t?t.sendAttempt:0,appInfoName:(a=t.data)==null?void 0:a.appName,userId:(i=t.data)==null?void 0:i.userPicassoId,userMuid:(u=t.data)==null?void 0:u.userMuid,conversationId:(d=t.data)==null?void 0:d.eventInfo_conversationId,messageId:(m=t.data)==null?void 0:m.eventInfo_messageId,isSdkInitialized:!0,clientTimestamp:t.time??new Date().toISOString()})}})}getStatusFromDiscardedReason(t){switch(t){case 1:return"nonRetryableStatus";case 2:return"invalidEvent";case 3:return"sizeLimitExceeded";case 4:return"killSwitch";case 5:return"queueFull";default:return"unknown"}}shouldLogForEventName(t){switch(t){case"copilotCompose":case"copilotResponseRender":case"copilotStart":return!0;default:return!1}}}const t6={global:["https://ad.doubleclick.net/ddm/activity/src=8406097;type=ofco;cat=lrn_uni;u1={REGION};u2={LANG_LOCALE};u6=CMC;u50=submit_message;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;ord=1;num={CACHE_BUSTER}"],us:["https://px.ads.linkedin.com/collect/?fmt=gif&pid=7850&url=copilot.microsoft.com/ChatSend","https://secure.adnxs.com/px?id=1869141&t=2","https://servedby.flashtalking.com/spot/1/5155;147512;16638/?spotName=USA_FY25H2_Copilot_Consumer_Chat_Send_button_FT_2_7_25&cachebuster={CACHE_BUSTER}","https://alb.reddit.com/rp.gif?id=a2_gi5vc4m557wn&event=Custom&m.customEventName=COPChatSend&integration=noscript","https://analytics.tiktok.com/api/v2/pixel_event_track?pixel_code=CUUELO3C77U6K9SI3QSG&event=SendMessage&event_id={CACHE_BUSTER}","https://tr.snapchat.com/p?pid=68db1ef4-2290-4224-a91a-df01d273a994&ev=START_CHECKOUT&v=2.3&rand={CACHE_BUSTER}&pl=https://copilot.microsoft.com/","https://tr.snapchat.com/cm/s?pnid=140","https://www.facebook.com/tr?id=1770559986549030&ev=COPChatSend&noscript=1","https://insight.adsrvr.org/track/pxl/?adv=tq5ketp&ct=0:e8n8utj&fmt=3&td1={td1}&td2={td2}&td3={td3}&td4={td4}&td5={td5}&td6={td6}"],gb:["https://secure.adnxs.com/px?id=1869542&t=2&seg=39793132&consent={CONSENT}","https://px.ads.linkedin.com/collect/?fmt=gif&pid=7850&url=copilot.microsoft.com/ChatSend","https://servedby.flashtalking.com/spot/1/3360;147492;16970/?spotName=GBR_FY25H2_Copilot_Consumer_Chat_Send_FT_2_7_25&cachebuster={CACHE_BUSTER}","https://analytics.tiktok.com/api/v2/pixel_event_track?pixel_code=CUUELO3C77U6K9SI3QSG&event=SendMessage&event_id={CACHE_BUSTER}","https://www.facebook.com/tr?id=1770559986549030&ev=COPChatSend&noscript=1","https://tr.snapchat.com/p?pid=68db1ef4-2290-4224-a91a-df01d273a994&ev=START_CHECKOUT&v=2.3&rand={CACHE_BUSTER}&pl=https://copilot.microsoft.com/","https://tr.snapchat.com/cm/s?pnid=140","https://insight.adsrvr.org/track/pxl/?adv=csnj4o5&ct=0:7s8ltxf&fmt=3&td1={td1}&td2={td2}&td3={td3}&td4={td4}&td5={td5}&td6={td6}"],other:["https://www.facebook.com/tr?id=1770559986549030&ev=COPChatSend&noscript=1","https://analytics.tiktok.com/api/v2/pixel_event_track?pixel_code=CUUELO3C77U6K9SI3QSG&event=SendMessage&event_id={CACHE_BUSTER}"]},Df={onPageLoad:{global:["https://ad.doubleclick.net/ddm/activity/src=8406097;type=ofco;cat=lp_uniq;u1={REGION};u2={LANG_LOCALE};u6=CMC;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;ord=1;num={CACHE_BUSTER}"],us:["https://www.facebook.com/tr?id=1770559986549030&ev=PageView&noscript=1","https://px.ads.linkedin.com/collect/?fmt=gif&pid=7850&url=copilot.microsoft.com/custom-pageload","https://secure.adnxs.com/px?id=1869069&t=2","https://servedby.flashtalking.com/spot/1/5155;147507;16638/?spotName=USA_FY25H2_Copilot_Consumer_Page_Load_FT_2_7_25&cachebuster={CACHE_BUSTER}","https://alb.reddit.com/rp.gif?id=a2_gi5vc4m557wn&event=PageVisit&integration=noscript","https://analytics.tiktok.com/api/v2/pixel_event_track?pixel_code=CUUELO3C77U6K9SI3QSG&event=ViewContent&event_id={CACHE_BUSTER}","https://tr.snapchat.com/p?pid=68db1ef4-2290-4224-a91a-df01d273a994&ev=PAGE_VIEW&v=2.3&rand={CACHE_BUSTER}&pl=https://copilot.microsoft.com","https://tr.snapchat.com/cm/s?pnid=140","https://insight.adsrvr.org/track/pxl/?adv=tq5ketp&ct=0:tzodkxv&fmt=3&td1={td1}&td2={td2}&td3={td3}&td4={td4}&td5={td5}&td6={td6}"],gb:["https://www.facebook.com/tr?id=1770559986549030&ev=PageView&noscript=1","https://px.ads.linkedin.com/collect/?fmt=gif&pid=7850&url=copilot.microsoft.com/custom-pageload","https://secure.adnxs.com/px?id=1869539&seg=39793125&t=2&consent={CONSENT}","https://servedby.flashtalking.com/spot/1/3360;147490;16970/?spotName=GBR_FY25H2_Copilot_Consumer_Page_Load_FT_2_7_25&cachebuster={CACHE_BUSTER}","https://analytics.tiktok.com/api/v2/pixel_event_track?pixel_code=CUUELO3C77U6K9SI3QSG&event=ViewContent&event_id={CACHE_BUSTER}","https://tr.snapchat.com/p?pid=68db1ef4-2290-4224-a91a-df01d273a994&ev=PAGE_VIEW&v=2.3&rand={CACHE_BUSTER}&pl=https://copilot.microsoft.com","https://tr.snapchat.com/cm/s?pnid=140","https://insight.adsrvr.org/track/pxl/?adv=csnj4o5&ct=0:2slc99p&fmt=3&td1={td1}&td2={td2}&td3={td3}&td4={td4}&td5={td5}&td6={td6}"],other:["https://www.facebook.com/tr?id=1770559986549030&ev=PageView&noscript=1","https://analytics.tiktok.com/api/v2/pixel_event_track?pixel_code=CUUELO3C77U6K9SI3QSG&event=ViewContent&event_id={CACHE_BUSTER}"]},onMessageSend:t6,onStartVoiceChat:t6,onSuggestionChipClicked:{global:[],us:[],gb:[],other:[]},onDiscoverCardClicked:{global:[],us:[],gb:[],other:[]},onQueryParamSubmit:{global:[],us:[],gb:[],other:[]}},sX={onPageLoad:{behavior:20,Content:{Id:"CMCChatLoaded",cN:"CMC Chat Loaded"}},onMessageSend:{behavior:63,Content:{Id:"ChatManualMessage",cN:"Chat Manual Message"}},onStartVoiceChat:{behavior:300,Content:{Id:"VoiceMessageClick",cN:"Voice Message Click"}},onSuggestionChipClicked:{behavior:60,Content:{Id:"SuggestionChipClicked",cN:"Suggestion Chip Clicked"}},onDiscoverCardClicked:{behavior:144,Content:{Id:"DiscoverCardClicked",cN:"Discover Card Clicked"}},onQueryParamSubmit:{behavior:141,Content:{Id:"QueryParamMessageSubmit",cN:"Query Param Message Submit"}}};function oX(e,t){return t==="US"?Df[e].us:t==="GB"?Df[e].gb:t&&["AU","CA","DE","FR","JP"].includes(t)?Df[e].other:[]}function rX(e){if(!be("ads-pixels"))return;const t=$e().get(Mn),n=Rt.language,s=Date.now().toString(),o=Df[e].global,r=oX(e,t),{set:a}=$e();a(Mw,i=>{for(const u of o.concat(r))i[u]||(i[u]={url:u.replace("{CACHE_BUSTER}",s).replace("{REGION}",t??"").replace("{LANG_LOCALE}",n).replace("{CONSENT}",cX(t)).replace("{td1}",t??"").replace("{td2}",n).replace("{td3}","CMC").replace("{td4}","").replace("{td5}","").replace("{td6}",lX(e)),isMounted:!0,timestamp:Date.now()});return{...i}})}function aX(e){be("custom-1ds")&&(window.OneDsAzureAnalytics.capturePageAction(null,sX[e]),mw())}function Lc(e){try{rX(e),aX(e)}catch{qt({feature:"sendIdeasTelemetry",customData:JSON.stringify({eventName:e})})}}function iX(e){Lc(e==="suggestion"?"onSuggestionChipClicked":e==="discover"?"onDiscoverCardClicked":e==="queryParam"?"onQueryParamSubmit":"onMessageSend")}function cX(e){return(e&&v1.includes(e))===!0?ji().advertising?"1":"0":""}function lX(e){switch(e){case"onPageLoad":return"page_load";case"onMessageSend":return"submit_message";case"onStartVoiceChat":return"voice_message";case"onSuggestionChipClicked":return"suggestion_chip";case"onDiscoverCardClicked":return"discover_card";case"onQueryParamSubmit":return"query_param_submit";default:return""}}function uX(e){const t=M(Mn);c.useEffect(()=>{D.ensureInitialized(dX()),e&&(window.appEnd=performance.now(),performance.getEntriesByName("startupTime-begin").length||performance.mark("startupTime-begin",{startTime:window.appStart}),performance.mark("startupTime-end",{startTime:window.appEnd}),performance.measure("startupTime","startupTime-begin","startupTime-end"))},[e]),c.useEffect(()=>{e&&t&&setTimeout(()=>{Lc("onPageLoad")},1e3)},[e,t])}function dX(){return()=>be("picasso-telemetry")?new nX:null}function mX({appInitialized:e}){const t=M(cn);c.useEffect(()=>{e&&aC().catch(console.error)},[e]),c.useEffect(()=>{e&&OZ(t==null?void 0:t.id).catch(console.error)},[e,t])}function fX(e){c.useEffect(()=>(document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}),[e])}function pX(){fX(()=>{document.visibilityState==="visible"?D.trackEvent({name:"system",data:{eventName:"copilotVisible",eventInfo_landingPage:D.getLandingPage()}}):D.trackEvent({name:"system",data:{eventName:"copilotBackground"}})})}function hX(){const e=mZ(),t=oe(Xd);e&&(s=>HZ.includes(s))(e)&&t(e)}const V1=N(void 0),_s=N(void 0),gX=N(e=>{var t;return(t=e(_s))==null?void 0:t.showroomData},(e,t,n)=>{const s=e(_s);if(s){const o=typeof n=="function"?n(s.showroomData):n;t(_s,{...s,showroomData:o})}});N(!1);function vX(e){$e().set(gX,t=>Un(t,n=>{e(n)}))}const vIe="https://aka.ms/copilot-ads/ads-settings",CIe="https://aka.ms/copilot-ads/verification-program",yIe=["website-visits","interests","similar-audience"],bIe="data-ad-part",xIe={text:"textAd",multimedia:"multimediaAd",product:"productAd",propertyPromotion:"propertyPromotionAd",tourActivity:"tourActivityAd",miniShowroom:"miniShowroomAd",mainShowroom:"mainShowroomAd"},CX=.05,SIe="focus:underline hover:underline group-focus/trackable-link:underline",yX=128,bX=128,xX=147,SX=95,EIe=59*60*1e3;function wIe(e,t,n){const s=t==="product"?yX:xX,o=t==="product"?bX:SX;if(n.length===0||!e)return{width:s,height:o,resize:"object-contain"};const{maxDeviation:r,averageAspectRatio:a,count:i}=ZI(n);return i===0||a===0?{width:s,height:o,resize:"object-contain"}:r>CX?{width:s,height:EX(n,s,o),resize:"object-contain"}:{width:s,height:s/a,resize:"object-cover"}}function EX(e,t,n){const s=wX(e,t);return s===-1?n:Math.min(n,s)}function wX(e,t){const n=e.map(s=>{const o=s.type==="product"?s.offer.item.image:s.image;if(o.width&&o.height)return o.height/o.width*t}).filter(s=>typeof s=="number");return n.length>0?Math.max(...n):-1}function ZI(e){if(e.length===0)return{maxDeviation:0,averageAspectRatio:0,count:0};const t=[];for(const o of e){const r=o.type==="product"?o.offer.item.image:o.image;if(r.width&&r.height){const a=r.width/r.height;t.push(a)}}if(t.length===0)return{maxDeviation:0,averageAspectRatio:0,count:0};const n=t.reduce((o,r)=>o+r,0)/t.length;return{maxDeviation:t.reduce((o,r)=>{const a=Math.abs(r/n-1);return Math.max(o,a)},0),averageAspectRatio:n,count:t.length}}function IX(e){if(e.length===0)return{};const t=e.map(s=>{const o=s.type==="product"?s.offer.item.image:s.image;return{originalWidth:o.width,originalHeight:o.height}}),n=ZI(e);return{imageSizes:t.length>0?t:void 0,imageAspectRatioVariance:n}}function _X(e){var n;const t=[];for(const s of e){if(s.type!=="product"&&s.type!=="propertyPromotion"&&s.type!=="tourActivity")return null;if(!s.tags)continue;if(s.tags.length>1)return null;const o=s.tags[0];if(!(!o||!o.value))if(t.length===0)t.push(o);else{if(((n=t[0])==null?void 0:n.category)!==o.category)return null;t.find(r=>r.value===o.value)||t.push(o)}}return t}function IIe(e,t){var n;return e!=null&&e.length?JSON.stringify({tagCategory:(n=e[0])==null?void 0:n.category,tagValue:(t==null?void 0:t.value)??"recommended",tagPosition:t?e.indexOf(t)+1:null,tagCount:e.length}):""}function TX(e){return e.every(t=>t.type==="product"||t.type==="propertyPromotion"||t.type==="tourActivity")}function _Ie(e,t,n){let s=e;return t!=null&&t.length&&n?s=e.filter(o=>{var r;return o.tags&&((r=o.tags[0])==null?void 0:r.value)===n.value}):t!=null&&t.length&&!n&&(s=e.filter(o=>!o.tags)),s}class AX{constructor(t){O(this,"startTime",0);O(this,"timeToFirstToken",0);O(this,"receivedFirstToken",!1);O(this,"receivedLastToken",!1);O(this,"currentAdditionalData");O(this,"currentMessageId","");O(this,"receivedMessageTime",0);O(this,"startMessageTime",0);O(this,"mostRecentTokenTime",0);this.startTime=t}resetStartTime(t){this.startTime=t,this.timeToFirstToken=0}onBeforeSend(){this.receivedFirstToken=!1,this.receivedLastToken=!1}onSent(t){this.currentAdditionalData=t}onReceived(t){this.receivedMessageTime=performance.now(),D.trackEvent({name:"system",data:{eventName:"copilotChatRequest",eventInfo_additionalData:this.currentAdditionalData,eventInfo_duration:this.receivedMessageTime-this.startTime,eventInfo_conversationId:t.conversationId,eventInfo_messageId:this.currentMessageId,eventInfo_mode:t.chatMode}})}onStartMessage(t){this.startMessageTime=performance.now(),this.currentMessageId=t.messageId,this.receivedMessageTime||(this.receivedMessageTime=this.startTime),D.trackEvent({name:"system",data:{eventName:"copilotChatReqToResp",eventInfo_duration:this.startMessageTime-this.receivedMessageTime,eventInfo_additionalData:this.currentAdditionalData,eventInfo_conversationId:t.conversationId,eventInfo_messageId:t.messageId,eventInfo_mode:t.chatMode}})}onFirstToken(t,n,s){if(!this.receivedFirstToken&&t===this.currentMessageId){const o=performance.now()-this.startTime;this.timeToFirstToken=o,this.receivedFirstToken=!0,D.trackEvent({name:"system",data:{eventName:"copilotChatRespToReceived",eventInfo_additionalData:this.currentAdditionalData,eventInfo_conversationId:s,eventInfo_duration:performance.now()-this.receivedMessageTime,eventInfo_messageId:t,eventInfo_mode:n}}),D.trackEvent({name:"system",data:{eventName:"copilotFirstTokenReceived",eventInfo_conversationId:s,eventInfo_messageId:t,eventInfo_duration:o,eventInfo_mode:n,eventInfo_additionalData:this.currentAdditionalData}}),GJ.run({duration:o})}this.mostRecentTokenTime=performance.now()}onLastToken(t){const{citationCount:n,imageCount:s,messageId:o,inputMethod:r,conversationId:a,chatMode:i,chainOfThoughtCount:u,guidedLinksCount:d,uploadImageCount:m,uploadFileCount:f}=t;if(!this.receivedLastToken&&o===this.currentMessageId){const h=this.mostRecentTokenTime-this.startTime;this.receivedLastToken=!0,D.trackEvent({name:"system",data:{eventName:"copilotResponseRender",eventInfo_conversationId:a,eventInfo_messageId:o,eventInfo_numCitations:n,eventInfo_numImagesGenerated:s,eventInfo_numChainOfThoughts:u,eventInfo_numGuidedLinks:d,eventInfo_inputMethod:r,eventInfo_responseMethod:"text",eventInfo_mode:i,eventInfo_additionalData:this.currentAdditionalData,eventInfo_landingPage:D.getLandingPage(),eventInfo_firstToLastTokenDuration:h-this.timeToFirstToken,eventInfo_customData:JSON.stringify({eventInfo_numImagesUploaded:m,eventInfo_numDocumentsUploaded:f})}}),D.trackEvent({name:"system",data:{eventName:"copilotLastTokenReceived",eventInfo_conversationId:a,eventInfo_messageId:o,eventInfo_duration:h,eventInfo_mode:i,eventInfo_additionalData:this.currentAdditionalData}}),D.trackEvent({name:"system",data:{eventName:"copilotChatE2E",eventInfo_conversationId:a,eventInfo_messageId:o,eventInfo_duration:performance.now()-this.startTime,eventInfo_mode:i,eventInfo_additionalData:this.currentAdditionalData}}),this.currentAdditionalData=void 0}}onAdsRender(t){const n=performance.now()-this.startTime,{ads:s}=t,o=s==null?void 0:s.find(g=>g.type==="miniShowroom"),r=o??(s&&s.length>0?s[0]:void 0),a=s&&TX(s)?_X(s):[],i=s==null?void 0:s.find(g=>g.type==="mainShowroom"),u=pe(_s),d=be("adsshowroombrandagent"),m=s&&s.length>0&&((r==null?void 0:r.type)==="product"||(r==null?void 0:r.type)==="tourActivity"||(r==null?void 0:r.type)==="propertyPromotion")?IX(s):{};let f;o?f={brandId:o.brandId??(i==null?void 0:i.brandId),miniShowroom:{messageId:t.messageId,rguid:t.requestId}}:i&&u&&(f={brandId:u.brandId,brandLogo:u.brandLogo,brandBackground:u.brandBackground,viewMode:u.viewMode,brandAgentScenario:d?"chat":void 0,triggeredAtRguid:u.lastUserMessageRguid??void 0,miniShowroom:{messageId:u.miniShowroomAd.messageId,adId:u.adId},activeCard:{adId:i.id,rguid:t.requestId},previousCard:{adId:u.adId,rguid:u.activeCardRguid}});const h=JSON.stringify({eventType:t.eventType,adTags:a!=null&&a.length?a:void 0,showroom:f,...m});D.trackEvent({name:"system",data:{eventName:"copilotAdsSignal",eventInfo_scenario:"render",eventInfo_adType:r==null?void 0:r.type,eventInfo_adCount:s==null?void 0:s.length,eventInfo_rguid:t.requestId,eventInfo_messageId:t.messageId,eventInfo_conversationId:t.conversationId,eventInfo_duration:n,eventInfo_additionalData:h}})}onSubmitMessageBlocked(t,n,s){D.trackEvent({name:"interaction",data:{eventName:"copilotUserInputBlocked",eventInfo_inputMethod:n,eventInfo_mode:t,eventInfo_messageId:this.currentMessageId,eventInfo_conversationId:s,eventInfo_duration:performance.now()-this.startTime,eventInfo_additionalData:this.currentAdditionalData}})}onImageGenerationStart(t){const{messageId:n,conversationId:s,chatMode:o}=t,a=performance.now()-this.startTime;D.trackEvent({name:"system",data:{eventName:"copilotFeatureLatency",eventInfo_scenario:"ImageGenStarted",eventInfo_messageId:n,eventInfo_conversationId:s,eventInfo_mode:o,eventInfo_duration:a}})}onImageReceived(t){const{messageId:n,conversationId:s,chatMode:o}=t,r=performance.now()-this.startTime;D.trackEvent({name:"system",data:{eventName:"copilotFeatureLatency",eventInfo_scenario:"ImageGenReceived",eventInfo_messageId:n,eventInfo_conversationId:s,eventInfo_mode:o,eventInfo_duration:r}})}onPartialImageReceived(t){const{messageId:n,imageGenPhase:s,conversationId:o,chatMode:r}=t,a=performance.now()-this.startTime;D.trackEvent({name:"system",data:{eventName:"copilotFeatureLatency",eventInfo_scenario:"PartialImageGenReceived",eventInfo_messageId:n,eventInfo_conversationId:o,eventInfo_mode:r,eventInfo_duration:a,eventInfo_customData:`${s}`}})}onMemorySignalReceived(t){const{messageId:n,conversationId:s}=t,r=performance.now()-this.startTime;D.trackEvent({name:"system",data:{eventName:"copilotFeatureLatency",eventInfo_scenario:"MemorySignalReceived",eventInfo_messageId:n,eventInfo_conversationId:s,eventInfo_duration:r}})}onChainOfThoughtReceived(t){const{messageId:n,conversationId:s,chatMode:o}=t,r=performance.now()-this.startTime;D.trackEvent({name:"system",data:{eventName:"copilotCoTFirstTokenReceived",eventInfo_messageId:n,eventInfo_conversationId:s,eventInfo_mode:o,eventInfo_duration:r}})}}function MC(e,t){let n=null;return(...s)=>{n!==null&&window.clearTimeout(n),n=window.setTimeout(()=>e(...s),t)}}const YI=300,TIe=2e3,kX=new Map([["image","chat"],["podcast","chat"],["researchReport","research"],["quiz","chat"],["actions","computerUse"],["video","chat"]]);function QI(e){return kX.get(e)}const _l=$e(),MX=500;function NX(){let e="";if(typeof document<"u"){const t=document.querySelector(`#${Fd}`);t&&(e=t.value)}return e}let n6=!1;function RX(){let e="";n6||(e=NX(),n6=!0),lF([[am,e]])}const am=N(""),JI=N("starter-prompts"),XI=N(!0),e_=N(!1),kg=N(vn()),cd=N(e=>e(kg),(e,t,n)=>{const s=e(kg),o=be("sticky-conversation-mode"),r=be("persist-conversation-mode");o&&($s("sticky-conversation-mode",n),r&&Vn(Od,wa,n)),s!==n&&t(kg,n)}),Gc=N(null);function j2(e){_l.set(am,e)}function ld(){_l.set(am,"")}function Tu(e){_l.set(JI,e)}function Ja(e){_l.set(XI,e)}function t_(e){_l.set(Il,e)}function Ep(e){_l.set(e_,e)}function Kt(e){const t=pe(cd);switch((t==="computerUse"||t==="research")&&mt(Gc,null),mt(cd,e),e){case"computerUse":{mt(Gc,"actions");break}case"research":{mt(Gc,"researchReport");break}}}function H1(e){if(mt(Gc,e),e===null)return;const t=QI(e);t&&mt(cd,t)}function NC(){return M(am)}function PX(){return pe(am)}function LX(){return M(JI)}function OX(){return M(XI)}function Qs(){return M(cd)}function xo(){return pe(cd)}function DX(){return M(e_)}function RC(){return M(Gc)}function jX(){return pe(Gc)}const UX=MC((e,t)=>{PQ(pe(je),e,JSON.stringify(t))},MX);function FX(e,t){UX(e,t)}async function BX(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n);return new Uint8Array(s)}function VX({bytes:e,difficulty:t}){const n=Math.floor(t/8),s=t%8;for(let o=0;o<n;o+=1)if(e[o]!==0)return!1;if(s>0){const o=255<<8-s,r=e[n];if(r!==void 0&&(r&o)!==0)return!1}return!0}async function HX(e){const{token:t,difficulty:n,startNonce:s=0,batchSize:o=1e4}=e;let r=s,a=0;const i=async u=>{const d=t+u,m=await BX(d);return a+=1,VX({bytes:m,difficulty:n})?{found:!0,nonce:u}:{found:!1,nonce:0}};for(;;){const u=[];for(let m=0;m<o;m+=1){const f=r+m;u.push(i(f))}const d=await Promise.all(u);for(const m of d)if(m.found)return{nonce:m.nonce,totalHashes:a};r+=o,await new Promise(m=>{setTimeout(m,0)})}}const zX=10*1e3;function jf({duration:e,success:t,errorMessage:n}){const{userAgent:s}=navigator;D.trackEvent({name:"system",data:{eventName:"webWorkerRegistrationEvent",eventInfo_name:"hashcash-worker",eventInfo_userAgent:s,eventInfo_duration:e,eventInfo_success:t,eventInfo_errorMessage:t?void 0:n??"Unknown error"}})}async function GX(e,t){const{token:n,difficulty:s,startNonce:o=0,batchSize:r=1e4}=e,a=Math.floor(Number.MAX_SAFE_INTEGER/t),i=[],u=[],d=()=>{for(const f of i)f.terminate()};window.addEventListener("beforeunload",d,{once:!0});const m=f=>{const h=new Worker(new URL("/static/cmc/assets/hashcash.worker-BKwywZyM.js",import.meta.url),{type:"module"});return i.push(h),new Promise((g,C)=>{const v=performance.now(),y=setTimeout(()=>{const E=performance.now()-v;jf({duration:E,success:!1,errorMessage:"Registration timeout"}),h.terminate(),C(new Error(`Worker ${f} timeout`))},zX);h.onmessage=E=>{const{data:S}=E;if(S.type==="ready"){const I=performance.now()-v;jf({duration:I,success:!0}),clearTimeout(y);return}if(S.type==="success"){for(const[I,_]of i.entries())I!==f&&(_.postMessage({type:"cancel"}),_.terminate());g({nonce:S.nonce,timeElapsed:S.timeElapsed,totalHashes:S.totalHashes})}S.type==="error"&&(clearTimeout(y),h.terminate(),C(new Error(S.error)))},h.onerror=E=>{const S=performance.now()-v;jf({duration:S,success:!1,errorMessage:E.message||"Worker error"}),clearTimeout(y),h.terminate(),C(E)},h.postMessage({type:"register"});const b=o+f*a;h.postMessage({type:"start",token:n,difficulty:s,startNonce:b,batchSize:r})})};for(let f=0;f<t;f+=1)u.push(m(f));try{const f=await Promise.any(u);return window.removeEventListener("beforeunload",d),d(),f}catch(f){if(window.removeEventListener("beforeunload",d),d(),f instanceof AggregateError){const h=f.errors.map(g=>g instanceof Error?g.message:String(g)).join(", ");throw new Error(`All ${t} workers failed: ${h}`)}throw f}}async function WX(e,t){const{hardwareConcurrency:n}=navigator,s=Math.max(n-2,1),o=Date.now(),r=be("web-worker"),a=be("web-worker-multi-thread"),{webWorkerEnabled:i}=ae.instance().config();try{if(!r||!i)throw new Error(`Web Worker feature flag is enabled: ${r}
        Web Worker surface config is enabled: ${i}`);const u=a?t??s:1;return{...await GX(e,u),numberOfWorkers:u,method:"webworker"}}catch(u){jf({duration:Date.now()-o,success:!1,errorMessage:`Web worker registration failed or worker feature is disabled: ${u instanceof Error?u.message:String(u)}`});const d=await HX(e),m=Date.now()-o;return{...d,timeElapsed:m,method:"mainthread"}}}function $X(e,t,n){switch(e.type){case"research":return{type:"task",task:{id:e.id,type:e.type,contents:[],partialOutput:[],inlineCitations:[],status:"pending",prompt:e.prompt,progress:e.progress},partId:t};case"computerUse":return{type:"task",task:{id:e.id,conversationId:e.conversationId,type:e.type,status:"running",updatedAt:n},partId:t};case"podcast":return{type:"task",task:{id:e.id,type:e.type,status:e.status,podcast:e.podcast,updatedAt:e.updatedAt??n},partId:t};case"videoGeneration":return{type:"task",task:{id:e.id,type:e.type,status:e.status,result:e.result,updatedAt:e.updatedAt??n},partId:t};default:return null}}const n_=["ceo-thinkdeeper","ceo-smart-mode","ceo","webretrieval","webcontent","browser-actions"],qX=N(e=>{const t=e(Ta);if(!n_.some(o=>e(Ea(o)))||t.length===0)return!1;const s=t[t.length-1];return(s==null?void 0:s.author)==="ai"&&s.content.some(o=>o.type==="activity"&&o.activity.status==="running")});function U2(){return n_.some(be)}const wp=["completed","failed","cancelled"];function KX(e){if(e.author==="ai")return e.content.find(t=>{var s;if(t.type!=="task")return!1;const n=(s=t.task)==null?void 0:s.status;return n&&!wp.includes(n)})}function ZX(e){for(let t=e.length-1;t>=0;t-=1){const n=e[t];if(n&&n.type==="task")return n}}function PC(e){for(const t of e){const n=KX(t);if(n)return{message:t,part:n}}return null}const YX=N(0),QX=N(null),JX=N(null),s_=N(void 0),So=N(null),XX=N(null),im=N(null),z1=N(null),eee=N(e=>{var s;const t=e(Ta),n=PC(t);return((s=n==null?void 0:n.part.task)==null?void 0:s.type)==="research"}),tee=N(!1);N(new Map);const nee=N(!1),AIe=N(!1),LC=N(null),Yi=N(!1),see=N(!1),F2=N(!1),oee=N(e=>e(ka).isOpen||e(o_)),ka=N({isOpen:!1,scenario:null}),o_=N(e=>{const t=e(_i);return t===null?!1:t===0||e(ww).includes(t)}),ree=N(e=>{const t=e(o_),n=e(Ea("location-prompt")),s=e(Ta).filter(({author:r})=>r==="human").length,o=!!rn(VF);return t||!n||o?!1:s===IB});function r_(e){const{tasks:t,conversationId:n,taskType:s}=e;for(const o of t.values())if(o.conversationId===n){if(s&&o.type!==s)continue;return o.id}return""}function a_(e,t){return r_({tasks:e,conversationId:t,taskType:"computerUse"})!==""}async function Ks({from:e,to:t,params:n,search:s,state:o}){t.startsWith("/chats/")||$e().set(M2,null),await sm(0),await La().navigate({to:t,params:n,state:r=>({...r,from:e,...o}),search:s})}function Eo(){return Ks}const i_=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M3.28034 2.21968C2.98745 1.92678 2.51257 1.92677 2.21968 2.21966C1.92678 2.51255 1.92677 2.98743 2.21966 3.28032L3.48326 4.54395C3.17684 5.03983 3 5.62426 3 6.25V17.75C3 19.5449 4.45507 21 6.25 21H17.75C18.3757 21 18.96 20.8232 19.4559 20.5169L20.7194 21.7805C21.0123 22.0734 21.4872 22.0734 21.7801 21.7805C22.073 21.4876 22.073 21.0127 21.7801 20.7198L3.28034 2.21968ZM11.1189 12.1797C10.8678 12.2864 10.6322 12.4409 10.4258 12.643L4.60326 18.3437C4.53643 18.1583 4.5 17.9584 4.5 17.75V6.25C4.5 6.0437 4.5357 5.84574 4.60125 5.66196L11.1189 12.1797ZM19.5 6.25V16.3183L20.9993 17.8176C20.9998 17.7951 21 17.7726 21 17.75V6.25C21 4.45507 19.5449 3 17.75 3H6.25C6.2275 3 6.20505 3.00023 6.18265 3.00068L7.68194 4.5H17.75C18.7165 4.5 19.5 5.2835 19.5 6.25ZM18.3305 19.4014C18.1489 19.4653 17.9535 19.5 17.75 19.5H6.25C6.04613 19.5 5.8504 19.4651 5.66845 19.4011L11.4752 13.7148L11.5588 13.644C11.8501 13.4316 12.2596 13.4553 12.5247 13.7148L18.3305 19.4014ZM15.2521 6.5C16.4959 6.5 17.5042 7.50831 17.5042 8.75212C17.5042 9.99592 16.4959 11.0042 15.2521 11.0042C14.0083 11.0042 13 9.99592 13 8.75212C13 7.50831 14.0083 6.5 15.2521 6.5ZM15.2521 8C14.8367 8 14.5 8.33673 14.5 8.75212C14.5 9.1675 14.8367 9.50423 15.2521 9.50423C15.6675 9.50423 16.0042 9.1675 16.0042 8.75212C16.0042 8.33673 15.6675 8 15.2521 8Z"})),kIe=Object.freeze(Object.defineProperty({__proto__:null,default:i_},Symbol.toStringTag,{value:"Module"}));function aee(e,t=200,n=50){const[s,o]=c.useState(!1),[r,a]=c.useState(null);return c.useEffect(()=>{let i;if(!e)i=setTimeout(()=>{o(!0),a(Date.now())},t);else if(s){const u=r?Date.now()-r:1/0,d=n-u;d>0?i=setTimeout(()=>{o(!1),a(null)},d):(o(!1),a(null))}return()=>{clearTimeout(i)}},[e,t,n,s,r]),s}const OC="-",iee=e=>{const t=lee(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:a=>{const i=a.split(OC);return i[0]===""&&i.length!==1&&i.shift(),c_(i,t)||cee(a)},getConflictingClassGroupIds:(a,i)=>{const u=n[a]||[];return i&&s[a]?[...u,...s[a]]:u}}},c_=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),o=s?c_(e.slice(1),s):void 0;if(o)return o;if(t.validators.length===0)return;const r=e.join(OC);return(a=t.validators.find(({validator:i})=>i(r)))==null?void 0:a.classGroupId},s6=/^\[(.+)\]$/,cee=e=>{if(s6.test(e)){const t=s6.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},lee=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return dee(Object.entries(e.classGroups),n).forEach(([r,a])=>{B2(a,s,r,t)}),s},B2=(e,t,n,s)=>{e.forEach(o=>{if(typeof o=="string"){const r=o===""?t:o6(t,o);r.classGroupId=n;return}if(typeof o=="function"){if(uee(o)){B2(o(s),t,n,s);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([r,a])=>{B2(a,o6(t,r),n,s)})})},o6=(e,t)=>{let n=e;return t.split(OC).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},uee=e=>e.isThemeGetter,dee=(e,t)=>t?e.map(([n,s])=>{const o=s.map(r=>typeof r=="string"?t+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([a,i])=>[t+a,i])):r);return[n,o]}):e,mee=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const o=(r,a)=>{n.set(r,a),t++,t>e&&(t=0,s=n,n=new Map)};return{get(r){let a=n.get(r);if(a!==void 0)return a;if((a=s.get(r))!==void 0)return o(r,a),a},set(r,a){n.has(r)?n.set(r,a):o(r,a)}}},l_="!",fee=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,o=t[0],r=t.length,a=i=>{const u=[];let d=0,m=0,f;for(let y=0;y<i.length;y++){let b=i[y];if(d===0){if(b===o&&(s||i.slice(y,y+r)===t)){u.push(i.slice(m,y)),m=y+r;continue}if(b==="/"){f=y;continue}}b==="["?d++:b==="]"&&d--}const h=u.length===0?i:i.substring(m),g=h.startsWith(l_),C=g?h.substring(1):h,v=f&&f>m?f-m:void 0;return{modifiers:u,hasImportantModifier:g,baseClassName:C,maybePostfixModifierPosition:v}};return n?i=>n({className:i,parseClassName:a}):a},pee=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},hee=e=>({cache:mee(e.cacheSize),parseClassName:fee(e),...iee(e)}),gee=/\s+/,vee=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o}=t,r=[],a=e.trim().split(gee);let i="";for(let u=a.length-1;u>=0;u-=1){const d=a[u],{modifiers:m,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}=n(d);let C=!!g,v=s(C?h.substring(0,g):h);if(!v){if(!C){i=d+(i.length>0?" "+i:i);continue}if(v=s(h),!v){i=d+(i.length>0?" "+i:i);continue}C=!1}const y=pee(m).join(":"),b=f?y+l_:y,E=b+v;if(r.includes(E))continue;r.push(E);const S=o(v,C);for(let I=0;I<S.length;++I){const _=S[I];r.push(b+_)}i=d+(i.length>0?" "+i:i)}return i};function Cee(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=u_(t))&&(s&&(s+=" "),s+=n);return s}const u_=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=u_(e[s]))&&(n&&(n+=" "),n+=t);return n};function yee(e,...t){let n,s,o,r=a;function a(u){const d=t.reduce((m,f)=>f(m),e());return n=hee(d),s=n.cache.get,o=n.cache.set,r=i,i(u)}function i(u){const d=s(u);if(d)return d;const m=vee(u,n);return o(u,m),m}return function(){return r(Cee.apply(null,arguments))}}const Ht=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},d_=/^\[(?:([a-z-]+):)?(.+)\]$/i,bee=/^\d+\/\d+$/,xee=new Set(["px","full","screen"]),See=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Eee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Iee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_ee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,er=e=>Wc(e)||xee.has(e)||bee.test(e),jr=e=>Tl(e,"length",Lee),Wc=e=>!!e&&!Number.isNaN(Number(e)),Mg=e=>Tl(e,"number",Wc),uu=e=>!!e&&Number.isInteger(Number(e)),Tee=e=>e.endsWith("%")&&Wc(e.slice(0,-1)),rt=e=>d_.test(e),Ur=e=>See.test(e),Aee=new Set(["length","size","percentage"]),kee=e=>Tl(e,Aee,m_),Mee=e=>Tl(e,"position",m_),Nee=new Set(["image","url"]),Ree=e=>Tl(e,Nee,Dee),Pee=e=>Tl(e,"",Oee),du=()=>!0,Tl=(e,t,n)=>{const s=d_.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},Lee=e=>Eee.test(e)&&!wee.test(e),m_=()=>!1,Oee=e=>Iee.test(e),Dee=e=>_ee.test(e),jee=()=>{const e=Ht("colors"),t=Ht("spacing"),n=Ht("blur"),s=Ht("brightness"),o=Ht("borderColor"),r=Ht("borderRadius"),a=Ht("borderSpacing"),i=Ht("borderWidth"),u=Ht("contrast"),d=Ht("grayscale"),m=Ht("hueRotate"),f=Ht("invert"),h=Ht("gap"),g=Ht("gradientColorStops"),C=Ht("gradientColorStopPositions"),v=Ht("inset"),y=Ht("margin"),b=Ht("opacity"),E=Ht("padding"),S=Ht("saturate"),I=Ht("scale"),_=Ht("sepia"),T=Ht("skew"),A=Ht("space"),k=Ht("translate"),R=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",rt,t],U=()=>[rt,t],K=()=>["",er,jr],Z=()=>["auto",Wc,rt],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",rt],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Wc,rt];return{cacheSize:500,separator:":",theme:{colors:[du],spacing:[er,jr],blur:["none","",Ur,rt],brightness:W(),borderColor:[e],borderRadius:["none","","full",Ur,rt],borderSpacing:U(),borderWidth:K(),contrast:W(),grayscale:te(),hueRotate:W(),invert:te(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[Tee,jr],inset:V(),margin:V(),opacity:W(),padding:U(),saturate:W(),scale:W(),sepia:te(),skew:W(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[Ur]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),rt]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",uu,rt]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",uu,rt]}],"grid-cols":[{"grid-cols":[du]}],"col-start-end":[{col:["auto",{span:["full",uu,rt]},rt]}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":[du]}],"row-start-end":[{row:["auto",{span:[uu,rt]},rt]}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,t]}],"min-w":[{"min-w":[rt,t,"min","max","fit"]}],"max-w":[{"max-w":[rt,t,"none","full","min","max","fit","prose",{screen:[Ur]},Ur]}],h:[{h:[rt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ur,jr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mg]}],"font-family":[{font:[du]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",Wc,Mg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",er,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",er,jr]}],"underline-offset":[{"underline-offset":["auto",er,rt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),Mee]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kee]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ree]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:Q()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[er,rt]}],"outline-w":[{outline:[er,jr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[er,jr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ur,Pee]}],"shadow-color":[{shadow:[du]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Ur,rt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[uu,rt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[er,jr,Mg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Uee=yee(jee);function F(...e){return Uee(le(e))}const cm="overflow-hidden",Sr="backdrop-blur-2xl backdrop-saturate-200",DC="bg-white/70 dark:bg-muted-200/70",Js=le(cm,Sr,DC),Fee=le(cm,Sr),Bee=le(Sr,DC),Vee="bg-acrylic-default-fallback-light/[98] dark:bg-acrylic-default-fallback-dark/[98]",Hee="dark:bg-white/70  bg-slate-800/70",zee=le(cm,Sr,Hee);le(Sr,DC);const f_="bg-accent-100/60 dark:bg-muted-200/50",Gee=le(Sr,f_),Jr=le(cm,Sr,f_),Wee="bg-acrylic-thin-fallback-light/95 dark:bg-acrylic-thin-fallback-dark/[92]",p_="dark:bg-accent-900/60 bg-slate-800/50";le(Sr,p_);const $ee=le(cm,Sr,p_);function qee(e={},t=!1){const[n,s]=c.useState(!1),[o,r]=c.useState(!1),{onFocus:a,onBlur:i,onPointerDown:u}=e;return[n,{onFocus:m=>{(!o||t)&&s(!0),a==null||a(m)},onBlur:m=>{s(!1),r(!1),i==null||i(m)},onPointerDown:m=>{r(!0),u==null||u(m)}}]}function Kee(){return/^.*(EdgA|EdgiOS|Edg).*/i.test(navigator.userAgent)}const Oc="bg-background-300/20 dark:bg-background-650/5",Ga="border-black/10 dark:border-white/10";function Zee(e,t){return e?e===!0?{animate:{...t}}:{animate:e}:{style:t}}function Yee(e,t,n,s){const o=t?s:n;return e?{animate:o}:{style:o}}function G1(e){const{children:t,size:n="md",position:s="default",nested:o=!1,background:r="default",stroke:a,strokeChildren:i,className:u,containerRef:d,interactable:m=!1,label:f,animate:h,onFocus:g,onBlur:C,onPointerDown:v,onAnimationStart:y,onAnimationComplete:b,focusOnPointerDown:E,isSelected:S=!1,...I}=e,[_,T]=qee({onFocus:g,onBlur:C,onPointerDown:v},E),A=S||_,k=Kee(),P=o&&(r==="acrylic"||r==="acrylic-thin"),V=P?Ng[`${n}-${s}`]:Qee[`${n}-${s}`],U=P?Ng[`${n}-${s}`]:Jee[`${n}-${s}`],K=P?Ng[`${n}-${s}`]:Xee[`${n}-${s}`],Z={default:"bg-white/45 dark:bg-background-650/10",darker:Oc,acrylic:Js,"acrylic-fallback":Vee,"acrylic-thin":Jr,"acrylic-thin-fallback":Wee,transparent:"bg-transparent"},Y=m?{"aria-label":f,role:"button",tabIndex:0,...T,onKeyDown:$=>{var te;($.key==="Enter"||$.key===" ")&&($.preventDefault(),(te=I.onClick)==null||te.call(I,$))}}:{onFocus:g,onBlur:C,onPointerDown:v},Q=Zee(h,V),ee=Yee(h,A,U,K);return l.jsxs(ge.div,{className:F("relative isolate will-change-transform",Z[r],u,P&&"outline-1 outline-offset-2",h&&k&&"transition-[clip-path]"),ref:d,onAnimationComplete:b,...Q,...Y,...I,children:[t,l.jsx(ge.div,{className:F(A&&"before:border-foreground-750 dark:before:border-white",a&&!A&&"before:border-black/10 dark:before:border-white/10",r==="transparent"&&a&&!A&&"dark:before:border-white/18",!a&&!A&&"before:border-transparent",!P&&"before:border-[20px]",P&&a&&!A&&"before:border",P&&a&&A&&"before:border-2","pointer-events-none absolute inset-0 before:absolute before:inset-0 before:rounded-inherit",h&&k&&"transition-[clip-path]"),...ee,children:i})]})}const Qee={"xs-default":{clipPath:"var(--clip-path-squircle-16)"},"sm-default":{clipPath:"var(--clip-path-squircle-24)"},"md-default":{clipPath:"var(--clip-path-squircle-36)"},"lg-default":{clipPath:"var(--clip-path-squircle-48)"},"xl-default":{clipPath:"var(--clip-path-squircle-60)"},"xs-top":{clipPath:"var(--clip-path-squircle-16-12)"},"sm-top":{clipPath:"var(--clip-path-squircle-24-16)"},"md-top":{clipPath:"var(--clip-path-squircle-36-24)"},"lg-top":{clipPath:"var(--clip-path-squircle-48-36)"},"xl-top":{clipPath:"var(--clip-path-squircle-60-48)"},"xs-bottom":{clipPath:"var(--clip-path-squircle-12-16)"},"sm-bottom":{clipPath:"var(--clip-path-squircle-16-24)"},"md-bottom":{clipPath:"var(--clip-path-squircle-24-36)"},"lg-bottom":{clipPath:"var(--clip-path-squircle-36-48)"},"xl-bottom":{clipPath:"var(--clip-path-squircle-48-60)"}},Jee={"xs-default":{clipPath:"var(--clip-path-squircle-stroke-16)"},"sm-default":{clipPath:"var(--clip-path-squircle-stroke-24)"},"md-default":{clipPath:"var(--clip-path-squircle-stroke-36)"},"lg-default":{clipPath:"var(--clip-path-squircle-stroke-48)"},"xl-default":{clipPath:"var(--clip-path-squircle-stroke-60)"},"xs-top":{clipPath:"var(--clip-path-squircle-stroke-16-12)"},"sm-top":{clipPath:"var(--clip-path-squircle-stroke-24-16)"},"md-top":{clipPath:"var(--clip-path-squircle-stroke-36-24)"},"lg-top":{clipPath:"var(--clip-path-squircle-stroke-48-36)"},"xl-top":{clipPath:"var(--clip-path-squircle-stroke-60-48)"},"xs-bottom":{clipPath:"var(--clip-path-squircle-stroke-12-16)"},"sm-bottom":{clipPath:"var(--clip-path-squircle-stroke-16-24)"},"md-bottom":{clipPath:"var(--clip-path-squircle-stroke-24-36)"},"lg-bottom":{clipPath:"var(--clip-path-squircle-stroke-36-48)"},"xl-bottom":{clipPath:"var(--clip-path-squircle-stroke-48-60)"}},Xee={"xs-default":{clipPath:"var(--clip-path-squircle-stroke-focused-16)"},"sm-default":{clipPath:"var(--clip-path-squircle-stroke-focused-24)"},"md-default":{clipPath:"var(--clip-path-squircle-stroke-focused-36)"},"lg-default":{clipPath:"var(--clip-path-squircle-stroke-focused-48)"},"xl-default":{clipPath:"var(--clip-path-squircle-stroke-focused-60)"},"xs-top":{clipPath:"var(--clip-path-squircle-stroke-focused-16-12)"},"sm-top":{clipPath:"var(--clip-path-squircle-stroke-focused-24-16)"},"md-top":{clipPath:"var(--clip-path-squircle-stroke-focused-36-24)"},"lg-top":{clipPath:"var(--clip-path-squircle-stroke-focused-48-36)"},"xl-top":{clipPath:"var(--clip-path-squircle-stroke-focused-60-48)"},"xs-bottom":{clipPath:"var(--clip-path-squircle-stroke-focused-12-16)"},"sm-bottom":{clipPath:"var(--clip-path-squircle-stroke-focused-16-24)"},"md-bottom":{clipPath:"var(--clip-path-squircle-stroke-focused-24-36)"},"lg-bottom":{clipPath:"var(--clip-path-squircle-stroke-focused-36-48)"},"xl-bottom":{clipPath:"var(--clip-path-squircle-stroke-focused-48-60)"}},Ng={"xs-default":{borderTopLeftRadius:16,borderTopRightRadius:16,borderBottomLeftRadius:16,borderBottomRightRadius:16},"sm-default":{borderTopLeftRadius:24,borderTopRightRadius:24,borderBottomLeftRadius:24,borderBottomRightRadius:24},"md-default":{borderTopLeftRadius:36,borderTopRightRadius:36,borderBottomLeftRadius:36,borderBottomRightRadius:36},"lg-default":{borderTopLeftRadius:48,borderTopRightRadius:48,borderBottomLeftRadius:48,borderBottomRightRadius:48},"xl-default":{borderTopLeftRadius:60,borderTopRightRadius:60,borderBottomLeftRadius:60,borderBottomRightRadius:60},"xs-top":{borderTopLeftRadius:16,borderTopRightRadius:16,borderBottomLeftRadius:12,borderBottomRightRadius:12},"sm-top":{borderTopLeftRadius:24,borderTopRightRadius:24,borderBottomLeftRadius:16,borderBottomRightRadius:16},"md-top":{borderTopLeftRadius:36,borderTopRightRadius:36,borderBottomLeftRadius:24,borderBottomRightRadius:24},"lg-top":{borderTopLeftRadius:48,borderTopRightRadius:48,borderBottomLeftRadius:36,borderBottomRightRadius:36},"xl-top":{borderTopLeftRadius:60,borderTopRightRadius:60,borderBottomLeftRadius:48,borderBottomRightRadius:48},"xs-bottom":{borderTopLeftRadius:12,borderTopRightRadius:12,borderBottomLeftRadius:16,borderBottomRightRadius:16},"sm-bottom":{borderTopLeftRadius:16,borderTopRightRadius:16,borderBottomLeftRadius:24,borderBottomRightRadius:24},"md-bottom":{borderTopLeftRadius:24,borderTopRightRadius:24,borderBottomLeftRadius:36,borderBottomRightRadius:36},"lg-bottom":{borderTopLeftRadius:36,borderTopRightRadius:36,borderBottomLeftRadius:48,borderBottomRightRadius:48},"xl-bottom":{borderTopLeftRadius:48,borderTopRightRadius:48,borderBottomLeftRadius:60,borderBottomRightRadius:60}};function Uu(e){const{onError:t,onLoad:n,loadingPlaceholder:s,"aria-hidden":o,alt:r,errorClass:a,className:i,src:u,fallbackSrc:d,stableKey:m,...f}=e,[h,g]=c.useState(!1),[C,v]=c.useState(!1),[y,b]=c.useState(!1),E=aee(C);if(c.useEffect(()=>{g(!1),v(!1),b(!1)},[u]),h)return l.jsx(h_,{className:a});const S=y&&d?d:u;return l.jsxs(l.Fragment,{children:[E&&(s==null?void 0:s()),c.createElement("img",{...f,alt:r,"aria-hidden":o,key:m??S,src:S,className:F(i,!C&&s&&"absolute size-px opacity-0"),onLoad:I=>{v(!0),n==null||n(I)},onError:I=>{d&&!y?b(!0):g(!0),t==null||t(I)}})]})}function h_(e){const{className:t}=e;return l.jsx("div",{className:F("flex size-full items-center justify-center",Oc,t),children:l.jsx(i_,{className:"size-6"})})}function g_(e){const{path:t,args:n,onLoad:s,alt:o,...r}=e,{data:a,isPending:i}=Ms({queryKey:["apiImg",t],queryFn:async()=>{const m=await(await zn(t,n)).blob();return URL.createObjectURL(m)}});c.useEffect(()=>{!i&&s&&s()},[i,s]);const u=()=>l.jsx("div",{...r});return l.jsx(Uu,{...r,alt:o,className:r.className,errorClass:r.className,loadingPlaceholder:i?u:void 0,src:i?void 0:a})}const r6=$e();function ete(e){var n,s;if(e.status!=="completed")return;const t=r6.get(je);La().latestLocation.pathname.startsWith("/chats")&&t&&e.conversationId===t||r6.set(Sn,{iconProvider:()=>{var o,r,a;return l.jsx(g_,{path:`/podcasts/user/${(o=e.podcast)==null?void 0:o.id}/Files/${(a=(r=e.podcast)==null?void 0:r.thumbnail)==null?void 0:a.name}`,className:"rounded-xl object-cover"})},title:z("podcasts.generationNotification.title"),subtitle:((n=e.podcast)==null?void 0:n.title)??"",action:()=>{var o;Ks({from:window.location.pathname,to:`/podcasts/user/${(o=e.podcast)==null?void 0:o.id}`})},trackingArgs:{scenario:"podcastGenerationNotification",customData:JSON.stringify({podcastId:(s=e.podcast)==null?void 0:s.id})},dismissAfter:3e4})}const tte=N(!1),v_=N(void 0),nte=N(!1),ste=N(void 0);function ote(e,t){if(!t)return e;const[n,s,o]=e.slice(-3);if(!(ki(o)&&ki(s)&&(n==null?void 0:n.author)==="human"))return e;const a={left:o.sideBySideConfig.position==="left"?o:s,right:o.sideBySideConfig.position==="right"?o:s,createdAt:o.createdAt,id:t};return[n,a]}function rte(e){return C_(e)||ki(e)}function C_(e){return"left"in e&&"right"in e}function ki(e){return!e||e.author!=="ai"?!1:!!e.sideBySideConfig}const Qi=$e();function sn({history:e,messageId:t}){const n=e.find(({id:s})=>s===t);if((n==null?void 0:n.author)==="ai")return n}function ate(e,t){const n=e.find(({author:s})=>s==="human");if((n==null?void 0:n.id)===t&&n.author==="human")return n}function ite(e){if(!e)return;const t=Qi.get(vt).get(e);if(!t)return;const{history:n}=t,s=n.find(({author:o})=>o==="human");if((s==null?void 0:s.author)==="human")return s}function Si(e){const t=e.at(-1);if((t==null?void 0:t.author)==="ai")return t}function Po(e,t){return e.find(n=>n.partId===t)}function a6(e){for(let t=e.length-1;t>=0;t-=1){const n=e[t];if(n&&n.type==="text")return n}}function MIe(e){return e.filter(t=>t.author==="ai").map(t=>({...t,content:t.content.filter(n=>n.type==="image")})).filter(t=>t.content.length>0)}function NIe(e,t,n){const s=e.find(o=>o.id===t);if(!(!s||s.author!=="ai")){for(const o of s.content)if("partId"in o&&o.partId===n)return o}}function y_(e){if(!e)return null;const t=Qi.get(vt).get(e);if(!t)return null;const{history:n}=t;return PC(n)}function ot(e,t){Qi.set(vt,n=>Un(n,s=>{const o=s.get(e);o&&t(o.history)}))}function cte(e,t,n,s){ot(e,o=>{const r=o.find(a=>a.id===t);if((r==null?void 0:r.author)==="ai"){const a=Po(r.content,n);a&&s(a)}})}function jC(e,t){Qi.set(ho,n=>Un(n,s=>{const o=s.get(e);o&&t(o)}))}function V2(e,t){Qi.set(vt,n=>Un(n,s=>{const o=s.get(e);o&&t(o)}))}function kc(e,t){Qi.set(_1,n=>Un(n,s=>{if(!t)return;const o=s.get(e);o?o.add(t):s.set(e,new Set([t]))}))}function lte(e){Qi.set(XZ,t=>Un(t,n=>{e&&n.set(e,!0)}))}function b_(e){Kt(e)}function Uf(e,t){const n={type:"error",text:e,partId:"0"},s=Math.random().toString(),o={id:s,createdAt:new Date().toISOString(),author:"ai",content:[n],mode:vn(),streamingState:"idle"};kc(t,s),ot(t,r=>{r.push(o)})}function ute(e){if(U2())for(const t of e.content)t.type==="activity"&&t.activity.status==="running"&&(t.activity.status="completed")}function x_(e){V2(e,t=>{t.sideBySideComparisonId=void 0})}function S_(e,t){const n=!t;ot(e,s=>{const[o,r]=s.slice(-2);if(!(ki(r)&&ki(o)))return;const i=n?!r.sideBySideConfig.isDefault:r.id!==t,u=n?!o.sideBySideConfig.isDefault:o.id!==t;i?s.splice(s.length-1,1):u&&s.splice(s.length-2,1)})}function dte(e,t){S_(e,t),x_(e)}function UC(e){S_(e,void 0),x_(e)}function mte(e,t){const n=`indicator-ai-response-${Math.random().toString()}`;return ot(e,s=>{const o=Si(s);o&&o.content.push({type:"indicator-ai-response",partId:n,state:"loading",text:t})}),n}function i6(e,t,n){t&&ot(e,s=>{const o=Si(s);if(!o)return;const r=Po(o.content,t);!r||r.type!=="indicator-ai-response"||r.state!==n&&(o.content=o.content.map(a=>a.type==="indicator-ai-response"&&t===a.partId?{...a,state:n}:a))})}const Rg=$e();function fte(e,t){const n=Rg.get(je);if(be("ds-new-progress")&&e.status!=="completed"||!wp.includes(e.status)||(b_(vn()),!n||n===t))return;const o=e.id,r={title:z("research.generationNotification.title"),subtitle:z("research.generationNotification.subTitle"),link:z("research.generationNotification.subTitleLink"),action:()=>{Ks({from:window.location.pathname,to:`/chats/${t}`})},onClick:()=>{Rg.set(ste,o)},dismissable:!0,trackingArgs:{scenario:"researchCompletionNotification",customData:JSON.stringify({researchId:e.id,sourceConversationId:t})}};Rg.set(Sn,r)}function pte(){const e=M(ho),t=M(je);return c.useMemo(()=>{if(t){for(const n of e.values())if(n.conversationId===t)return n}},[t,e])}function hte(){const e=$e(),t=e.get(ho),n=e.get(je);if(n){for(const s of t.values())if(s.conversationId===n)return s}}async function E_(e){const{conversationId:t=pe(je),talk:n=!1,location:s}=e;t&&await Ks({to:`/chats/$conversationId${n?"/talk":""}`,params:{conversationId:t},from:s.pathname,search:s.search?Object.fromEntries(new URLSearchParams(s.search)):{}})}async function Xs(e={}){await E_({conversationId:e.conversationId,talk:e.talk,location:La().state.location})}function w_(){const e=Td(),{location:t}=e.state;return c.useCallback(async(n={})=>E_({conversationId:n.conversationId,talk:n.talk,location:{pathname:t.pathname,search:t.search}}),[t.search,t.pathname])}function Al(e){mt(BC,e)}function FC(){return M(BC)}function gte(){return pe(BC)}const BC=N(null);function lm(e){var i,u;const{id:t,shouldNavigateToChat:n=!0,shouldClearParentConversation:s=!0}=e;s&&pe(je)!==pe(M2)&&mt(M2,null),Al(null),mt(je,t),mt(Il,!1),mt(vt,d=>Un(d,m=>{const f=m.get(t);if(f!=null&&f.history.length&&(f.isNew=!1),f!=null&&f.history.some(h=>h.author!=="system"&&h.content.some(g=>g.type==="card"&&g.card.type==="ads"))){for(const h of f.history)if(h.author==="ai"&&h.content.some(g=>g.type==="card"&&g.card.type==="ads")){const g=h.content.filter(C=>C.type!=="card"||C.card.type!=="ads");h.content=g}}}));const o=pe(I1);if(o&&o!==t&&mt(vt,d=>Un(d,m=>{m.delete(o)})),((u=(i=y_(t))==null?void 0:i.part.task)==null?void 0:u.type)==="research")Kt("research");else{let d=vn();be("sticky-conversation-mode")&&(be("persist-conversation-mode")?d=wt(Od,wa)??d:Dn("sticky-conversation-mode")&&(d=Dn("sticky-conversation-mode")??vn())),Kt(d)}const a=pe(ho);a_(a,t)?mt(Hn,"side-by-side"):mt(Hn,"chat-only"),n&&Xs({conversationId:t})}function vte(){return e=>lm(e)}const $c=$e(),Cte="MissingUrlFromApi",yte="https://aka.ms/copilot-actions-faq";function bte(e,t){const n=$c.get(ho).get(e);return(n==null?void 0:n.type)==="computerUse"&&!n.lastUserCommand&&xte(n)&&t.some(o=>o.op==="replace"&&o.path==="/status"&&o.value==="paused")?H2(t,["userTakeControl","pauseByClick"]):!1}function I_(e){return e==="paused"||e==="running"||e==="pending"}function xte(e){var t,n;return e.status==="paused"&&(((t=e.statusChange)==null?void 0:t.reason)==="safetyRiskDetected"||((n=e.statusChange)==null?void 0:n.reason)==="askUserInput")}function Ste(e){var t;return e.status==="paused"&&((t=e.statusChange)==null?void 0:t.reason)==="safetyRiskDetected"}function Ete(e){var t;return e.status==="paused"&&((t=e.statusChange)==null?void 0:t.reason)==="userTakeControl"&&e.lastUserCommand==="takeTaskControl"}function Pg(e,t=!1){return e.map(n=>({type:"chainOfThought",text:n.text,screenshotUrl:t?Cte:null,reaction:null,partId:Math.random().toString()}))}function H2(e,t){return e.some(n=>{if(n.op==="replace"&&n.path==="/statusChange"){const{value:s}=n;if(typeof s=="object"&&s!==null&&"reason"in s){const{reason:o}=s;if(typeof o=="string"){const r=WS.safeParse(o);return r.success&&t.includes(r.data)}}}return!1})}function wte(e,t){const n=$c.get(ho).get(e);if((n==null?void 0:n.type)==="computerUse"){const{conversationId:s,status:o,statusChange:r}=n;if(!s)return;if(o==="cancelled"&&ot(s,f=>{const h=c6(e,"cancelTask");f.push(h)}),H2(t,["giveBackControl"])?ot(s,f=>{const h=c6(e,"takeTaskControl");f.push(h)}):(r==null?void 0:r.reason)==="giveBackControl"&&l6(e),H2(t,["taskCompleted"])&&ot(s,f=>{const h={id:Math.random().toString(),createdAt:new Date().toISOString(),author:"ai",streamingState:"idle",content:[{type:"card",partId:Math.random().toString(),card:{type:"computerUseFeedback"}}]};f.push(h)}),r)switch(r.reason){case"askUserInput":case"safetyRiskDetected":{o==="paused"?(r.reason==="askUserInput"&&go({feature:"computerUse",scenario:"askUserInput",customData:JSON.stringify({id:n.id,conversationId:n.conversationId})}),s===$c.get(je)||$c.set(Sn,{title:n.title&&n.title!==""?z("actions.alertTitleTemplate",{conversationName:n.title}):z("actions.defaultAlertTitle"),subtitle:r.reason==="safetyRiskDetected"?z("actions.safetyRiskAlertSubTitle"):z("actions.askUserInputAlertSubTitle"),action:()=>lm({id:s}),dismissAfter:30*1e3,dismissable:!0}),jC(e,h=>{"lastUserCommand"in h&&(h.lastUserCommand=void 0)})):l6(e);break}}const u=t.filter(f=>f.op==="add"&&f.path==="/chainOfThought/-").map(f=>({text:"value"in f?f.value:""}));u.length>0&&ot(s,f=>{if(f.length===0)return;const h=u6(f);if(h)h.push(...Pg(u));else{const g={id:Math.random().toString(),createdAt:new Date().toISOString(),author:"ai",streamingState:"idle",content:Pg(u)};f.push(g)}}),t.filter(f=>f.op==="replace"&&f.path==="/computerAction").length>0&&ot(s,f=>{const h=u6(f);h&&h.push(...Pg([{text:n.computerAction??""}],!0))}),t.filter(f=>f.op==="replace"&&f.path==="/formStructure").length>0}}function Ite(e,t,n){switch(t){case"sendFormData":return{type:t,taskId:e,fields:n??[]};default:return{type:t,taskId:e}}}function c6(e,t,...n){const s=n[0],o=Ite(e,t,s);return{id:Math.random().toString(),createdAt:new Date().toISOString(),author:"human",content:[{type:"command",command:o}],mode:null}}function l6(e){jC(e,t=>{"statusChange"in t&&(t.statusChange=void 0)})}function u6(e){const t=e.at(-1);if(t&&t.author==="ai"&&t.content.find(n=>n.type==="chainOfThought"))return t.content}function RIe(e){var n;const t=hte();return(t==null?void 0:t.type)==="computerUse"?t.status!=="running"&&!((n=t.replay)!=null&&n.isRunning)?!0:!e:!0}function PIe(e){return!!(be("labs-actions-replay")&&e&&e.type==="computerUse"&&!I_(e.status))}function LIe(e){return{cancelTask:"copilotActionsCancelTask",takeTaskControl:"copilotActionsTakeControl",sendFormData:"copilotActionsSendFormData",startTask:void 0,pauseTask:void 0,resumeTask:void 0,releaseTaskControl:void 0}[e]}function _te(e){return r_({tasks:$c.get(ho),conversationId:e,taskType:"computerUse"})}function Tte(e,t){e===t&&($c.set(Hn,"side-by-side"),b_(vn()))}const Ate=$e();function kte(e){if(!be("video-gen")||e.status!=="completed"||!e.conversationId||!e.result||e.result.type!=="success"||!e.result.videoUrl)return;const{conversationId:t,result:n}=e,s=be("library")&&be("library-video"),o=z("video.generationNotification.title"),r=s?z("video.generationNotification.subtitle"):z("video.generationNotification.subtitleToChat"),a=()=>{s?Ks({from:window.location.pathname,to:"/library",search:{type:"video"}}):lm({id:t})};Ate.set(Sn,{iconProvider:()=>l.jsx("img",{src:n.thumbnailUrl??"",alt:n.thumbnailUrl??"",className:"rounded-xl object-cover"}),title:o,subtitle:r,action:a,trackingArgs:{scenario:"videoGenerationNotification"},dismissAfter:3e4})}function Mte(e){return e?!e.slotAds||e.slotAds.length===0?!0:e.slotAds.every(t=>!!t.ad.layout):!1}function Nte(e,t){const n=be("adsshowroombrandagent"),s=pe(_s),o=!!s;if(o){if(e)return{isValid:!1,detailedInfoObj:{hasEntryAd:!0,isShowroomOpened:o}};if(n){const r=!!((t==null?void 0:t.logo)??(s==null?void 0:s.brandLogo)),a=Mte(t);return{isValid:!!(a&&r),detailedInfoObj:{noBrandLogo:!r,noValidMainAd:!a,isShowroomAgentEnabled:!0,isShowroomOpened:o}}}return{isValid:!1,detailedInfoObj:{isShowroomAgentEnabled:!1,isShowroomMvpEnabled:!1,isShowroomOpened:o}}}return e?n?{isValid:!!(e.brandId&&!t),detailedInfoObj:{noBrandId:!e.brandId,hasMainAd:!!t,isShowroomAgentEnabled:!0,isShowroomOpened:o}}:{isValid:!1,detailedInfoObj:{isShowroomAgentEnabled:!1,isShowroomMvpEnabled:!1,isShowroomOpened:o}}:{isValid:!1,detailedInfoObj:{noEntryAd:!0,isShowroomOpened:o}}}function Rte({entryAd:e,mainAd:t,messageId:n,partId:s,conversationId:o}){const{isValid:r,detailedInfoObj:a}=Nte(e,t);return r||D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"AdsError",eventInfo_details:JSON.stringify({messageId:n,partId:s,conversationId:o,...a}),eventInfo_errorMessage:"Unexpected showroom data received"}}),r}function Pte({card:e,messageId:t,partId:n,conversationState:s,conversationId:o}){const{ads:r}=e,a=pe(_s);if(r!=null&&r.some(i=>i.type==="mainShowroom"||i.type==="miniShowroom")){const i=r[0],u=(i==null?void 0:i.type)==="miniShowroom",d=u?i:void 0,m=u?r[1]:i;if(!Rte({entryAd:d,partId:n,conversationId:o,messageId:t,mainAd:(m==null?void 0:m.type)==="mainShowroom"?m:void 0}))return}if(s.timing.onAdsRender({requestId:e.requestId,messageId:t,conversationId:o,eventType:"card",ads:r}),a){const i=r==null?void 0:r.filter(u=>u.type==="mainShowroom");if(i){vX(u=>u==null?void 0:u.push({key:t,requestId:e.requestId,ads:i,instrumentation:e.instrumentation}));return}}ot(o,i=>{const u=sn({history:i,messageId:t});u&&u.content.push({type:"card",partId:n,card:{...e,createdAt:Date.now()}})})}function __(e){mt(vt,t=>Un(t,n=>{const s=n.get(e.id);s&&(e.title!==void 0&&(s.title=e.title),s.updatedAt=e.updatedAt,s.continuedAt=e.continuedAt,e.characterId!==void 0&&(s.characterId=e.characterId),e.group!==void 0&&(s.group=e.group))}))}async function T_(e){const t=await St(`/conversations/${e}`,$v,{options:{method:"GET"},parseOptions:{safe:!0},analytics:{anonymousPath:"/conversations/*"}}).then(n=>n.data);__(t)}function OIe(e,t){const{data:n,isLoading:s,error:o,refetch:r}=Ms({queryKey:["conversationMetadata",e],queryFn:async()=>await St(`/conversations/${e}`,$v,{options:{method:"GET"},parseOptions:{safe:!0},analytics:{anonymousPath:"/conversations/*"}}).then(i=>i.data),enabled:!!e,...t});return c.useEffect(()=>{n&&__(n)},[n,e]),{data:n,isLoading:s,error:o,refetch:c.useCallback(()=>{r()},[r])}}function ut(){return z8({select:t=>t.pathname})}function kl(){return ut(),!1}function VC(e){return!1}function A_(e,t){var s;const n=ae.instance().config();return e&&!((s=n.settingsOverrides)!=null&&s.shouldHideMultipleCharacters)&&!t}function um(){const e=G("multiplecharacters"),t=kl();return A_(e,t)}function z2(){const e=be("multiplecharacters"),t=VC();return A_(e,t)}const Lte=xl.extend({actionName:w("edge_get_page_content"),parameters:L(x({tabId:j(),windowId:j(),pageUrl:p().nullish(),pageTitle:p().nullish(),pageType:p().nullish(),lastAccessedTime:j().nullish()}))}),Ote=xl.extend({actionName:w("browser_search"),parameters:x({queries:L(p()),startTime:p().nullish(),endTime:p().nullish(),maxResults:ur().positive().prefault(10),states:L(p()).prefault(["history"])})}),Dte=x({state:p(),title:p(),url:p(),pageSummary:p().nullish(),lastAccessed:e1().nullish()});x({results:L(Dte)});const Er=xl.extend({actionType:p(),id:p()}),jte=Er.extend({actionName:w("edge_navigate_to"),parameters:x({tabId:j().optional(),url:p(),foregroundRun:he().optional()})}),Ute=Er.extend({actionName:w("edge_switch_tab"),parameters:x({tabId:j()})}),Fte=Er.extend({actionName:w("edge_close_tabs"),parameters:x({tabIds:L(j())})}),Bte=Er.extend({actionName:w("edge_find_browser_tab_groups"),parameters:x({queries:p().array()})}),Vte=Er.extend({actionName:w("edge_group_open_browser_tabs"),parameters:x({tabGroups:x({title:p(),tabIds:L(j()),color:Pe([w("red"),w("green"),w("blue")]),collapsed:he()}).array()})}),Hte=Er.extend({actionName:w("edge_ungroup_open_browser_tabs"),parameters:x({tabGroupIds:j().array()})}),zte=Er.extend({actionName:w("edge_media_controls"),parameters:x({action:Pe([w("play"),w("pause")])})}),Gte=Er.extend({actionName:w("edge_go_back_forward"),parameters:x({direction:Pe([w("back"),w("forward")]),tabId:j().optional()})}),Wte=Pe([jte,Fte,Bte,Vte,Hte,zte,Ute,Gte]),$te=x({type:w("screenshot")}),qte=x({type:w("click"),x:j(),y:j(),button:Pe([w("back"),w("forward"),w("left"),w("right"),w("middle")])}),Kte=x({type:w("scroll"),x:j(),y:j(),scrollX:j(),scrollY:j()}),Zte=x({type:w("doubleClick"),x:j(),y:j()}),Yte=x({type:w("moveMouse"),x:j(),y:j()}),Qte=x({type:w("keyPress"),keys:p().array()}),Jte=x({type:w("drag"),path:x({x:j(),y:j()}).array()}),Xte=x({type:w("type"),text:p()}),ene=x({type:w("wait"),seconds:j()}),tne=st("type",[$te,qte,Zte,Yte,Qte,Jte,Kte,Xte,ene]),nne=Pe([w("blocked"),w("not-allowed")]),sne=Er.extend({actionName:w("computer_use"),parameters:x({tabId:j(),callId:p(),given:x({required:nne,allowed:Pe([w("always-allow"),w("allow-once"),w("not-now")]),url:p()}).nullish(),action:tne})}),one=Pe([...Wte.options,sne]),rne=x({Prefill:p(),Position:j(),PhraseLength:j()}),ane=xl.extend({actionName:w("guided_conversation"),actionType:p(),id:p(),parameters:rne}),ine=st("actionName",[Lte,Ote,Vz,ane,...one.options]),cne=["edge://discover-chat-v2","edge://discover-chat-v2.top-chrome","edge://copilot-ntp"];let Lg;function lne(){if(Lg===void 0){const e=window.location.ancestorOrigins[0]??"";if(!cne.includes(e))throw new Error(`Unexpected browser origin: ${e}.`);Lg=e}return Lg}const une="82864fa0-ed49-4711-8395-a0e6003dca1f",d6="Edge.Context.Pref",dne="Edge.Context.OnPref",mne="Edge.Context.GetDocumentBody",fne="Edge.Context.OnGetDocumentBody",DIe=32e3,pne=48e3,m6=64e3,hne=128e3,gne="Edge.Chat.Ready",vne="Edge.Chat.IsVisionCapable",Cne="Edge.Chat.OnIsVisionCapable",yne="Edge.Chat.VisionLaunch",bne="Edge.Chat.OnVisionLaunch",xne="Edge.Chat.Screenshot",Sne="Edge.Chat.OnScreenshot",Ene="Edge.Chat.HistorySearch",wne="Edge.Chat.OnHistorySearch",Ine="Edge.RealnameAuth.GetStatus",_ne="Edge.RealnameAuth.OnGetStatus",Tne="Edge.RealnameAuth.Start",Ane="Edge.RealnameAuth.OnStart",kne="chrome.tabs.create",f6="chrome.tabs.onActivated",p6="chrome.tabs.onUpdated",Mne="chrome.tabs.reload",Nne="chrome.tabs.query",Rne="chrome.tabs.update",h6="chrome.authPrivate.onSignInStateChanged",g6="chrome.authPrivate.getPrimaryAccountInfo",Pne="chrome.metricsPrivate.recordMediumTime",Lne="chrome.authPrivate.acquireAccessTokenWithUserInteraction",One="chrome.authPrivate.acquireAccessTokenSilently",v6="chrome.authPrivate.startEdgeSignIn",C6="chrome.windows.getCurrent",y6="chrome.copilotAuthPrivate.startSignIn",b6="chrome.copilotAuthPrivate.startSignOut",Dne="Edge.Chat.ActivateRebates",jne="Edge.Chat.OnActivateRebates",Une="Edge.Chat.SignInToRebates",Fne="Edge.Chat.AgentMessage",Bne="Edge.Chat.OnAgentMessage",Vne="Edge.Auth.NaaRequest",Hne="Edge.Auth.NaaResponse",zne="Edge.Notify.Conv",Gne="Edge.Notify.User",Wne="Edge.Notify.MessageSent",$ne="Edge.Notify.OnUserClosedChatSettings",qne="Edge.Notify.HeaderCommand.ClosePane",Kne="Edge.Notify.HeaderCommand.SendFeedback",Zne="Edge.Notify.HeaderCommand.TogglePinState",Yne="Edge.Notify.Error",Qne="Edge.Notify.OpenSidepane.WithConversation",Jne="Edge.Notify.ContentSize",Xne="Edge.Chat.GetCopilotMode",ese="Edge.IsFeatureEnabled",tse="Edge.OnIsFeatureEnabled",nse="Edge.NTP.QueryQuickLinks",sse="Edge.NTP.UpdateQuickLink",ose="Edge.NTP.RemoveQuickLink",rse="Edge.NTP.OnReceivedQuickLinks",x6="Edge.ToolAction",ase="Edge.ShowTabs",ise="Edge.LockTabs",cse="Edge.ReleaseTabs",lse="Edge.AllowActionForUrl",use="Edge.Searchbox.QueryAutocomplete",dse="Edge.Searchbox.OpenAutocompleteMatch",jIe="isCopilotToolsSupported",UIe="isShowCopilotButtonSupported",mse="Edge.Chat.SetVideoCurrentTime",fse="Edge.WCP.Notify.DraggableRegions",pse="Edge.WCP.Notify.OpenCopilotSettings",hse="Copilot.Tabs.Query",FIe="edge_tools.enabled",li=class li{constructor(){O(this,"config",null)}static instance(){return li.singleton||(li.singleton=new li),li.singleton}getConfig(){return this.config}setConfig(t){this.config=t}};O(li,"singleton",null);let G2=li;class bn{constructor(){O(this,"resolve",null);O(this,"isCancelled");O(this,"token");this.token=new Promise(t=>{this.resolve=t}),this.isCancelled=!1}static cancelled(){const t=new bn;return t.cancel(),t}static create(t){const n=new bn;return t&&t.then(()=>n.cancel()),n}static delay(t){return this.create(new Promise(n=>{setTimeout(()=>n(null),t)}))}cancelled(){return this.isCancelled}cancel(){return!this.isCancelled&&this.resolve&&this.resolve(this),this.isCancelled=!0,this.isCancelled}dispose(){this.cancel()}}class Ot{constructor(t,n="",s,o,r){O(this,"listenerKey",Ot.name);O(this,"result",null);O(this,"priority","Normal");O(this,"createdDate",new Date);O(this,"id");O(this,"resolveListener");O(this,"eventName");O(this,"canResolve");O(this,"options");this.eventName=t,this.id=r!=null&&r.ignoreRequestId?"-1":n,s==null||s.then(()=>this.cancel()),this.canResolve=o,this.options=r}init(t){var s;!t||((s=this.options)==null?void 0:s.autoRemoveWhenResolveListenerReturnTrue)?this.result=new Promise((o,r)=>{t?this.resolveListener=a=>{if(a===null)return;const i=t(a);Promise.resolve(i).then(u=>{u&&o(a)}).catch(r)}:this.resolveListener=o}):this.resolveListener=t}maybeHandleEvent(t){var o,r;if(!this.resolveListener)throw new Error("PostMessageListener is not initialized");const{eventName:n,requestId:s}=t;return!((o=this.options)!=null&&o.ignoreRequestId)&&s!==this.id?!1:n===this.eventName?this.canResolve&&!this.canResolve(t)?!1:(this.resolveListener(t),!((r=this.options)!=null&&r.ignoreRequestId)):!1}cancel(){if(!this.resolveListener)throw new Error("PostMessageListener is not initialized");return this.result&&this.resolveListener(null),!0}}const ui=class ui{constructor(){O(this,"activeListeners",[])}static instance(){return ui.singleton||(ui.singleton=new ui),ui.singleton}push(t,n,s){return t.init(s),this.activeListeners.push(t),n&&n(),t.result===null?Promise.resolve(null):t.result.then(o=>(this.pop(t),o)).catch(()=>(this.pop(t),null))}pop(t){const n=this.activeListeners.indexOf(t);n>-1&&this.activeListeners.splice(n,1)}findAndHandleListener(t){for(const n of[...this.activeListeners].sort((s,o)=>s.createdDate<o.createdDate?-1:1))if(n.maybeHandleEvent(t))break}};O(ui,"singleton",null);let Dt=ui;class gse{notifySidepaneOpened(t){const n={conversationId:t};this.postMessageToBrowser(Qne,n)}notifyConversationId(t){const n={convId:t};this.postMessageToBrowser(zne,n)}notifyBrowserOnHeaderCommand(t){let n;switch(t){case"sendFeedback":n=Kne;break;case"closePane":n=qne;break;case"togglePinState":n=Zne;break;default:return}this.postMessageToBrowser(n,{})}notifyErrorPageState(t){const n={type:t};this.postMessageToBrowser(Yne,n)}notifyContentSize(t){const n={height:t};this.postMessageToBrowser(Jne,n)}notifyDraggableRegions(t){this.postMessageToBrowser(fse,t)}notifyMessageSent(t){const n={isOrganic:t};this.postMessageToBrowser(Wne,n)}notifyUserClosedSettings(){this.postMessageToBrowser($ne,{})}notifyOpenCopilotSettings(){this.postMessageToBrowser(pse,{})}notifyUserId(t){const n={picassoId:t};this.postMessageToBrowser(Gne,n)}notifyEdgeChatReady(){this.postMessageToBrowser(gne,{})}createTab(t){const n={url:t};this.postMessageToBrowser(kne,n)}lockTabs(t,n){const s={activityId:t,tabIds:n};this.postMessageToBrowser(ise,s)}releaseTabs(t,n){const s={activityId:t,tabIds:n};this.postMessageToBrowser(cse,s)}showTabs(t){this.postMessageToBrowser(ase,t)}async getTabs(t,n,s){const o=crypto.randomUUID(),r=G2.instance().getConfig(),a=(r==null?void 0:r.shouldPassConversationIdWithTabQuery)??!1,i=n&&a,u=i?hse:Nne,d=i?t:(({conversationId:m,...f})=>f)(t);return Dt.instance().push(new Ot(u,o,bn.create(s).token),()=>{this.postMessageToBrowser(u,d,o)})}reloadTab(t){this.postMessageToBrowser(Mne,t)}updateTab(t){const n={url:t};this.postMessageToBrowser(Rne,n)}async onTabsActivated(t,n){const s=crypto.randomUUID();return Dt.instance().push(new Ot(f6,s,bn.create(t).token),()=>{this.postMessageToBrowser(f6,{},s)},n)}async onTabsUpdated(t,n,s=crypto.randomUUID(),o=void 0){const r=o?{autoRemoveWhenResolveListenerReturnTrue:o}:void 0;return Dt.instance().push(new Ot(p6,s,bn.create(t).token,void 0,r),()=>{this.postMessageToBrowser(p6,{},s)},n)}async getQuickLinks(t,n){const s=crypto.randomUUID(),o={count:t};return Dt.instance().push(new Ot(rse,s,bn.create(n).token),()=>{this.postMessageToBrowser(nse,o,s)})}updateQuickLink(t,n,s){const o={rid:n??-1,url:s??"",title:t};this.postMessageToBrowser(sse,o)}removeQuickLink(t){const n={rid:t};this.postMessageToBrowser(ose,n)}async isVisionCapable(t){const n=crypto.randomUUID();return Dt.instance().push(new Ot(Cne,n,bn.create(t).token),()=>{this.postMessageToBrowser(vne,{},n)})}async launchVision(t,n){const s=crypto.randomUUID(),o={formCode:t};return Dt.instance().push(new Ot(bne,s,bn.create(n).token),()=>{this.postMessageToBrowser(yne,o,s)})}async listenPreference(t,n,s,o){const r=crypto.randomUUID(),a={key:t,notifyOnChange:!0};await Dt.instance().push(new Ot(dne,void 0,bn.create(o).token,n,{ignoreRequestId:!0}),()=>{this.postMessageToBrowser(d6,a,r)},s)}setPreference(t,n){const s={key:t,value:n};this.postMessageToBrowser(d6,s)}async startListeningForSignedInStateChanges(t,n){const s=crypto.randomUUID();return Dt.instance().push(new Ot(h6,s,bn.create(t).token),()=>{this.postMessageToBrowser(h6,{},s)},n)}async getPrimaryAccount(){const t=crypto.randomUUID(),n=await Dt.instance().push(new Ot(g6,t),()=>{this.postMessageToBrowser(g6,void 0,t)});return n!=null&&n.args?n.args:null}async acquireToken(t,n,s){const o=crypto.randomUUID(),r={account_id:n.account_id,account_type:n.account_type,client_id:une,scope_or_resource:s??"",use_msa_v2_api:!0},a=t?Lne:One,i=await Dt.instance().push(new Ot(a,o),()=>{this.postMessageToBrowser(a,r,o)});return i!=null&&i.args?i.args:null}async startEdgeSignIn(){const t=crypto.randomUUID(),n=await Dt.instance().push(new Ot(v6,t),()=>{this.postMessageToBrowser(v6,void 0,t)});return n!=null&&n.args?n.args:null}async startCopilotSignIn(t){const n=crypto.randomUUID(),s=await Dt.instance().push(new Ot(y6,n),()=>{this.postMessageToBrowser(y6,t,n)});return s!=null&&s.args?s.args:null}async startCopilotSignOut(){const t=crypto.randomUUID(),n=await Dt.instance().push(new Ot(b6,t),()=>{this.postMessageToBrowser(b6,void 0,t)});return n!=null&&n.args?n.args:null}async getRealNameAuthStatus(t){const n=crypto.randomUUID(),s=bn.delay(t),o=await Dt.instance().push(new Ot(_ne,n,s.token),()=>{this.postMessageToBrowser(Ine,{},n)});return s.cancelled()?null:o!=null&&o.args?o.args:null}async startRealNameAuth(){const t=crypto.randomUUID(),n=await Dt.instance().push(new Ot(Ane,t),()=>{this.postMessageToBrowser(Tne,{},t)});return n!=null&&n.args?n.args:null}queryAutocomplete(t){const n={query:t,preventInlineAutocomplete:!0};this.postMessageToBrowser(use,n)}openAutocompleteMatch(t,n,s,o,r){const a={line:t,url:n,areMatchesShowing:!0,mouseButton:s,altKey:!1,ctrlKey:o,metaKey:!1,shiftKey:r};this.postMessageToBrowser(dse,a)}fetchIsCopilotMode(){this.postMessageToBrowser(Xne,{})}setVideoTime(t){const n={selector:"video",time:t};this.postMessageToBrowser(mse,n)}async isFeatureEnabled(t){const n={featureNames:t},s=crypto.randomUUID(),o=1e3;return Dt.instance().push(new Ot(tse,s,bn.delay(o).token),()=>{this.postMessageToBrowser(ese,n,s)})}async searchHistory(t,n){const s=crypto.randomUUID();return Dt.instance().push(new Ot(wne,s,bn.create(n).token),()=>{this.postMessageToBrowser(Ene,t,s)})}async executeBrowserAction(t){const n=crypto.randomUUID();return Dt.instance().push(new Ot(x6,n),()=>{this.postMessageToBrowser(x6,t,n)})}allowActionForUrl(t){const n=crypto.randomUUID();this.postMessageToBrowser(lse,t,n)}recordMediumTimeMetric(t,n){const s={eventName:t,value:Math.round(n)};this.postMessageToBrowser(Pne,s)}async takeScreenshot(){const t=crypto.randomUUID(),n=await Dt.instance().push(new Ot(Sne,t),()=>{this.postMessageToBrowser(xne,{range:0},t)});return n!=null&&n.args?n.args:null}async getComputerUse(t,n,s){const o=Date.now().toString(),r={eventType:t,requestId:o,sessionId:n},a=bn.create(s),i=await Dt.instance().push(new Ot(Bne,o,a.token),()=>{this.postMessageToBrowser(Fne,r,o)});if(a.cancelled())return!1;const u=i!=null&&i.args?i.args:null;return(u==null?void 0:u.result)??!1}async makeNaaRequest(t,n){const s=crypto.randomUUID();return Dt.instance().push(new Ot(Hne,s,bn.create(n).token),()=>{this.postMessageToBrowser(Vne,t,s)})}async getDocumentBody(t,n,s,o,r,a){const i={cleanBody:!0,maxChars:n,domSelector:"",frameName:"",retry:1,...o,fetchVideoTranscript:s};return Dt.instance().push(new Ot(fne,t,bn.create(a).token,r),()=>{this.postMessageToBrowser(mne,i,t)})}async getCurrentWindow(t){const n=crypto.randomUUID(),s=bn.create(t),o=await Dt.instance().push(new Ot(C6,n,s.token),()=>{this.postMessageToBrowser(C6,{},n)});return s.cancelled()?null:o!=null&&o.args?o.args:null}async activateCashback(){const t=crypto.randomUUID(),n={},s=1e4,o=await Dt.instance().push(new Ot(jne,t,bn.delay(s).token),()=>{this.postMessageToBrowser(Dne,n,t)});return o?o.args.result:!1}signInAndActivateCashback(){this.postMessageToBrowser(Une,{})}postMessageToBrowser(t,n,s=crypto.randomUUID()){const o={eventName:t,requestId:s,isOutgoing:!0,args:n};window.parent.postMessage(o,lne())}}const vse=new gse;class Cse{constructor(){O(this,"isFeatureAvailableApiSupported");O(this,"enabledFeatures",new Map);this.isFeatureAvailableApiSupported=this.getFeatureAvailableApiSupported()}async isFeatureEnabled(t){return this.enabledFeatures.has(t)||await this.retrieveEnabledFeatures([t]),this.enabledFeatures.get(t)??!1}updateFeatureEnabledForTest(t,n){this.enabledFeatures.set(t,n)}async retrieveEnabledFeatures(t){if(!this.isFeatureAvailableApiSupported)return;await this.waitForNativeBridgeConnected();const n=await vse.isFeatureEnabled(t);if(n){const s=n.args;for(const o of t){const r=s.featureNames.includes(o);this.enabledFeatures.set(o,r)}}}getFeatureAvailableApiSupported(){if(typeof navigator>"u")return!1;const t=132;for(const n of navigator.userAgent.split(" "))if(n.startsWith("Edg/")){const s=n.split("/")[1];if(s!==void 0){const o=s.split(".")[0];if(o!==void 0)return parseInt(o,10)>=t}}return!1}waitForNativeBridgeConnected(){const t=$e();return t.get(Of)?Promise.resolve():new Promise(n=>{const s=t.sub(Of,()=>{t.get(Of)&&(s(),n())})})}}const BIe=new Cse;function yse(e){return e!=null&&typeof e=="object"&&"id"in e&&typeof e.id=="number"&&"windowId"in e&&typeof e.windowId=="number"&&"url"in e&&typeof e.url=="string"}function bse(e){return Array.isArray(e)&&e.every(t=>yse(t))}function VIe(e=m6){return be("edge-long-doc-128k")?hne:be("edge-long-doc-64k")?m6:be("edge-long-doc-48k")?pne:e}function S6(e){const t=new Date(e).getTime();if(!Number.isNaN(t))return t}const xse={OPENED:Qr.OPENED,RECENT:Qr.RECENT,RECENTLY_CLOSED_TAB:Qr.RECENT,HISTORY:Qr.HISTORY};function Sse(e){return e.map(t=>{const n=t.toUpperCase();return xse[n]??Qr.HISTORY})}const Ese=$e();function wse(e){Ese.set(vt,t=>Un(t,n=>{for(const{title:s,id:o,updatedAt:r,continuedAt:a,group:i}of e){const u=n.get(o);u?(u.title=s,u.id=o,u.updatedAt=r,u.continuedAt=a,u.group=i??null):n.set(o,{id:o,title:s,updatedAt:r,history:[],continuedAt:a,group:i??null})}}))}const Ise=$e();function _se(e,t,n){Ase(e.map(s=>Tse(s,t,n)).filter(s=>s!==void 0))}function Tse(e,t,n){switch(e.type){case"research":return{id:e.id,conversationId:t,type:e.type,status:e.status,updatedAt:""};case"computerUse":return{id:e.id,conversationId:e.conversationId??"",type:e.type,status:e.status,updatedAt:e.updatedAt??"",title:e.title??"",lastScreenshot:e.lastScreenshot};case"podcast":return{id:e.id,conversationId:t,status:e.status==="completed"?"completed":"running",type:e.type,podcast:e.podcast,updatedAt:e.updatedAt??n};case"videoGeneration":return{id:e.id,conversationId:t,status:e.status,type:e.type,result:e.result,updatedAt:e.updatedAt??n};default:return}}function Ase(e){Ise.set(ho,n=>Un(n,s=>{for(const o of e){const r=s.get(o.id);if(r)r.title=o.title,r.conversationId=o.conversationId,r.updatedAt=o.updatedAt,r.status=o.status,r.type=o.type,r.type==="computerUse"&&o.type==="computerUse"&&(r.lastScreenshot=o.lastScreenshot);else{const a={id:o.id,title:o.title,conversationId:o.conversationId,updatedAt:o.updatedAt,status:o.status,type:o.type};a.type==="computerUse"&&o.type==="computerUse"&&(a.chainOfThought=[],a.lastScreenshot=o.lastScreenshot),o.type==="podcast"&&a.type==="podcast"&&(a.podcast=o.podcast),o.type==="videoGeneration"&&a.type==="videoGeneration"&&(a.result=o.result),s.set(o.id,a)}}}));const t=e.filter(n=>n.type==="computerUse"&&n.conversationId).map(n=>{const{conversationId:s,title:o,updatedAt:r}=n;return{id:s??"",title:o,updatedAt:r,continuedAt:null,history:[]}});wse(t)}const kse=e=>e;function W1(e=kse){const t=c.useRef(null);return c.useEffect(()=>{const n=typeof document<"u"?document:void 0,s=n==null?void 0:n.defaultView;if(!s)return()=>{};const o=aO(s,{autoRoot:{}});return t.current=e(o),()=>{iO(o),t.current=null}},[e]),t}const Ip=e=>{W1();const t=cO(e,!0);return c.useMemo(()=>({[lO]:t}),[t])},Mse="data-tabster-never-hide",Nse=e=>e.hasAttribute(Mse);function Rse(e){uO(e,void 0,Nse),dO(e)}const $1=(e={})=>{const{trapFocus:t,alwaysFocusable:n,legacyTrapFocus:s}=e;W1(Rse);const o=c.useId(),r=e.id??`modal-${o}`,a=Ip({restorer:{type:Tb.Source},...t&&{modalizer:{id:r,isOthersAccessible:!t,isAlwaysAccessible:n,isTrapped:!!s&&!!t}}}),i=Ip({restorer:{type:Tb.Target}});return{modalAttributes:a,triggerAttributes:i}},HC={type:"spring",mass:.5,stiffness:450,damping:35},Pse={type:"spring",mass:.5,stiffness:450,damping:35},HIe={type:"spring",mass:1.8,stiffness:440,damping:40},W2={type:"spring",mass:1.4,stiffness:320,damping:40},k_={type:"spring",mass:1,stiffness:1200,damping:40},M_={type:"spring",mass:1.8,stiffness:640,damping:40},Lse={type:"spring",mass:3.2,stiffness:640,damping:40},pn={type:"spring",mass:.5,stiffness:450,damping:35},E6={duration:1.2,ease:"easeInOut",repeat:3,repeatType:"reverse",type:"tween"},N_=.2,R_=.25,Ose=1.5,Dse=[.16,1,.3,1];function jse(e,t){const{children:n,id:s,eleId:o,labelById:r,role:a,className:i,mode:u="wait",duration:d=es.default,exitDuration:m=es.default,exitDelay:f=0,delay:h=0,delayChildren:g=0,onAnimationComplete:C,"data-testid":v,initial:y="initial"}=e;return l.jsx(pt,{mode:u,children:n&&l.jsx(ge.div,{id:o,"aria-labelledby":r,animate:"animate",exit:"exit",ref:t,role:a,initial:y,variants:{initial:Fe,animate:nt,exit:{...Fe,transition:{duration:m,delay:f}}},transition:{duration:d,ease:"easeInOut",delay:h,delayChildren:g},className:i,onAnimationComplete:C,"data-testid":v,children:n},s)})}const ln=c.forwardRef(jse),Ml=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M4.20889 10.7327C3.9232 11.0326 3.93475 11.5074 4.23467 11.7931C4.5346 12.0788 5.00933 12.0672 5.29502 11.7673L11.2495 5.516V20.25C11.2495 20.6642 11.5853 21 11.9995 21C12.4137 21 12.7495 20.6642 12.7495 20.25V5.51565L18.7043 11.7673C18.99 12.0672 19.4648 12.0788 19.7647 11.7931C20.0646 11.5074 20.0762 11.0326 19.7905 10.7327L12.7238 3.31379C12.5627 3.14474 12.3573 3.04477 12.1438 3.01386C12.0971 3.00477 12.0489 3 11.9995 3C11.9498 3 11.9012 3.00483 11.8543 3.01406C11.6412 3.04518 11.4363 3.14509 11.2756 3.31379L4.20889 10.7327Z"})),zIe=Object.freeze(Object.defineProperty({__proto__:null,default:Ml},Symbol.toStringTag,{value:"Module"})),an=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M4.39705 4.55379L4.46967 4.46967C4.73594 4.2034 5.1526 4.1792 5.44621 4.39705L5.53033 4.46967L12 10.939L18.4697 4.46967C18.7626 4.17678 19.2374 4.17678 19.5303 4.46967C19.8232 4.76256 19.8232 5.23744 19.5303 5.53033L13.061 12L19.5303 18.4697C19.7966 18.7359 19.8208 19.1526 19.6029 19.4462L19.5303 19.5303C19.2641 19.7966 18.8474 19.8208 18.5538 19.6029L18.4697 19.5303L12 13.061L5.53033 19.5303C5.23744 19.8232 4.76256 19.8232 4.46967 19.5303C4.17678 19.2374 4.17678 18.7626 4.46967 18.4697L10.939 12L4.46967 5.53033C4.2034 5.26406 4.1792 4.8474 4.39705 4.55379L4.46967 4.46967L4.39705 4.55379Z"})),GIe=Object.freeze(Object.defineProperty({__proto__:null,default:an},Symbol.toStringTag,{value:"Module"}));function Ji(e,t=!0,n=!1){c.useEffect(()=>{var s;t&&((s=e.current)==null||s.focus({preventScroll:n}))},[e,t,n])}function P_(){const e=c.useRef(null);return{captureFocus:()=>{document.activeElement instanceof HTMLElement&&(e.current=document.activeElement)},restoreFocus:()=>{e.current&&e.current.focus()}}}function Xi(){const{i18n:e}=q();return e.dir(e.language)==="rtl"}function zC(){return Zt("kill-domain-referrer")?"noopener noreferrer":"noopener"}function Use(e){return e==="."||e==="!"||e==="?"}function Fse(e){return e===" "||e===`
`||e==="	"}function Bse(e){let t=e.length-1;for(;t>=0&&Fse(e[t]);)t-=1;return[e.slice(0,t+1),e.slice(t+1)]}function Vse(e,t,n){return e.slice(0,n)+t+e.slice(n)}const Hse=/^(?:(?:https?):\/\/)?(?:(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?\.))+[a-z]{2,}(?:\/[\w%.-]*)*\/?(?:\?[^\s#]*)?(?:#[^\s]*)?$/,zse=/\b((https?:\/\/|www\.)?([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,})([/?#][\w\-._~:/?#@!$&'()*+,;=%]*)?(?=[\s<>()"'.,!?)}\]]|$)/gi;function dm(e){return Hse.test(e)}function Gse(e){return e.startsWith("/attachments/onedrive/")}function WIe(e){return!!Gse(e)}function Wse(e){const[t,n]=Bse(e),s=Use(t[t.length-1]),o=s?t.slice(0,-1):t;if(dm(o)){const r=s?t[t.length-1]:"";return{url:ta(o),word:o,suffix:`${r}${n}`}}return{word:e}}function Is(e){let t="";try{t=new URL(e).hostname}catch{}return t}function $2(e){const t=Is(e),n=t.match(/^(?:https?:\/\/)?(?:www\.)?([^/]+)/i);return n&&n[1]?n[1]:t}function $se(e,t,n){const{overwrite:s}=n??{};try{const o=new URL(e);for(const[r,a]of Object.entries(t))s&&o.searchParams.delete(r),o.searchParams.append(r,a);return o.toString()}catch{}return e}function uo(e){const{formCodeParamOnLinks:t}=ae.instance().config();return t?$se(e,{form:t}):e}function qse(e){return e.replace(/[.,!?]+$/,"")}function Kse(e,t){return!e||t<=0?!1:e[t-1]==="@"||/[\w.-]+@/.test(e.slice(Math.max(0,t-20),t+1))}function $Ie(e){const t=[];if(!e)return t;for(const n of e.matchAll(zse)){const s=n[0],{index:o}=n;if(o<0||Kse(e,o))continue;const r=qse(s),a=ta(r),i=o+r.length;t.push({url:a,from:o,to:i})}return t}function qIe(e){return dm(e)?e:yC()+e}function KIe(e){const t=e.match(/^(?:https?:\/\/)?(?:www\.)?(.+)/i);return(t&&t[1]?t[1]:e).replace(/\/$/,"")}function ZIe(e){return e?dm(e)?e.replace(/\/$/,"").replace(/\//g,"").replace("","//").replace(//g,"  "):e:""}const cs=c.forwardRef((e,t)=>{const{children:n,href:s,className:o,title:r,"aria-controls":a,"aria-expanded":i,"aria-haspopup":u,"aria-label":d,id:m,target:f,onClick:h,onPointerDown:g,onFocus:C}=e,v=zC();return l.jsx("a",{id:m,ref:t,"aria-controls":a,"aria-expanded":i,"aria-haspopup":u,"aria-label":d,className:o,title:r,href:s&&uo(s),target:f??"_blank",rel:v,onClick:h,onPointerDown:g,onFocus:C,children:n})});cs.displayName="Link";const L_=c.forwardRef((e,t)=>{const{children:n,...s}=e;return l.jsx(mO,{ref:t,...s,children:n})});L_.displayName="RouterLink";function q1(){return typeof window<"u"}function Ma(e){return O_(e)?(e.nodeName||"").toLowerCase():"#document"}function ls(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function $o(e){var t;return(t=(O_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function O_(e){return q1()?e instanceof Node||e instanceof ls(e).Node:!1}function Ut(e){return q1()?e instanceof Element||e instanceof ls(e).Element:!1}function gn(e){return q1()?e instanceof HTMLElement||e instanceof ls(e).HTMLElement:!1}function q2(e){return!q1()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ls(e).ShadowRoot}const Zse=new Set(["inline","contents"]);function mm(e){const{overflow:t,overflowX:n,overflowY:s,display:o}=As(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!Zse.has(o)}const Yse=new Set(["table","td","th"]);function Qse(e){return Yse.has(Ma(e))}const Jse=[":popover-open",":modal"];function K1(e){return Jse.some(t=>{try{return e.matches(t)}catch{return!1}})}const Xse=["transform","translate","scale","rotate","perspective"],eoe=["transform","translate","scale","rotate","perspective","filter"],toe=["paint","layout","strict","content"];function GC(e){const t=Z1(),n=Ut(e)?As(e):e;return Xse.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||eoe.some(s=>(n.willChange||"").includes(s))||toe.some(s=>(n.contain||"").includes(s))}function noe(e){let t=vr(e);for(;gn(t)&&!dr(t);){if(GC(t))return t;if(K1(t))return null;t=vr(t)}return null}function Z1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const soe=new Set(["html","body","#document"]);function dr(e){return soe.has(Ma(e))}function As(e){return ls(e).getComputedStyle(e)}function Y1(e){return Ut(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function vr(e){if(Ma(e)==="html")return e;const t=e.assignedSlot||e.parentNode||q2(e)&&e.host||$o(e);return q2(t)?t.host:t}function D_(e){const t=vr(e);return dr(t)?e.ownerDocument?e.ownerDocument.body:e.body:gn(t)&&mm(t)?t:D_(t)}function aa(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=D_(e),r=o===((s=e.ownerDocument)==null?void 0:s.body),a=ls(o);if(r){const i=K2(a);return t.concat(a,a.visualViewport||[],mm(o)?o:[],i&&n?aa(i):[])}return t.concat(o,aa(o,[],n))}function K2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function lo(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function Pn(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&q2(n)){let s=t;for(;s;){if(e===s)return!0;s=s.parentNode||s.host}}return!1}function j_(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function U_(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:s}=t;return n+"/"+s}).join(" "):navigator.userAgent}function F_(e){return e.mozInputSource===0&&e.isTrusted?!0:Z2()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function WC(e){return roe()?!1:!Z2()&&e.width===0&&e.height===0||Z2()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function B_(){return/apple/i.test(navigator.vendor)}function Z2(){const e=/android/i;return e.test(j_())||e.test(U_())}function ooe(){return j_().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function roe(){return U_().includes("jsdom/")}function ud(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function aoe(e){return"nativeEvent"in e}function ioe(e){return e.matches("html,body")}function On(e){return(e==null?void 0:e.ownerDocument)||document}function Og(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Wr(e){return"composedPath"in e?e.composedPath()[0]:e.target}const coe="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function $C(e){return gn(e)&&e.matches(coe)}function Ln(e){e.preventDefault(),e.stopPropagation()}function V_(e){return e?e.getAttribute("role")==="combobox"&&$C(e):!1}const loe=["top","right","bottom","left"],ha=Math.min,xs=Math.max,_p=Math.round,Dc=Math.floor,Bo=e=>({x:e,y:e}),uoe={left:"right",right:"left",bottom:"top",top:"bottom"},doe={start:"end",end:"start"};function Y2(e,t,n){return xs(e,ha(t,n))}function ec(e,t){return typeof e=="function"?e(t):e}function ga(e){return e.split("-")[0]}function Nl(e){return e.split("-")[1]}function H_(e){return e==="x"?"y":"x"}function qC(e){return e==="y"?"height":"width"}const moe=new Set(["top","bottom"]);function cr(e){return moe.has(ga(e))?"y":"x"}function KC(e){return H_(cr(e))}function foe(e,t,n){n===void 0&&(n=!1);const s=Nl(e),o=KC(e),r=qC(o);let a=o==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(a=Tp(a)),[a,Tp(a)]}function poe(e){const t=Tp(e);return[Q2(e),t,Q2(t)]}function Q2(e){return e.replace(/start|end/g,t=>doe[t])}const w6=["left","right"],I6=["right","left"],hoe=["top","bottom"],goe=["bottom","top"];function voe(e,t,n){switch(e){case"top":case"bottom":return n?t?I6:w6:t?w6:I6;case"left":case"right":return t?hoe:goe;default:return[]}}function Coe(e,t,n,s){const o=Nl(e);let r=voe(ga(e),n==="start",s);return o&&(r=r.map(a=>a+"-"+o),t&&(r=r.concat(r.map(Q2)))),r}function Tp(e){return e.replace(/left|right|bottom|top/g,t=>uoe[t])}function yoe(e){return{top:0,right:0,bottom:0,left:0,...e}}function z_(e){return typeof e!="number"?yoe(e):{top:e,right:e,bottom:e,left:e}}function Ap(e){const{x:t,y:n,width:s,height:o}=e;return{width:s,height:o,top:n,left:t,right:t+s,bottom:n+o,x:t,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var boe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],kp=boe.join(","),G_=typeof Element>"u",hl=G_?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Mp=!G_&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Np=function e(t,n){var s;n===void 0&&(n=!0);var o=t==null||(s=t.getAttribute)===null||s===void 0?void 0:s.call(t,"inert"),r=o===""||o==="true",a=r||n&&t&&e(t.parentNode);return a},xoe=function(t){var n,s=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return s===""||s==="true"},Soe=function(t,n,s){if(Np(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(kp));return n&&hl.call(t,kp)&&o.unshift(t),o=o.filter(s),o},Eoe=function e(t,n,s){for(var o=[],r=Array.from(t);r.length;){var a=r.shift();if(!Np(a,!1))if(a.tagName==="SLOT"){var i=a.assignedElements(),u=i.length?i:a.children,d=e(u,!0,s);s.flatten?o.push.apply(o,d):o.push({scopeParent:a,candidates:d})}else{var m=hl.call(a,kp);m&&s.filter(a)&&(n||!t.includes(a))&&o.push(a);var f=a.shadowRoot||typeof s.getShadowRoot=="function"&&s.getShadowRoot(a),h=!Np(f,!1)&&(!s.shadowRootFilter||s.shadowRootFilter(a));if(f&&h){var g=e(f===!0?a.children:f.children,!0,s);s.flatten?o.push.apply(o,g):o.push({scopeParent:a,candidates:g})}else r.unshift.apply(r,a.children)}}return o},W_=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},$_=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||xoe(t))&&!W_(t)?0:t.tabIndex},woe=function(t,n){var s=$_(t);return s<0&&n&&!W_(t)?0:s},Ioe=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},q_=function(t){return t.tagName==="INPUT"},_oe=function(t){return q_(t)&&t.type==="hidden"},Toe=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(s){return s.tagName==="SUMMARY"});return n},Aoe=function(t,n){for(var s=0;s<t.length;s++)if(t[s].checked&&t[s].form===n)return t[s]},koe=function(t){if(!t.name)return!0;var n=t.form||Mp(t),s=function(i){return n.querySelectorAll('input[type="radio"][name="'+i+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=s(window.CSS.escape(t.name));else try{o=s(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var r=Aoe(o,t.form);return!r||r===t},Moe=function(t){return q_(t)&&t.type==="radio"},Noe=function(t){return Moe(t)&&!koe(t)},Roe=function(t){var n,s=t&&Mp(t),o=(n=s)===null||n===void 0?void 0:n.host,r=!1;if(s&&s!==t){var a,i,u;for(r=!!((a=o)!==null&&a!==void 0&&(i=a.ownerDocument)!==null&&i!==void 0&&i.contains(o)||t!=null&&(u=t.ownerDocument)!==null&&u!==void 0&&u.contains(t));!r&&o;){var d,m,f;s=Mp(o),o=(d=s)===null||d===void 0?void 0:d.host,r=!!((m=o)!==null&&m!==void 0&&(f=m.ownerDocument)!==null&&f!==void 0&&f.contains(o))}}return r},_6=function(t){var n=t.getBoundingClientRect(),s=n.width,o=n.height;return s===0&&o===0},Poe=function(t,n){var s=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var r=hl.call(t,"details>summary:first-of-type"),a=r?t.parentElement:t;if(hl.call(a,"details:not([open]) *"))return!0;if(!s||s==="full"||s==="legacy-full"){if(typeof o=="function"){for(var i=t;t;){var u=t.parentElement,d=Mp(t);if(u&&!u.shadowRoot&&o(u)===!0)return _6(t);t.assignedSlot?t=t.assignedSlot:!u&&d!==t.ownerDocument?t=d.host:t=u}t=i}if(Roe(t))return!t.getClientRects().length;if(s!=="legacy-full")return!0}else if(s==="non-zero-area")return _6(t);return!1},Loe=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var s=0;s<n.children.length;s++){var o=n.children.item(s);if(o.tagName==="LEGEND")return hl.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},Ooe=function(t,n){return!(n.disabled||Np(n)||_oe(n)||Poe(n,t)||Toe(n)||Loe(n))},J2=function(t,n){return!(Noe(n)||$_(n)<0||!Ooe(t,n))},Doe=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},joe=function e(t){var n=[],s=[];return t.forEach(function(o,r){var a=!!o.scopeParent,i=a?o.scopeParent:o,u=woe(i,a),d=a?e(o.candidates):i;u===0?a?n.push.apply(n,d):n.push(i):s.push({documentOrder:r,tabIndex:u,item:o,isScope:a,content:d})}),s.sort(Ioe).reduce(function(o,r){return r.isScope?o.push.apply(o,r.content):o.push(r.content),o},[]).concat(n)},Q1=function(t,n){n=n||{};var s;return n.getShadowRoot?s=Eoe([t],n.includeContainer,{filter:J2.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Doe}):s=Soe(t,n.includeContainer,J2.bind(null,n)),joe(s)},Uoe=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return hl.call(t,kp)===!1?!1:J2(n,t)};function T6(e,t,n){let{reference:s,floating:o}=e;const r=cr(t),a=KC(t),i=qC(a),u=ga(t),d=r==="y",m=s.x+s.width/2-o.width/2,f=s.y+s.height/2-o.height/2,h=s[i]/2-o[i]/2;let g;switch(u){case"top":g={x:m,y:s.y-o.height};break;case"bottom":g={x:m,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:f};break;case"left":g={x:s.x-o.width,y:f};break;default:g={x:s.x,y:s.y}}switch(Nl(t)){case"start":g[a]-=h*(n&&d?-1:1);break;case"end":g[a]+=h*(n&&d?-1:1);break}return g}const Foe=async(e,t,n)=>{const{placement:s="bottom",strategy:o="absolute",middleware:r=[],platform:a}=n,i=r.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(t));let d=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:f}=T6(d,s,u),h=s,g={},C=0;for(let v=0;v<i.length;v++){const{name:y,fn:b}=i[v],{x:E,y:S,data:I,reset:_}=await b({x:m,y:f,initialPlacement:s,placement:h,strategy:o,middlewareData:g,rects:d,platform:a,elements:{reference:e,floating:t}});m=E??m,f=S??f,g={...g,[y]:{...g[y],...I}},_&&C<=50&&(C++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(d=_.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):_.rects),{x:m,y:f}=T6(d,h,u)),v=-1)}return{x:m,y:f,placement:h,strategy:o,middlewareData:g}};async function dd(e,t){var n;t===void 0&&(t={});const{x:s,y:o,platform:r,rects:a,elements:i,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=ec(t,e),C=z_(g),y=i[h?f==="floating"?"reference":"floating":f],b=Ap(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(y)))==null||n?y:y.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(i.floating)),boundary:d,rootBoundary:m,strategy:u})),E=f==="floating"?{x:s,y:o,width:a.floating.width,height:a.floating.height}:a.reference,S=await(r.getOffsetParent==null?void 0:r.getOffsetParent(i.floating)),I=await(r.isElement==null?void 0:r.isElement(S))?await(r.getScale==null?void 0:r.getScale(S))||{x:1,y:1}:{x:1,y:1},_=Ap(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:E,offsetParent:S,strategy:u}):E);return{top:(b.top-_.top+C.top)/I.y,bottom:(_.bottom-b.bottom+C.bottom)/I.y,left:(b.left-_.left+C.left)/I.x,right:(_.right-b.right+C.right)/I.x}}const Boe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:o,rects:r,platform:a,elements:i,middlewareData:u}=t,{element:d,padding:m=0}=ec(e,t)||{};if(d==null)return{};const f=z_(m),h={x:n,y:s},g=KC(o),C=qC(g),v=await a.getDimensions(d),y=g==="y",b=y?"top":"left",E=y?"bottom":"right",S=y?"clientHeight":"clientWidth",I=r.reference[C]+r.reference[g]-h[g]-r.floating[C],_=h[g]-r.reference[g],T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let A=T?T[S]:0;(!A||!await(a.isElement==null?void 0:a.isElement(T)))&&(A=i.floating[S]||r.floating[C]);const k=I/2-_/2,R=A/2-v[C]/2-1,P=ha(f[b],R),V=ha(f[E],R),U=P,K=A-v[C]-V,Z=A/2-v[C]/2+k,Y=Y2(U,Z,K),Q=!u.arrow&&Nl(o)!=null&&Z!==Y&&r.reference[C]/2-(Z<U?P:V)-v[C]/2<0,ee=Q?Z<U?Z-U:Z-K:0;return{[g]:h[g]+ee,data:{[g]:Y,centerOffset:Z-Y-ee,...Q&&{alignmentOffset:ee}},reset:Q}}}),Voe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:o,middlewareData:r,rects:a,initialPlacement:i,platform:u,elements:d}=t,{mainAxis:m=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:v=!0,...y}=ec(e,t);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const b=ga(o),E=cr(i),S=ga(i)===i,I=await(u.isRTL==null?void 0:u.isRTL(d.floating)),_=h||(S||!v?[Tp(i)]:poe(i)),T=C!=="none";!h&&T&&_.push(...Coe(i,v,C,I));const A=[i,..._],k=await dd(t,y),R=[];let P=((s=r.flip)==null?void 0:s.overflows)||[];if(m&&R.push(k[b]),f){const Z=foe(o,a,I);R.push(k[Z[0]],k[Z[1]])}if(P=[...P,{placement:o,overflows:R}],!R.every(Z=>Z<=0)){var V,U;const Z=(((V=r.flip)==null?void 0:V.index)||0)+1,Y=A[Z];if(Y&&(!(f==="alignment"?E!==cr(Y):!1)||P.every($=>cr($.placement)===E?$.overflows[0]>0:!0)))return{data:{index:Z,overflows:P},reset:{placement:Y}};let Q=(U=P.filter(ee=>ee.overflows[0]<=0).sort((ee,$)=>ee.overflows[1]-$.overflows[1])[0])==null?void 0:U.placement;if(!Q)switch(g){case"bestFit":{var K;const ee=(K=P.filter($=>{if(T){const te=cr($.placement);return te===E||te==="y"}return!0}).map($=>[$.placement,$.overflows.filter(te=>te>0).reduce((te,J)=>te+J,0)]).sort(($,te)=>$[1]-te[1])[0])==null?void 0:K[0];ee&&(Q=ee);break}case"initialPlacement":Q=i;break}if(o!==Q)return{reset:{placement:Q}}}return{}}}};function A6(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function k6(e){return loe.some(t=>e[t]>=0)}const Hoe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...o}=ec(e,t);switch(s){case"referenceHidden":{const r=await dd(t,{...o,elementContext:"reference"}),a=A6(r,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:k6(a)}}}case"escaped":{const r=await dd(t,{...o,altBoundary:!0}),a=A6(r,n.floating);return{data:{escapedOffsets:a,escaped:k6(a)}}}default:return{}}}}},zoe=new Set(["left","top"]);async function Goe(e,t){const{placement:n,platform:s,elements:o}=e,r=await(s.isRTL==null?void 0:s.isRTL(o.floating)),a=ga(n),i=Nl(n),u=cr(n)==="y",d=zoe.has(a)?-1:1,m=r&&u?-1:1,f=ec(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:C}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return i&&typeof C=="number"&&(g=i==="end"?C*-1:C),u?{x:g*m,y:h*d}:{x:h*d,y:g*m}}const Woe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:o,y:r,placement:a,middlewareData:i}=t,u=await Goe(t,e);return a===((n=i.offset)==null?void 0:n.placement)&&(s=i.arrow)!=null&&s.alignmentOffset?{}:{x:o+u.x,y:r+u.y,data:{...u,placement:a}}}}},$oe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:o}=t,{mainAxis:r=!0,crossAxis:a=!1,limiter:i={fn:y=>{let{x:b,y:E}=y;return{x:b,y:E}}},...u}=ec(e,t),d={x:n,y:s},m=await dd(t,u),f=cr(ga(o)),h=H_(f);let g=d[h],C=d[f];if(r){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",E=g+m[y],S=g-m[b];g=Y2(E,g,S)}if(a){const y=f==="y"?"top":"left",b=f==="y"?"bottom":"right",E=C+m[y],S=C-m[b];C=Y2(E,C,S)}const v=i.fn({...t,[h]:g,[f]:C});return{...v,data:{x:v.x-n,y:v.y-s,enabled:{[h]:r,[f]:a}}}}}},qoe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:o,rects:r,platform:a,elements:i}=t,{apply:u=()=>{},...d}=ec(e,t),m=await dd(t,d),f=ga(o),h=Nl(o),g=cr(o)==="y",{width:C,height:v}=r.floating;let y,b;f==="top"||f==="bottom"?(y=f,b=h===(await(a.isRTL==null?void 0:a.isRTL(i.floating))?"start":"end")?"left":"right"):(b=f,y=h==="end"?"top":"bottom");const E=v-m.top-m.bottom,S=C-m.left-m.right,I=ha(v-m[y],E),_=ha(C-m[b],S),T=!t.middlewareData.shift;let A=I,k=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=S),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(A=E),T&&!h){const P=xs(m.left,0),V=xs(m.right,0),U=xs(m.top,0),K=xs(m.bottom,0);g?k=C-2*(P!==0||V!==0?P+V:xs(m.left,m.right)):A=v-2*(U!==0||K!==0?U+K:xs(m.top,m.bottom))}await u({...t,availableWidth:k,availableHeight:A});const R=await a.getDimensions(i.floating);return C!==R.width||v!==R.height?{reset:{rects:!0}}:{}}}};function K_(e){const t=As(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const o=gn(e),r=o?e.offsetWidth:n,a=o?e.offsetHeight:s,i=_p(n)!==r||_p(s)!==a;return i&&(n=r,s=a),{width:n,height:s,$:i}}function ZC(e){return Ut(e)?e:e.contextElement}function qc(e){const t=ZC(e);if(!gn(t))return Bo(1);const n=t.getBoundingClientRect(),{width:s,height:o,$:r}=K_(t);let a=(r?_p(n.width):n.width)/s,i=(r?_p(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!i||!Number.isFinite(i))&&(i=1),{x:a,y:i}}const Koe=Bo(0);function Z_(e){const t=ls(e);return!Z1()||!t.visualViewport?Koe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Zoe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ls(e)?!1:t}function Mi(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),r=ZC(e);let a=Bo(1);t&&(s?Ut(s)&&(a=qc(s)):a=qc(e));const i=Zoe(r,n,s)?Z_(r):Bo(0);let u=(o.left+i.x)/a.x,d=(o.top+i.y)/a.y,m=o.width/a.x,f=o.height/a.y;if(r){const h=ls(r),g=s&&Ut(s)?ls(s):s;let C=h,v=K2(C);for(;v&&s&&g!==C;){const y=qc(v),b=v.getBoundingClientRect(),E=As(v),S=b.left+(v.clientLeft+parseFloat(E.paddingLeft))*y.x,I=b.top+(v.clientTop+parseFloat(E.paddingTop))*y.y;u*=y.x,d*=y.y,m*=y.x,f*=y.y,u+=S,d+=I,C=ls(v),v=K2(C)}}return Ap({width:m,height:f,x:u,y:d})}function J1(e,t){const n=Y1(e).scrollLeft;return t?t.left+n:Mi($o(e)).left+n}function Y_(e,t){const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-J1(e,n),o=n.top+t.scrollTop;return{x:s,y:o}}function Yoe(e){let{elements:t,rect:n,offsetParent:s,strategy:o}=e;const r=o==="fixed",a=$o(s),i=t?K1(t.floating):!1;if(s===a||i&&r)return n;let u={scrollLeft:0,scrollTop:0},d=Bo(1);const m=Bo(0),f=gn(s);if((f||!f&&!r)&&((Ma(s)!=="body"||mm(a))&&(u=Y1(s)),gn(s))){const g=Mi(s);d=qc(s),m.x=g.x+s.clientLeft,m.y=g.y+s.clientTop}const h=a&&!f&&!r?Y_(a,u):Bo(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+m.x+h.x,y:n.y*d.y-u.scrollTop*d.y+m.y+h.y}}function Qoe(e){return Array.from(e.getClientRects())}function Joe(e){const t=$o(e),n=Y1(e),s=e.ownerDocument.body,o=xs(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),r=xs(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let a=-n.scrollLeft+J1(e);const i=-n.scrollTop;return As(s).direction==="rtl"&&(a+=xs(t.clientWidth,s.clientWidth)-o),{width:o,height:r,x:a,y:i}}const M6=25;function Xoe(e,t){const n=ls(e),s=$o(e),o=n.visualViewport;let r=s.clientWidth,a=s.clientHeight,i=0,u=0;if(o){r=o.width,a=o.height;const m=Z1();(!m||m&&t==="fixed")&&(i=o.offsetLeft,u=o.offsetTop)}const d=J1(s);if(d<=0){const m=s.ownerDocument,f=m.body,h=getComputedStyle(f),g=m.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,C=Math.abs(s.clientWidth-f.clientWidth-g);C<=M6&&(r-=C)}else d<=M6&&(r+=d);return{width:r,height:a,x:i,y:u}}const ere=new Set(["absolute","fixed"]);function tre(e,t){const n=Mi(e,!0,t==="fixed"),s=n.top+e.clientTop,o=n.left+e.clientLeft,r=gn(e)?qc(e):Bo(1),a=e.clientWidth*r.x,i=e.clientHeight*r.y,u=o*r.x,d=s*r.y;return{width:a,height:i,x:u,y:d}}function N6(e,t,n){let s;if(t==="viewport")s=Xoe(e,n);else if(t==="document")s=Joe($o(e));else if(Ut(t))s=tre(t,n);else{const o=Z_(e);s={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Ap(s)}function Q_(e,t){const n=vr(e);return n===t||!Ut(n)||dr(n)?!1:As(n).position==="fixed"||Q_(n,t)}function nre(e,t){const n=t.get(e);if(n)return n;let s=aa(e,[],!1).filter(i=>Ut(i)&&Ma(i)!=="body"),o=null;const r=As(e).position==="fixed";let a=r?vr(e):e;for(;Ut(a)&&!dr(a);){const i=As(a),u=GC(a);!u&&i.position==="fixed"&&(o=null),(r?!u&&!o:!u&&i.position==="static"&&!!o&&ere.has(o.position)||mm(a)&&!u&&Q_(e,a))?s=s.filter(m=>m!==a):o=i,a=vr(a)}return t.set(e,s),s}function sre(e){let{element:t,boundary:n,rootBoundary:s,strategy:o}=e;const a=[...n==="clippingAncestors"?K1(t)?[]:nre(t,this._c):[].concat(n),s],i=a[0],u=a.reduce((d,m)=>{const f=N6(t,m,o);return d.top=xs(f.top,d.top),d.right=ha(f.right,d.right),d.bottom=ha(f.bottom,d.bottom),d.left=xs(f.left,d.left),d},N6(t,i,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function ore(e){const{width:t,height:n}=K_(e);return{width:t,height:n}}function rre(e,t,n){const s=gn(t),o=$o(t),r=n==="fixed",a=Mi(e,!0,r,t);let i={scrollLeft:0,scrollTop:0};const u=Bo(0);function d(){u.x=J1(o)}if(s||!s&&!r)if((Ma(t)!=="body"||mm(o))&&(i=Y1(t)),s){const g=Mi(t,!0,r,t);u.x=g.x+t.clientLeft,u.y=g.y+t.clientTop}else o&&d();r&&!s&&o&&d();const m=o&&!s&&!r?Y_(o,i):Bo(0),f=a.left+i.scrollLeft-u.x-m.x,h=a.top+i.scrollTop-u.y-m.y;return{x:f,y:h,width:a.width,height:a.height}}function Dg(e){return As(e).position==="static"}function R6(e,t){if(!gn(e)||As(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return $o(e)===n&&(n=n.ownerDocument.body),n}function J_(e,t){const n=ls(e);if(K1(e))return n;if(!gn(e)){let o=vr(e);for(;o&&!dr(o);){if(Ut(o)&&!Dg(o))return o;o=vr(o)}return n}let s=R6(e,t);for(;s&&Qse(s)&&Dg(s);)s=R6(s,t);return s&&dr(s)&&Dg(s)&&!GC(s)?n:s||noe(e)||n}const are=async function(e){const t=this.getOffsetParent||J_,n=this.getDimensions,s=await n(e.floating);return{reference:rre(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function ire(e){return As(e).direction==="rtl"}const cre={convertOffsetParentRelativeRectToViewportRelativeRect:Yoe,getDocumentElement:$o,getClippingRect:sre,getOffsetParent:J_,getElementRects:are,getClientRects:Qoe,getDimensions:ore,getScale:qc,isElement:Ut,isRTL:ire};function X_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function lre(e,t){let n=null,s;const o=$o(e);function r(){var i;clearTimeout(s),(i=n)==null||i.disconnect(),n=null}function a(i,u){i===void 0&&(i=!1),u===void 0&&(u=1),r();const d=e.getBoundingClientRect(),{left:m,top:f,width:h,height:g}=d;if(i||t(),!h||!g)return;const C=Dc(f),v=Dc(o.clientWidth-(m+h)),y=Dc(o.clientHeight-(f+g)),b=Dc(m),S={rootMargin:-C+"px "+-v+"px "+-y+"px "+-b+"px",threshold:xs(0,ha(1,u))||1};let I=!0;function _(T){const A=T[0].intersectionRatio;if(A!==u){if(!I)return a();A?a(!1,A):s=setTimeout(()=>{a(!1,1e-7)},1e3)}A===1&&!X_(d,e.getBoundingClientRect())&&a(),I=!1}try{n=new IntersectionObserver(_,{...S,root:o.ownerDocument})}catch{n=new IntersectionObserver(_,S)}n.observe(e)}return a(!0),r}function Na(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:r=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:u=!1}=s,d=ZC(e),m=o||r?[...d?aa(d):[],...aa(t)]:[];m.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),r&&b.addEventListener("resize",n)});const f=d&&i?lre(d,n):null;let h=-1,g=null;a&&(g=new ResizeObserver(b=>{let[E]=b;E&&E.target===d&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(t)})),n()}),d&&!u&&g.observe(d),g.observe(t));let C,v=u?Mi(e):null;u&&y();function y(){const b=Mi(e);v&&!X_(v,b)&&n(),v=b,C=requestAnimationFrame(y)}return n(),()=>{var b;m.forEach(E=>{o&&E.removeEventListener("scroll",n),r&&E.removeEventListener("resize",n)}),f==null||f(),(b=g)==null||b.disconnect(),g=null,u&&cancelAnimationFrame(C)}}const ure=Woe,dre=$oe,mre=Voe,fre=qoe,pre=Hoe,P6=Boe,hre=(e,t,n)=>{const s=new Map,o={platform:cre,...n},r={...o.platform,_c:s};return Foe(e,t,{...o,platform:r})};var gre=typeof document<"u",vre=function(){},Ff=gre?c.useLayoutEffect:vre;function Rp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Rp(e[s],t[s]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,o[s]))return!1;for(s=n;s--!==0;){const r=o[s];if(!(r==="_owner"&&e.$$typeof)&&!Rp(e[r],t[r]))return!1}return!0}return e!==e&&t!==t}function eT(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function L6(e,t){const n=eT(e);return Math.round(t*n)/n}function jg(e){const t=c.useRef(e);return Ff(()=>{t.current=e}),t}function YC(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:o,elements:{reference:r,floating:a}={},transform:i=!0,whileElementsMounted:u,open:d}=e,[m,f]=c.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=c.useState(s);Rp(h,s)||g(s);const[C,v]=c.useState(null),[y,b]=c.useState(null),E=c.useCallback($=>{$!==T.current&&(T.current=$,v($))},[]),S=c.useCallback($=>{$!==A.current&&(A.current=$,b($))},[]),I=r||C,_=a||y,T=c.useRef(null),A=c.useRef(null),k=c.useRef(m),R=u!=null,P=jg(u),V=jg(o),U=jg(d),K=c.useCallback(()=>{if(!T.current||!A.current)return;const $={placement:t,strategy:n,middleware:h};V.current&&($.platform=V.current),hre(T.current,A.current,$).then(te=>{const J={...te,isPositioned:U.current!==!1};Z.current&&!Rp(k.current,J)&&(k.current=J,Ad.flushSync(()=>{f(J)}))})},[h,t,n,V,U]);Ff(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[d]);const Z=c.useRef(!1);Ff(()=>(Z.current=!0,()=>{Z.current=!1}),[]),Ff(()=>{if(I&&(T.current=I),_&&(A.current=_),I&&_){if(P.current)return P.current(I,_,K);K()}},[I,_,K,P,R]);const Y=c.useMemo(()=>({reference:T,floating:A,setReference:E,setFloating:S}),[E,S]),Q=c.useMemo(()=>({reference:I,floating:_}),[I,_]),ee=c.useMemo(()=>{const $={position:n,left:0,top:0};if(!Q.floating)return $;const te=L6(Q.floating,m.x),J=L6(Q.floating,m.y);return i?{...$,transform:"translate("+te+"px, "+J+"px)",...eT(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:J}},[n,i,Q.floating,m.x,m.y]);return c.useMemo(()=>({...m,update:K,refs:Y,elements:Q,floatingStyles:ee}),[m,K,Y,Q,ee])}const Cre=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:o}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?P6({element:s.current,padding:o}).fn(n):{}:s?P6({element:s,padding:o}).fn(n):{}}}},va=(e,t)=>({...ure(e),options:[e,t]}),Ca=(e,t)=>({...dre(e),options:[e,t]}),Rl=(e,t)=>({...mre(e),options:[e,t]}),tT=(e,t)=>({...fre(e),options:[e,t]}),yre=(e,t)=>({...pre(e),options:[e,t]}),nT=(e,t)=>({...Cre(e),options:[e,t]});function md(e){return c.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const sT={...fO},bre=sT.useInsertionEffect,xre=bre||(e=>e());function xn(e){const t=c.useRef(()=>{});return xre(()=>{t.current=e}),c.useCallback(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t.current==null?void 0:t.current(...s)},[])}const QC="ArrowUp",fm="ArrowDown",ia="ArrowLeft",ca="ArrowRight";function cf(e,t,n){return Math.floor(e/t)!==n}function Fu(e,t){return t<0||t>=e.current.length}function Ug(e,t){return Bn(e,{disabledIndices:t})}function O6(e,t){return Bn(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function Bn(e,t){let{startingIndex:n=-1,decrement:s=!1,disabledIndices:o,amount:r=1}=t===void 0?{}:t;const a=e.current;let i=n;do i+=s?-r:r;while(i>=0&&i<=a.length-1&&Bf(a,i,o));return i}function Sre(e,t){let{event:n,orientation:s,loop:o,rtl:r,cols:a,disabledIndices:i,minIndex:u,maxIndex:d,prevIndex:m,stopEvent:f=!1}=t,h=m;if(n.key===QC){if(f&&Ln(n),m===-1)h=d;else if(h=Bn(e,{startingIndex:h,amount:a,decrement:!0,disabledIndices:i}),o&&(m-a<u||h<0)){const g=m%a,C=d%a,v=d-(C-g);C===g?h=d:h=C>g?v:v-a}Fu(e,h)&&(h=m)}if(n.key===fm&&(f&&Ln(n),m===-1?h=u:(h=Bn(e,{startingIndex:m,amount:a,disabledIndices:i}),o&&m+a>d&&(h=Bn(e,{startingIndex:m%a-a,amount:a,disabledIndices:i}))),Fu(e,h)&&(h=m)),s==="both"){const g=Dc(m/a);n.key===(r?ia:ca)&&(f&&Ln(n),m%a!==a-1?(h=Bn(e,{startingIndex:m,disabledIndices:i}),o&&cf(h,a,g)&&(h=Bn(e,{startingIndex:m-m%a-1,disabledIndices:i}))):o&&(h=Bn(e,{startingIndex:m-m%a-1,disabledIndices:i})),cf(h,a,g)&&(h=m)),n.key===(r?ca:ia)&&(f&&Ln(n),m%a!==0?(h=Bn(e,{startingIndex:m,decrement:!0,disabledIndices:i}),o&&cf(h,a,g)&&(h=Bn(e,{startingIndex:m+(a-m%a),decrement:!0,disabledIndices:i}))):o&&(h=Bn(e,{startingIndex:m+(a-m%a),decrement:!0,disabledIndices:i})),cf(h,a,g)&&(h=m));const C=Dc(d/a)===g;Fu(e,h)&&(o&&C?h=n.key===(r?ca:ia)?d:Bn(e,{startingIndex:m-m%a-1,disabledIndices:i}):h=m)}return h}function Ere(e,t,n){const s=[];let o=0;return e.forEach((r,a)=>{let{width:i,height:u}=r,d=!1;for(n&&(o=0);!d;){const m=[];for(let f=0;f<i;f++)for(let h=0;h<u;h++)m.push(o+f+h*t);o%t+i<=t&&m.every(f=>s[f]==null)?(m.forEach(f=>{s[f]=a}),d=!0):o++}}),[...s]}function wre(e,t,n,s,o){if(e===-1)return-1;const r=n.indexOf(e),a=t[e];switch(o){case"tl":return r;case"tr":return a?r+a.width-1:r;case"bl":return a?r+(a.height-1)*s:r;case"br":return n.lastIndexOf(e)}}function Ire(e,t){return t.flatMap((n,s)=>e.includes(n)?[s]:[])}function Bf(e,t,n){if(n)return n.includes(t);const s=e[t];return s==null||s.hasAttribute("disabled")||s.getAttribute("aria-disabled")==="true"}var Wt=typeof document<"u"?c.useLayoutEffect:c.useEffect;let D6=!1,_re=0;const j6=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+_re++;function Tre(){const[e,t]=c.useState(()=>D6?j6():void 0);return Wt(()=>{e==null&&t(j6())},[]),c.useEffect(()=>{D6=!0},[]),e}const Are=sT.useId,pm=Are||Tre,kre=c.forwardRef(function(t,n){const{context:{placement:s,elements:{floating:o},middlewareData:{arrow:r,shift:a}},width:i=14,height:u=7,tipRadius:d=0,strokeWidth:m=0,staticOffset:f,stroke:h,d:g,style:{transform:C,...v}={},...y}=t,b=pm(),[E,S]=c.useState(!1);if(Wt(()=>{if(!o)return;As(o).direction==="rtl"&&S(!0)},[o]),!o)return null;const[I,_]=s.split("-"),T=I==="top"||I==="bottom";let A=f;(T&&a!=null&&a.x||!T&&a!=null&&a.y)&&(A=null);const k=m*2,R=k/2,P=i/2*(d/-8+1),V=u/2*d/4,U=!!g,K=A&&_==="end"?"bottom":"top";let Z=A&&_==="end"?"right":"left";A&&E&&(Z=_==="end"?"left":"right");const Y=(r==null?void 0:r.x)!=null?A||r.x:"",Q=(r==null?void 0:r.y)!=null?A||r.y:"",ee=g||"M0,0"+(" H"+i)+(" L"+(i-P)+","+(u-V))+(" Q"+i/2+","+u+" "+P+","+(u-V))+" Z",$={top:U?"rotate(180deg)":"",left:U?"rotate(90deg)":"rotate(-90deg)",bottom:U?"":"rotate(180deg)",right:U?"rotate(-90deg)":"rotate(90deg)"}[I];return l.jsxs("svg",{...y,"aria-hidden":!0,ref:n,width:U?i:i+k,height:i,viewBox:"0 0 "+i+" "+(u>i?u:i),style:{position:"absolute",pointerEvents:"none",[Z]:Y,[K]:Q,[I]:T||U?"100%":"calc(100% - "+k/2+"px)",transform:[$,C].filter(te=>!!te).join(" "),...v},children:[k>0&&l.jsx("path",{clipPath:"url(#"+b+")",fill:"none",stroke:h,strokeWidth:k+(g?0:1),d:ee}),l.jsx("path",{stroke:k&&!g?y.fill:"none",d:ee}),l.jsx("clipPath",{id:b,children:l.jsx("rect",{x:-R,y:R*(U?-1:1),width:i+k,height:i})})]})});function oT(){const e=new Map;return{emit(t,n){var s;(s=e.get(t))==null||s.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var s;e.set(t,((s=e.get(t))==null?void 0:s.filter(o=>o!==n))||[])}}}const rT=c.createContext(null),aT=c.createContext(null),tc=()=>{var e;return((e=c.useContext(rT))==null?void 0:e.id)||null},Pl=()=>c.useContext(aT);function Mre(e){const t=pm(),n=Pl(),o=tc();return Wt(()=>{if(!t)return;const r={id:t,parentId:o};return n==null||n.addNode(r),()=>{n==null||n.removeNode(r)}},[n,t,o]),t}function Nre(e){const{children:t,id:n}=e,s=tc();return l.jsx(rT.Provider,{value:c.useMemo(()=>({id:n,parentId:s}),[n,s]),children:t})}function Rre(e){const{children:t}=e,n=c.useRef([]),s=c.useCallback(a=>{n.current=[...n.current,a]},[]),o=c.useCallback(a=>{n.current=n.current.filter(i=>i!==a)},[]),r=c.useState(()=>oT())[0];return l.jsx(aT.Provider,{value:c.useMemo(()=>({nodesRef:n,addNode:s,removeNode:o,events:r}),[s,o,r]),children:t})}function Ni(e){return"data-floating-ui-"+e}function Es(e){const t=c.useRef(e);return Wt(()=>{t.current=e}),t}const U6=Ni("safe-polygon");function Fg(e,t,n){return n&&!ud(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function Pre(e,t){t===void 0&&(t={});const{open:n,onOpenChange:s,dataRef:o,events:r,elements:a}=e,{enabled:i=!0,delay:u=0,handleClose:d=null,mouseOnly:m=!1,restMs:f=0,move:h=!0}=t,g=Pl(),C=tc(),v=Es(d),y=Es(u),b=Es(n),E=c.useRef(),S=c.useRef(-1),I=c.useRef(),_=c.useRef(-1),T=c.useRef(!0),A=c.useRef(!1),k=c.useRef(()=>{}),R=c.useRef(!1),P=c.useCallback(()=>{var ee;const $=(ee=o.current.openEvent)==null?void 0:ee.type;return($==null?void 0:$.includes("mouse"))&&$!=="mousedown"},[o]);c.useEffect(()=>{if(!i)return;function ee($){let{open:te}=$;te||(clearTimeout(S.current),clearTimeout(_.current),T.current=!0,R.current=!1)}return r.on("openchange",ee),()=>{r.off("openchange",ee)}},[i,r]),c.useEffect(()=>{if(!i||!v.current||!n)return;function ee(te){P()&&s(!1,te,"hover")}const $=On(a.floating).documentElement;return $.addEventListener("mouseleave",ee),()=>{$.removeEventListener("mouseleave",ee)}},[a.floating,n,s,i,v,P]);const V=c.useCallback(function(ee,$,te){$===void 0&&($=!0),te===void 0&&(te="hover");const J=Fg(y.current,"close",E.current);J&&!I.current?(clearTimeout(S.current),S.current=window.setTimeout(()=>s(!1,ee,te),J)):$&&(clearTimeout(S.current),s(!1,ee,te))},[y,s]),U=xn(()=>{k.current(),I.current=void 0}),K=xn(()=>{if(A.current){const ee=On(a.floating).body;ee.style.pointerEvents="",ee.removeAttribute(U6),A.current=!1}}),Z=xn(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);c.useEffect(()=>{if(!i)return;function ee(W){if(clearTimeout(S.current),T.current=!1,m&&!ud(E.current)||f>0&&!Fg(y.current,"open"))return;const ie=Fg(y.current,"open",E.current);ie?S.current=window.setTimeout(()=>{b.current||s(!0,W,"hover")},ie):n||s(!0,W,"hover")}function $(W){if(Z())return;k.current();const ie=On(a.floating);if(clearTimeout(_.current),R.current=!1,v.current&&o.current.floatingContext){n||clearTimeout(S.current),I.current=v.current({...o.current.floatingContext,tree:g,x:W.clientX,y:W.clientY,onClose(){K(),U(),Z()||V(W,!0,"safe-polygon")}});const me=I.current;ie.addEventListener("mousemove",me),k.current=()=>{ie.removeEventListener("mousemove",me)};return}(E.current==="touch"?!Pn(a.floating,W.relatedTarget):!0)&&V(W)}function te(W){Z()||o.current.floatingContext&&(v.current==null||v.current({...o.current.floatingContext,tree:g,x:W.clientX,y:W.clientY,onClose(){K(),U(),Z()||V(W)}})(W))}if(Ut(a.domReference)){var J;const W=a.domReference;return n&&W.addEventListener("mouseleave",te),(J=a.floating)==null||J.addEventListener("mouseleave",te),h&&W.addEventListener("mousemove",ee,{once:!0}),W.addEventListener("mouseenter",ee),W.addEventListener("mouseleave",$),()=>{var ie;n&&W.removeEventListener("mouseleave",te),(ie=a.floating)==null||ie.removeEventListener("mouseleave",te),h&&W.removeEventListener("mousemove",ee),W.removeEventListener("mouseenter",ee),W.removeEventListener("mouseleave",$)}}},[a,i,e,m,f,h,V,U,K,s,n,b,g,y,v,o,Z]),Wt(()=>{var ee;if(i&&n&&(ee=v.current)!=null&&ee.__options.blockPointerEvents&&P()){A.current=!0;const te=a.floating;if(Ut(a.domReference)&&te){var $;const J=On(a.floating).body;J.setAttribute(U6,"");const W=a.domReference,ie=g==null||($=g.nodesRef.current.find(Se=>Se.id===C))==null||($=$.context)==null?void 0:$.elements.floating;return ie&&(ie.style.pointerEvents=""),J.style.pointerEvents="none",W.style.pointerEvents="auto",te.style.pointerEvents="auto",()=>{J.style.pointerEvents="",W.style.pointerEvents="",te.style.pointerEvents=""}}}},[i,n,C,a,g,v,P]),Wt(()=>{n||(E.current=void 0,R.current=!1,U(),K())},[n,U,K]),c.useEffect(()=>()=>{U(),clearTimeout(S.current),clearTimeout(_.current),K()},[i,a.domReference,U,K]);const Y=c.useMemo(()=>{function ee($){E.current=$.pointerType}return{onPointerDown:ee,onPointerEnter:ee,onMouseMove($){const{nativeEvent:te}=$;function J(){!T.current&&!b.current&&s(!0,te,"hover")}m&&!ud(E.current)||n||f===0||R.current&&$.movementX**2+$.movementY**2<2||(clearTimeout(_.current),E.current==="touch"?J():(R.current=!0,_.current=window.setTimeout(J,f)))}}},[m,s,n,b,f]),Q=c.useMemo(()=>({onMouseEnter(){clearTimeout(S.current)},onMouseLeave(ee){Z()||V(ee.nativeEvent,!1)}}),[V,Z]);return c.useMemo(()=>i?{reference:Y,floating:Q}:{},[i,Y,Q])}let F6=0;function Xa(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:s=!0,sync:o=!1}=t;s&&cancelAnimationFrame(F6);const r=()=>e==null?void 0:e.focus({preventScroll:n});o?r():F6=requestAnimationFrame(r)}function B6(e,t){var n;let s=[],o=(n=e.find(r=>r.id===t))==null?void 0:n.parentId;for(;o;){const r=e.find(a=>a.id===o);o=r==null?void 0:r.parentId,r&&(s=s.concat(r))}return s}function Kc(e,t){let n=e.filter(o=>{var r;return o.parentId===t&&((r=o.context)==null?void 0:r.open)}),s=n;for(;s.length;)s=e.filter(o=>{var r;return(r=s)==null?void 0:r.some(a=>{var i;return o.parentId===a.id&&((i=o.context)==null?void 0:i.open)})}),n=n.concat(s);return n}function Lre(e,t){let n,s=-1;function o(r,a){a>s&&(n=r,s=a),Kc(e,r).forEach(u=>{o(u.id,a+1)})}return o(t,0),e.find(r=>r.id===n)}let bc=new WeakMap,lf=new WeakSet,uf={},Bg=0;const Ore=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,iT=e=>e&&(e.host||iT(e.parentNode)),Dre=(e,t)=>t.map(n=>{if(e.contains(n))return n;const s=iT(n);return e.contains(s)?s:null}).filter(n=>n!=null);function jre(e,t,n,s){const o="data-floating-ui-inert",r=s?"inert":n?"aria-hidden":null,a=Dre(t,e),i=new Set,u=new Set(a),d=[];uf[o]||(uf[o]=new WeakMap);const m=uf[o];a.forEach(f),h(t),i.clear();function f(g){!g||i.has(g)||(i.add(g),g.parentNode&&f(g.parentNode))}function h(g){!g||u.has(g)||[].forEach.call(g.children,C=>{if(Ma(C)!=="script")if(i.has(C))h(C);else{const v=r?C.getAttribute(r):null,y=v!==null&&v!=="false",b=bc.get(C)||0,E=r?b+1:b,S=(m.get(C)||0)+1;bc.set(C,E),m.set(C,S),d.push(C),E===1&&y&&lf.add(C),S===1&&C.setAttribute(o,""),!y&&r&&C.setAttribute(r,"true")}})}return Bg++,()=>{d.forEach(g=>{const C=bc.get(g)||0,v=r?C-1:C,y=(m.get(g)||0)-1;bc.set(g,v),m.set(g,y),v||(!lf.has(g)&&r&&g.removeAttribute(r),lf.delete(g)),y||g.removeAttribute(o)}),Bg--,Bg||(bc=new WeakMap,bc=new WeakMap,lf=new WeakSet,uf={})}}function V6(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=On(e[0]).body;return jre(e.concat(Array.from(s.querySelectorAll("[aria-live]"))),s,t,n)}const X1=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function cT(e,t){const n=Q1(e,X1());t==="prev"&&n.reverse();const s=n.indexOf(lo(On(e)));return n.slice(s+1)[0]}function lT(){return cT(document.body,"next")}function uT(){return cT(document.body,"prev")}function Bu(e,t){const n=t||e.currentTarget,s=e.relatedTarget;return!s||!Pn(n,s)}function Ure(e){Q1(e,X1()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function H6(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const s=n.dataset.tabindex;delete n.dataset.tabindex,s?n.setAttribute("tabindex",s):n.removeAttribute("tabindex")})}const eh={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Fre;function z6(e){e.key==="Tab"&&(e.target,clearTimeout(Fre))}const Pp=c.forwardRef(function(t,n){const[s,o]=c.useState();Wt(()=>(B_()&&o("button"),document.addEventListener("keydown",z6),()=>{document.removeEventListener("keydown",z6)}),[]);const r={ref:n,tabIndex:0,role:s,"aria-hidden":s?void 0:!0,[Ni("focus-guard")]:"",style:eh};return l.jsx("span",{...t,...r})}),dT=c.createContext(null),G6=Ni("portal");function Bre(e){e===void 0&&(e={});const{id:t,root:n}=e,s=pm(),o=mT(),[r,a]=c.useState(null),i=c.useRef(null);return Wt(()=>()=>{r==null||r.remove(),queueMicrotask(()=>{i.current=null})},[r]),Wt(()=>{if(!s||i.current)return;const u=t?document.getElementById(t):null;if(!u)return;const d=document.createElement("div");d.id=s,d.setAttribute(G6,""),u.appendChild(d),i.current=d,a(d)},[t,s]),Wt(()=>{if(n===null||!s||i.current)return;let u=n||(o==null?void 0:o.portalNode);u&&!Ut(u)&&(u=u.current),u=u||document.body;let d=null;t&&(d=document.createElement("div"),d.id=t,u.appendChild(d));const m=document.createElement("div");m.id=s,m.setAttribute(G6,""),u=d||u,u.appendChild(m),i.current=m,a(m)},[t,n,s,o]),r}function Ll(e){const{children:t,id:n,root:s,preserveTabOrder:o=!0}=e,r=Bre({id:n,root:s}),[a,i]=c.useState(null),u=c.useRef(null),d=c.useRef(null),m=c.useRef(null),f=c.useRef(null),h=a==null?void 0:a.modal,g=a==null?void 0:a.open,C=!!a&&!a.modal&&a.open&&o&&!!(s||r);return c.useEffect(()=>{if(!r||!o||h)return;function v(y){r&&Bu(y)&&(y.type==="focusin"?H6:Ure)(r)}return r.addEventListener("focusin",v,!0),r.addEventListener("focusout",v,!0),()=>{r.removeEventListener("focusin",v,!0),r.removeEventListener("focusout",v,!0)}},[r,o,h]),c.useEffect(()=>{r&&(g||H6(r))},[g,r]),l.jsxs(dT.Provider,{value:c.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:u,afterOutsideRef:d,beforeInsideRef:m,afterInsideRef:f,portalNode:r,setFocusManagerState:i}),[o,r]),children:[C&&r&&l.jsx(Pp,{"data-type":"outside",ref:u,onFocus:v=>{if(Bu(v,r)){var y;(y=m.current)==null||y.focus()}else{const b=uT()||(a==null?void 0:a.domReference);b==null||b.focus()}}}),C&&r&&l.jsx("span",{"aria-owns":r.id,style:eh}),r&&Ad.createPortal(t,r),C&&r&&l.jsx(Pp,{"data-type":"outside",ref:d,onFocus:v=>{if(Bu(v,r)){var y;(y=f.current)==null||y.focus()}else{const b=lT()||(a==null?void 0:a.domReference);b==null||b.focus(),a!=null&&a.closeOnFocusOut&&(a==null||a.onOpenChange(!1,v.nativeEvent,"focus-out"))}}})]})}const mT=()=>c.useContext(dT),X2="data-floating-ui-focusable";function e5(e){return e?e.hasAttribute(X2)?e:e.querySelector("["+X2+"]")||e:null}const Vre=20;let ei=[];function Vg(e){ei=ei.filter(t=>t.isConnected),e&&Ma(e)!=="body"&&(ei.push(e),ei.length>Vre&&(ei=ei.slice(-20)))}function W6(){return ei.slice().reverse().find(e=>e.isConnected)}function Hre(e){const t=X1();return Uoe(e,t)?e:Q1(e,t)[0]||e}const zre=c.forwardRef(function(t,n){return l.jsx("button",{...t,type:"button",ref:n,tabIndex:-1,style:eh})});function th(e){const{context:t,children:n,disabled:s=!1,order:o=["content"],guards:r=!0,initialFocus:a=0,returnFocus:i=!0,restoreFocus:u=!1,modal:d=!0,visuallyHiddenDismiss:m=!1,closeOnFocusOut:f=!0,outsideElementsInert:h=!1}=e,{open:g,onOpenChange:C,events:v,dataRef:y,elements:{domReference:b,floating:E}}=t,S=xn(()=>{var se;return(se=y.current.floatingContext)==null?void 0:se.nodeId}),I=typeof a=="number"&&a<0,_=V_(b)&&I,T=Ore(),A=T?r:!0,k=!A||T&&h,R=Es(o),P=Es(a),V=Es(i),U=Pl(),K=mT(),Z=c.useRef(null),Y=c.useRef(null),Q=c.useRef(!1),ee=c.useRef(!1),$=c.useRef(-1),te=K!=null,J=e5(E),W=xn(function(se){return se===void 0&&(se=J),se?Q1(se,X1()):[]}),ie=xn(se=>{const ce=W(se);return R.current.map(X=>b&&X==="reference"?b:J&&X==="floating"?J:ce).filter(Boolean).flat()});c.useEffect(()=>{if(s||!d)return;function se(X){if(X.key==="Tab"){Pn(J,lo(On(J)))&&W().length===0&&!_&&Ln(X);const ve=ie(),Re=Wr(X);R.current[0]==="reference"&&Re===b&&(Ln(X),X.shiftKey?Xa(ve[ve.length-1]):Xa(ve[1])),R.current[1]==="floating"&&Re===J&&X.shiftKey&&(Ln(X),Xa(ve[0]))}}const ce=On(J);return ce.addEventListener("keydown",se),()=>{ce.removeEventListener("keydown",se)}},[s,b,J,d,R,_,W,ie]),c.useEffect(()=>{if(s||!E)return;function se(ce){const X=Wr(ce),Re=W().indexOf(X);Re!==-1&&($.current=Re)}return E.addEventListener("focusin",se),()=>{E.removeEventListener("focusin",se)}},[s,E,W]),c.useEffect(()=>{if(s||!f)return;function se(){ee.current=!0,setTimeout(()=>{ee.current=!1})}function ce(X){const ve=X.relatedTarget;queueMicrotask(()=>{const Re=S(),qe=!(Pn(b,ve)||Pn(E,ve)||Pn(ve,E)||Pn(K==null?void 0:K.portalNode,ve)||ve!=null&&ve.hasAttribute(Ni("focus-guard"))||U&&(Kc(U.nodesRef.current,Re).find(Xe=>{var et,fe;return Pn((et=Xe.context)==null?void 0:et.elements.floating,ve)||Pn((fe=Xe.context)==null?void 0:fe.elements.domReference,ve)})||B6(U.nodesRef.current,Re).find(Xe=>{var et,fe,Ee;return[(et=Xe.context)==null?void 0:et.elements.floating,e5((fe=Xe.context)==null?void 0:fe.elements.floating)].includes(ve)||((Ee=Xe.context)==null?void 0:Ee.elements.domReference)===ve})));if(u&&qe&&lo(On(J))===On(J).body){gn(J)&&J.focus();const Xe=$.current,et=W(),fe=et[Xe]||et[et.length-1]||J;gn(fe)&&fe.focus()}(_||!d)&&ve&&qe&&!ee.current&&ve!==W6()&&(Q.current=!0,C(!1,X,"focus-out"))})}if(E&&gn(b))return b.addEventListener("focusout",ce),b.addEventListener("pointerdown",se),E.addEventListener("focusout",ce),()=>{b.removeEventListener("focusout",ce),b.removeEventListener("pointerdown",se),E.removeEventListener("focusout",ce)}},[s,b,E,J,d,U,K,C,f,u,W,_,S]);const Se=c.useRef(null),me=c.useRef(null),re=md([Se,K==null?void 0:K.beforeInsideRef]),xe=md([me,K==null?void 0:K.afterInsideRef]);c.useEffect(()=>{var se;if(s||!E)return;const ce=Array.from((K==null||(se=K.portalNode)==null?void 0:se.querySelectorAll("["+Ni("portal")+"]"))||[]),X=U&&!d?B6(U==null?void 0:U.nodesRef.current,S()).map(qe=>{var Xe;return(Xe=qe.context)==null?void 0:Xe.elements.floating}):[],ve=[E,...ce,...X,Z.current,Y.current,Se.current,me.current,K==null?void 0:K.beforeOutsideRef.current,K==null?void 0:K.afterOutsideRef.current,R.current.includes("reference")||_?b:null].filter(qe=>qe!=null),Re=d||_?V6(ve,!k,k):V6(ve);return()=>{Re()}},[s,b,E,d,R,K,_,A,k,U,S]),Wt(()=>{if(s||!gn(J))return;const se=On(J),ce=lo(se);queueMicrotask(()=>{const X=ie(J),ve=P.current,Re=(typeof ve=="number"?X[ve]:ve.current)||J,qe=Pn(J,ce);!I&&!qe&&g&&Xa(Re,{preventScroll:Re===J})})},[s,g,J,I,ie,P]),Wt(()=>{if(s||!J)return;let se=!1;const ce=On(J),X=lo(ce);let Re=y.current.openEvent;Vg(X);function qe(fe){let{open:Ee,reason:Ae,event:Ye,nested:De}=fe;Ee&&(Re=Ye),Ae==="escape-key"&&b&&Vg(b),["hover","safe-polygon"].includes(Ae)&&Ye.type==="mouseleave"&&(Q.current=!0),Ae==="outside-press"&&(De?(Q.current=!1,se=!0):Q.current=!(F_(Ye)||WC(Ye)))}v.on("openchange",qe);const Xe=ce.createElement("span");Xe.setAttribute("tabindex","-1"),Xe.setAttribute("aria-hidden","true"),Object.assign(Xe.style,eh),te&&b&&b.insertAdjacentElement("afterend",Xe);function et(){return typeof V.current=="boolean"?W6()||Xe:V.current.current||Xe}return()=>{v.off("openchange",qe);const fe=lo(ce),Ee=Pn(E,fe)||U&&Kc(U.nodesRef.current,S()).some(De=>{var Ke;return Pn((Ke=De.context)==null?void 0:Ke.elements.floating,fe)});(Ee||Re&&["click","mousedown"].includes(Re.type))&&b&&Vg(b);const Ye=et();queueMicrotask(()=>{const De=Hre(Ye);V.current&&!Q.current&&gn(De)&&(!(De!==fe&&fe!==ce.body)||Ee)&&De.focus({preventScroll:se}),Xe.remove()})}},[s,E,J,V,y,v,U,te,b,S]),c.useEffect(()=>{queueMicrotask(()=>{Q.current=!1})},[s]),Wt(()=>{if(!s&&K)return K.setFocusManagerState({modal:d,closeOnFocusOut:f,open:g,onOpenChange:C,domReference:b}),()=>{K.setFocusManagerState(null)}},[s,K,d,g,C,f,b]),Wt(()=>{if(s||!J||typeof MutationObserver!="function"||I)return;const se=()=>{const X=J.getAttribute("tabindex"),ve=W(),Re=lo(On(E)),qe=ve.indexOf(Re);qe!==-1&&($.current=qe),R.current.includes("floating")||Re!==b&&ve.length===0?X!=="0"&&J.setAttribute("tabindex","0"):X!=="-1"&&J.setAttribute("tabindex","-1")};se();const ce=new MutationObserver(se);return ce.observe(J,{childList:!0,subtree:!0,attributes:!0}),()=>{ce.disconnect()}},[s,E,J,b,R,W,I]);function Ne(se){return s||!m||!d?null:l.jsx(zre,{ref:se==="start"?Z:Y,onClick:ce=>C(!1,ce.nativeEvent),children:typeof m=="string"?m:"Dismiss"})}const Oe=!s&&A&&(d?!_:!0)&&(te||d);return l.jsxs(l.Fragment,{children:[Oe&&l.jsx(Pp,{"data-type":"inside",ref:re,onFocus:se=>{if(d){const X=ie();Xa(o[0]==="reference"?X[0]:X[X.length-1])}else if(K!=null&&K.preserveTabOrder&&K.portalNode)if(Q.current=!1,Bu(se,K.portalNode)){const X=lT()||b;X==null||X.focus()}else{var ce;(ce=K.beforeOutsideRef.current)==null||ce.focus()}}}),!_&&Ne("start"),n,Ne("end"),Oe&&l.jsx(Pp,{"data-type":"inside",ref:xe,onFocus:se=>{if(d)Xa(ie()[0]);else if(K!=null&&K.preserveTabOrder&&K.portalNode)if(f&&(Q.current=!0),Bu(se,K.portalNode)){const X=uT()||b;X==null||X.focus()}else{var ce;(ce=K.afterOutsideRef.current)==null||ce.focus()}}})]})}function $6(e){return gn(e.target)&&e.target.tagName==="BUTTON"}function q6(e){return $C(e)}function JC(e,t){t===void 0&&(t={});const{open:n,onOpenChange:s,dataRef:o,elements:{domReference:r}}=e,{enabled:a=!0,event:i="click",toggle:u=!0,ignoreMouse:d=!1,keyboardHandlers:m=!0,stickIfOpen:f=!0}=t,h=c.useRef(),g=c.useRef(!1),C=c.useMemo(()=>({onPointerDown(v){h.current=v.pointerType},onMouseDown(v){const y=h.current;v.button===0&&i!=="click"&&(ud(y,!0)&&d||(n&&u&&(!(o.current.openEvent&&f)||o.current.openEvent.type==="mousedown")?s(!1,v.nativeEvent,"click"):(v.preventDefault(),s(!0,v.nativeEvent,"click"))))},onClick(v){const y=h.current;if(i==="mousedown"&&h.current){h.current=void 0;return}ud(y,!0)&&d||(n&&u&&(!(o.current.openEvent&&f)||o.current.openEvent.type==="click")?s(!1,v.nativeEvent,"click"):s(!0,v.nativeEvent,"click"))},onKeyDown(v){h.current=void 0,!(v.defaultPrevented||!m||$6(v))&&(v.key===" "&&!q6(r)&&(v.preventDefault(),g.current=!0),v.key==="Enter"&&s(!(n&&u),v.nativeEvent,"click"))},onKeyUp(v){v.defaultPrevented||!m||$6(v)||q6(r)||v.key===" "&&g.current&&(g.current=!1,s(!(n&&u),v.nativeEvent,"click"))}}),[o,r,i,d,m,s,n,f,u]);return c.useMemo(()=>a?{reference:C}:{},[a,C])}const Gre={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Wre={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},K6=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function hm(e,t){t===void 0&&(t={});const{open:n,onOpenChange:s,elements:o,dataRef:r}=e,{enabled:a=!0,escapeKey:i=!0,outsidePress:u=!0,outsidePressEvent:d="pointerdown",referencePress:m=!1,referencePressEvent:f="pointerdown",ancestorScroll:h=!1,bubbles:g,capture:C}=t,v=Pl(),y=xn(typeof u=="function"?u:()=>!1),b=typeof u=="function"?y:u,E=c.useRef(!1),S=c.useRef(!1),{escapeKey:I,outsidePress:_}=K6(g),{escapeKey:T,outsidePress:A}=K6(C),k=c.useRef(!1),R=xn(Y=>{var Q;if(!n||!a||!i||Y.key!=="Escape"||k.current)return;const ee=(Q=r.current.floatingContext)==null?void 0:Q.nodeId,$=v?Kc(v.nodesRef.current,ee):[];if(!I&&(Y.stopPropagation(),$.length>0)){let te=!0;if($.forEach(J=>{var W;if((W=J.context)!=null&&W.open&&!J.context.dataRef.current.__escapeKeyBubbles){te=!1;return}}),!te)return}s(!1,aoe(Y)?Y.nativeEvent:Y,"escape-key")}),P=xn(Y=>{var Q;const ee=()=>{var $;R(Y),($=Wr(Y))==null||$.removeEventListener("keydown",ee)};(Q=Wr(Y))==null||Q.addEventListener("keydown",ee)}),V=xn(Y=>{var Q;const ee=E.current;E.current=!1;const $=S.current;if(S.current=!1,d==="click"&&$||ee||typeof b=="function"&&!b(Y))return;const te=Wr(Y),J="["+Ni("inert")+"]",W=On(o.floating).querySelectorAll(J);let ie=Ut(te)?te:null;for(;ie&&!dr(ie);){const xe=vr(ie);if(dr(xe)||!Ut(xe))break;ie=xe}if(W.length&&Ut(te)&&!ioe(te)&&!Pn(te,o.floating)&&Array.from(W).every(xe=>!Pn(ie,xe)))return;if(gn(te)&&Z){const xe=dr(te),Ne=As(te),Oe=/auto|scroll/,se=xe||Oe.test(Ne.overflowX),ce=xe||Oe.test(Ne.overflowY),X=se&&te.clientWidth>0&&te.scrollWidth>te.clientWidth,ve=ce&&te.clientHeight>0&&te.scrollHeight>te.clientHeight,Re=Ne.direction==="rtl",qe=ve&&(Re?Y.offsetX<=te.offsetWidth-te.clientWidth:Y.offsetX>te.clientWidth),Xe=X&&Y.offsetY>te.clientHeight;if(qe||Xe)return}const Se=(Q=r.current.floatingContext)==null?void 0:Q.nodeId,me=v&&Kc(v.nodesRef.current,Se).some(xe=>{var Ne;return Og(Y,(Ne=xe.context)==null?void 0:Ne.elements.floating)});if(Og(Y,o.floating)||Og(Y,o.domReference)||me)return;const re=v?Kc(v.nodesRef.current,Se):[];if(re.length>0){let xe=!0;if(re.forEach(Ne=>{var Oe;if((Oe=Ne.context)!=null&&Oe.open&&!Ne.context.dataRef.current.__outsidePressBubbles){xe=!1;return}}),!xe)return}s(!1,Y,"outside-press")}),U=xn(Y=>{var Q;const ee=()=>{var $;V(Y),($=Wr(Y))==null||$.removeEventListener(d,ee)};(Q=Wr(Y))==null||Q.addEventListener(d,ee)});c.useEffect(()=>{if(!n||!a)return;r.current.__escapeKeyBubbles=I,r.current.__outsidePressBubbles=_;let Y=-1;function Q(W){s(!1,W,"ancestor-scroll")}function ee(){window.clearTimeout(Y),k.current=!0}function $(){Y=window.setTimeout(()=>{k.current=!1},Z1()?5:0)}const te=On(o.floating);i&&(te.addEventListener("keydown",T?P:R,T),te.addEventListener("compositionstart",ee),te.addEventListener("compositionend",$)),b&&te.addEventListener(d,A?U:V,A);let J=[];return h&&(Ut(o.domReference)&&(J=aa(o.domReference)),Ut(o.floating)&&(J=J.concat(aa(o.floating))),!Ut(o.reference)&&o.reference&&o.reference.contextElement&&(J=J.concat(aa(o.reference.contextElement)))),J=J.filter(W=>{var ie;return W!==((ie=te.defaultView)==null?void 0:ie.visualViewport)}),J.forEach(W=>{W.addEventListener("scroll",Q,{passive:!0})}),()=>{i&&(te.removeEventListener("keydown",T?P:R,T),te.removeEventListener("compositionstart",ee),te.removeEventListener("compositionend",$)),b&&te.removeEventListener(d,A?U:V,A),J.forEach(W=>{W.removeEventListener("scroll",Q)}),window.clearTimeout(Y)}},[r,o,i,b,d,n,s,h,a,I,_,R,T,P,V,A,U]),c.useEffect(()=>{E.current=!1},[b,d]);const K=c.useMemo(()=>({onKeyDown:R,...m&&{[Gre[f]]:Y=>{s(!1,Y.nativeEvent,"reference-press")},...f!=="click"&&{onClick(Y){s(!1,Y.nativeEvent,"reference-press")}}}}),[R,s,m,f]),Z=c.useMemo(()=>({onKeyDown:R,onMouseDown(){S.current=!0},onMouseUp(){S.current=!0},[Wre[d]]:()=>{E.current=!0}}),[R,d]);return c.useMemo(()=>a?{reference:K,floating:Z}:{},[a,K,Z])}function $re(e){const{open:t=!1,onOpenChange:n,elements:s}=e,o=pm(),r=c.useRef({}),[a]=c.useState(()=>oT()),i=tc()!=null,[u,d]=c.useState(s.reference),m=xn((g,C,v)=>{r.current.openEvent=g?C:void 0,a.emit("openchange",{open:g,event:C,reason:v,nested:i}),n==null||n(g,C,v)}),f=c.useMemo(()=>({setPositionReference:d}),[]),h=c.useMemo(()=>({reference:u||s.reference||null,floating:s.floating||null,domReference:s.reference}),[u,s.reference,s.floating]);return c.useMemo(()=>({dataRef:r,open:t,onOpenChange:m,elements:h,events:a,floatingId:o,refs:f}),[t,m,h,a,o,f])}function Ol(e){e===void 0&&(e={});const{nodeId:t}=e,n=$re({...e,elements:{reference:null,floating:null,...e.elements}}),s=e.rootContext||n,o=s.elements,[r,a]=c.useState(null),[i,u]=c.useState(null),m=(o==null?void 0:o.domReference)||r,f=c.useRef(null),h=Pl();Wt(()=>{m&&(f.current=m)},[m]);const g=YC({...e,elements:{...o,...i&&{reference:i}}}),C=c.useCallback(S=>{const I=Ut(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),contextElement:S}:S;u(I),g.refs.setReference(I)},[g.refs]),v=c.useCallback(S=>{(Ut(S)||S===null)&&(f.current=S,a(S)),(Ut(g.refs.reference.current)||g.refs.reference.current===null||S!==null&&!Ut(S))&&g.refs.setReference(S)},[g.refs]),y=c.useMemo(()=>({...g.refs,setReference:v,setPositionReference:C,domReference:f}),[g.refs,v,C]),b=c.useMemo(()=>({...g.elements,domReference:m}),[g.elements,m]),E=c.useMemo(()=>({...g,...s,refs:y,elements:b,nodeId:t}),[g,y,b,t,s]);return Wt(()=>{s.dataRef.current.floatingContext=E;const S=h==null?void 0:h.nodesRef.current.find(I=>I.id===t);S&&(S.context=E)}),c.useMemo(()=>({...g,context:E,refs:y,elements:b}),[g,y,b,E])}function qre(e,t){t===void 0&&(t={});const{open:n,onOpenChange:s,events:o,dataRef:r,elements:a}=e,{enabled:i=!0,visibleOnly:u=!0}=t,d=c.useRef(!1),m=c.useRef(),f=c.useRef(!0);c.useEffect(()=>{if(!i)return;const g=ls(a.domReference);function C(){!n&&gn(a.domReference)&&a.domReference===lo(On(a.domReference))&&(d.current=!0)}function v(){f.current=!0}return g.addEventListener("blur",C),g.addEventListener("keydown",v,!0),()=>{g.removeEventListener("blur",C),g.removeEventListener("keydown",v,!0)}},[a.domReference,n,i]),c.useEffect(()=>{if(!i)return;function g(C){let{reason:v}=C;(v==="reference-press"||v==="escape-key")&&(d.current=!0)}return o.on("openchange",g),()=>{o.off("openchange",g)}},[o,i]),c.useEffect(()=>()=>{clearTimeout(m.current)},[]);const h=c.useMemo(()=>({onPointerDown(g){WC(g.nativeEvent)||(f.current=!1)},onMouseLeave(){d.current=!1},onFocus(g){if(d.current)return;const C=Wr(g.nativeEvent);if(u&&Ut(C))try{if(B_()&&ooe())throw Error();if(!C.matches(":focus-visible"))return}catch{if(!f.current&&!$C(C))return}s(!0,g.nativeEvent,"focus")},onBlur(g){d.current=!1;const C=g.relatedTarget,v=g.nativeEvent,y=Ut(C)&&C.hasAttribute(Ni("focus-guard"))&&C.getAttribute("data-type")==="outside";m.current=window.setTimeout(()=>{var b;const E=lo(a.domReference?a.domReference.ownerDocument:document);!C&&E===a.domReference||Pn((b=r.current.floatingContext)==null?void 0:b.refs.floating.current,E)||Pn(a.domReference,E)||y||s(!1,v,"focus")})}}),[r,a.domReference,s,u]);return c.useMemo(()=>i?{reference:h}:{},[i,h])}const Z6="active",Y6="selected";function Hg(e,t,n){const s=new Map,o=n==="item";let r=e;if(o&&e){const{[Z6]:a,[Y6]:i,...u}=e;r=u}return{...n==="floating"&&{tabIndex:-1,[X2]:""},...r,...t.map(a=>{const i=a?a[n]:null;return typeof i=="function"?e?i(e):null:i}).concat(e).reduce((a,i)=>(i&&Object.entries(i).forEach(u=>{let[d,m]=u;if(!(o&&[Z6,Y6].includes(d)))if(d.indexOf("on")===0){if(s.has(d)||s.set(d,[]),typeof m=="function"){var f;(f=s.get(d))==null||f.push(m),a[d]=function(){for(var h,g=arguments.length,C=new Array(g),v=0;v<g;v++)C[v]=arguments[v];return(h=s.get(d))==null?void 0:h.map(y=>y(...C)).find(y=>y!==void 0)}}}else a[d]=m}),a),{})}}function nh(e){e===void 0&&(e=[]);const t=e.map(i=>i==null?void 0:i.reference),n=e.map(i=>i==null?void 0:i.floating),s=e.map(i=>i==null?void 0:i.item),o=c.useCallback(i=>Hg(i,e,"reference"),t),r=c.useCallback(i=>Hg(i,e,"floating"),n),a=c.useCallback(i=>Hg(i,e,"item"),s);return c.useMemo(()=>({getReferenceProps:o,getFloatingProps:r,getItemProps:a}),[o,r,a])}function sh(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function Q6(e,t){return sh(t,e===QC||e===fm,e===ia||e===ca)}function zg(e,t,n){return sh(t,e===fm,n?e===ia:e===ca)||e==="Enter"||e===" "||e===""}function Kre(e,t,n){return sh(t,n?e===ia:e===ca,e===fm)}function J6(e,t,n){return sh(t,n?e===ca:e===ia,e===QC)}function Zre(e,t){const{open:n,onOpenChange:s,elements:o}=e,{listRef:r,activeIndex:a,onNavigate:i=()=>{},enabled:u=!0,selectedIndex:d=null,allowEscape:m=!1,loop:f=!1,nested:h=!1,rtl:g=!1,virtual:C=!1,focusItemOnOpen:v="auto",focusItemOnHover:y=!0,openOnArrowKeyDown:b=!0,disabledIndices:E=void 0,orientation:S="vertical",cols:I=1,scrollItemIntoView:_=!0,virtualItemRef:T,itemSizes:A,dense:k=!1}=t,R=e5(o.floating),P=Es(R),V=tc(),U=Pl(),K=xn(()=>{i(Q.current===-1?null:Q.current)}),Z=V_(o.domReference),Y=c.useRef(v),Q=c.useRef(d??-1),ee=c.useRef(null),$=c.useRef(!0),te=c.useRef(K),J=c.useRef(!!o.floating),W=c.useRef(n),ie=c.useRef(!1),Se=c.useRef(!1),me=Es(E),re=Es(n),xe=Es(_),Ne=Es(d),[Oe,se]=c.useState(),[ce,X]=c.useState(),ve=xn(()=>{function Ae(Ke){C?(se(Ke.id),U==null||U.events.emit("virtualfocus",Ke),T&&(T.current=Ke)):Xa(Ke,{sync:ie.current,preventScroll:!0})}const Ye=r.current[Q.current];Ye&&Ae(Ye),(ie.current?Ke=>Ke():requestAnimationFrame)(()=>{const Ke=r.current[Q.current]||Ye;if(!Ke)return;Ye||Ae(Ke);const Be=xe.current;Be&&qe&&(Se.current||!$.current)&&(Ke.scrollIntoView==null||Ke.scrollIntoView(typeof Be=="boolean"?{block:"nearest",inline:"nearest"}:Be))})});Wt(()=>{u&&(n&&o.floating?Y.current&&d!=null&&(Se.current=!0,Q.current=d,K()):J.current&&(Q.current=-1,te.current()))},[u,n,o.floating,d,K]),Wt(()=>{if(u&&n&&o.floating)if(a==null){if(ie.current=!1,Ne.current!=null)return;if(J.current&&(Q.current=-1,ve()),(!W.current||!J.current)&&Y.current&&(ee.current!=null||Y.current===!0&&ee.current==null)){let Ae=0;const Ye=()=>{r.current[0]==null?(Ae<2&&(Ae?requestAnimationFrame:queueMicrotask)(Ye),Ae++):(Q.current=ee.current==null||zg(ee.current,S,g)||h?Ug(r,me.current):O6(r,me.current),ee.current=null,K())};Ye()}}else Fu(r,a)||(Q.current=a,ve(),Se.current=!1)},[u,n,o.floating,a,Ne,h,r,S,g,K,ve,me]),Wt(()=>{var Ae;if(!u||o.floating||!U||C||!J.current)return;const Ye=U.nodesRef.current,De=(Ae=Ye.find(Ce=>Ce.id===V))==null||(Ae=Ae.context)==null?void 0:Ae.elements.floating,Ke=lo(On(o.floating)),Be=Ye.some(Ce=>Ce.context&&Pn(Ce.context.elements.floating,Ke));De&&!Be&&$.current&&De.focus({preventScroll:!0})},[u,o.floating,U,V,C]),Wt(()=>{if(!u||!U||!C||V)return;function Ae(Ye){X(Ye.id),T&&(T.current=Ye)}return U.events.on("virtualfocus",Ae),()=>{U.events.off("virtualfocus",Ae)}},[u,U,C,V,T]),Wt(()=>{te.current=K,W.current=n,J.current=!!o.floating}),Wt(()=>{n||(ee.current=null)},[n]);const Re=a!=null,qe=c.useMemo(()=>{function Ae(De){if(!n)return;const Ke=r.current.indexOf(De);Ke!==-1&&Q.current!==Ke&&(Q.current=Ke,K())}return{onFocus(De){let{currentTarget:Ke}=De;ie.current=!0,Ae(Ke)},onClick:De=>{let{currentTarget:Ke}=De;return Ke.focus({preventScroll:!0})},...y&&{onMouseMove(De){let{currentTarget:Ke}=De;ie.current=!0,Se.current=!1,Ae(Ke)},onPointerLeave(De){let{pointerType:Ke}=De;if(!(!$.current||Ke==="touch")&&(ie.current=!0,Q.current=-1,K(),!C)){var Be;(Be=P.current)==null||Be.focus({preventScroll:!0})}}}}},[n,P,y,r,K,C]),Xe=xn(Ae=>{if($.current=!1,ie.current=!0,Ae.which===229||!re.current&&Ae.currentTarget===P.current)return;if(h&&J6(Ae.key,S,g)){Ln(Ae),s(!1,Ae.nativeEvent,"list-navigation"),gn(o.domReference)&&(C?U==null||U.events.emit("virtualfocus",o.domReference):o.domReference.focus());return}const Ye=Q.current,De=Ug(r,E),Ke=O6(r,E);if(Z||(Ae.key==="Home"&&(Ln(Ae),Q.current=De,K()),Ae.key==="End"&&(Ln(Ae),Q.current=Ke,K())),I>1){const Be=A||Array.from({length:r.current.length},()=>({width:1,height:1})),Ce=Ere(Be,I,k),ze=Ce.findIndex(Ie=>Ie!=null&&!Bf(r.current,Ie,E)),Ct=Ce.reduce((Ie,Ze,at)=>Ze!=null&&!Bf(r.current,Ze,E)?at:Ie,-1),Me=Ce[Sre({current:Ce.map(Ie=>Ie!=null?r.current[Ie]:null)},{event:Ae,orientation:S,loop:f,rtl:g,cols:I,disabledIndices:Ire([...E||r.current.map((Ie,Ze)=>Bf(r.current,Ze)?Ze:void 0),void 0],Ce),minIndex:ze,maxIndex:Ct,prevIndex:wre(Q.current>Ke?De:Q.current,Be,Ce,I,Ae.key===fm?"bl":Ae.key===(g?ia:ca)?"tr":"tl"),stopEvent:!0})];if(Me!=null&&(Q.current=Me,K()),S==="both")return}if(Q6(Ae.key,S)){if(Ln(Ae),n&&!C&&lo(Ae.currentTarget.ownerDocument)===Ae.currentTarget){Q.current=zg(Ae.key,S,g)?De:Ke,K();return}zg(Ae.key,S,g)?f?Q.current=Ye>=Ke?m&&Ye!==r.current.length?-1:De:Bn(r,{startingIndex:Ye,disabledIndices:E}):Q.current=Math.min(Ke,Bn(r,{startingIndex:Ye,disabledIndices:E})):f?Q.current=Ye<=De?m&&Ye!==-1?r.current.length:Ke:Bn(r,{startingIndex:Ye,decrement:!0,disabledIndices:E}):Q.current=Math.max(De,Bn(r,{startingIndex:Ye,decrement:!0,disabledIndices:E})),Fu(r,Q.current)&&(Q.current=-1),K()}}),et=c.useMemo(()=>C&&n&&Re&&{"aria-activedescendant":ce||Oe},[C,n,Re,ce,Oe]),fe=c.useMemo(()=>({"aria-orientation":S==="both"?void 0:S,...Z?{}:et,onKeyDown:Xe,onPointerMove(){$.current=!0}}),[et,Xe,S,Z]),Ee=c.useMemo(()=>{function Ae(De){v==="auto"&&F_(De.nativeEvent)&&(Y.current=!0)}function Ye(De){Y.current=v,v==="auto"&&WC(De.nativeEvent)&&(Y.current=!0)}return{...et,onKeyDown(De){$.current=!1;const Ke=De.key.startsWith("Arrow"),Be=["Home","End"].includes(De.key),Ce=Ke||Be,ze=Kre(De.key,S,g),Ct=J6(De.key,S,g),Me=Q6(De.key,S),Ie=(h?ze:Me)||De.key==="Enter"||De.key.trim()==="";if(C&&n){const dt=U==null?void 0:U.nodesRef.current.find(Bt=>Bt.parentId==null),At=U&&dt?Lre(U.nodesRef.current,dt.id):null;if(Ce&&At&&T){const Bt=new KeyboardEvent("keydown",{key:De.key,bubbles:!0});if(ze||Ct){var Ze,at;const Rs=((Ze=At.context)==null?void 0:Ze.elements.domReference)===De.currentTarget,eo=Ct&&!Rs?(at=At.context)==null?void 0:at.elements.domReference:ze?r.current.find(Ps=>(Ps==null?void 0:Ps.id)===Oe):null;eo&&(Ln(De),eo.dispatchEvent(Bt),X(void 0))}if((Me||Be)&&At.context&&At.context.open&&At.parentId&&De.currentTarget!==At.context.elements.domReference){var Te;Ln(De),(Te=At.context.elements.domReference)==null||Te.dispatchEvent(Bt);return}}return Xe(De)}if(!(!n&&!b&&Ke)){if(Ie&&(ee.current=h&&Me?null:De.key),h){ze&&(Ln(De),n?(Q.current=Ug(r,me.current),K()):s(!0,De.nativeEvent,"list-navigation"));return}Me&&(d!=null&&(Q.current=d),Ln(De),!n&&b?s(!0,De.nativeEvent,"list-navigation"):Xe(De),n&&K())}},onFocus(){n&&!C&&(Q.current=-1,K())},onPointerDown:Ye,onPointerEnter:Ye,onMouseDown:Ae,onClick:Ae}},[Oe,et,Xe,me,v,r,h,K,s,n,b,S,g,d,U,C,T]);return c.useMemo(()=>u?{reference:Ee,floating:fe,item:qe}:{},[u,Ee,fe,qe])}const Yre=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function oh(e,t){var n;t===void 0&&(t={});const{open:s,floatingId:o}=e,{enabled:r=!0,role:a="dialog"}=t,i=(n=Yre.get(a))!=null?n:a,u=pm(),m=tc()!=null,f=c.useMemo(()=>i==="tooltip"||a==="label"?{["aria-"+(a==="label"?"labelledby":"describedby")]:s?o:void 0}:{"aria-expanded":s?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":s?o:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:u},...i==="menu"&&m&&{role:"menuitem"},...a==="select"&&{"aria-autocomplete":"none"},...a==="combobox"&&{"aria-autocomplete":"list"}},[i,o,m,s,u,a]),h=c.useMemo(()=>{const C={id:o,...i&&{role:i}};return i==="tooltip"||a==="label"?C:{...C,...i==="menu"&&{"aria-labelledby":u}}},[i,o,u,a]),g=c.useCallback(C=>{let{active:v,selected:y}=C;const b={role:"option",...v&&{id:o+"-option"}};switch(a){case"select":return{...b,"aria-selected":v&&y};case"combobox":return{...b,...v&&{"aria-selected":!0}}}return{}},[o,a]);return c.useMemo(()=>r?{reference:f,floating:h,item:g}:{},[r,f,h,g])}function Qre(e,t){var n;const{open:s,dataRef:o}=e,{listRef:r,activeIndex:a,onMatch:i,onTypingChange:u,enabled:d=!0,findMatch:m=null,resetMs:f=750,ignoreKeys:h=[],selectedIndex:g=null}=t,C=c.useRef(),v=c.useRef(""),y=c.useRef((n=g??a)!=null?n:-1),b=c.useRef(null),E=xn(i),S=xn(u),I=Es(m),_=Es(h);Wt(()=>{s&&(clearTimeout(C.current),b.current=null,v.current="")},[s]),Wt(()=>{if(s&&v.current===""){var P;y.current=(P=g??a)!=null?P:-1}},[s,g,a]);const T=xn(P=>{P?o.current.typing||(o.current.typing=P,S(P)):o.current.typing&&(o.current.typing=P,S(P))}),A=xn(P=>{function V(Q,ee,$){const te=I.current?I.current(ee,$):ee.find(J=>(J==null?void 0:J.toLocaleLowerCase().indexOf($.toLocaleLowerCase()))===0);return te?Q.indexOf(te):-1}const U=r.current;if(v.current.length>0&&v.current[0]!==" "&&(V(U,U,v.current)===-1?T(!1):P.key===" "&&Ln(P)),U==null||_.current.includes(P.key)||P.key.length!==1||P.ctrlKey||P.metaKey||P.altKey)return;s&&P.key!==" "&&(Ln(P),T(!0)),U.every(Q=>{var ee,$;return Q?((ee=Q[0])==null?void 0:ee.toLocaleLowerCase())!==(($=Q[1])==null?void 0:$.toLocaleLowerCase()):!0})&&v.current===P.key&&(v.current="",y.current=b.current),v.current+=P.key,clearTimeout(C.current),C.current=setTimeout(()=>{v.current="",y.current=b.current,T(!1)},f);const Z=y.current,Y=V(U,[...U.slice((Z||0)+1),...U.slice(0,(Z||0)+1)],v.current);Y!==-1?(E(Y),b.current=Y):P.key!==" "&&(v.current="",T(!1))}),k=c.useMemo(()=>({onKeyDown:A}),[A]),R=c.useMemo(()=>({onKeyDown:A,onKeyUp(P){P.key===" "&&T(!1)}}),[A,T]);return c.useMemo(()=>d?{reference:k,floating:R}:{},[d,k,R])}const Jre="(hover: hover) and (pointer: fine)";function Xre(){return typeof window<"u"&&typeof window.matchMedia=="function"}function Gg(){return Xre()?window.matchMedia(Jre):null}function fT(){let e=Gg();const t=()=>(e??(e=Gg()),(e==null?void 0:e.matches)??!1),n=()=>!1,s=o=>{e??(e=Gg());const r=e;return r?(r.addEventListener("change",o),()=>r.removeEventListener("change",o)):()=>{}};return c.useSyncExternalStore(s,t,n)}const eae=40,tae=40;function nae(e={}){const{defaultOpen:t=!1,placement:n="top",gap:s=6,open:o,onOpenChange:r,openDelay:a=eae,closeDelay:i=tae,disabled:u=!1,disableOnTouch:d=!0,closeOnTrigger:m=!0}=e,[f,h]=c.useState(t),g=o??f,C=c.useCallback(V=>{r?r(V):h(V)},[r]),v=c.useMemo(()=>[va(s),Rl({crossAxis:n.includes("-"),fallbackAxisSideDirection:"start",padding:s}),Ca({padding:s})],[n,s]),y=Ol({placement:n,open:u?!1:g,onOpenChange:u?void 0:C,whileElementsMounted:Na,middleware:v}),{context:b}=y,E=fT(),S=!u&&o===void 0&&(!d||E),I=Pre(b,{move:!1,enabled:S,restMs:a,delay:{open:a,close:i}}),_=qre(b,{enabled:S}),T=E?m:!1,A=hm(b,{enabled:!u,escapeKey:!0,referencePress:T!==!1,referencePressEvent:typeof T=="string"?T:"pointerdown"}),k=oh(b,{role:"tooltip",enabled:!u}),R=nh([I,_,A,k]),P=c.useId();return c.useMemo(()=>({open:u?!1:g,setOpen:C,labelId:P,disabled:u,...R,...y}),[g,u,C,P,R,y])}const pT=c.createContext(null),hT=()=>{const e=c.useContext(pT);if(e===null)throw new Error("Tooltip components must be wrapped in <Tooltip />");return e};function sae(e){const{children:t,...n}=e,s=nae(n);return l.jsx(pT.Provider,{value:s,children:t})}const gT=c.forwardRef((e,t)=>{const{children:n,asChild:s=!1,...o}=e,r=hT(),a=c.isValidElement(n)&&n.props!==null&&typeof n.props=="object"&&"ref"in n.props?n.props.ref:void 0,i=md([r.refs.setReference,t,a]),u=md([g=>r.refs.setReference(g),t]),d={...o,...r.disabled?{}:{"aria-describedby":r.open?r.labelId:void 0}};let m;r.disabled?m=d:s&&c.isValidElement(n)?m=r.getReferenceProps({...d,...n.props,ref:i}):m=r.getReferenceProps(d);const f={...m,onBlur:g=>{var C;(C=m.onBlur)==null||C.call(m,g),r.setOpen(!1)}},h=()=>{if(!r.disabled)return r.open?"open":"closed"};if(s&&c.isValidElement(n)){const g=n;return c.cloneElement(g,{ref:i,...f,"data-tooltip-state":h()})}return l.jsx("button",{ref:u,type:"button",...f,"data-tooltip-state":h(),children:n})});gT.displayName="TooltipTrigger";const vT=c.forwardRef((e,t)=>{const{style:n,className:s,...o}=e,r=hT(),a=md([r.refs.setFloating,t]);if(!(r.open&&!r.disabled))return null;const u=r.getFloatingProps({id:r.labelId,role:"tooltip",...o});return l.jsx(Ll,{children:l.jsx("div",{ref:a,className:F("pointer-events-none w-max rounded-lg border border-white/20 bg-background-100 px-2 py-1 text-foreground-800 shadow-lg text-xs",ct.tooltip,s),style:{...r.floatingStyles,...n},...u,"data-tooltip-state":"open"})})});vT.displayName="TooltipContent";const oae="SN:ROOT",rae=c.createContext(null);function CT(){return c.useContext(rae)}const rh=c.createContext(oae);rh.displayName="FocusContext";function aae(){return c.useContext(rh)}function mu(){}function iae({focusable:e=!0,saveLastFocusedChild:t=!0,trackChildren:n=!1,autoRestoreFocus:s=!0,forceFocus:o=!1,isFocusBoundary:r=!1,focusBoundaryDirections:a,focusKey:i,preferredChildFocusKey:u,onEnterPress:d=mu,onEnterRelease:m=mu,onArrowPress:f=()=>!0,onArrowRelease:h=mu,onFocus:g=mu,onBlur:C=mu}){const v=CT(),y=c.useCallback(Z=>{Z&&d(Z)},[d]),b=c.useCallback(()=>{m()},[m]),E=c.useCallback((Z,Y)=>f(Z,Y),[f]),S=c.useCallback(Z=>{h(Z)},[h]),I=c.useCallback((Z,Y)=>{g(Z,Y)},[g]),_=c.useCallback((Z,Y)=>{C(Z,Y)},[C]),T=c.useRef(null),[A,k]=c.useState(!1),[R,P]=c.useState(!1),V=aae(),U=c.useMemo(()=>v?i??crypto.randomUUID():void 0,[i,v]),K=c.useCallback((Z={})=>{U&&(v==null||v.setFocus(U,Z))},[U,v]);return c.useEffect(()=>{const Z=T.current;return Z&&U&&(v==null||v.addFocusable({focusKey:U,node:Z,parentFocusKey:V,preferredChildFocusKey:u,onEnterPress:y,onEnterRelease:b,onArrowPress:E,onArrowRelease:S,onFocus:I,onBlur:_,onUpdateFocus:(Y=!1)=>k(Y),onUpdateHasFocusedChild:(Y=!1)=>P(Y),saveLastFocusedChild:t,trackChildren:n,isFocusBoundary:r,focusBoundaryDirections:a,autoRestoreFocus:s,forceFocus:o,focusable:e})),()=>{U&&(v==null||v.removeFocusable({focusKey:U}))}},[]),c.useEffect(()=>{const Z=T.current;Z&&U&&(v==null||v.updateFocusable(U,{node:Z,preferredChildFocusKey:u,focusable:e,isFocusBoundary:r,focusBoundaryDirections:a,onEnterPress:y,onEnterRelease:b,onArrowPress:E,onArrowRelease:S,onFocus:I,onBlur:_}))},[U,u,e,r,a,y,b,E,S,I,_,v]),{ref:T,focusSelf:K,focused:A,hasFocusedChild:R,focusKey:U}}function yT(...e){return t=>{for(const n of e)n&&(typeof n=="function"?n(t):n.current=t)}}function Ra(e,...t){const n=iae({onEnterPress:()=>{var o;(o=n.ref.current)==null||o.click()},onFocus:()=>{var o,r;(o=n.ref.current)==null||o.focus(),e.scrollIntoViewOnFocus&&((r=n.ref.current)==null||r.scrollIntoView({block:"nearest"}))},onBlur:()=>{var o;(o=n.ref.current)==null||o.blur()},...e}),s=yT(...t,n.ref);return{focusable:n,refCallback:s}}const fd="relative flex items-center",ro="text-foreground-800 fill-foreground-800 active:text-foreground-600 active:fill-foreground-600 dark:active:text-foreground-650 dark:active:fill-foreground-650",X6="text-neutral-200 fill-neutral-200 active:text-neutral-300 active:fill-neutral-300 dark:text-neutral-800 dark:fill-neutral-800 dark:active:text-neutral-600 dark:active:fill-neutral-600",cae="text-foreground-250 fill-foreground-250 active:text-foreground-350 active:fill-foreground-350 dark:text-foreground-750 dark:fill-foreground-750 dark:active:text-foreground-650 dark:active:fill-foreground-650",lae="text-accent-550 fill-accent-550 active:text-accent-450/80 active:fill-accent-450/80 dark:text-accent-850 dark:fill-accent-850 dark:active:text-accent-700 dark:active:fill-accent-700",fu="shadow-sm",ex="shadow-with-highlight-sm",uae="text-muted-550 safe-hover:text-accent-450 dark:text-foreground-700 dark:active:text-foreground-800",dae="bg-white/70 safe-hover:bg-accent-200 active:bg-accent-200/20 dark:bg-muted-550/30 dark:safe-hover:bg-background-100 dark:active:bg-background-200/20",mae="border-[0.5px] border-transparent safe-hover:border-accent-400 dark:safe-hover:border-accent-650",fae="text-accent-600 fill-accent-600 active:text-accent-400 active:fill-accent-400 dark:text-foreground-800 dark:fill-text-foreground-800 dark:active:text-foreground-900 dark:active:fill-foreground-900",pae="bg-accent-200 safe-hover:bg-accent-250 active:bg-accent-250 dark:bg-muted-350 dark:safe-hover:bg-muted-300 dark:active:bg-muted-300",Wg="bg-transparent safe-hover:bg-white/50 active:bg-white/35 dark:safe-hover:bg-black/30 dark:active:bg-black/20",Ri={default:`${ro} ${ex} bg-white/70 safe-hover:bg-white active:bg-white/60 dark:bg-muted-550/30 dark:safe-hover:bg-muted-550/40 dark:active:bg-muted-550/20`,strong:`${cae} ${fu} bg-background-800 safe-hover:bg-black active:bg-background-750 dark:bg-muted-400 dark:safe-hover:bg-muted-450 dark:active:bg-muted-400/80`,accent:`${lae} bg-accent-250 safe-hover:bg-accent-300 active:bg-accent-200 dark:bg-accent-550 dark:safe-hover:bg-accent-450 dark:active:bg-accent-600/80`,"overlay-bright":`${ro} bg-white/40 safe-hover:bg-white/70 active:bg-white/30 dark:bg-white/8 dark:safe-hover:bg-white/10 dark:active:bg-white/5`,"overlay-bright-inverted":`${ro} bg-white/40 safe-hover:bg-white/70 active:bg-white/30 dark:bg-black/35 dark:safe-hover:bg-black/60 dark:active:bg-black/25`,"overlay-dimmed":`${ro} bg-black/8 safe-hover:bg-black/10 active:bg-black/5 dark:bg-black/35 dark:safe-hover:bg-black/60 dark:active:bg-black/25`,"overlay-dimmed-inverted":`${ro} bg-black/8 safe-hover:bg-black/10 active:bg-black/5 dark:bg-white/8 dark:safe-hover:bg-white/10 dark:active:bg-white/5`,"subtle-bright":`${ro} bg-transparent safe-hover:bg-white/50 active:bg-white/35 dark:safe-hover:bg-white/8 dark:active:bg-white/5`,"subtle-bright-inverted":`${ro} ${Wg}`,"subtle-dimmed":`${ro} bg-transparent safe-hover:bg-black/5 active:bg-black/3 dark:safe-hover:bg-black/30 dark:active:bg-black/20`,"subtle-dimmed-inverted":`${ro} bg-transparent safe-hover:bg-black/5 active:bg-black/3 dark:safe-hover:bg-white/8 dark:active:bg-white/5`,acrylic:`${ro} ${fu} ${Wg}`,"acrylic-inverted":`${X6} ${fu} bg-transparent dark:safe-hover:bg-white/50 dark:active:bg-white/35 safe-hover:bg-black/30 active:bg-black/20`,"acrylic-thin":`${ro} ${fu} ${Wg}`,"acrylic-thin-inverted":`${X6} ${fu} bg-transparent dark:safe-hover:bg-white/50 dark:active:bg-white/35 safe-hover:bg-black/30 active:bg-black/20`,chip:`${uae} ${dae} ${ex} ${mae}`,alert:"bg-system-red-600 safe-hover:bg-system-red-650 active:bg-system-red-550","composer-selected":`${fae} ${pae}`},bT={acrylic:`${Js}`,"acrylic-inverted":`${zee}`,"acrylic-thin":`${Jr}`,"acrylic-thin-inverted":`${$ee}`};function hae(e){return e in bT}const gae={start:"justify-start",center:"justify-center",end:"justify-end"},XC={"28-xxs":"text-sm","32-xs":"text-sm","36-sm":"text-sm","40-base":"text-sm","48-lg":"text-base","56-xl":"text-base","64-xxl":"text-base"},Hr={"28-xxs":"gap-x-1.5","32-xs":"gap-x-1.5","36-sm":"gap-x-1.5","40-base":"gap-x-2","48-lg":"gap-x-3","56-xl":"gap-x-3","64-xxl":"gap-x-3"},e3={"28-xxs":`min-h-7 min-w-8 px-3 py-1 ${Hr["28-xxs"]}`,"32-xs":`min-h-8 min-w-8 px-2.5 py-1 ${Hr["32-xs"]}`,"36-sm":`min-h-9 min-w-9 px-2.5 py-1 ${Hr["36-sm"]}`,"40-base":`min-h-10 min-w-10 px-3 py-2 ${Hr["40-base"]}`,"48-lg":`min-h-12 min-w-12 px-3 py-2.5 ${Hr["48-lg"]}`,"56-xl":`min-h-14 min-w-14 px-4 py-3.5 ${Hr["56-xl"]}`,"64-xxl":`min-h-16 min-w-16 p-4 ${Hr["64-xxl"]}`},vae={"28-xxs":"size-7","32-xs":"size-8","36-sm":"size-9","40-base":"size-10","48-lg":"size-12","56-xl":"size-14","64-xxl":"size-16"},t5={"28-xxs":"rounded-lg after:rounded-lg","32-xs":"rounded-lg after:rounded-lg","36-sm":"rounded-xl after:rounded-xl","40-base":"rounded-xl after:rounded-xl","48-lg":"rounded-3xl after:rounded-3xl","56-xl":"rounded-4xl after:rounded-4xl","64-xxl":"rounded-4xl after:rounded-4xl"},Cae={none:"",weak:"after:border after:border-black/10 dark:after:border-white/10",regular:"after:border after:border-black/30 dark:after:border-white/30",strong:"after:border after:border-2 after:border-black/30 dark:after:border-white/30"},tx="rounded-full after:rounded-full",yae="opacity-40 pointer-events-none",gm="after:absolute after:inset-0 after:pointer-events-none after:border after:border-transparent after:contrast-more:border-2 outline-2 outline-offset-1 focus-visible:z-[1] focus-visible:outline focus-visible:outline-stroke-900",bae=F("safe-hover:bg-background-800 dark:safe-hover:bg-white","focus-visible:bg-background-800 dark:focus-visible:bg-white","safe-hover:text-foreground-200 safe-hover:fill-foreground-200 dark:safe-hover:text-foreground-200 dark:safe-hover:fill-foreground-200","focus-visible:text-foreground-200 focus-visible:fill-foreground-200 dark:focus-visible:text-foreground-200 dark:focus-visible:fill-foreground-200","safe-hover:after:border-transparent dark:safe-hover:after:border-transparent","focus-visible:after:border-transparent dark:focus-visible:after:border-transparent","safe-hover:outline-transparent safe-hover:dark:outline-transparent","focus-visible:outline-transparent focus-visible:dark:outline-transparent","group/button-stronger-focus"),xae=F("group-hover/button-stronger-focus:fill-foreground-200 group-hover/button-stronger-focus:text-foreground-200","group-focus-visible/button-stronger-focus:fill-foreground-200 group-focus-visible/button-stronger-focus:text-foreground-200"),ne=c.forwardRef((e,t)=>{var ce;const{children:n,onFocus:s,onBlur:o,onKeyDown:r,onKeyUp:a,onMouseEnter:i,onMouseLeave:u,className:d,title:m,variant:f="rect",alignment:h="center",color:g="default",outline:C="none",size:v="40-base",id:y,role:b,testId:E,tabIndex:S,tooltip:I,strongerFocusColors:_,spatialNavigationAutofocus:T=!1,"aria-controls":A,"aria-expanded":k,"aria-haspopup":R,"aria-pressed":P,"aria-checked":V,"aria-label":U,"aria-selected":K,"aria-describedby":Z}=e,Y="disabled"in e&&e.disabled,Q=typeof _=="boolean"?_:((ce=ae.instance().config().uiOverrides)==null?void 0:ce.enableStrongerFocusButtons)??!1,ee=f==="circle"||f==="square",$=f==="circle"||f==="pill",te=F(fd,Ri[g],XC[v],gae[h],ee?vae[v]:e3[v],$?tx:t5[v],gm,Y&&yae,Cae[C],Q&&bae,d);let J=n;if(hae(g)){const X=F(bT[g],$?tx:t5[v]);J=l.jsxs(l.Fragment,{children:[l.jsx("div",{className:F("absolute inset-0",X,Q&&"group-hover/button-stronger-focus:hidden group-focus-visible/button-stronger-focus:hidden")}),l.jsx("div",{className:F(fd,Hr[v]),children:n})]})}const{refCallback:W,focusable:ie}=Ra({autoRestoreFocus:!0,forceFocus:!0},t),Se=!!I,me=typeof I=="boolean"?void 0:I,re=Se?void 0:m;let xe=U;Se&&!(U!=null&&U.trim())&&(xe=m);let Ne;if("href"in e&&e.href!==void 0){const{href:X,target:ve,onClick:Re,onPointerDown:qe}=e;Ne=l.jsx(cs,{id:y,onPointerDown:qe,"aria-controls":A,"aria-describedby":Z,"aria-expanded":k,"aria-haspopup":R,"aria-label":xe,"aria-selected":K,href:X,target:ve,ref:ie.ref,onClick:Re,title:re,className:te,"data-testid":E,children:J})}else if("to"in e&&e.to!==void 0){const{to:X,params:ve,search:Re,hash:qe,preload:Xe,resetScroll:et,onClick:fe,onPointerDown:Ee}=e;Ne=l.jsx(L_,{id:y,ref:ie.ref,onPointerDown:Ee,"aria-controls":A,"aria-describedby":Z,"aria-expanded":k,"aria-haspopup":R,"aria-label":xe,"aria-selected":K,to:X,params:ve,search:Re,hash:qe,preload:Xe,resetScroll:et,disabled:Y,onClick:fe,title:re,className:te,"data-testid":E,children:J})}else{const{onClick:X,onPointerDown:ve}=e;Ne=l.jsx("button",{onPointerDown:ve,ref:W,id:y,"aria-controls":A,"aria-describedby":Z,"aria-expanded":k,"aria-haspopup":R,"aria-label":xe,"aria-pressed":P,"aria-checked":V,"aria-selected":K,type:"button",className:te,title:re,role:b,disabled:Y,onClick:X,onFocus:s,onBlur:o,onKeyDown:r,onKeyUp:a,onMouseEnter:i,onMouseLeave:u,"data-testid":E,"data-spatial-navigation-autofocus":T,"data-spatial-focus-key":ie.focusKey,tabIndex:S,children:J})}if(!Se)return Ne;const{tooltipContentProps:Oe,...se}=me??{};return l.jsxs(sae,{...se,children:[l.jsx(gT,{asChild:!0,children:Ne}),l.jsx(vT,{...Oe,children:m})]})});ne.displayName="Button";const $g=es.default,Ho=c.forwardRef((e,t)=>{const{isOpen:n,onBack:s,headerText:o,children:r,onClose:a,className:i,disableCloseOutside:u,headerTextClassName:d,headerClassName:m,trapFocus:f=!1,variant:h="modal"}=e,{t:g}=q(),C=c.useId(),{modalAttributes:v}=$1({trapFocus:f,legacyTrapFocus:f,alwaysFocusable:f}),y=f?v:{},b=Xi()?-1:1,E=c.useRef(null),{captureFocus:S,restoreFocus:I}=P_();c.useEffect(()=>{n?S():I()},[n,S,I]),Ji(E,n),c.useEffect(()=>{const R=P=>{P.key==="Escape"&&n&&a&&(P.stopPropagation(),P.preventDefault(),a())};return n&&document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[n,a]);const _=R=>{(u??!a)||R.target===R.currentTarget&&a()},T=R=>{R.stopPropagation()},A=h==="drawer",k=A?{initial:{x:`${b*100}%`},animate:{x:0,transition:W2},exit:{x:`${b*100}%`,transition:{duration:$g}}}:void 0;return l.jsx(ln,{id:String(n),mode:"sync",duration:$g,exitDuration:$g,className:F("fixed inset-0",ct.modal),children:n&&l.jsxs("div",{...y,role:"dialog","aria-modal":"true","aria-labelledby":o?C:void 0,children:[l.jsx("div",{className:F("fixed inset-0 bg-background-850/30 backdrop-blur-[10px] dark:bg-background-150/70",ct.modalBackground)}),l.jsx("div",{className:F("fixed inset-0 flex",A?"items-start justify-end":"items-center justify-center",ct.modal),onClick:_,children:l.jsxs(ge.div,{...k,className:F("t-custom-scrollbar flex flex-col gap-3 border border-white/10 bg-background-150 p-6 shadow-xl dark:bg-background-250",A?"h-full w-96":"min-h-[150px] rounded-4xl",i),onClick:T,tabIndex:-1,ref:R=>{E.current!==R&&(E.current=R),typeof t=="function"?t(R):t&&(t.current=R)},children:[l.jsxs("div",{className:F("flex items-center justify-between gap-2",m),children:[s&&l.jsx(ne,{variant:"square",color:"subtle-dimmed-inverted",size:"32-xs",title:g("common.backText"),"aria-label":g("common.backText"),onClick:s,children:l.jsx(Ml,{className:"size-5 -rotate-90"})}),o&&l.jsx("h2",{id:C,className:F("text-foreground-800 text-lg-strong",d),children:o}),a&&l.jsx(ne,{className:!s&&!o?"ms-auto":"",variant:"square",color:"subtle-dimmed-inverted",size:"32-xs",title:g("common.closeText"),"aria-label":g("common.closeText"),onClick:a,children:l.jsx(an,{className:"size-5"})})]}),r]})})]})})});Ho.displayName="Modal";const xT="cf-turnstile",Sae=`#${xT}`;function Eae(){const e=M(xi),t=M(Wo);return Zt("kill-cf-turnstile")?null:l.jsx(Ho,{isOpen:e,className:"w-3/4 sm:w-[350px]",children:l.jsx("div",{id:xT,className:"flex flex-1 items-center justify-center","data-theme":t})})}const wae=new Zi(()=>new Promise((e,t)=>{const n=setTimeout(()=>{t(new Error("CF Turnstile script took too long to load"))},15e3),s=document.createElement("script");s.type="text/javascript",s.defer=!0,s.src="https://challenges.cloudflare.com/turnstile/v0/api.js",s.onload=()=>{clearTimeout(n),e()},s.onerror=()=>{clearTimeout(n),t(new Error("Failed to load turnstile script"))},document.body.appendChild(s)}));async function ST(e){var s;if(It("kill-cf-turnstile")||pe(xi))return;const n=$e();D.trackEvent({name:"system",data:{eventName:"copilotTurnstileEvent",eventInfo_stage:"attempt"}}),Ad.flushSync(()=>{n.set(xi,!0),n.set(oY,!0)});try{await wae.get()}catch{n.set(od,"cf-turnstile");return}try{(s=window.turnstile)==null||s.render(Sae,{sitekey:"0x4AAAAAAAg146IpY3lPNWte",callback:async o=>{var r;e(o),Ge.emit("challenge:success"),(r=window.turnstile)==null||r.remove(),n.set(xi,!1),D.trackEvent({name:"system",data:{eventName:"copilotTurnstileEvent",eventInfo_stage:"success"}})},"error-callback":o=>{Ge.emit("challenge:error",o),D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"turnstileRenderErrorCallback",eventInfo_details:"Error rendering CF Turnstile.",eventInfo_errorMessage:o}})}})}catch(o){Ge.emit("challenge:error",o),D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"turnstileRender",eventInfo_details:"Error rendering CF Turnstile",eventInfo_errorMessage:o instanceof Error?o.message:""}}),n.set(od,"cf-turnstile")}}function Iae(e){const t=e.match(/^\*\*(.*?)\*\*\n\n$/);if(t){const[,n]=t;return{title:(n==null?void 0:n.trim())??"",text:""}}return{title:"",text:e}}function n5(e){if(window.clarity)for(const[t,n]of Object.entries(e))window.clarity("set",t,n)}function nx(e){if(window.clarity)for(const t of e)window.clarity("event",t)}function Lp(e,t){return e?Date.now()-parseInt(e,10)<=t:!1}function t3(e,t){return!e||parseInt(e,10)<t}var P8;const Kn=(P8=ae.instance().config().crossPromotion)==null?void 0:P8.aggressive;var L8,O8,D8,j8,U8;const nc={"thumbs-up":{cardFeature:"cross-promo-card-thumbsup",popupFeature:"cross-promo-popup-thumbsup",cardConfig:(L8=Kn==null?void 0:Kn.card)==null?void 0:L8.thumbsUp,popupConfig:(O8=Kn==null?void 0:Kn.popup)==null?void 0:O8.thumbsUp},copied:{cardFeature:void 0,popupFeature:"cross-promo-popup-copied",cardConfig:void 0,popupConfig:(D8=Kn==null?void 0:Kn.popup)==null?void 0:D8.copied},engaging:{cardFeature:void 0,popupFeature:"cross-promo-popup-engaging",cardConfig:void 0,popupConfig:(j8=Kn==null?void 0:Kn.popup)==null?void 0:j8.engaging},"think-deeper":{cardFeature:void 0,popupFeature:"cross-promo-popup-think-deeper",cardConfig:void 0,popupConfig:(U8=Kn==null?void 0:Kn.popup)==null?void 0:U8.thinkDeeper}};function _ae(){return{type:"popup",title:z("crossSelling.aggressivePromotion.popup.thumbsUpTitle"),subTitle:z("crossSelling.aggressivePromotion.popup.thumbsUpSubTitle"),images:nc["thumbs-up"].popupConfig}}function Tae(){return{type:"card",title:z("crossSelling.aggressivePromotion.card.thumbsUpTitle"),subTitle:z("crossSelling.aggressivePromotion.card.thumbsUpSubTitle"),images:nc["thumbs-up"].cardConfig}}function Aae(){return{type:"popup",title:z("crossSelling.aggressivePromotion.popup.copiedTitle"),subTitle:z("crossSelling.aggressivePromotion.popup.copiedSubTitle"),images:nc.copied.popupConfig}}function kae(){return{type:"popup",title:z("crossSelling.aggressivePromotion.popup.engagingTitle"),subTitle:z("crossSelling.aggressivePromotion.popup.engagingSubTitle"),images:nc.engaging.popupConfig}}function Mae(){return{type:"popup",title:z("crossSelling.aggressivePromotion.popup.thinkDeeperTitle"),subTitle:z("crossSelling.aggressivePromotion.popup.thinkDeeperSubTitle"),images:nc["think-deeper"].popupConfig}}function ET(e){const n=$e().get(pC),s=n===!0?!1:n!==void 0,o=rn(pv),r=!Lp(o,2*pp),a=rn(cp),i=t3(a,2);s&&Rae(e)&&r&&i&&Pae(e)}let sx=!1;function Nae(){const e=xo();!sx&&(e==="reasoning"||e==="research")&&(ET("think-deeper"),sx=!0)}function Rae(e){return Au(e)||wT(e)}function Au(e){const t=nc[e];return be(t.popupFeature)&&t.popupConfig!==void 0}function wT(e){const t=nc[e];return t.cardFeature!==void 0&&be(t.cardFeature)&&t.cardConfig!==void 0&&!Kd()}function Pae(e){const t=$e();e==="thumbs-up"&&Au(e)?t.set(ir,_ae()):e==="thumbs-up"&&wT(e)?t.set(ir,Tae()):e==="copied"&&Au(e)?t.set(ir,Aae()):e==="engaging"&&Au(e)?t.set(ir,kae()):e==="think-deeper"&&Au(e)&&t.set(ir,Mae())}const qg=N({counter:0,isActive:!0});function Lae(){const e=$e(),t=e.get(qg);if(!t.isActive)return;const n=t.counter+1;n===VB?(ET("engaging"),e.set(qg,{counter:n,isActive:!1})):e.set(qg,{counter:n,isActive:t.isActive})}function Oae(e){const{artifacts:t}=e;return t.find(n=>n.type==="browser")}function n3(e,t="all"){const n=c.useRef(e),s=c.useMemo(()=>{const o=n.current.map(Ea);return N(r=>t==="all"?o.every(a=>r(a)):o.some(a=>r(a)))},[t]);return M(s)}function pd(e,t="all"){return t==="all"?e.every(n=>be(n)):e.some(n=>be(n))}const Dae="guide://action",jae="prefill";function Vf(){return pd(["guided-conversations-black","guided-conversations-cocoa","guided-conversations-caramel"],"any")}function Uae(e){return e.startsWith("guide://")}function Fae(e){const t=new URL(e);if(t.protocol==="guide:"&&t.search){const s=new URLSearchParams(t.search).get("prefill");if(s)return decodeURIComponent(s)}return null}function Bae(e){const{parameters:t}=e,{Prefill:n}=t,s=z("guidedConversation.actionPrefix"),o=n.startsWith(s)?n.substring(s.length).trim():n.trim();return{prefill:n,targetText:o}}function YIe(e){var t,n;return((n=(t=ae.instance().config()).textOverrides)==null?void 0:n.call(t,e))??e}function Vae(){return be("media-spotlight-card")||be("media-spotlight-card-v2")}async function Hae(){const e=be("weather-cards"),t=!It("kill-image-cards"),n=!It("kill-local-cards"),s=!It("kill-sports-cards"),o=!It("kill-video-cards"),r=!It("kill-searchhealthcareinfo"),a=!It("kill-searchhealthcareprovider"),i=be("shopping-card"),u=be("shopping-curated"),d=Vae(),m=be("job-cards"),f=be("safetycards"),h=be("quiz-cards"),g=be("generateads"),C=be("generateadsint"),v=be("adsparity"),y=!It("kill-finance-cards"),b=be("adstagsonline"),E=be("product-ads-dynamic-filter"),S=be("property-promotion-ads-dynamic-filter"),I=be("tour-activity-ads-dynamic-filter"),_=be("adsshowroombrandagent"),T=be("emoji-reactions"),A=be("imagegenv3");be("turn-telemetry");const k=!It("kill-recipe-cards"),R=be("file-cards"),P=be("side-by-side-comparison"),V=be("inline-image"),U=be("inline-video"),{adsEnabled:K,adsShowroomEnabled:Z,disableAnswerCards:Y,enforceAdsOptOutOfPersonalization:Q,answerCardOverrides:ee}=ae.instance().config(),$=!!$e().get(TQ),te=(g||C||v)&&K&&!$,J=be("ppt-generation"),W=d&&(ee==null?void 0:ee.shouldEnableMediaSpotlightCard),ie=be("news-card"),Se=be("media-carousel-card"),me=be("search-personal-data"),re=be("onedrive-search"),xe=be("nav-links"),Ne=be("consent-card-v2"),Oe=be("flash-cards"),se=be("person-cards"),ce=Vf(),X=[];Y||(e&&X.push("weather"),n&&X.push("local"),t&&X.push("image"),V&&X.push("inlineImage"),s&&X.push("sports"),o&&X.push("video"),U&&X.push("inlineVideo"),a&&X.push("healthcareEntity"),r&&X.push("healthcareInfo"),i&&X.push("shopping"),m&&X.push("job"),te&&X.push("ads"),f&&X.push("safetyHelpline"),h&&X.push("quiz"),y&&X.push("finance"),u&&X.push("shoppingCurated"),k&&X.push("recipe"),R&&X.push("file"),W&&X.push("mediaSpotlight"),ie&&X.push("newsCarousel"),Se&&X.push("mediaCarousel"),me&&X.push("personalArtifacts"),re&&X.push("m365"),Oe&&X.push("flashcard"),xe&&X.push("navigation"),Ne&&X.push("consent"),se&&X.push("person"),J&&X.push("powerPointCreator"));const ve={supportedTypes:["text","product","multimedia","tourActivity","propertyPromotion"]};Q&&(ve.optOutOfPersonalization=!0),_&&K&&Z&&ve.supportedTypes.push("showroom"),(E||b)&&(ve.product={tagsSupported:!0}),S&&(ve.propertyPromotion={tagsSupported:!0}),I&&(ve.tourActivity={tagsSupported:!0});const Re=[];T&&Re.push("emoji-reactions"),A&&Re.push("partial-generated-images"),ce&&Re.push("guided-conversations");const qe=!l1({breakpoint:"lg"});P&&qe&&Re.push("side-by-side-comparison");const Xe={supportedFeatures:Re,supportedCards:X.length>0?X:void 0,ads:te?ve:null};return await UJ.run(Xe)}const IT="space-y-3 break-words",s5="bg-accent-200 dark:bg-accent-250",QIe=`group/ai-message-item ${IT}`,vm="&#95;{{{CITATION{{{&#95;",hd="{";function _T(e,t){return`[${vm}${e}${hd}](${t})`}const zae=new RegExp(`\\[${vm}.*?\\)`,"g");function Gae(e){return e.replace(zae,"")}const Wae=new RegExp(`\\[${vm}([^${hd}]+)${hd}\\]`,"g");function JIe(e,t,n){return e.replace(Wae,(s,o)=>{if(!n)return`  [${o}]`;const r=t.find(a=>a.index===o);return`  [${(r==null?void 0:r.publisher)??(r!=null&&r.url?$2(r.url):o)}]`})}function $ae(e){return e.type==="word"}function qae(e){return $ae(e)&&e.word.trim()==="."}function Kae(e,t){var n,s;for(let o=t-1;o>=0;o-=1){if(((n=e[o])==null?void 0:n.type)==="citation"){const r=o+1;return r<e.length&&qae(e[r])?r+1:r}if(((s=e[o])==null?void 0:s.type)==="word"&&e[o].word.includes(`
`))return o+1}return 0}function Zae(e,t,n){return t!==null&&n!==null&&e>=t&&e<n}function TT(e){const{author:t}=e;return t.type==="ai"?{...e,author:"ai",authorMetadata:t,streamingState:"idle"}:t.type==="human"?{...e,author:"human",authorMetadata:t}:{...e,author:"groupParticipant",authorMetadata:t}}function Yae(e){return e.map(TT)}const Qae=2500,Jae=255,XIe=["pdf","docx"],ah=g1(new Map),e_e=N(null),Xae=N(_B),eie=N(Jae),tie=N(Qae),nie=N([]),wo=N(e=>e(nie).filter(t=>t.uploadStatus==="success").length);function sie(e,t,n){return`${e}_${t}_${n}`}function oie(e,t){$e().set(ah,s=>{const o=s.get(e)??[],r=[];for(const a of t.editTargets){const i={id:sie(t.id,a.startIndex,a.endIndex),pageSuggestionId:t.id,startIndex:a.startIndex,endIndex:a.endIndex,text:t.text};r.push(i)}s.set(e,[...o,...r])})}function t_e(e,t){$e().set(ah,s=>{const o=s.get(e);o&&s.set(e,o.filter(r=>r.id!==t))})}function n_e(e){$e().set(ah,n=>{n.delete(e)})}function rie(e,t,n){$e().set(ah,o=>{const r=o.get(e);if(r){const a=r.filter(i=>i.pageSuggestionId===t);for(const i of a)i.text===void 0&&(i.text=""),i.text+=n}})}function AT(e){try{return new URL(e,window.location.origin).origin!==window.location.origin}catch{return!1}}function Dl(e){pe(_a)&&AT(e)?$e().set(A1,e.toString()):window.location.href=e}function jl(){s3()}function s3(e){const{surfaceQueryParam:t}=ae.instance().config(),n=new URL(window.location.href);if(e&&(n.pathname=e),t)for(const[s,o]of Object.entries(t.params))n.searchParams.delete(s),n.searchParams.append(s,o);Dl(n.href)}function aie(e){un({scenario:"sideBySideMessages",page:"chat",customData:JSON.stringify({eventInfo_event:"receivedSxsEvent",eventInfo_sideBySideComparisonId:e})})}function iie(e){const{sideBySideComparisonId:t,reason:n}=e;un({scenario:"sideBySideMessages",page:"chat",customData:JSON.stringify({eventInfo_event:"skippedSxsMessages",eventInfo_sideBySideComparisonId:t,eventInfo_skippedReason:n})})}function cie(e){const{sideBySideComparisonId:t,sideBySideConfig:n}=e,{position:s,isDefault:o}=n;ye({pageName:"chat",sectionName:"sideBySideMessages",source:"selectedSxs",customData:JSON.stringify({eventInfo_sideBySideComparisonId:t,eventInfo_position:s,eventInfo_isControlMessage:o})})}function kT(e){const{sideBySideComparisonId:t,reason:n}=e;ye({pageName:"chat",sectionName:"sideBySideMessages",source:"defaultedSxs",customData:JSON.stringify({eventInfo_sideBySideComparisonId:t,eventInfo_defaultReason:n})})}function lie(e){const{card:t,messageId:n,conversationId:s}=e,o={eventName:"copilotImpression",eventInfo_impressionPage:"chat",eventInfo_impressionScenario:"answerCardReceived",eventInfo_answerCardType:t.type,eventInfo_messageId:n,eventInfo_conversationId:s};switch(t.type){case"image":o.eventInfo_answerCardContentLength=t.images.length;break;case"localEntity":o.eventInfo_answerCardContentLength=t.entities.length;break;case"financeChart":o.eventInfo_answerCardScenario=t.instrument.securityType;break}D.trackEvent({name:"system",data:o})}function uie(e){const{card:t,messageId:n,conversationId:s}=e,o=performance.now(),r=pe(xw);if(!r)return;const a={eventName:"copilotAnswerCardReceived",eventInfo_messageId:n,eventInfo_conversationId:s,eventInfo_cardType:t.type,eventInfo_duration:o-r};D.trackEvent({name:"system",data:a})}function die(e){const{message:t,conversationId:n}=e;for(const s of t.content)switch(s.type){case"card":lie({card:s.card,messageId:t.id,conversationId:n}),uie({card:s.card,messageId:t.id,conversationId:n});break}}function mie(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}const s_e=6048e5,fie=864e5,o_e=6e4,pie=36e5,r_e=1e3,a_e=43200,i_e=1440,c_e=60;function hie(e,t){return+Ft(e)-+Ft(t)}function gie(e,t,n){const s=hie(e,t)/pie;return mie(n==null?void 0:n.roundingMethod)(s)}function o3(e){if(!e)return null;let t=null;const n=new Date(e).toISOString(),s=new Date().toISOString(),o=gie(n,s,{roundingMethod:"ceil"});return o>24?t="permanent":o>1&&o<=24?t="24-hr":o>0&&o<=1&&(t="1-hr"),t}function r3(e,t,n){if(!e){jt(o2);return}const s=$e();D.trackEvent({name:"system",data:{eventName:"copilotUserBan",eventInfo_banDuration:e,eventInfo_banSource:t,eventInfo_banExpiryTimestamp:n}}),s.set(cI,e),s.set(od,"user-banned")}async function a3(e){D.setSettings({userConsentModelTraining:!e.optOutOfTraining,userConsentPersonalization:!e.optOutOfPersonalization,userSettingPhoneConnection:!e.optOutOfPhoneConnection,userSettingBrowserActions:e.allowBrowserActions,userSettingComputerUseActions:e.allowComputerUseActions,userSettingGenUI:!e.optInToGenerativeUI}),await kn({path:"/user/settings",args:{options:{method:"PATCH"},body:{optOutOfTraining:e.optOutOfTraining,optOutOfPersonalization:e.optOutOfPersonalization,optInToVoiceTraining:e.optInToVoiceTraining,optOutOfPhoneConnection:e.optOutOfPhoneConnection,optInToGenerativeUI:e.optInToGenerativeUI,allowBiometricDataUse:e.allowBiometricDataUse,allowOneDriveAccess:e.allowOneDriveAccess,allowBrowserActions:e.allowBrowserActions,allowComputerUseActions:e.allowComputerUseActions,allowOutlookAccess:e.allowOutlookAccess,allowEdgePasswordsAccess:e.allowEdgePasswordsAccess,features:e.features}}})}async function vie(){var t,n,s;const e=await St("/user",ZE,{parseOptions:{safe:!0},query:{"api-version":"4"}}).then(o=>o.data);$e().set(D1,((t=e.remainingUsage)==null?void 0:t.podcastGenerations)??null),$e().set(em,((n=e.remainingUsage)==null?void 0:n.researchCalls)??null),$e().set(j1,((s=e.remainingUsage)==null?void 0:s.videoGenerations)??null)}const Et=$e();function ox(e){return{chatMode:vn(),timing:new AX(e),citationCount:0,imageCount:0,chainOfThoughtCount:0,inputMethod:"text",pendingGuidedActions:[],processedGuidedLinksCount:0,uploadImageCount:0,uploadFileCount:0}}let Kg=null;async function rx(){return Kg||(Kg=B(()=>import("./fast-json-patch-index-DS1hydBz.js"),[]).then(e=>e.applyPatch)),Kg}class Cie{constructor(t){O(this,"ws");O(this,"conversationMetadata",new Map);O(this,"conversationIdByMessageId",new Map);O(this,"messageIdByTaskId",new Map);O(this,"latestMessagePartIdentifier",null);O(this,"pendingSideBySideMessages",new Map);this.ws=t,this.send=this.send.bind(this),this.regenerate=this.regenerate.bind(this),this.sendChallengeResponse=this.sendChallengeResponse.bind(this),this.resetConversationState=this.resetConversationState.bind(this),this.resetConversationTiming=this.resetConversationTiming.bind(this),this.setConversationIdByMessageId=this.setConversationIdByMessageId.bind(this),this.setMessageIdByTaskId=this.setMessageIdByTaskId.bind(this),this.onSubmitMessageBlocked=this.onSubmitMessageBlocked.bind(this),this.callBeforeSendForConversation=this.callBeforeSendForConversation.bind(this),this.callOnSentForConversation=this.callOnSentForConversation.bind(this),this.setChatModeForConversation=this.setChatModeForConversation.bind(this),this.setInputMethodForConversation=this.setInputMethodForConversation.bind(this),this.setUploadCountsForConversation=this.setUploadCountsForConversation.bind(this),this.setUserMessageForConversation=this.setUserMessageForConversation.bind(this),this.processEvent=this.processEvent.bind(this),this.sendMessagePreview=this.sendMessagePreview.bind(this),this.updateChatOptions=this.updateChatOptions.bind(this),this.sendAudioClick=this.sendAudioClick.bind(this)}getConversationState(t){return this.conversationMetadata.has(t)||this.conversationMetadata.set(t,ox(performance.now())),this.conversationMetadata.get(t)}get latestMessagePartId(){return this.latestMessagePartIdentifier}resetConversationState(t,n){this.conversationMetadata.set(t,ox(n))}resetConversationTiming(t,n){this.getConversationState(t).timing.resetStartTime(n)}setConversationIdByMessageId(t){const{messageId:n,conversationId:s}=t;this.conversationIdByMessageId.set(n,s)}setMessageIdByTaskId(t){const{taskId:n,messageId:s}=t;this.messageIdByTaskId.set(n,s)}onSubmitMessageBlocked(t){const{timing:n,chatMode:s,inputMethod:o}=this.getConversationState(t);n.onSubmitMessageBlocked(s,o,t)}callBeforeSendForConversation(t){this.getConversationState(t).timing.onBeforeSend()}callOnSentForConversation(t,n){this.getConversationState(t).timing.onSent(n)}setChatModeForConversation(t,n){const s=this.getConversationState(t);s.chatMode=n}setInputMethodForConversation(t,n){const s=this.getConversationState(t);s.inputMethod=n}setUploadCountsForConversation(t,n,s){const o=this.getConversationState(t);o.uploadImageCount=n,o.uploadFileCount=s}setUserMessageForConversation(t,n){const s=this.getConversationState(t);s.lastUserMessage=n}send(t){const{content:n,conversationId:s,data:o,mode:r,context:a}=t,i={event:"send",conversationId:s,content:Array.isArray(n)?n:[n],mode:r,context:a,...o};this.ws.send(JSON.stringify(i))}sendChallengeResponse(t){this.ws.send(JSON.stringify({event:"challengeResponse",token:t.token,method:t.method}))}regenerate(t){const{messageId:n,mode:s,allowedConsents:o,context:r}=t,a={event:"regenerate",messageId:n,mode:s,...r?{context:r}:{},...o!=null&&o.length?{allowedConsents:o}:{}};this.ws.send(JSON.stringify(a))}sendMessagePreview(t){const{content:n,conversationId:s,data:o,mode:r,context:a}=t,i={event:"messagePreview",conversationId:s,content:Array.isArray(n)?n:[n],mode:r,context:a,...o};this.ws.send(JSON.stringify(i))}sendAudioClick(t,n){if(!n)return;const{chatMode:s}=this.getConversationState(n);this.send({conversationId:n,content:[{type:"command",command:{type:"topicClick",topic:t}}],mode:s})}setCharacterAppearance(t){var o;const n=(o=Et.get(hn))==null?void 0:o.id;if(!n)return;const{chatMode:s}=this.getConversationState(n);this.send({conversationId:n,content:[{type:"command",command:{type:"setCharacterAppearance",body:t}}],mode:s})}async updateChatOptions(){const n={event:"setOptions",...await Hae()};this.ws.send(JSON.stringify(n))}processEvent(t){switch("id"in t&&(this.latestMessagePartIdentifier=t.id??null),t.event){case"received":this.handleReceived(t);break;case"newMessage":this.handleNewMessage(t);break;case"connected":this.handleConnected(t);break;case"emojiReaction":this.handleEmojiReaction(t);break;case"startMessage":this.handleStartMessage(t);break;case"appendText":this.handleAppendText(t);break;case"replaceText":this.handleReplaceText(t);break;case"invokeAction":this.handleInvokeAction(t);break;case"browserAutomate":this.handleBrowserAutomate(t);break;case"chainOfThought":this.handleChainOfThought(t);break;case"citation":this.handleCitation(t);break;case"generatingImage":this.handleGeneratingImage(t);break;case"imageGenerated":this.handleImageGenerated(t);break;case"partialImageGenerated":this.handlePartialImageGenerated(t);break;case"imageGenerationFailed":this.handleImageGenerationFailed(t);break;case"generatingCard":this.handleGeneratingCard(t);break;case"cardGenerationFailed":this.handleCardGenerationFailed(t);break;case"page":this.handlePage(t);break;case"titleUpdate":this.handleTitleUpdate(t);break;case"challenge":this.handleChallenge(t);break;case"card":this.handleCard(t);break;case"document":this.handleDocument(t);break;case"taskStart":this.handleTaskStart(t);break;case"taskUpdate":this.handleTaskUpdate(t);break;case"error":this.handleError(t);break;case"banned":this.handleBanned(t);break;case"suggestedFollowups":this.handleSuggestedFollowups(t);break;case"done":this.handleDone(t);break;case"startSuggestion":this.handleStartSuggestion(t);break;case"appendSuggestion":this.handleAppendSuggestion(t);break;case"activityStart":this.handleActivityStart(t);break;case"activityUpdate":this.handleActivityUpdate(t);break;case"memorySignal":this.handleMemorySignal(t);break;case"sideBySideComparison":this.handleSideBySideComparison(t);break;case"suggestVision":{const n=Et.get(je);ot(n,s=>{const o=Si(s);o&&o.content.push({type:"card",partId:Math.random().toString(),card:{type:"suggestVision"}})});break}case"modeSelected":this.handleModeSelected(t);break;case"pong":break;case"audio":case"interruptAudio":case"speechEndDetected":case"callTerminated":case"characterAnimation":case"characterAnimationEnd":case"characterAppearance":case"characterEmotion":case"callUI":case"callUIUpdate":break;case"relatedSearchResultsAvailable":this.handleRelatedSearchResultsAvailable(t);break;case"participantUpdate":this.handleParticipantUpdate(t);break}}handleMemorySignal(t){if(It("kill-memory-edf-basic"))return;const{messageId:n,partId:s,text:o,signalType:r}=t,a=this.conversationIdByMessageId.get(n);if(!a)return;this.getConversationState(a).timing.onMemorySignalReceived({messageId:n,conversationId:a}),ot(a,u=>{const d=sn({history:u,messageId:n});d&&d.content.push({type:"memorySignal",partId:s,text:o,signalType:r})})}handleSideBySideComparison(t){if(!be("side-by-side-comparison"))return;const{sideBySideComparisonId:n,conversationId:s,options:o,defaultMessageId:r}=t;aie(n),V2(s,a=>{a.sideBySideComparisonId=n});for(const{messageId:a,position:i}of o)this.pendingSideBySideMessages.set(a,{position:i,isDefault:a===r})}handleModeSelected(t){const{messageId:n,mode:s}=t,o=this.conversationIdByMessageId.get(n),r=xo();if(!o)return;D.trackEvent({name:"system",data:{eventName:"modeSelectedEvent",eventInfo_conversationId:o,eventInfo_messageId:n,eventInfo_customData:JSON.stringify({eventInfo_selectedMode:s})}}),be("smart-mode-cot")&&r==="smart"&&s==="reasoning"&&ot(o,i=>{const u=sn({history:i,messageId:n});u&&u.content.push({type:"chainOfThought",text:z("chat.reasoningLoading.emptyCoTText"),partId:"-1"})})}clearAllStreamingStates(){const t=Et.get(vt);for(const n of t.values())ot(n.id,s=>{for(const o of s)o.author==="ai"&&o.streamingState==="streaming"&&(o.streamingState="idle")})}handleReceived(t){const{messageId:n,conversationId:s}=t;this.conversationIdByMessageId.set(n,s);const o=this.getConversationState(s);o.timing.onReceived({messageId:n,conversationId:s,chatMode:o.chatMode}),nx([`humanMessage_${n}`,`conversation_${s}`]),Et.set(_i,r=>r&&!F1()?r-1:r),ot(s,r=>{const a=r.at(-1);(a==null?void 0:a.author)==="human"&&(a.id=n)}),Lae()}handleNewMessage(t){const{message:n,conversationId:s}=t,o=TT(n);this.conversationIdByMessageId.set(o.id,s),ot(s,r=>{r.push(o)})}handleConnected(t){td.trackLatestChatConnectedAssignment(t)}handleEmojiReaction(t){const{messageId:n,emoji:s}=t,o=this.conversationIdByMessageId.get(n);o&&ot(o,r=>{const a=ate(r,n);a&&(a.emojiReaction=s)})}handleStartMessage(t){const{messageId:n,conversationId:s,createdAt:o}=t;this.conversationIdByMessageId.set(n,s);const r=this.getConversationState(s),{chatMode:a}=r;r.citationCount=0,r.processedGuidedLinksCount=0,r.timing.onStartMessage({messageId:n,conversationId:s,chatMode:a}),z2()&&Et.set(bi,"responding"),nx([`aiMesssage_${n}`,`conversation_${s}`]);const i=this.pendingSideBySideMessages.get(n),u={id:n,createdAt:o,author:"ai",content:[],mode:a,sideBySideConfig:i,streamingState:"streaming"};ot(s,d=>{d.length===0&&a_(Et.get(ho),s)||d.push(u)})}handleAppendText(t){const{text:n,messageId:s,partId:o}=t,r=this.conversationIdByMessageId.get(s);if(!r)return;const a=this.getConversationState(r);a.timing.onFirstToken(s,a.chatMode,r),ot(r,i=>{const u=sn({history:i,messageId:s});if(u){kc(r,u.id);let d=Po(u.content,o);if(!d)d={type:"text",text:"",partId:o},u.content.push(d);else if(d.type!=="text"){console.error(`appendText event with partId that is not a text item. Item is of type ${d.type}`,t);return}d.text=d.text.concat(n),ute(u)}}),Vf()&&this.applyPendingGuidedActions(r)}handleReplaceText(t){const{text:n,messageId:s,partId:o}=t,r=this.conversationIdByMessageId.get(s);if(!r)return;const a=Et.get(hn),i=a==null?void 0:a.sideBySideComparisonId;i&&(iie({sideBySideComparisonId:i,reason:"replacedText"}),UC(r)),ot(r,u=>{const d=sn({history:u,messageId:s});if(d){kc(r,d.id);let m=Po(d.content,o);if(!m)m={type:"text",text:"",partId:o},d.content.push(m);else if(m.type!=="text"){console.error("replaceText event with partId that is not a text item",t);return}m.text=n,m.citations=void 0}})}handleCitation(t){const{title:n,url:s,messageId:o,publisher:r,iconUrl:a,snippet:i}=t,u=this.conversationIdByMessageId.get(o);if(!u)return;const d=this.getConversationState(u);DZ(s,u,o),ot(u,m=>{const f=sn({history:m,messageId:o});if(f){kc(u,f.id);const h=a6(f.content);if(h){h.citations||(h.citations=[]);const g=h.citations.find(v=>v.url===s);let C;if(g?C=g.index:(d.citationCount+=1,C=`${d.citationCount}`,h.citations.push({index:C,url:s,iconUrl:a,title:n,publisher:r,snippet:i})),h.text=h.text.concat(_T(C,s)),d.citationCount===1){const v=gte();(v==null?void 0:v.type)==="citations"&&v.data.conversationId===u&&v.data.messageId!==o&&Al({type:"citations",data:{conversationId:u,messageId:o}})}}}})}handleGeneratingImage(t){const{prompt:n,messageId:s,partId:o,progressionText:r}=t,a=this.conversationIdByMessageId.get(s);if(!a)return;const i=this.getConversationState(a);i.timing.onImageGenerationStart({messageId:s,conversationId:a,chatMode:i.chatMode}),ot(a,u=>{const d=sn({history:u,messageId:s});d&&d.content.push({type:"image",prompt:n,partId:o,partialGenerationStep:0,status:"generating",progressionText:r})})}handleImageGenerated(t){const{url:n,partId:s,messageId:o}=t,r=this.conversationIdByMessageId.get(o);if(!r)return;const a=this.getConversationState(r);a.imageCount+=1,a.timing.onImageReceived({messageId:o,conversationId:r,chatMode:a.chatMode}),ot(r,i=>{const u=sn({history:i,messageId:o});if(u){const d=Po(u.content,s);(d==null?void 0:d.type)==="image"&&(d.isPartiallyLoading=!1,d.url=n,d.partialGenerationStep=void 0,d.status="generated",d.progressionText=void 0)}})}handlePartialImageGenerated(t){const{content:n,messageId:s,partId:o}=t,r=this.conversationIdByMessageId.get(s);if(!r)return;const a=this.getConversationState(r);ot(r,i=>{const u=sn({history:i,messageId:s});if(u){const d=Po(u.content,o);if((d==null?void 0:d.type)==="image"){d.isPartiallyLoading=!0,d.url=`data:image/png;base64,${n}`;const m=(d.partialGenerationStep??0)+1;d.partialGenerationStep=m,d.status="generating",a.timing.onPartialImageReceived({messageId:s,conversationId:r,chatMode:a.chatMode,imageGenPhase:m})}}})}getImageGenerationErrorMessage(t){switch(t){case"not-signed-in":return;case"throttled":return;case"blocked":return;default:return z("error.imageGenerationFailed")}}handleImageGenerationFailed(t){const{messageId:n,partId:s,errorCode:o}=t,r=this.conversationIdByMessageId.get(n);if(!r)return;ot(r,i=>{const u=sn({history:i,messageId:n});u&&(u.content=u.content.filter(d=>d.type!=="image"||d.partId!==s))});const a=this.getImageGenerationErrorMessage(o);o==="not-signed-in"&&Et.set(ka,{isOpen:!0,scenario:null,reason:"imageGeneration"}),a&&Uf(a,r)}handleCardGenerationFailed(t){const n=Et.get(_u);if(n&&this.isGeneratedCards(n)){Et.set(_u,void 0);const s=this.conversationIdByMessageId.get(t.messageId);if(!s)return;n==="quiz"&&Uf(z("quizCard.generatedQuizFailed"),s)}}handleGeneratingCard(t){const{type:n}=t;this.isGeneratedCards(n)&&Et.set(_u,n)}isGeneratedCards(t){return Kw.safeParse(t).success}handleTitleUpdate(t){const{conversationId:n,title:s}=t;Et.set(vt,o=>Un(o,r=>{const a=r.get(n);a&&(a.title=s)}))}handleCard(t){const{messageId:n,partId:s,card:o}=t,r=this.conversationIdByMessageId.get(n);if(!r)return;const a=this.getConversationState(r);if(o.type==="ads"){Pte({card:o,messageId:n,partId:s,conversationState:a,conversationId:r});return}ot(r,i=>{const u=sn({history:i,messageId:n});u&&u.content.push({type:"card",partId:s,card:o})})}handleDocument(t){const{messageId:n,partId:s,attachmentId:o,fileName:r,contentType:a}=t,i=this.conversationIdByMessageId.get(n);i&&ot(i,u=>{const d=sn({history:u,messageId:n});d&&d.content.push({type:"document",partId:s,attachmentId:o,fileName:r,contentType:a})})}handleBanned(t){const{expiresAt:n}=t,s=o3(n);s&&r3(s,"chat",n)}handlePage(t){const{messageId:n,page:s,partId:o}=t,r=this.conversationIdByMessageId.get(n);r&&(ot(r,a=>{const i=sn({history:a,messageId:n});i&&i.content.push({type:"page",partId:o,page:s})}),Ge.emit("pages:page-created",s))}handleStartSuggestion(t){const{pageId:n,suggestionId:s,editTargets:o}=t;oie(n,{id:s,text:void 0,editTargets:o})}applyPendingGuidedActions(t){const n=this.getConversationState(t),{pendingGuidedActions:s}=n;s.length!==0&&ot(t,o=>{const r=Si(o);if(!r)return;const a=a6(r.content);if(!a||!a.text)return;const{text:i}=a,u=n.pendingGuidedActions[0];if(!u)return;const{targetText:d,prefill:m}=u;if(!d||!m)return;const f=i.lastIndexOf(d);if(f!==-1){const h=i.substring(0,f),g=i.substring(f+d.length),C=`[${d}](${Dae}?${jae}=${encodeURIComponent(m)})`,v=h+C+g;a.text=v,n.processedGuidedLinksCount+=1,n.pendingGuidedActions.shift()}})}handleGuidedConversationAction(t,n){if(!Vf())return;const s=Bae(t);this.getConversationState(n).pendingGuidedActions.push(s)}handleAppendSuggestion(t){const{pageId:n,suggestionId:s,text:o}=t;rie(n,s,o)}handleActivityStart(t){if(!U2())return;const{messageId:n,partId:s,activity:o}=t,r=this.conversationIdByMessageId.get(n);r&&ot(r,a=>{const i=sn({history:a,messageId:n});i?(kc(r,i.id),i.content.push({activity:o,type:"activity",partId:s})):qt({feature:"activity",errorType:"handleActivityStart",errorMessage:"Could not find message with messageId to start activity",customData:JSON.stringify({messageId:n})})})}async handleActivityUpdate(t){if(!U2())return;const{messageId:n,partId:s,update:o}=t,r=this.conversationIdByMessageId.get(n);if(r)try{const a=await rx();ot(r,i=>{const u=sn({history:i,messageId:n});if(!u)return;const d=Po(u.content,s);if(!d||d.type!=="activity"){qt({feature:"activity",errorType:"handleActivityUpdate",errorMessage:"Could not find activity message with partId in message with messageId",customData:JSON.stringify({messageId:n,partId:s})});return}a(d.activity,o),J4.run({conversationId:r,partId:s,activity:d.activity})})}catch(a){qt({feature:"activity",errorType:"handleActivityUpdate",errorMessage:"Error updating activity",exception:JSON.stringify({error:a})})}}processInvokeAction(t){const n=Et.get(je);if(n)switch(t.actionName){case"phone_send_message":{ot(n,s=>{const o=Si(s);o&&o.content.push({type:"card",partId:Math.random().toString(),card:{type:"phoneSendMessage",actionId:t.actionId,contactName:t.parameters.contactName,text:t.parameters.text,phoneNumber:t.parameters.phoneNumber}})});break}case"edge_get_page_content":{const s=t.parameters.map(o=>({tabId:o.tabId,windowId:o.windowId,pageUrl:o.pageUrl??"",pageTitle:o.pageTitle??""}));OJ.run({actionId:t.actionId,tabs:s,inputMethod:this.getConversationState(n).inputMethod});break}case"edge_navigate_to":case"edge_switch_tab":case"edge_close_tabs":case"edge_group_open_browser_tabs":case"edge_ungroup_open_browser_tabs":case"edge_find_browser_tab_groups":case"edge_media_controls":case"edge_go_back_forward":case"computer_use":{DJ.run(t);break}case"browser_search":{const s=mte(n,z("chat.multiTabsSearchIndicatorForHistory"));jJ.run({actionId:t.actionId,queries:t.parameters.queries,startTime:t.parameters.startTime?S6(t.parameters.startTime):void 0,endTime:t.parameters.endTime?S6(t.parameters.endTime):void 0,maxResults:t.parameters.maxResults,states:Sse(t.parameters.states),inputMethod:this.getConversationState(n).inputMethod}).then(()=>{i6(n,s,"success")}).catch(o=>{qt({feature:"multiTabsSearch",errorType:"fetchTabsContent",errorMessage:o instanceof Error?o.message:"unknown"}),i6(n,s,"failed")});break}case"guided_conversation":{this.handleGuidedConversationAction(t,n);break}}}handleInvokeAction(t){const{success:n,data:s}=ine.safeParse(t);n?this.processInvokeAction(s):console.error("Invalid action data:",t)}handleBrowserAutomate(t){const{partId:n,tabIds:s,activeTabId:o,messageId:r}=t,a=this.conversationIdByMessageId.get(r);a&&(D.trackEvent({name:"system",data:{eventName:"browserAutomate",eventInfo_conversationId:a,eventInfo_messageId:r}}),ot(a,i=>{const u=sn({history:i,messageId:r});if(u){const d=Po(u.content,n);if(d&&d.type==="activity"){const m=d.activity.artifacts.find(f=>f.type==="browser");m?(m.tabIds=s,m.activeTabId=o):d.activity.artifacts.push({type:"browser",tabIds:s,activeTabId:o}),J4.run({conversationId:a,partId:n,activity:d.activity})}}}))}handleTaskStart(t){const{messageId:n,task:s,partId:o}=t,r=this.conversationIdByMessageId.get(n);this.messageIdByTaskId.set(s.id,n);const a=new Date().toISOString();if(r){_se([s],r,a),Et.set(zc,!1),ot(r,u=>{const d=sn({history:u,messageId:n});if(d){const m=$X(s,o,a);m&&d.content.push(m)}}),PJ.run({task:s,action:"startTask"});const i=Et.get(je);s.type==="computerUse"&&r===i&&Tte(s.conversationId,r),(s.type==="podcast"||s.type==="research"||s.type==="videoGeneration")&&vie()}}async handleTaskUpdate(t){const{taskId:n,update:s}=t;if(bte(n,s))return;let o=!1;const r=this.messageIdByTaskId.get(n),a=r?this.conversationIdByMessageId.get(r):void 0;try{const i=await rx();r&&a&&ot(a,u=>{const d=sn({history:u,messageId:r});if(d){const m=ZX(d.content),f=m==null?void 0:m.task;f&&f.type==="research"&&(i(f,s),fte(f,a))}}),jC(n,u=>{var d;if(u.type==="computerUse"&&i(u,s),u.type==="podcast"){const m=((d=u.podcast)==null?void 0:d.id)??"";i(u,s),u.podcast&&(u.podcast.id=m)}u.type==="videoGeneration"&&i(u,s)}),o=!0}catch(i){console.error("Error applying task update patch:",i)}if(o){const i=Et.get(ho).get(n);switch(i==null?void 0:i.type){case"computerUse":wte(n,s);break;case"podcast":ete(i);break;case"videoGeneration":kte(i);break}}}handleSuggestedFollowups(t){const{disableMultiturn:n}=ae.instance().config();if(!n){const{suggestions:s,messageId:o}=t,r=this.conversationIdByMessageId.get(o);r&&V2(r,a=>{a.suggestedFollowup={messageId:o,suggestions:s}})}}handleError(t){const{errorCode:n}=t;if(n==="over-turn-limit")Et.set(_i,0);else if(n==="over-task-quota"||n==="over-lifetime-task-quota")Et.set(iY,n),Et.set(So,"over-task-quota");else if(n==="unknown-error")for(const[s]of this.conversationMetadata.entries())ot(s,o=>{for(const r of o)r.author==="ai"&&r.streamingState==="streaming"&&(r.streamingState="idle")});else if(n==="page-content-length-exceeded"||n==="page-count-exceeded"){Ge.emit("page:message-error",n);for(const[s]of this.conversationMetadata.entries())ot(s,o=>{for(const r of o)r.author==="ai"&&r.streamingState==="streaming"&&(r.streamingState="idle")})}else for(const[s]of this.conversationMetadata.entries())Uf(z("error.eventNotRecognized"),s);Et.set(zc,!1)}handleChainOfThought(t){const{messageId:n,partId:s,text:o}=t,r=this.conversationIdByMessageId.get(n);r&&ot(r,a=>{const i=sn({history:a,messageId:n});if(i){kc(r,i.id);let u=Po(i.content,s);const d=this.getConversationState(r);if(u)u.type!=="chainOfThought"?console.error(`chainOfThought event with partId that is not a chainOfThought item. Item is of type ${u.type}`,t):u.text=u.text.concat(o);else{u={type:"chainOfThought",text:"",title:"",partId:s},i.content.push(u);const{title:m,text:f}=Iae(o);u.title=m,u.text=f,d.timing.onChainOfThoughtReceived({messageId:n,conversationId:r,chatMode:d.chatMode}),d.chainOfThoughtCount+=1}}})}async handleHashcashChallenge(t){if(!t)return;const n=Et.get(je);D.trackEvent({name:"system",data:{eventName:"challengeRequest",eventInfo_method:"hashcash",eventInfo_customData:JSON.stringify({conversationId:n,parameter:t})}});const[s,o]=t.split(":"),r=Number(o);if(!s||Number.isNaN(r)||r<=0)return;const a=await WX({token:s,difficulty:r});this.sendChallengeResponse({method:"hashcash",token:a.nonce.toString()}),D.trackEvent({name:"system",data:{eventName:"challengeResponse",eventInfo_method:"hashcash",eventInfo_duration:a.timeElapsed,eventInfo_customData:JSON.stringify({difficulty:r,numberOfTries:a.nonce,totalHashes:a.totalHashes,method:a.method,numberOfWorkers:a.numberOfWorkers})}})}async handleChallenge(t){const n=()=>{const s=Et.get(je);if(!s)return;const{lastUserMessage:o}=this.getConversationState(s);o&&this.send(o)};if(t.method==="copilot"){const{parameter:s}=t,o=Number(s),r=Math.round((o**3/100+o*25)%22).toString();this.sendChallengeResponse({method:"copilot",token:r}),n(),Ge.emit("challenge:success");return}if(be("hashcash")&&t.method==="hashcash"){await this.handleHashcashChallenge(t.parameter),n(),Ge.emit("challenge:success");return}It("kill-cf-turnstile")||ST(s=>{this.sendChallengeResponse({token:s,method:"cloudflare"}),n()})}handleRelatedSearchResultsAvailable(t){const{messageId:n}=t;lte(n)}handleParticipantUpdate(t){const{conversationId:n,participant:s,updateType:o,id:r}=t,a={id:r,createdAt:new Date().toISOString(),author:"system",participant:s,updateType:o};ot(n,u=>{u.push(a)});const i=pe(Yt);if(s.userId===(i==null?void 0:i.id)&&o==="kicked"){jl();return}T_(n)}handleDone(t){var d;z2()&&Et.get(bi)==="responding"&&Et.set(bi,"idle");const{messageId:n}=t,s=this.conversationIdByMessageId.get(n);if(!s)return;Vf()&&this.applyPendingGuidedActions(s);const o=this.getConversationState(s);o.timing.onLastToken({messageId:n,conversationId:s,citationCount:o.citationCount,imageCount:o.imageCount,chainOfThoughtCount:o.chainOfThoughtCount,chatMode:o.chatMode,inputMethod:o.inputMethod,uploadImageCount:o.uploadImageCount,uploadFileCount:o.uploadFileCount,guidedLinksCount:o.processedGuidedLinksCount});const a=((d=Et.get(vt).get(s))==null?void 0:d.history)??[],i=sn({history:a,messageId:n});ot(s,m=>{if(!i)return;const f=sn({history:m,messageId:i.id}),h=i.content.find(g=>g.type==="image"&&g.partialGenerationStep!==void 0);if(f&&h){const g=Po(f.content,h.partId);g&&(g.partialGenerationStep===0?g.type="deleted":g.type==="image"&&(g.isPartiallyLoading=!1,g.partialGenerationStep=void 0,g.status="non-complete"))}if(f){f.streamingState="idle";const g=f.content.filter(C=>C.type==="activity");for(const C of g)if(Oae(C.activity)){C.activity.status==="running"&&(C.activity.status="failed");for(const y of C.activity.steps)y.status==="running"&&(y.status="completed")}}});const u=this.pendingSideBySideMessages.get(n);u&&(this.pendingSideBySideMessages.delete(n),ot(s,m=>{const f=sn({history:m,messageId:n});f&&(f.streamingState="idle",f.sideBySideConfig={...u,isStreamingComplete:!0})})),Et.set(_u,void 0),Et.set(zc,!1),window.setTimeout(()=>{Et.set(_1,m=>Un(m,f=>{const h=f.get(s);h!=null&&h.has(n)&&(h.delete(n),h.size===0&&f.delete(s))}))},3e3),Et.set(_w,!0),i&&die({message:i,conversationId:s}),BJ.run({conversationMessages:a,messageId:n,inputMethod:o.inputMethod})}}async function yie(){try{const{load:e}=await B(async()=>{const{load:s}=await import("./botd.esm-B-Mgb8YC.js");return{load:s}},__vite__mapDeps([3,1])),t=await e({monitoring:!1}),{bot:n}=t.detect();return n}catch(e){return D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"BotDetectionError",eventInfo_details:"Failed on bot detection",eventInfo_errorMessage:e instanceof Error?e.message:"Unknown bot detection error"}}),!1}}async function bie(){return new Promise((e,t)=>{ST(async n=>{try{const s=await kn({path:"/challenges/verify",args:{body:{token:n,method:"cloudflare"}}}),{isValid:o}=await s.json();e(o)}catch(s){D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"CloudflareChallengeVerificationError",eventInfo_details:"Error verifying Cloudflare challenge",eventInfo_errorMessage:s instanceof Error?s.message:""}})}t()})})}const xie="eval/chat",Zg=1e3,Sie=3e4,Eie=5e3,wie=1e4,Iie=3,ax=6e4;class _ie{constructor({autoReconnect:t=!1}={}){O(this,"connection");O(this,"autoReconnect");O(this,"reconnectInterval");O(this,"maxReconnectInterval");O(this,"reconnectTimeout");O(this,"sendQueue",[]);O(this,"connecting",!1);O(this,"state",null);O(this,"cachedSendData",null);O(this,"pongTimeout",null);O(this,"windowStartTime",null);O(this,"connectionCount",0);O(this,"cooldownStart",null);O(this,"boundReconnectIfNeeded");O(this,"boundDisconnect");O(this,"boundVisibilityChange");O(this,"getUrl",null);O(this,"onopen");O(this,"onmessage");O(this,"onclose");O(this,"onerror");this.connection=null,this.autoReconnect=t,this.reconnectInterval=Zg,this.maxReconnectInterval=t?Sie:0,this.reconnectTimeout=null,this.onopen=null,this.onmessage=null,this.onclose=null,this.onerror=null,this.connect=this.connect.bind(this),this.reconnect=this.reconnect.bind(this),this.processSendQueue=this.processSendQueue.bind(this)}async initialize(){this.state=null,await this.connect(),this.autoReconnect&&(this.boundReconnectIfNeeded=this.reconnectIfNeeded.bind(this),this.boundDisconnect=this.disconnect.bind(this),this.boundVisibilityChange=()=>{document.visibilityState==="visible"&&this.reconnectIfNeeded()},window.addEventListener("online",this.boundReconnectIfNeeded),window.addEventListener("offline",this.boundDisconnect),document.addEventListener("visibilitychange",this.boundVisibilityChange))}async connect(){var n;if(((n=this.connection)==null?void 0:n.readyState)===WebSocket.CONNECTING||this.connecting||this.pongTimeout)return;if(!this.getUrl)throw new Error("getUrl function is not set");this.connecting=!0;const t=await this.getUrl();this.connection=new WebSocket(t),this.connecting=!1,this.connection.onopen=s=>{if(this.state=null,!It("kill-rapid-reconnect-detect")){const o=performance.now();!this.windowStartTime||o-this.windowStartTime>=wie?(this.windowStartTime=o,this.connectionCount=1):this.connectionCount+=1,this.connectionCount>=Iie&&(this.cooldownStart=o,this.windowStartTime=null,this.connectionCount=0,this.sendQueue=[])}this.onopen&&this.onopen(s),this.processSendQueue(),this.reconnectInterval=Zg,this.reconnectTimeout&&(window.clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)},this.connection.onmessage=s=>{if(this.state!=="destroyed")try{const o=JSON.parse(s.data);this.onmessage&&this.onmessage(o),o.event==="pong"&&(this.removePongTimeout(),this.processSendQueue())}catch{}},this.connection.onclose=s=>{this.connection&&this.connection.bufferedAmount>0&&this.cachedSendData&&(this.sendQueue.push(this.cachedSendData),this.cachedSendData=null),this.onclose&&this.onclose(s),this.autoReconnect&&this.state===null&&this.reconnect(),this.removePongTimeout()},this.connection.onerror=s=>{this.onerror&&this.onerror(s),this.connection&&this.connection.close(),this.removePongTimeout()}}reconnect(){if(this.reconnectTimeout&&window.clearTimeout(this.reconnectTimeout),!It("kill-rapid-reconnect-detect")&&this.cooldownStart){const t=performance.now()-this.cooldownStart;if(t<ax){const n=ax-t;this.reconnectTimeout=window.setTimeout(this.connect,n);return}this.cooldownStart=null,this.reconnectInterval=Zg}this.reconnectTimeout=window.setTimeout(this.connect,this.reconnectInterval),this.reconnectInterval=Math.min(this.reconnectInterval*2,this.maxReconnectInterval)}processSendQueue(){if(this.sendQueue.length>0){const t=this.sendQueue;this.sendQueue=[];for(const n of t)this.send(n)}}reconnectIfNeeded(){if(this.state!=="destroyed"){if(!this.connection||this.connection.readyState!==WebSocket.OPEN){this.reconnect();return}this.pongTimeout===null&&(this.connection.send(JSON.stringify({event:"ping"})),this.pongTimeout=window.setTimeout(()=>{var t;this.pongTimeout=null,(t=this.connection)==null||t.close(),this.reconnect()},Eie))}}removePongTimeout(){this.pongTimeout!==null&&(window.clearTimeout(this.pongTimeout),this.pongTimeout=null)}send(t){if(this.state!=="destroyed")if(this.connection&&this.connection.readyState===WebSocket.OPEN&&this.pongTimeout===null)try{this.cachedSendData=t,this.connection.send(t)}catch{this.sendQueue.push(t),this.connect()}else this.sendQueue.push(t),this.connect()}cleanup(){this.boundReconnectIfNeeded&&window.removeEventListener("online",this.boundReconnectIfNeeded),this.boundDisconnect&&window.removeEventListener("offline",this.boundDisconnect),this.boundVisibilityChange&&document.removeEventListener("visibilitychange",this.boundVisibilityChange)}disconnect(){this.connection&&(this.state="disconnected",this.connection.close())}destroy(){this.connection&&(this.state="destroyed",this.cleanup(),this.connection.close(),this.connection=null,this.windowStartTime=null,this.connectionCount=0,this.cooldownStart=null)}}async function ks({useMockConnection:e}={}){const t=async({cursor:n})=>{const o=!!FI()||!!BI()?xie:"chat";return n?e6(o,{cursor:n}):e6(o)};return Hf.get({getUrl:t})}async function Tie({getUrl:e}){if(typeof WebSocket>"u")return{destroy:()=>{},send:()=>{},regenerate:()=>{},sendSkipReasoning:()=>{},sendContext:()=>{},sendAudioStart:()=>{},sendAudio:()=>{},sendAudioEnd:()=>{},sendAudioClick:()=>{},setCharacterAppearance:()=>{},setCallType:()=>{},stop:()=>{},setOnEvent:()=>()=>{},setOnOpen:()=>{},sendChallengeResponse:()=>{},sendActionResult:()=>{},sendMessagePreview:()=>{},updateChatOptions:()=>Promise.resolve(),selectSxSMessage:()=>{},resetConversationState:()=>{},resetConversationTiming:()=>{},setConversationIdByMessageId:()=>{},setMessageIdByTaskId:()=>{},setChatModeForConversation:()=>{},setInputMethodForConversation:()=>{},setUploadCountsForConversation:()=>{},callBeforeSendForConversation:()=>{},callOnSentForConversation:()=>{},setUserMessageForConversation:()=>{},onSubmitMessageBlocked:()=>{}};const t=F1(),n=!!ae.instance().config().isBotDetectionEnabled;if(be("client-side-request-challenge")&&!It("kill-client-side-request-challenge")&&n&&!t){const s=await yie(),o=!s||await bie();if(D.trackEvent({name:"system",data:{eventName:"botDetectionTriggered",eventInfo_result:o?"success":"failed",eventInfo_isBot:s}}),!o)return Promise.reject()}return new Promise((s,o)=>{const r=It("kill-chat-auto-reconnect"),a=new _ie({autoReconnect:!r}),i=new Cie(a);let u=null;a.getUrl=()=>e({cursor:i.latestMessagePartId}),a.onopen=async()=>{a.onmessage=d=>{try{$4.parse(d)}catch(m){m instanceof ep&&sd(m,"/chat")}i.processEvent(d)},await i.updateChatOptions(),u&&u(),s({destroy:()=>{a.destroy(),i.clearAllStreamingStates()},stop:(d={})=>{const{conversationId:m,taskId:f}=d;a.send(JSON.stringify({event:"stop",conversationId:m})),f&&a.send(JSON.stringify({event:"send",conversationId:m,content:[{type:"command",command:{type:"cancelTask",taskId:f}}],mode:"research"})),m&&ot(m,h=>{for(const g of h)g.author==="ai"&&g.streamingState==="streaming"&&(g.streamingState="idle")})},send:i.send,regenerate:i.regenerate,sendSkipReasoning:d=>{const{messageId:m}=d;a.send(JSON.stringify({event:"skipReasoning",messageId:m}))},sendContext:d=>{a.send(JSON.stringify({event:"sendContext",context:d}))},sendAudioStart:d=>{const{conversationId:m,options:f,clientType:h,mode:g,context:C}=d,v={event:"audioStart",conversationId:m,mode:g,options:f,clientType:h,context:C};a.send(JSON.stringify(v))},sendAudio:d=>{const m={event:"audio",audio:d};a.send(JSON.stringify(m))},sendAudioEnd:()=>{const d={event:"audioEnd"};a.send(JSON.stringify(d))},sendAudioClick:(d,m)=>{i.sendAudioClick(d,m)},setCharacterAppearance:d=>{i.setCharacterAppearance(d)},setCallType:d=>{const m={event:"setCallType",callType:d};a.send(JSON.stringify(m))},sendChallengeResponse:i.sendChallengeResponse,setOnEvent:d=>{a.onmessage=m=>{try{$4.parse(m),i.processEvent(m)}catch(f){f instanceof ep&&sd(f,"/chat")}d(m)}},setOnOpen:d=>{u=d},sendActionResult:d=>{a.send(JSON.stringify({event:"actionResult",actionId:d.actionId,result:d.result}))},selectSxSMessage:d=>{const{sideBySideComparisonId:m,selectedMessageId:f}=d,h={event:"selectMessage",sideBySideComparisonId:m,selectedMessageId:f};a.send(JSON.stringify(h))},resetConversationState:i.resetConversationState,resetConversationTiming:i.resetConversationTiming,setConversationIdByMessageId:i.setConversationIdByMessageId,setMessageIdByTaskId:i.setMessageIdByTaskId,setChatModeForConversation:i.setChatModeForConversation,setInputMethodForConversation:i.setInputMethodForConversation,setUploadCountsForConversation:i.setUploadCountsForConversation,callBeforeSendForConversation:i.callBeforeSendForConversation,callOnSentForConversation:i.callOnSentForConversation,setUserMessageForConversation:i.setUserMessageForConversation,onSubmitMessageBlocked:i.onSubmitMessageBlocked,sendMessagePreview:i.sendMessagePreview.bind(i),updateChatOptions:i.updateChatOptions.bind(i)})},a.onclose=()=>{},a.onerror=d=>{const m=d instanceof ErrorEvent?d.message:"Unknown WebSocket error";D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"ChatWebsocketError",eventInfo_errorMessage:m,eventInfo_details:JSON.stringify(d)}}),o(new Error(`WebSocket connection error: ${m}`))},a.initialize().catch(d=>{const m=d instanceof Error?d.message:"Unknown WebSocket error";D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"ChatWebsocketInitializationError",eventInfo_errorMessage:m,eventInfo_details:d instanceof Error?d.stack??"":""}}),o(new Error(`WebSocket initialization error: ${m}`))})})}async function i3(){if(Hf.isInstantiated){const e=pe(hn),t=pe(cC),n=await Hf.get();n.stop(),n.destroy(),n.stop({conversationId:e==null?void 0:e.id}),Hf.reset();try{D.trackEvent({name:"system",data:{eventName:"chatClientReset",eventInfo_isMessageStreaming:t}})}catch{}}}const Hf=new Zi(e=>Tie(e));function Aie(){const e=M(cn),t=G("account-change-chat-reset");c.useEffect(()=>{t&&i3()},[e,t])}function MT(e){const{onStartComplete:t}=e;c.useEffect(()=>{const n=()=>{t(),Ge.off("app:start-complete",n)};return Ge.on("app:start-complete",n),()=>{Ge.off("app:start-complete",n)}},[t])}function kie(){MT({onStartComplete:()=>{e()}});const e=()=>{try{const n="n59ae4ieqq";if(It("kill-clarity")||!t(n))return()=>{};window.clarity||(window.clarity=function(...a){window.clarity&&(window.clarity.q=window.clarity.q??[]).push(a)});const o=document.createElement("script");return o.type="text/javascript",o.async=!0,o.src=`/cl/tag/${n}`,document.body.appendChild(o),window.clarity("signal",async r=>{if(r.type==="cl_dtrs"&&r.value){const a=pe(je);try{await kn({path:"/clarity/signal",args:{body:{token:r.value,conversationId:a}}}),D.trackEvent({name:"system",data:{eventName:"copilotFeatureSuccess",eventInfo_feature:"Clarity",eventInfo_scenario:"Clarity signal event sent via API",eventInfo_customData:JSON.stringify(r)}})}catch(i){D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"ClaritySignalError",eventInfo_details:"Failed to send clarity via API",eventInfo_errorMessage:i instanceof Error?i.message:"Unknown clarity signal error"}})}}}),window.clarity("metadata",()=>{n5({surface:"cmc"});const r=pe(uI);r!==null&&n5({isNewUser:r.toString()})},!1,!0),()=>{delete window.clarity,o.remove()}}catch(n){return D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"useClarity",eventInfo_details:"Error loading Clarity",eventInfo_errorMessage:`${n}`}}),()=>{}}},t=n=>n.trim()!==""}function Mie(){c.useEffect(()=>{sC(["ak_failover"])},[])}function Yg(e){if(ae.instance().config().persistThemeChoice){const n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e!==n?(An(Zr,e),il(Zr,e,{expireDays:365*10})):(jt(Zr),eS(Zr))}document.documentElement.setAttribute("data-theme",e),Ge.emit("theme:color-applied",e)}function Nie(){const e=da(Zr),t=rn(Zr);return e??t??null}function Rie(){const{persistThemeChoice:e,enforceTheme:t}=ae.instance().config(),[n,s]=Ue(Wo);c.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),r=i=>{const u=i.matches?"dark":"light";s(u),Yg(u),e&&(jt(Zr),eS(Zr))};let a=e?Nie():"";return a!=="dark"&&a!=="light"&&(a=o.matches?"dark":"light"),t&&(a=t),s(a),Yg(a),o.addEventListener("change",r),()=>{o.removeEventListener("change",r)}},[s,e,t]),c.useEffect(()=>{n&&Yg(n)},[n])}const c3=new Set;function Pie(e=!1){return rn(s2)!==null&&!e?!1:(jt(d1),jt(cl),Uie(),An(s2,"true"),!0)}function NT(){return parseInt(rn(d1)??"0",10)}function Lie(){return new Date(rn(cl)??new Date().toISOString())}function Oie(e){rn(cl)||An(cl,e)}function Die(e){let t;try{t=NT()}catch{t=0}t<b2&&(t+=1,An(d1,`${t}`),c3.add(e),t===b2&&Oie(new Date().toISOString()))}function jie(e){e&&(c3.has(e)||Die(e))}function Uie(){c3.clear()}function Fie(){const e=Qt(),t=oe(lI);c.useEffect(()=>{e&&Pie()&&t(!0)},[e,t])}function Bie(){c.useEffect(()=>{if(window.ReportingObserver===void 0)return()=>{};const e=new ReportingObserver(t=>{for(const n of t){if(n.type!=="csp-violation"||!n.body)continue;const{body:s}=n,{blockedURL:o,documentURL:r,effectiveDirective:a,disposition:i}=s;console.error("Reporting CSP violation",{blockedURL:o,documentURL:r,effectiveDirective:a,disposition:i}),D.trackEvent({name:"system",data:{eventName:"copilotCSPViolation",eventInfo_blockedURL:o,eventInfo_documentURL:r,eventInfo_effectiveDirective:a,eventInfo_disposition:i}})}},{buffered:!0,types:["csp-violation"]});return e.observe(),()=>{e.disconnect()}},[])}function Vie(){const e=G("custom-1ds"),t=M(Mn);c.useEffect(()=>{if(!e||!ae.instance().config().enableCustom1DS)return mw(),()=>{};if(!t)return()=>{};const n=()=>{if(window.oneDS){const{ApplicationInsights:r}=window.oneDS;return new r}},s=()=>{var u;window.OneDsAzureAnalytics=window.OneDsAzureAnalytics??n();function r(){var m;return!!!((m=window.OneDsAzureAnalytics)!=null&&m.getCookieMgr().get("MSCC"))}const a={adobe:r(),google:r()},i={instrumentationKey:"c72e6b24df604532a6282edd268b4ba4-9cdee1fe-5d2f-4626-9620-dbad9b53a8e5-8065",channelConfiguration:{eventsLimitInMem:50,autoFlushEventsLimit:1},propertyConfiguration:{userConsentCookieName:u1.name,gpcDataSharingOptIn:tS(),callback:{userConsentDetails:()=>{if(!v1.includes(t))return{Required:!0,Analytics:!0,SocialMedia:!0,Advertising:!0};const d=ji();return{Required:Object.values(d).includes(!0),Analytics:d.analytics,SocialMedia:d.socialMedia,Advertising:d.advertising}}}},webAnalyticsConfiguration:{coreData:{appId:"JS:Copilot_microsoft_com"},cookiesToCollect:["_mkto_trk"],urlCollectQuery:!0,syncMuid:r()},extensionConfig:{IdSyncPlugin:a}};window.postConsAzure1DSInit||((u=window.OneDsAzureAnalytics)==null||u.initialize(i,[]),window.postConsAzure1DSInit=!0)},o=document.createElement("script");return o.src="https://az416426.vo.msecnd.net/scripts/c/ms.analytics-web-4.min.js",o.async=!0,o.onload=s,document.head.appendChild(o),()=>{document.head.removeChild(o)}},[e,t])}function ih(){const[e,t]=Ue(sY),n=ut();return c.useEffect(()=>{n.endsWith("/chats/new/talk")&&(D.setLandingPage("deepLinkVoiceCall"),t("audioCall"))},[n,t]),[e,()=>t(null)]}function RT(e){const{deferred:t=!1}=e??{},n=z8(),[s,o]=Ue(fC),r=oe(im);c.useEffect(()=>{const u=cZ();u&&o(u)},[n.search,o]);const a=c.useCallback(()=>{o(null)},[o]),i=c.useCallback(u=>{u&&r({source:"promptInUrl",prompt:u})},[r]);return c.useEffect(()=>{s&&!t&&i(s)},[t,i,s]),{prompt:s,handler:t?i:void 0,clear:a}}function Hie(){const e=G("prompt-pt-learn-partial"),t=G("prompt-pt-learn-full"),n=G("prompt-pt-learn-fill"),s=G("prompt-pt-advice-partial"),o=G("prompt-pt-advice-full"),r=G("prompt-pt-advice-fill"),a=G("prompt-pt-ideas-partial"),i=G("prompt-pt-ideas-full"),u=G("prompt-pt-ideas-fill"),d=G("prompt-pt-msn-answers"),m=G("prompt-pt-msn-headlines"),f=G("prompt-pt-msn-events"),h=G("prompt-pt-msn-answers-full"),g=G("prompt-pt-msn-headlines-full"),C=G("prompt-pt-msn-events-full"),v=D.getFormCode();let y=null,b=!1,E=!1,S=!1;switch(v){case"NTPCHB":{e||t||n?y="teach":s||o||r?y="advice":(a||i||u)&&(y="ideas"),b=e||s||a,E=t||o||i,S=n||r||u;break}case"MSNCHB":{d||h?y="answers":m||g?y="headlines":(f||C)&&(y="events"),E=h||g||C,S=d||m||f;break}default:y=null}let I=null;b?I="prefix":(E||S)&&(I="complete");let _=null;return b||S?_="partial":E&&(_="full"),{formCode:v,treatment:y,lengthVariant:I,passthroughType:_}}function PT(e){var h;const{inEeaPlusRegion:t,labsFeatureEnabled:n,region:s,isUpsellFeatureEnabled:o,isAuthenticated:r,isTeenUser:a,isPremiumTierUser:i,skipPremiumTierUserCheck:u}=e;if(t&&!n)return!1;const d=!s||xv.includes(s),m=((h=ae.instance().config().actions)==null?void 0:h.overrideFreemiumActionsUpsellFeatureEnabled)??!1;return i||u||(o||m)&&r&&!a&&!d}function zie(){const e=pe(wC),t=be("labs-actions"),n=be("labs-actions-skipprocheck"),s=!1,o=F1(),r=pe(tm),a=pe(Mn),i=!!pe(aI);return PT({inEeaPlusRegion:i,labsFeatureEnabled:t,region:a,isUpsellFeatureEnabled:s,isAuthenticated:o,isTeenUser:r,isPremiumTierUser:e,skipPremiumTierUserCheck:n})}function LT(e){const{actionsAvailableForAccount:t,actionsAvailableForSurface:n}=e;return t&&n}async function Gie(){var s;const e=zie(),n=await(((s=ae.instance().config().actions)==null?void 0:s.enableActions)??(()=>Promise.resolve(!1)))();return LT({actionsAvailableForAccount:e,actionsAvailableForSurface:n})}function Wie(e,t,n){return e&&(n&&t)}function OT(){const e=M(wC),t=G("labs-actions"),n=G("labs-actions-skipprocheck"),s=!1,o=Qt(),r=!!M(tm),a=M(Mn),i=!!M(aI);return PT({inEeaPlusRegion:i,labsFeatureEnabled:t,region:a,isUpsellFeatureEnabled:s,isAuthenticated:o,isTeenUser:r,isPremiumTierUser:e,skipPremiumTierUserCheck:n})}function DT(){const[e,t]=c.useState(!1),n=M(Of);return c.useEffect(()=>{async function s(){var r;await(((r=ae.instance().config().actions)==null?void 0:r.enableActions)??(()=>Promise.resolve(!1)))()&&t(!0)}s().catch(()=>{})},[t,n]),e}function l3(){const e=OT(),t=DT();return LT({actionsAvailableForAccount:e,actionsAvailableForSurface:t})}function l_e(){var s;const e=OT(),t=DT(),n=((s=ae.instance().config().actions)==null?void 0:s.overrideLabsActionsFeatureEnabled)??!1;return Wie(e,t,n)}function u3(){var s;const e=G("coco-mode"),t=((s=M(Yt))==null?void 0:s.ageGroup)==="adult";return e&&t}function d3(){const e=G("searchmode")||(ae.instance().config().enableSearchMode??!1),t=Zt("kill-search-mode");return e&&!t}const jT=["smart-mode-6e0b4c6f","smart-mode-cd0c997b","smart-mode"];function Ul(){return n3(jT,"any")}function $ie(){return pd(jT,"any")}let zf=null;function qie(){const e=oe(yw),t=l3(),n=Ul(),s=d3(),o=G("study-mode"),r=u3();c.useEffect(()=>{const a=aZ(),i=dZ();zf===null&&(zf=a);const u=m=>m==="td"?"reasoning":t&&m==="ac"?"computerUse":n&&m==="sm"?"smart":s&&m==="cs"?"search":o&&m==="st"?"study":r&&m==="co"?"coco":null,d=u(a||zf);d&&Kt(d),i&&e(!0)},[t,s,n,o,r,e])}function Kie(){return zf}function Zie(e,t,n,s={text:"",atTimestamp:0,files:[]}){return n?t.length!==s.files.length?!0:!!!(e&&e.length>=n.minTextLength)||s.atTimestamp&&s.atTimestamp+n.debounceInMilliseconds>=Date.now()?!1:e&&s.text&&(e.includes(s.text)||s.text.includes(e))?Math.abs((e.length-s.text.length)/s.text.length)>=n.textDeltaPercent/100:!0:!1}function u_e(e){let t,n;for(let s=e.length-1;s>=0;s-=1){const o=e[s];if((o==null?void 0:o.author)!=="system")if(!t)t=o;else{n=o;break}}return{lastNonSystemMessage:t,secondToLastNonSystemMessage:n}}N(null);const ix=N(new Map),UT=N(null),Yie=N(!1),la=N(null),m3=N(e=>{const t=e(la);return(t==null?void 0:t.type)==="attachments"?t.uploadAttachments:[]},(e,t,n)=>{const s=e(la),o=e(m3),r=typeof n=="function"?n(o):n;r.length===0&&(s==null?void 0:s.type)!=="attachments"||t(la,{type:"attachments",uploadAttachments:r})}),zo=N(e=>{const t=e(la);return(t==null?void 0:t.type)==="tabs"?t.userAddedTabs:new Map},(e,t,n)=>{const s=e(la),o=e(zo),r=typeof n=="function"?n(o):n;r.size===0&&(s==null?void 0:s.type)!=="tabs"||t(la,{type:"tabs",userAddedTabs:r})}),Qie=N(e=>{const t=e(la);return(t==null?void 0:t.type)==="attachments"&&t.uploadAttachments.length>0}),Jie=N(e=>{const t=e(la);if((t==null?void 0:t.type)!=="tabs"||t.userAddedTabs.size===0)return!1;for(const n of t.userAddedTabs.values())if(n.sourceType==="journeysNTP")return!1;return!0});function Xie(){var t;const e=pe(eI);if(e)return{character:{id:e.id,locationId:(t=e.location)==null?void 0:t.id}}}function FT(){const e=bl(vt),t=oe(Zd);return c.useCallback((n,s)=>{e(o=>{const r=o.get(n);if(r){const{history:a}=r;s(a);const i=a.at(-1);if(i){const u=new Date(r.updatedAt),d=new Date(i.createdAt);u<d&&(r.updatedAt=i.createdAt)}a.length>2&&(r.isNew=!1,t(!0))}return o})},[e,t])}const ece=$e();function f3(e,t){$e().set(vt,n=>Un(n,s=>{const o=s.get(e);if(o){const{history:r}=o;t(r);const a=r.at(-1);if(a){const i=new Date(o.updatedAt),u=new Date(a.createdAt);i<u&&(o.updatedAt=a.createdAt)}r.length>2&&(o.isNew=!1,ece.set(Zd,!0))}}))}function ch(e){const t=G("force-cookie-banner-location");return(e&&v1.includes(e))===!0||t}const tce=5e3,nce="largest-contentful-paint";function sce(e,t=tce){if(!oce())return o5(e,t);try{return ace(e,t)}catch{return o5(e,t)}}function oce(){return"PerformanceObserver"in window}function o5(e,t){const n=setTimeout(e,t);return()=>clearTimeout(n)}function rce(e){typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,0)}function ace(e,t){let n=!1;const s=new PerformanceObserver(i=>{if(n)return;i.getEntries().length>0&&r()});try{s.observe({type:nce,buffered:!0})}catch{return o5(e,t)}const o=setTimeout(()=>{n||r()},t);function r(){n=!0,s.disconnect(),rce(e)}function a(){n||(n=!0,s.disconnect(),clearTimeout(o))}return a}function ice(){const e=Zt("kill-bing-uet"),t=M(Mn),n=ch(t);c.useEffect(()=>{const s=ji(),o=!!fv(),r=n?o&&s.advertising:!0;if(e||!r||!t)return;const a=document.createElement("script");a.src="https://bat.bing.com/bat.js",a.defer=!0,a.onload=()=>{if(!window.UET)return;window.uetq=window.uetq??[];const d={ti:"355045625",enableAutoSpaTracking:!0};window.uetq=new window.UET(d),window.uetq.push("pageLoad")};const u=sce(()=>{document.querySelector('script[src="https://bat.bing.com/bat.js"]')||document.head.appendChild(a)});return()=>{u();try{const d=document.querySelector('script[src="https://bat.bing.com/bat.js"]');d&&document.head.removeChild(d)}catch{}}},[e,t,n])}let cx=!1;function cce(){cx||(cx=!0,window.uetq=window.uetq??[],window.uetq.push("event","outbound_click",{}))}function BT(){const e=G("smart-mode-6e0b4c6f"),t=G("smart-mode-cd0c997b"),n=HT(t),s=e||t?z("composer.chatModes.smart.coachmarkDescriptionGPT5Variant"):z("composer.chatModes.smart.description");return{title:e?wS:ES,description:z(n),coachmarkDescription:s}}function VT(){const e=be("smart-mode-6e0b4c6f"),t=be("smart-mode-cd0c997b"),n=HT(t);return{title:e?wS:ES,description:z(n)}}function HT(e){return e?"composer.chatModes.smart.descriptionGPT5Variant":"composer.chatModes.smart.description"}function zT(e){return e?e.startsWith("!"):!1}function gd(e){return e==="reasoning"?SS:e==="smart"?VT().title:z(`composer.chatModes.${e}.title`)}function lce(e){const t=VT();return e==="smart"?t.description:z(`composer.chatModes.${e}.description`)}const nr=$e(),lx={};async function GT(e){const{text:t,filesWithAttachment:n=[],command:s}=e,o=xo(),r=pe(je),{result:a}=await VJ.run({chatMode:o,message:t??""}),i=n.length===0||n.every(({error:f,attachment:h})=>!!f||!h);return{isSubmittable:!!r&&!(!t&&i&&!s),shouldDropAccordingToMiddleware:!!a}}async function WT(e,t=!1){const{text:n,filesWithAttachment:s=[],inputMethod:o,command:r,context:a,reference:i,galleryImageUrl:u}=e,d=Xie(),m=xo(),f=pe(je),h=pe(_s),g=pe(zo),C=be("adsshowroombrandagent");if(!f)throw new Error("No conversation ID found");let v=0,y=0;const b=[];if(u){const k=yce(u);b.push(k)}for(const k of s)k.attachment&&(k.attachment.item.type==="image"?v+=1:k.attachment.item.type==="document"&&(k.attachment.item.partId=`${y}`,y+=1),b.push(k));const E=[],S={id:"",createdAt:new Date().toISOString(),author:"human",content:[],inputMethod:o,mode:m};h&&h.conversationId===f&&(S.brand=h);for(const{attachment:k}of b)k&&(S.content.push(k.item),E.push(k.content));if(g.size>0&&(pe(UT)==="currentPage"?nr.set(zo,new Map):S.content.push({type:"browserTabs",tabs:Array.from(g.values()).map(R=>({id:R.id,title:R.title,url:R.url,windowId:R.windowId,favIconUrl:R.favIconUrl}))})),n){S.content.push({type:"text",text:n});let{textToSend:k}=await HJ.run({textToSend:n,chatMode:m});g.size>0&&!k.startsWith("/")&&(k=`${z("composer.multiTabs.multitabsprompt",{CountOfAddTabs:g.size})} ${k}`),E.push({type:"text",text:k})}r&&(S.content.push({type:"command",command:r}),E.push({type:"command",command:r})),i&&E.push({type:"reference",reference:i}),!(r&&Pe([x1,Bi]).safeParse(r.type).success)&&!t&&f3(f,k=>{k.push(S)});const{sendData:_,additionalData:T}=await jI.run(S);return{sendMessageParams:{content:E,conversationId:f,data:_,mode:m,context:{...d,...a,ads:h?{showroom:{brandId:h.brandId,adId:h.adId??void 0,scenario:C?"chat":void 0}}:void 0}},newMessage:S,filesToSubmit:b,additionalData:T,imagesUploaded:v,documentsUploaded:y}}async function uce(e){var E,S,I,_,T;const{text:t,inputMethod:n,scenario:s,customData:o,entryPoint:r}=e,a=xo(),i=pe(je),u=pe(_s),d=pe(zo),m=pe(ix),f=be("multi-file-upload"),{isSubmittable:h,shouldDropAccordingToMiddleware:g}=await GT(e);if(g){a==="computerUse"&&Kt(vn());return}const C=performance.now();if(nr.set(xw,C),!h||!i)return;await Gie()&&(a==="computerUse"?(ye({source:"copilotActionsStartTask",customData:JSON.stringify({conversationId:i})}),nr.set(zc,!0)):nr.set(zc,!1)),kT({sideBySideComparisonId:i,reason:"sentNewMessage"}),UC(i);const v=await WT(e);nr.set(vt,A=>Un(A,k=>{const R=k.get(i);R&&(R.suggestedFollowup=void 0)})),nr.set(_s,A=>A&&{...A,lastUserMessageRguid:A.activeCardRguid});const y=await ks({useMockConnection:zT(t)});d.size>0&&nr.set(zo,new Map),m.size>0&&(nr.set(ix,new Map),nr.set(UT,null)),y.send(v.sendMessageParams),y.resetConversationState(i,C),y.setChatModeForConversation(i,a),y.setInputMethodForConversation(i,n),y.setUploadCountsForConversation(i,v.imagesUploaded,v.documentsUploaded),y.callBeforeSendForConversation(i),y.callOnSentForConversation(i,v.additionalData),y.setUserMessageForConversation(i,v.sendMessageParams);const b={eventName:"copilotCompose",eventInfo_conversationId:i,eventInfo_inputMethod:n,eventInfo_numImagesUploaded:v.imagesUploaded,eventInfo_numDocumentsUploaded:v.documentsUploaded,eventInfo_mode:a,eventInfo_landingPage:D.getLandingPage(),...v.filesToSubmit.length>0?{eventInfo_uploadFileSize:((S=(E=v.filesToSubmit[0])==null?void 0:E.file)==null?void 0:S.size)??0,eventInfo_uploadFileType:(_=(I=v.filesToSubmit[0])==null?void 0:I.attachment)==null?void 0:_.type}:{}};f&&(b.eventInfo_uploadFilesInfo=JSON.stringify(v.filesToSubmit.map(({file:A,attachment:k,scenario:R})=>({scenario:R,type:(k==null?void 0:k.type)??"",size:(A==null?void 0:A.size)??""})))),v.additionalData&&(b.eventInfo_additionalData=v.additionalData),s&&(b.eventInfo_scenario=s),o&&(b.eventInfo_customData=o),u&&(b.eventInfo_adsContext=JSON.stringify({showroomBrandId:u.brandId,showroomBrandName:(T=u.brandLogo)==null?void 0:T.businessName})),r&&(b.eventInfo_entryPoint=r),D.trackEvent({name:"interaction",data:b}),cce(),iX(n),Nae(),a==="computerUse"&&Kt(vn())}async function dce(){const e=pe(je);e&&(await ks()).onSubmitMessageBlocked(e)}async function mce(){var s,o;const e=await ks(),t=pe(je),n=(o=(s=y_(t))==null?void 0:s.part.task)==null?void 0:o.id;t&&(UC(t),kT({sideBySideComparisonId:t,reason:"stoppedMessage"})),e.stop({conversationId:t,taskId:n})}async function fce(e){const{messageId:t,runHumanMessageSendDataMiddleware:n}=e,s=performance.now(),o=pe(je);if(!o)return;f3(o,i=>{const u=Si(i);u&&u.id===t&&i.pop()});let r={...e};if(n){const i=ite(o);if(i){const{sendData:u}=await jI.run({id:i.id,createdAt:i.createdAt,author:i.author,content:i.content,mode:i.mode});u&&(r={...r,...u})}}const a=await ks();a.regenerate(r),a.resetConversationTiming(o,s),a.setChatModeForConversation(o,xo()),a.callBeforeSendForConversation(o)}async function pce(e){const t=performance.now(),n=pe(je);if(!n)return;const s=await ks();s.sendSkipReasoning(e),f3(n,o=>{const r=Si(o);(r==null?void 0:r.id)===e.messageId&&o.pop()}),s.resetConversationTiming(n,t),s.callBeforeSendForConversation(n)}async function hce(e){const{text:t,filesWithAttachment:n=[]}=e,s=pe(je),o=pe(Iw),{isSubmittable:r}=await GT(e);if(!r||!s)return;if(Zie(t??"",n,o,lx[s])){const i=await ks({useMockConnection:zT(t)}),u=await WT(e,!0);i.sendMessagePreview(u.sendMessageParams),lx[s]={text:t??"",atTimestamp:Date.now(),files:n}}}async function gce(e){(await ks()).selectSxSMessage(e)}async function vce(e){const t=pe(je);if(!t)return;const{messageId:n,partId:s}=e,o=await ks(),r=xo(),a={conversationId:t,mode:r,content:{type:"command",command:{type:"updateCard",messageId:n,partId:s,update:{type:"consent",status:"rejected"}}}};o.send(a)}async function Cce(){await ks()}const jn={connect:Cce,submitMessage:uce,stopMessage:mce,onSubmitMessageBlocked:dce,regenerateMessage:fce,skipReasoningForMessage:pce,sendMessagePreview:hce,selectSideBySideMessage:gce,updateCardMessageCommand:vce};function d_e(e,t){return e.find(n=>n.partId===t)}function yce(e){return{attachment:{item:{type:"image",url:e},content:{type:"image",url:e},size:0,type:"image/webp"}}}function $T(e){const{deferred:t=!1}=e??{},n=!!M(je),s=M(Qd),[o,r]=Ue(mC),a=oe(im),i=ut(),u=i.startsWith("/chats")&&i!=="/chats/new";c.useEffect(()=>{const h=Kie()==="ac"||u?null:iZ();if(h){const g=yZ();r({prompt:h,inputMethod:g}),a({source:"queryInUrl",prompt:h})}},[a,r,u]);const d=c.useCallback(()=>{r(null)},[r]),m=c.useCallback(f=>{f&&(a({source:"queryInUrl",prompt:f}),(async()=>{if(n&&s&&f){const g=(o==null?void 0:o.inputMethod)??"queryParam";await Xs(),await jn.submitMessage({text:f,inputMethod:g}),d()}})().catch(console.error))},[a,n,s,d,o]);return c.useEffect(()=>{!t&&o&&m(o.prompt)},[t,m,o]),{prompt:(o==null?void 0:o.prompt)??null,handler:t?m:void 0,clear:d}}function qT(){const e=bce(),t=xce();return e.prompt?e:t}function bce(){const{t:e}=q(),{formCode:t,lengthVariant:n,treatment:s,passthroughType:o}=Hie();if(t&&n&&s){const r=e(`promptsByFormCode.${t}.${s}.${n}`,"");return{passthroughType:o,prompt:r,source:r?{type:"formCode",formCode:t}:void 0}}return{passthroughType:null}}function xce(){const{prompt:e}=RT({deferred:!0}),{prompt:t}=$T({deferred:!0});let n=null,s;return e?(n="partial",s=e):t&&(n="full",s=t),{passthroughType:n,prompt:s,source:s?{type:"query"}:void 0}}const Sce=["www.bing.com"];function Ece(){if(!be("restrict-prompt-passthrough-by-domain")||!ae.instance().config().restrictPromptPassthroughDomains)return!0;const{referrer:e}=document;if(!e)return!1;const t=new URL(e);return Sce.includes(t.hostname)}function wce(e){const{handler:t,clear:n}=RT({deferred:!0}),{handler:s,clear:o}=$T({deferred:!0}),{passthroughType:r,prompt:a}=qT(),i=c.useCallback(f=>{D.setLandingPage("chatWithPartialPromptPassthrough"),t(f)},[t]),u=c.useCallback(f=>{D.setLandingPage("chatWithFullPromptPassthrough"),s(f)},[s]),d=c.useCallback(()=>{n(),o()},[o,n]),m=c.useCallback(()=>{if(!Ece()){d();return}if(a&&r)switch(r){case"partial":i(a);break;case"full":u(a);break}},[u,i,d,r,a]);c.useEffect(()=>{e&&m()},[e,m])}const KT=N(null),ZT=N(!1),Ice=N(!1),m_e=N(0),_ce=N("free-talk");function p3(){const e=ut(),t=M(KT),n=M(ZT),s=M(_ce),o=G("labs-portrait-enabled")&&e.startsWith("/labs/portrait"),r=G("labs-portrait-v2"),a=o&&t,i=a?t.id:void 0,u=a&&!n?t.voiceId:void 0;return{isPortraitEnabled:o,isPortraitV2Enabled:r,portraitId:i,portraitVoiceId:u,portraitScenario:s}}const Tce=["study-mode-lumi","study-mode-lumi-v2","study-mode-summary"];function lh(){const e=G("study-mode-summary"),n=Qs()==="study";return e&&n&&!Kd()}const YT=["character-animation-spda2e","character-animation-vasa"],Ace=[...YT,...Tce];function QT(e){return e==="study"?Ace:YT}function Cm(){const{isPortraitEnabled:e}=p3(),t=Qs(),{lumiEnabled:n=!1}=ae.instance().config();return!!((!!n3(QT(t),"any")||n)&&!e&&(!Kd()||be("appr-mobile")))}function h3(){const e=M(bo);return Cm()&&!!e}function Bs(){const e=$e().get(bo),t=xo(),{lumiEnabled:n=!1}=ae.instance().config();return!!((!!pd(QT(t),"any")||n)&&e)}function df(e){return qw.includes(e)}function kce(){const e=ut(),t=c.useRef(!1),n=M(Yt),[s,o]=Ue(bo),r=Cm();c.useEffect(()=>{e.startsWith("/chats")&&tn("appearance-talk")==="1"&&(t.current=!0)},[e]),c.useEffect(()=>{r&&n&&t.current&&(t.current=!1,o(Aa))},[n,t,s,o,r])}function sc(){const e=M(Ta),t=M(hn);return e.length===0&&!!(t!=null&&t.isNew)}function JT(){try{return La().latestLocation.pathname}catch{return typeof window<"u"&&window.location.pathname?window.location.pathname:"/"}}function wr(){return JT()==="/"}function XT(e){c.useEffect(()=>{const t=()=>{e()};return Rt.on("languageChanged",t),()=>{Rt.off("languageChanged",t)}},[e])}function g3(){const e=pZ()??hZ();if(e&&gZ(e))return e}const Op=N(0),Mce=N(0),eA=N(void 0),uh=N(!1),v3=N(e=>{const t=e(dY),n=e(Rw),s=e(eA),o=e(uh);if(t)return t;if(!(o||n))return s}),dh=N(e=>{const t=e(v3),n=t==null?void 0:t.widgets,s=e(Op);if(!n||n.length===0)return;const o=Math.max(0,Math.min(s,n.length-1));return n[o]}),C3=N(e=>{var o;const t=e(v3),n=e(uh),s=e(Op);if(n||!t)return null;if(t.greetingOptions.length>0){const r=Math.max(0,Math.min(s,t.greetingOptions.length-1));return((o=t.greetingOptions[r])==null?void 0:o.text)??null}return null}),tA=N(!1),Nce=N(e=>{const t=e(dh);return t==null?void 0:t.id}),Rce=N(e=>{const t=e(dh);return(t==null?void 0:t.type)==="textAndImage"}),Pce=N(null,(e,t)=>{const n=e(v3),s=e(Op);if(!n||n.widgets.length<=1||n.greetingOptions.length<=1)return;const o=Math.min(n.widgets.length,n.greetingOptions.length),r=(s+1)%o;t(Op,r)}),Dp=1e3*60*60,Lce={refetchInterval:Dp,refetchOnWindowFocus:!1,staleTime:Dp};async function Oce(e,t,n){return St(e,qK,{query:{supportedWidgets:t.join(","),...n?{intent:n}:{}},options:{method:"GET",headers:{"Content-Type":"application/json"}},analytics:{anonymousPath:e}}).then(s=>s.data)}function ux(e){return e?["conversation-starter"]:["conversation-starter","image-generation","conversation-starter-prompted-greeting","categorized-conversation-starter","conversation-starter-send-message"]}function Dce(){var h;const e=oe(eA),[t,n]=c.useState(!1),s=g3(),o=oe(uh),r=Zt("kill-landing-widgets"),a=!!((h=ae.instance().config().landingPage)!=null&&h.shouldFetchWidgetsData);MT({onStartComplete:()=>{n(!0)}});const i=t&&a,{data:u,isLoading:d,error:m,refetch:f}=Ms({queryKey:["homepage",ux(r),s],enabled:i,queryFn:()=>Oce("/activation/homepage",ux(r),s),...Lce});c.useEffect(()=>{o(d)},[d,o]),XT(()=>i&&f()),c.useEffect(()=>{if(u!=null&&u.pages){const g=u.pages[0];g&&e(g)}},[u,e]),c.useEffect(()=>{m&&(D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"homepage",eventInfo_errorMessage:String(m),eventInfo_details:"Homepage API error"}}),o(!1),e(void 0))},[m,e,o])}function jce(){const e=M(C3),t=sc(),n=wr(),s=e&&t&&n;return c.useMemo(()=>{if(s)return{type:"greeting",greetingMessage:e}},[e,s])}function Uce(e=5){const t=M(je),n=M(L1),s=G("adsidsync"),o=M(Mn),r=Qt(),a=ch(o),i=M(hC),u=kl();c.useEffect(()=>{const{adsEnabled:d,adsIdSyncEnabled:m,enforceAdsOptOutOfPersonalization:f}=ae.instance().config(),h=d&&!u;if(t&&n&&(s||m)){const g=fv(),v=ji().advertising;if(D.trackEvent({name:"system",data:{eventName:"copilotAdsSignal",eventInfo_scenario:"syncAdvertisingId",eventInfo_conversationId:t,eventInfo_additionalData:JSON.stringify({isAdsEnabled:h,isAdPersonalizationEnabled:v,isAuthenticated:r,adsIdSyncEnabled:m,isGdprPlusRegion:a,isChoiceCookieEmpty:!g})}}),!m&&!h)return;const y=new URLSearchParams;if(y.append("cpid",n),y.append("cvid",t),r&&y.append("cp","1"),g){if(a&&!v)return;v&&!f?y.append("ps","1"):y.append("ps","0")}else{if(a)return;y.append("ps","1")}const b=`https://c.bing.com/cp?${y}`,E=performance.now();rm(async()=>{const S=await fetch(b,{method:"GET",mode:"no-cors",credentials:"include"}),I=performance.now();hI(b,"GET",I-E,S.clone())},{maxRetries:e,initialDelayMs:1e3,backoffFactor:2,maxDelayMs:6e4,jitterFactor:0,onFailure:({attemptCount:S,errors:I,exitReason:_})=>{const T=I[I.length-1],A={errorType:(T==null?void 0:T.errorType)??"Unknown",errorMessage:(T==null?void 0:T.errorMessage)??"Unknown error",attemptNumber:S,maxRetries:e,url:b,userAgent:navigator.userAgent,onlineStatus:navigator.onLine,exitReason:_};D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"AdsError",eventInfo_errorMessage:"Ads Id Sync failed with error",eventInfo_details:JSON.stringify(A)}})}}).catch(()=>{})}},[i,t,o,e,a,s,n,r,u])}function nA(){return M(Mn)==="US"&&ae.instance().config().proSubscription.enabled}const sA="free";function $r(e){return e instanceof Error?{errorCode:e.toString(),errorDetails:e.message}:{errorCode:"unknown",errorDetails:String(e)}}function Fl(e,t,n){const s={eventInfo_payflowEntryPoint:t.payflowEntryPoint,eventInfo_upsellReason:t.upsellReason,eventInfo_loginProvider:t.loginProvider,eventInfo_payflowType:"DIME",eventInfo_payflowInstanceId:t.payflowInstanceId,eventInfo_curatedSubscription:t.curatedSubscription,eventInfo_correlationId:t.correlationId,eventInfo_dimeMarket:t.dimeMarket,eventInfo_campaignId:t.campaignId};let o;switch(e){case"payflowEnter":o={eventName:"payflowEnter",...s,eventInfo_upsellEntryStyle:(n==null?void 0:n.eventInfo_upsellEntryStyle)||"Banner"};break;case"payflowLoginClick":o={eventName:"payflowLoginClick",...s};break;case"dimeCheckoutRendering":o={eventName:"dimeCheckoutRendering",...s,eventInfo_dimeExperienceId:(n==null?void 0:n.eventInfo_dimeExperienceId)??""};break;case"dimeCheckoutSuccess":o={eventName:"dimeCheckoutSuccess",...s,eventInfo_dimeExperienceId:(n==null?void 0:n.eventInfo_dimeExperienceId)??""};break;case"dimeCheckoutClosed":o={eventName:"dimeCheckoutClosed",...s,eventInfo_dimeExperienceId:(n==null?void 0:n.eventInfo_dimeExperienceId)??""};break;case"dimeCheckoutError":o={eventName:"dimeCheckoutError",eventInfo_errorCode:(n==null?void 0:n.eventInfo_errorCode)??"",eventInfo_errorDetails:(n==null?void 0:n.eventInfo_errorDetails)??"",...s,eventInfo_dimeExperienceId:(n==null?void 0:n.eventInfo_dimeExperienceId)??""};break;default:o={eventName:"unknown",...s};break}D.trackEvent({name:"interaction",data:o})}function Fce(e){Fl("payflowEnter",e,{eventInfo_upsellEntryStyle:e.upsellEntryStyle??""})}function f_e(e){Fl("payflowLoginClick",e)}function Bce(e){Fl("dimeCheckoutRendering",e,{eventInfo_dimeExperienceId:e.dimeExperienceId,eventInfo_upsellEntryStyle:e.upsellEntryStyle??""})}function Vce(e){Fl("dimeCheckoutSuccess",e,{eventInfo_dimeExperienceId:e.dimeExperienceId,eventInfo_upsellEntryStyle:e.upsellEntryStyle??""})}function Hce(e){Fl("dimeCheckoutClosed",e,{eventInfo_dimeExperienceId:e.dimeExperienceId,eventInfo_upsellEntryStyle:e.upsellEntryStyle??""})}function p_e(e){D.trackEvent({name:"interaction",data:{eventName:"manageSubPageActionClick",eventInfo_loginProvider:e.loginProvider,eventInfo_curatedSubscription:e.curatedSubscription,eventInfo_actionTarget:e.actionTarget}})}function h_e(e){D.trackEvent({name:"interaction",data:{eventName:"manageSubFREShown",eventInfo_loginProvider:e.loginProvider,eventInfo_curatedSubscription:e.curatedSubscription}})}function g_e(e){D.trackEvent({name:"interaction",data:{eventName:"manageSubPageLoaded",eventInfo_loginProvider:e.loginProvider,eventInfo_curatedSubscription:e.curatedSubscription,eventInfo_willShowFre:e.willShowFre,eventInfo_willShowProDeprecation:e.willShowProDeprecation,eventInfo_upgradeButtonShown:e.upgradeButtonShown,eventInfo_upgradeButtonTarget:e.upgradeButtonTarget,eventInfo_manageButtonShown:e.manageButtonShown,eventInfo_manageButtonTarget:e.manageButtonTarget,eventInfo_cancelButtonShown:e.cancelButtonShown,eventInfo_cancelButtonTarget:e.cancelButtonTarget,eventInfo_proAutoRenewOn:e.proAutoRenewOn}})}function Qg(e){Fl("dimeCheckoutError",e,{eventInfo_dimeExperienceId:e.dimeExperienceId,eventInfo_errorCode:e.errorCode,eventInfo_errorDetails:e.errorDetails})}function jo({scenario:e,duration:t=0,customData:n}){go({feature:"subscriptions",scenario:e,duration:t,customData:n?JSON.stringify(n):void 0})}function lr({errorCode:e,errorDetails:t,scenario:n,customData:s}){qt({feature:"subscriptions",scenario:n,errorType:e,errorMessage:t,customData:s?JSON.stringify(s):void 0})}function oA(e){const{correlationId:t,payflowInstanceId:n}=e;D.trackEvent({name:"system",data:{eventName:"payflowUserMismatched",eventInfo_correlationId:t,eventInfo_payflowInstanceId:n}})}function zce(e){const{payflowEntryPoint:t,upsellReason:n,loginProvider:s,disabledReason:o,curatedSubscription:r}=e;D.trackEvent({name:"interaction",data:{eventName:"payflowEntryDisabled",eventInfo_payflowEntryPoint:t,eventInfo_upsellReason:n,eventInfo_loginProvider:s,eventInfo_disabledReason:o,eventInfo_curatedSubscription:r}})}function Gce(e){const{upsellEntryStyle:t,actionButton:n,payflowEntryPoint:s,upsellReason:o,loginProvider:r,payflowType:a,curatedSubscription:i}=e;D.trackEvent({name:"interaction",data:{eventName:"payflowEntryImpression",eventInfo_upsellEntryStyle:t,eventInfo_actionButton:n,eventInfo_payflowEntryPoint:s,eventInfo_upsellReason:o,eventInfo_loginProvider:r,eventInfo_payflowType:a,eventInfo_curatedSubscription:i}})}function Jg(e){const{entryPoint:t,featureName:n}=e;D.trackEvent({name:"interaction",data:{eventName:"featureQuotaRunningOutShown",eventInfo_entryPoint:t,eventInfo_featureName:n}})}function Xg(e){const{entryPoint:t,featureName:n}=e;D.trackEvent({name:"interaction",data:{eventName:"featureQuotaRunningOutOptionClick",eventInfo_entryPoint:t,eventInfo_featureName:n}})}function v_e(e){const{upsellEntryStyle:t,actionButton:n,payflowEntryPoint:s,upsellReason:o,loginProvider:r,payflowType:a,curatedSubscription:i,payflowInstanceId:u,correlationId:d,duration:m}=e;D.trackEvent({name:"interaction",data:{eventName:"upgradeBenefitDialogLoad",eventInfo_upsellEntryStyle:t,eventInfo_actionButton:n,eventInfo_payflowEntryPoint:s,eventInfo_upsellReason:o,eventInfo_loginProvider:r,eventInfo_payflowType:a,eventInfo_curatedSubscription:i,eventInfo_payflowInstanceId:u,eventInfo_correlationId:d,eventInfo_duration:m}})}function C_e(e){const{upsellEntryStyle:t,actionButton:n,payflowEntryPoint:s,upsellReason:o,loginProvider:r,payflowType:a,curatedSubscription:i,payflowInstanceId:u,correlationId:d}=e;D.trackEvent({name:"interaction",data:{eventName:"upgradeBenefitDialogContinue",eventInfo_upsellEntryStyle:t,eventInfo_actionButton:n,eventInfo_payflowEntryPoint:s,eventInfo_upsellReason:o,eventInfo_loginProvider:r,eventInfo_payflowType:a,eventInfo_curatedSubscription:i,eventInfo_payflowInstanceId:u,eventInfo_correlationId:d}})}function y_e(e){const{payflowEntryPoint:t,upsellEntryStyle:n,pageName:s,clickSource:o,entryPoint:r}=e;D.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_payflowEntryPoint:t,eventInfo_upsellEntryStyle:n,eventInfo_pageName:s,eventInfo_clickSource:o,eventInfo_entryPoint:r}})}const Wce="https://content.lifecycle.office.net/dime/v1/dime.js";function $ce(){return new Promise((e,t)=>{const n=performance.now(),s=document.createElement("script");s.src=Wce,s.type="text/javascript",s.async=!0,s.onload=()=>{jo({scenario:"loadDimeScript",duration:performance.now()-n}),e()},s.onerror=()=>{const o=new Error("Failed to load Dime script");lr({...$r(o),scenario:"loadDimeScript",customData:{duration:performance.now()-n}}),t(o)},document.head.appendChild(s)})}const dx=new Zi($ce);async function qce({language:e,market:t,sessionId:n}){var r,a;const s={language:e,market:t,sessionId:n},o=performance.now();try{const[i]=await Promise.all([GI(),dx.get()]);jo({scenario:"prepareDimeInitialization",duration:performance.now()-o,customData:s}),i||lr({scenario:"initializeDime",errorCode:"noUserInfo",customData:s}),i!=null&&i.username||lr({scenario:"initializeDime",errorCode:"NoMSAAuthHint",customData:s}),(r=i==null?void 0:i.idTokenClaims)!=null&&r.puid||lr({scenario:"initializeDime",errorCode:"NoMSAPuid",customData:s});const u=new window.Dime({language:e,market:t,sessionId:n,partnerId:"cmc",authHint:i==null?void 0:i.username,userInfo:{puid:(a=i==null?void 0:i.idTokenClaims)==null?void 0:a.puid}});return jo({scenario:"initializeDime",duration:performance.now()-o,customData:s}),u}catch(i){return dx.reset(),lr({...$r(i),scenario:"initializeDime",customData:{...s,duration:performance.now()-o}}),null}}const e0=new Zi(e=>qce(e));var pi,Jc;class Kce{constructor(){Vt(this,pi,Dn("payflowCorrelationId")??crypto.randomUUID());Vt(this,Jc);O(this,"ensureDime",async({language:t,market:n})=>{const s=performance.now(),o={language:t,market:n,sessionId:de(this,pi)};de(this,Jc)&&t!==de(this,Jc)&&(e0.reset(),jo({scenario:"resetDimeForLanguageChange",customData:o})),yt(this,Jc,t);const r=await e0.get({language:t,market:n,sessionId:de(this,pi)});return jo({scenario:"ensureDime",duration:performance.now()-s,customData:o}),r});O(this,"overrideSessionId",t=>{e0.reset(),yt(this,pi,t)})}get sessionId(){return de(this,pi)}}pi=new WeakMap,Jc=new WeakMap;const mf=new Kce;function Io(e,t={}){const{preventReferrer:n=!1}=t,s=n?"noopener,noreferrer":"noopener";return window.open(e,"_blank",s)}const rA="https://go.microsoft.com/fwlink/?linkid=2281226&client=cmc&ocid=cmme6wdx8nv",mx="cmme6wdx8nv",fx="cmmipliy5qj";function Zce(e){const{urlParams:t}=ae.instance().config().proSubscription;if(!t)return rA;const{client:n}=t,{linkid:s,ocid:o,language:r,market:a}=e,i=new URL("https://go.microsoft.com/fwlink/");return i.searchParams.append("linkid",s),i.searchParams.append("client",n),i.searchParams.append("ocid",o),a&&i.searchParams.append("market",a),r&&i.searchParams.append("language",r),i.toString()}function Yce(e,t){var o,r;const{urlParams:n}=ae.instance().config().proSubscription;if(!n)return mx;const{ocids:s}=n;return(t?(o=s[e])==null?void 0:o.freeTrial:(r=s[e])==null?void 0:r.buy)??mx}function b_e(e,t,n,s){var d;const{urlParams:o}=ae.instance().config().proSubscription;if(!o)return rA;const{ocids:r}=o,a=Yce(e,t),i=s??((d=r[e])==null?void 0:d.market);return Zce({linkid:t?"2243582":"2281226",ocid:a,language:n,market:i})}function Qce(e){const{ocid:t}=e,n=new URL("https://aka.ms/AA84f4p");return n.searchParams.append("ocid",t),n.toString()}function Jce(e){var s;const{m365UrlParams:t}=ae.instance().config().proSubscription;if(!t)return fx;const{ocids:n}=t;return((s=n[e])==null?void 0:s.buy)??fx}const Xce="https://account.microsoft.com/services/copilot/details",ele="https://account.microsoft.com/services/microsoft365/details",x_e="https://account.microsoft.com/";function S_e({entryPoint:e,isPro:t}){const{manageRefId:n}=ae.instance().config().proSubscription,s=`copilot.${n}.${e}`,o=new URL(t?Xce:ele);return o.searchParams.append("ref",s),o.hash="billing",o.toString()}function tle(e){ae.instance().config().subscribeInNewWindow?Io(e):Dl(e)}function y3(e){const{payflowEntryPoint:t,upsellReason:n,entryStyle:s,requiresPremium:o=!1,enableDimePreload:r=!1,upsellEligibleSubscription:a}=e,i=Zt("kill-subs-dime"),u=Zt("kill-subs-user-mismatched-dialog"),d=nA(),m=!i,f=M(Mn),h=M(tm),{i18n:{resolvedLanguage:g}}=q(),C=M(cn),v=M(Wo),y=M(nm),b=M(Ki),{shouldRedirectMobile:E,redirectMobileSource:S}=$Y(b??null),I=oe(gC),_=oe(k1),T=M(Qd),A=c.useRef(!1),k=oe(Lw),R=M(Yt),P=c.useMemo(()=>{const $=WY(y,a);return $||GY(y,o)},[a,o,y]),V=c.useMemo(()=>m?"DIME":d?"ProSubPaywall":"UniPux",[m,d]);c.useEffect(()=>{m&&r&&P&&(C==null?void 0:C.accountType)==="MSA"&&(async()=>{const te=await mf.ensureDime({language:g??"en-US",market:f}),J={language:g,market:f,sessionId:mf.sessionId,experiences:P};if(te){const W=performance.now();try{await te.preload({experiences:[P]}),jo({scenario:"preloadDime",duration:performance.now()-W,customData:J})}catch(ie){lr({...$r(ie),scenario:"preloadDime",customData:{...J,duration:performance.now()-W}})}}else lr({...$r(new Error("Dime not a valid instance")),scenario:"preloadDime",customData:J})})()},[g,f,P,m,r,C==null?void 0:C.accountType]);const U=c.useMemo(()=>Jce(t),[t]),K=c.useCallback(()=>{const $=Qce({ocid:U});jo({scenario:"redirectToExternalUpsell",customData:{url:$}}),tle($)},[U]),Z=c.useMemo(()=>({payflowEntryPoint:t,upsellReason:n??"unknown",loginProvider:(C==null?void 0:C.accountType)??"unknown",curatedSubscription:(b==null?void 0:b.tier)??sA,campaignId:U,dimeMarket:f??"unknown",correlationId:mf.sessionId,dimeExperienceId:P??"",upsellEntryStyle:s}),[t,n,C==null?void 0:C.accountType,b==null?void 0:b.tier,U,f,P,s]),Y=c.useCallback(async $=>{const te={...Z,payflowInstanceId:$};Fce({...te});const J=await mf.ensureDime({language:qY(g??"en-US"),market:f});if(!P)throw new Error("No dime experience available");if(J)try{Bce({...te,dimeExperienceId:P}),(await J.launch({experience:P,theme:v??"light",campaignId:U},()=>{Vce({...te,dimeExperienceId:P})})).status==="Success"?jl():Hce({...te,dimeExperienceId:P})}catch(W){Qg({...te,dimeExperienceId:P,...$r(W)}),K()}else Qg({...te,dimeExperienceId:P,...$r(new Error("Dime not a valid instance"))}),K()},[g,f,v,P,U,Z,K]),Q=c.useCallback(async()=>{if(!T){jo({scenario:"subscriptionUserNotFetched"}),A.current=!0;return}if(A.current=!1,f&&xv.includes(f)){jo({scenario:"subscriptionRegionRestricted",customData:{region:f}});return}if(h){jo({scenario:"subscriptionUserAgeRestricted"});return}if(E&&S!==null){I({source:S,entryStyle:s,upsellReason:n,payflowEntryPoint:t});return}if((!d||m)&&(C==null?void 0:C.provider)==="auth0"){$s("parsedPayflowEntryPoint",t),_({source:"Composer"});return}let $=Dn("payflowInstanceId");$||($=crypto.randomUUID(),$s("payflowInstanceId",$),lr({scenario:"missingPayflowInstanceId",errorCode:"payflowInstanceIdMissing",customData:{generatedPayflowInstanceId:$}}));const te=Dn("payflowAuthHint"),J=(R==null?void 0:R.id.toLowerCase())??"";if(typeof(R==null?void 0:R.id)=="string"&&typeof te=="string"&&te.length>0&&!J.endsWith(te.toLowerCase())&&!J.startsWith(te.toLowerCase()))if(u)oA({correlationId:Dn("payflowCorrelationId")??"",payflowInstanceId:$});else{k({correlationId:Dn("payflowCorrelationId")??"",payflowInstanceId:$,payflowEntryPoint:t});return}if(na("payflowRequiresPremium"),na("payflowCorrelationId"),na("payflowAuthHint"),i){K();return}try{await Y($)}catch(W){Qg({...Z,...$r(W),payflowInstanceId:$,dimeExperienceId:P??""}),K()}},[f,i,E,S,d,m,C==null?void 0:C.provider,_,I,s,n,t,Y,Z,K,P,T,k,R==null?void 0:R.id,h,u]);return c.useEffect(()=>{T&&A.current&&(A.current=!1,Q())},[T,Q]),{handleSubscription:c.useCallback(async()=>{const $=crypto.randomUUID();return $s("payflowInstanceId",$),Q()},[Q]),handleResumeSubscriptionWithCurrentInstanceId:Q,shouldUseDime:m,payflowType:V}}function mh(){const e=M(Yt),t=M(rI),n=M(Ki),s=M(nm),o=M(tm),r=M(Mn);return c.useMemo(()=>ae.instance().config().proSubscription.enabled?e?(n==null?void 0:n.tier)==="m365-premium-admin"||t?{subscriptions:[],disabledReason:"AlreadyPurchased"}:o?{subscriptions:[],disabledReason:"RestrictedAgeGroup"}:!r||xv.includes(r)?{subscriptions:[],disabledReason:"RestrictedRegion"}:(n==null?void 0:n.tier)==="m365-family-guest"||(n==null?void 0:n.tier)==="m365-premium-guest"||(n==null?void 0:n.tier)==="m365-family-classic-guest"?{subscriptions:[],disabledReason:"Guest"}:s.length===0?{subscriptions:["m365-personal","m365-premium"]}:s.some(a=>a.tier==="pro")?{subscriptions:["m365-premium"]}:s.some(a=>Hw.includes(a.tier))?{subscriptions:[]}:s.some(a=>zw.includes(a.tier))?{subscriptions:["m365-premium"]}:{subscriptions:["m365-personal","m365-premium"]}:{subscriptions:[],disabledReason:"UserProfileUnavailable"}:{subscriptions:[],disabledReason:"SurfaceNotSupported"},[e,t,n==null?void 0:n.tier,o,r,s])}function nle(e){const t=M(cn),n=M(Qd),s=M(tm),{upsellFromAuth0:o}=ae.instance().config().proSubscription,a=Qt()&&(t==null?void 0:t.provider)==="microsoft",i=mh(),u=M(nm),d=Dn("shouldStartSubscription"),m=Dn("parsedPayflowEntryPoint")??"Unknown",f=Dn("payflowRequiresPremium")??!1,h=ut(),g=c.useRef(!1),{handleResumeSubscriptionWithCurrentInstanceId:C}=y3({payflowEntryPoint:m,upsellReason:"",entryStyle:"Redirect",requiresPremium:f});c.useEffect(()=>{if(d&&a&&!h.startsWith("/subscription/start")){na("shouldStartSubscription"),setTimeout(()=>{C()},0);return}if(!(o!=null&&o.navigateToProSubPageAfterLogin))return;const v=sessionStorage.getItem(R2);if(!v)return;async function y(b){const[,E]=b.split("-");if(E==="link"){const S=performance.now(),{getAuth0AccessToken:I,auth0:_}=await Do.get(),T=await I(R1());if(!T){qt({feature:"accountLinkAuth0WithMSA",errorType:"LinkStartedWithoutAuth0Token"});return}try{await kn({path:"/user/link",args:{body:{token:T}}})}catch(A){A instanceof Error&&qt({feature:"accountLinkAuth0WithMSA",errorType:A.name,errorMessage:A.message,exception:A.stack})}finally{_.logout({openUrl:!1}),go({feature:"accountLinkAuth0WithMSA",duration:performance.now()-S}),(i.subscriptions.length!==0||xC(u).isEligible)&&await C()}}}if(e&&!g.current&&n){if(g.current=!0,sessionStorage.removeItem(R2),na("parsedPayflowEntryPoint"),(t==null?void 0:t.accountType)!=="MSA"||s)return;y(v)}},[e,C,o,t,s,n,h,a,d,i,u])}function sle(e){const{isEnabled:t,onIntercept:n,shouldIntercept:s,clickSource:o}=e;c.useEffect(()=>{if(!t)return()=>{};const r=u=>s(u)?(n(u.toString()),!0):!1,a=u=>{const d=u.target.closest("a");d&&d instanceof HTMLAnchorElement&&r(d.href)&&(o&&ye({source:o}),u.preventDefault())},i=window.open;return window.open=function(...d){return d.length>0&&typeof d[0]=="string"&&!r(d[0])?i.apply(window,d):null},document.addEventListener("click",a),()=>{window.open=i,document.removeEventListener("click",a)}},[t,n,s,o])}function ole(){c.useEffect(()=>{const e=rn(r2),t=Date.now();e||An(r2,t.toString())},[])}function aA(){const[e,t]=Ue(_a);return c.useEffect(()=>{t(n=>n||lZ())},[t]),e}function rle(){c.useEffect(()=>{},[])}const E_e=[6,3,1],w_e=[20,10],I_e=6,__e=20,T_e=1e4,A_e={ChartHeight:250,Colors:{stroke:"white",gray:"#999",highPrice:"#D8001D",mediumHighPrice:"#F85900",mediumPrice:"#F8B200",mediumLowPrice:"#B4B400",lowPrice:"#56A503",label:"rgb(var(--color-background-900))"},GradientStopIndex:{Low:0,MediumLow:1,Medium:2,MediumHigh:3,High:4},GradientStepMultipliers:[.8,.9,1,1.1,1.2],LabelPositionThreshold:.85},k_e={initial:{height:0,opacity:0,overflow:"hidden"},animate:{height:"auto",opacity:1,transition:{height:{duration:.4},opacity:{duration:.25,delay:.15}}},exit:{height:0,opacity:0,transition:{height:{duration:.4},opacity:{duration:.25}}}},M_e="https://www.microsoft.com/microsoft-copilot/learn/#faqs8",N_e="https://www.bing.com/rebates/history",R_e=30;function ale(){return{hasMinimumMetadata:!1,hasRichMetadata:!1,canShowGenInsights:!1,breakdown:{hasProductTitle:!1,hasProductImage:!1,hasBuyingOptions:!1,hasReviews:!1,hasPriceHistory:!1,hasConversationStarters:!1,conversationStartersLength:0}}}const ile=N(void 0),P_e=N(!1),cle=N(void 0),lle=N(ale()),ule=N(void 0),iA=N(!1);N(void 0);const dle=g1(new Map),L_e=N(e=>{const t=e(dle);return Array.from(t.values()).some(n=>n.isTracked)});N(void 0);const O_e=N(null),D_e=g1(void 0),j_e=N(null);N(TG.parse({}));const mle=N(void 0);function fle(e){var r;const{offer:t}=e,n=Qt(),s=((r=M(mle))==null?void 0:r.isRebatesActive)===!0;return c.useMemo(()=>!t||!n?!1:t.type==="affiliate"?s:!cA(t),[t,n,s])}function cA(e){if(!e||!e.expiresAt)return!0;const t=new Date(e.expiresAt).getTime();return Number.isNaN(t)?!0:t<Date.now()}function ple(e){const{cashbackOffers:t,shoppingInsights:n}=e,s=t??[],o=s.filter(u=>u.type==="productAd"||u.type==="storewideAd"),r=o.length>0?o.reduce((u,d)=>{const m=new Date(u.expiresAt);return new Date(d.expiresAt)>m?d:u}):null,a=s.find(u=>u.type==="affiliate")??null,i=r?!cA(r):!1;return(n==null?void 0:n.scenario)==="cashback"?{selectedOffer:n.cashbackData.isAdOffer?r:a}:i?{selectedOffer:r}:a?{selectedOffer:a}:{selectedOffer:null}}function hle(e){const{cashbackOffers:t,shoppingInsights:n,hasProductMetaData:s}=e,{selectedOffer:o}=ple({cashbackOffers:t,shoppingInsights:n}),r=G("edge-shopping-enable-product-ads-cashback"),a=(t==null?void 0:t.find(d=>d.type==="affiliate"))??null;return{overriddenCashbackOffer:!s&&(o==null?void 0:o.type)==="productAd"&&!r?a:o}}const gle=[{offerType:"affiliate",isActivated:!0,isAuthenticated:!0,scenario:"affiliateActivated"},{offerType:"affiliate",isActivated:!1,isAuthenticated:!1,scenario:"affiliateUnauthenticated"},{offerType:"productAd",isActivated:!0,isAuthenticated:!0,scenario:"productAdsActivatedMultipleOffers"},{offerType:"storewideAd",isActivated:!0,isAuthenticated:!0,scenario:"storewideActivated"},{offerType:"storewideAd",isActivated:!1,isAuthenticated:!1,scenario:"storewideUnauthenticated"}];function vle(e){const t=gle.find(n=>n.offerType===e.offerType&&n.isActivated===e.isActivated&&n.isAuthenticated===e.isAuthenticated);return t?t.scenario:null}function Cle(e){const{cashbackOffer:t}=e,n=Qt(),s=fle({offer:t});return t?!!vle({offerType:t.type,isActivated:s,isAuthenticated:n}):!1}function yle(e,t){const{hasMinimumMetadata:n}=e;if(n)return"shoppingCard";if(t)return"cashbackCard"}function oc(){var h;const e=M(iA),t=M(lle),n=M(cle),s=(h=M(ule))==null?void 0:h.offers,{overriddenCashbackOffer:o}=hle({cashbackOffers:s,shoppingInsights:(n==null?void 0:n.insights)??void 0,hasProductMetaData:!!n}),r=sc(),a=!Zt("kill-contextual-shopping"),i=r&&a&&(!!n||!!o),u=i?yle(t,!!o):void 0,d=i&&!!(n!=null&&n.insights),m=Cle({cashbackOffer:o})&&u==="cashbackCard";return{isContextualShoppingCardExpanded:e,showShoppingCardInNewChat:i,shoppingScenario:u,cashbackOffer:o,shoppingProductMetadata:n,isCopilotOpenedViaEdgeCTAs:d,hasInsightsSummary:i&&(d||m)}}function ble(e){if(!e.length)return;const t=hr("greetingIndex"),n=e.length,s=t?(parseInt(t,10)+1)%n:0;return ma("greetingIndex",s.toString()),e[s]}const b3=N(!1),xle=N(!1),lA=$e(),Sle=["chat.launchMessage.authenticatedV3Type1","chat.launchMessage.authenticatedV3Type2","chat.launchMessage.authenticatedV3Type3"],Ele=["chat.launchMessage.unauthenticatedV3Type1","chat.launchMessage.unauthenticatedV3Type2","chat.launchMessage.unauthenticatedV3Type3"],wle=["chat.launchMessage.authenticatedV4Type1","chat.launchMessage.authenticatedV4Type2","chat.launchMessage.authenticatedV4Type3","chat.launchMessage.authenticatedV4Type4","chat.launchMessage.authenticatedV4Type5","chat.launchMessage.authenticatedV4Type6","chat.launchMessage.authenticatedV4Type7","chat.launchMessage.authenticatedV4Type8","chat.launchMessage.authenticatedV4Type9","chat.launchMessage.authenticatedV4Type10"],Ile=["chat.launchMessage.unauthenticatedV4Type1","chat.launchMessage.unauthenticatedV4Type2","chat.launchMessage.unauthenticatedV4Type3","chat.launchMessage.unauthenticatedV4Type4","chat.launchMessage.unauthenticatedV4Type5","chat.launchMessage.unauthenticatedV4Type6","chat.launchMessage.unauthenticatedV4Type7","chat.launchMessage.unauthenticatedV4Type8","chat.launchMessage.unauthenticatedV4Type9","chat.launchMessage.unauthenticatedV4Type10"];function _le(){lA.set(b3,!0)}function Tle(){lA.set(b3,!1)}function uA(){const{t:e}=q(),t=M(b3),n=M(Jw),s=M(Nce),o=M(C3),r=G("landing-rotating-greeting"),{showShoppingCardInNewChat:a,shoppingScenario:i}=oc(),d=c.useCallback(()=>a?n?i==="cashbackCard"?["chat.launchMessage.authenticatedShoppingCashback"]:["chat.launchMessage.authenticatedShoppingType1"]:i==="cashbackCard"?["chat.launchMessage.unauthenticatedShoppingCashback"]:["chat.launchMessage.unauthenticatedShoppingType1"]:s&&s==="image-generation"?["chat.launchMessage.unauthenticatedImageWidgets"]:n?r?wle:Sle:r?Ile:Ele,[n,r,a,i,s])(),m=c.useMemo(()=>ble(d),[d]),f=Number(hr("greetingIndex"))||0,h=c.useCallback(()=>s==="image-generation"?e("chat.launchMessage.subheadingImageGenWidget"):null,[s,e]);return{launchGreetingShown:t,greetingKey:m,widgetGreeting:o,widgetSubheading:h(),greetingIndex:f}}const Ale={headers:{"content-type":"application/json"},body:JSON.stringify({type:"private"})};function x3({arg:e}={}){const n=(e==null?void 0:e.isPrivate)??!1?Ale:void 0;return St("/conversations",Oq,{options:{method:"POST",...n}}).then(s=>s.data)}function ym(){const e=M(I1),{mutateAsync:t}=Di({mutationKey:["create-conversation"],mutationFn:async m=>x3({arg:m}),retry:!1}),n=M(vt),s=bl(vt),o=oe(Zd),r=oe(bw),a=oe(Pce),i=vte(),[u,d]=c.useState(!1);return{startConversationDisabled:u,createConversation:c.useCallback(async m=>{const{shouldNavigateToChat:f=!0,characterId:h,isPrivate:g=!1}=m??{};if(e){const C=n.get(e);if((C==null?void 0:C.characterId)===h)return i({id:e,shouldNavigateToChat:f}),e}if(!u)try{d(!0);const{id:C}=await t({isPrivate:g}),v={id:C,updatedAt:new Date().toISOString(),history:[],isNew:!0,characterId:h,continuedAt:null,group:null};return g&&r(C),s(b=>{b.set(C,v)}),i({id:C,shouldNavigateToChat:!g&&f}),o(!0),Tle(),a(),C}catch(C){console.error(C)}finally{d(!1)}},[e,u,n,i,t,s,r,o,a])}}const S3="shouldPerformUserMerge";function kle(e){ma(S3,String(e))}function Mle(){XB(S3)}function Nle(){return hr(S3)!=="false"}function U_e(){const e=M(JZ),t=Qt(),[n,s]=Ue(rB),o=!t&&e;return c.useEffect(()=>{kle(n)},[n]),{shouldShowMergeCheckbox:o,shouldMerge:n,setShouldMerge:s}}const dA=N([]),Rle={"connector-detail":"connector-list","delete-account":"account",name:"account"};function Ir(){var u;const[e,t]=Ue(dA),n=c.useRef([]);c.useEffect(()=>{const d=n.current,m=e;if(d.length>m.length){const f=d.filter((g,C)=>C>=m.length),h=f.length;for(let g=h-1;g>=0;g-=1){const C=f[g];C!=null&&C.onPopPage&&C.onPopPage()}}n.current=e},[e]);const s=e.length>0?(u=e[e.length-1])==null?void 0:u.page:void 0,o=d=>r([d]),r=d=>{const m=d.map(f=>({page:f,onPopPage:void 0}));t(f=>[...f,...m])};return{currentPage:s,pushPage:o,pushPages:r,goBackOrClose:()=>{t(d=>d.length<=0?d:d.slice(0,-1))},closeSettings:()=>{t([])},parentPageOf:Rle}}function mA(e,t){const n={page:e,onPopPage:t==null?void 0:t.onPopPageCallback};$e().set(dA,s=>[...s,n])}function Bl(e){const{pages:t,className:n,children:s,disableLink:o,clickSource:r,onClick:a,pushPagesDelay:i=0}=e,{pushPages:u}=Ir(),d=()=>{setTimeout(()=>{Ge.emit("disclaimer:open-settings"),u(t)},i),a==null||a(),ye({source:r??"settingsLink",destination:t[t.length-1]})};return o?l.jsx("span",{children:s}):l.jsx("button",{className:n,type:"button",title:"",onClick:d,children:s})}function Ple(){const e=oe(Sn);return l.jsx("p",{children:l.jsx(mn,{i18nKey:"settings.copilotBeta.announcementSubtitle",components:{settingsLink:l.jsx(Bl,{pages:["menu","copilot-beta"],className:"underline",clickSource:"disclaimerSettingsLink",onClick:()=>e(null)})}})})}function Lle(){if(!be("copilot-beta-automatic-opt-in"))return;const e=pe(fl);if(e===void 0)mt(bg,!0),mt(fl,!0),jl();else if(e&&pe(bg)){const n={title:z("settings.copilotBeta.announcementTitle"),subtitle:l.jsx(Ple,{})};mt(Sn,n),mt(bg,void 0)}}function E3(e){const t=Td(),n=c.useRef(e);n.current=e,c.useEffect(()=>t.subscribe("onBeforeNavigate",s=>{const{pathChanged:o}=s;o&&n.current(s)}),[t])}let fA=!0,pA=!0;function Ole(e){pA=e}function bm(){return fA}function Dle(){E3(()=>{pA||(fA=!1)})}const jle=(e,t,n)=>{const s=e[t];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((o,r)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},{slice:Ule,forEach:Fle}=[];function Ble(e){return Fle.call(Ule.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function Vle(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const px=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Hle=function(e,t){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},o=encodeURIComponent(t);let r=`${e}=${o}`;if(s.maxAge>0){const a=s.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");r+=`; Max-Age=${Math.floor(a)}`}if(s.domain){if(!px.test(s.domain))throw new TypeError("option domain is invalid");r+=`; Domain=${s.domain}`}if(s.path){if(!px.test(s.path))throw new TypeError("option path is invalid");r+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");r+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(r+="; HttpOnly"),s.secure&&(r+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(r+="; Partitioned"),r},hx={create(e,t,n,s){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+n*60*1e3)),s&&(o.domain=s),document.cookie=Hle(e,t,o)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let s=0;s<n.length;s++){let o=n[s];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(t)===0)return o.substring(t.length,o.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var zle={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return hx.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:s,cookieDomain:o,cookieOptions:r}=t;n&&typeof document<"u"&&hx.create(n,e,s,o,r)}},Gle={name:"querystring",lookup(e){var s;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:o}=window.location;!window.location.search&&((s=window.location.hash)==null?void 0:s.indexOf("?"))>-1&&(o=window.location.hash.substring(window.location.hash.indexOf("?")));const a=o.substring(1).split("&");for(let i=0;i<a.length;i++){const u=a[i].indexOf("=");u>0&&a[i].substring(0,u)===t&&(n=a[i].substring(u+1))}}return n}},Wle={name:"hash",lookup(e){var o;let{lookupHash:t,lookupFromHashIndex:n}=e,s;if(typeof window<"u"){const{hash:r}=window.location;if(r&&r.length>2){const a=r.substring(1);if(t){const i=a.split("&");for(let u=0;u<i.length;u++){const d=i[u].indexOf("=");d>0&&i[u].substring(0,d)===t&&(s=i[u].substring(d+1))}}if(s)return s;if(!s&&n>-1){const i=r.match(/\/([a-zA-Z-]*)/g);return Array.isArray(i)?(o=i[typeof n=="number"?n:0])==null?void 0:o.replace("/",""):void 0}}}return s}};let xc=null;const gx=()=>{if(xc!==null)return xc;try{if(xc=typeof window<"u"&&window.localStorage!==null,!xc)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{xc=!1}return xc};var $le={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&gx())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&gx()&&window.localStorage.setItem(n,e)}};let Sc=null;const vx=()=>{if(Sc!==null)return Sc;try{if(Sc=typeof window<"u"&&window.sessionStorage!==null,!Sc)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Sc=!1}return Sc};var qle={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&vx())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&vx()&&window.sessionStorage.setItem(n,e)}},Kle={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:s,language:o}=navigator;if(n)for(let r=0;r<n.length;r++)t.push(n[r]);s&&t.push(s),o&&t.push(o)}return t.length>0?t:void 0}},Zle={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const s=t||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(n=s.getAttribute("lang")),n}},Yle={name:"path",lookup(e){var o;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(o=n[typeof t=="number"?t:0])==null?void 0:o.replace("/",""):void 0}},Qle={name:"subdomain",lookup(e){var o,r;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,s=typeof window<"u"&&((r=(o=window.location)==null?void 0:o.hostname)==null?void 0:r.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(s)return s[n]}};let hA=!1;try{document.cookie,hA=!0}catch{}const gA=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];hA||gA.splice(1,1);const Jle=()=>({order:gA,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class vA{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=Ble(n,this.options||{},Jle()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=o=>o.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(zle),this.addDetector(Gle),this.addDetector($le),this.addDetector(qle),this.addDetector(Kle),this.addDetector(Zle),this.addDetector(Yle),this.addDetector(Qle),this.addDetector(Wle)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(s=>{if(this.detectors[s]){let o=this.detectors[s].lookup(this.options);o&&typeof o=="string"&&(o=[o]),o&&(n=n.concat(o))}}),n=n.filter(s=>s!=null&&!Vle(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(t,this.options)}))}}vA.type="languageDetector";const CA="i18next";function Xle(e){return iv(e)[0]??e}let ff=null;function yA(){return!!ae.instance().config().useI18nHttpApi}async function bA(e={}){const t=yA();return ff&&!t||(ff=(async()=>{const n=Rt.use(vA).use(pO);t&&B(()=>import("./i18next-http-backend-esm-index-B6Q_9d5z.js"),__vite__mapDeps([4,1])).then(o=>{n.use(o.default)});const s=t?void 0:BU();return await n.init({lng:s?s.lng:void 0,resources:s?s.resources:void 0,supportedLngs:W7.map(({i18nCode:o})=>o),fallbackLng:iv,detection:s?void 0:{lookupLocalStorage:"BUST-LOCAL-STORAGE",lookupCookie:CA,caches:[],convertDetectedLanguage:Xle,...e},interpolation:{escapeValue:!1}}),s||(document.documentElement.dir=Rt.dir(Rt.language.toLowerCase()),document.documentElement.lang=Rt.language.toLowerCase(),await eue(Rt.language,!1)),Rt.on("languageChanged",o=>{typeof document<"u"&&(document.documentElement.dir=Rt.dir(o.toLowerCase()),document.documentElement.lang=o.toLowerCase())}),n.t})()),ff}async function eue(e,t=!0){if(!e)return;await Promise.all(iv(e).map(async s=>{if(!(Rt.hasResourceBundle(s,"translation")&&!yA()))try{const o=await jle(Object.assign({"../../../config/strings/af/strings.json":()=>B(()=>import("./strings-BFN7iOml.js"),[]),"../../../config/strings/am/strings.json":()=>B(()=>import("./strings-DGSle350.js"),[]),"../../../config/strings/ar/strings.json":()=>B(()=>import("./strings-BDkYVQTT.js"),[]),"../../../config/strings/as/strings.json":()=>B(()=>import("./strings-JyrpZ29d.js"),[]),"../../../config/strings/az/strings.json":()=>B(()=>import("./strings-BuEYuHZu.js"),[]),"../../../config/strings/bg/strings.json":()=>B(()=>import("./strings-Crg8sDPi.js"),[]),"../../../config/strings/bn-IN/strings.json":()=>B(()=>import("./strings-CJ2a3d0y.js"),[]),"../../../config/strings/bs/strings.json":()=>B(()=>import("./strings-05I_GI6P.js"),[]),"../../../config/strings/ca-Es-VALENCIA/strings.json":()=>B(()=>import("./strings-g9Np7ZNL.js"),[]),"../../../config/strings/ca/strings.json":()=>B(()=>import("./strings-CWskf4zn.js"),[]),"../../../config/strings/cs/strings.json":()=>B(()=>import("./strings-CP-ZYbpn.js"),[]),"../../../config/strings/cy/strings.json":()=>B(()=>import("./strings-C7QlSgoQ.js"),[]),"../../../config/strings/da/strings.json":()=>B(()=>import("./strings-BdK05UZU.js"),[]),"../../../config/strings/de/strings.json":()=>B(()=>import("./strings-BnQGMw7U.js"),[]),"../../../config/strings/el/strings.json":()=>B(()=>import("./strings-CtdKLpby.js"),[]),"../../../config/strings/en-GB/strings.json":()=>B(()=>import("./strings-BPtebQAx.js"),[]),"../../../config/strings/en-US/strings.json":()=>B(()=>import("./strings-CqNY4j02.js"),[]),"../../../config/strings/es-MX/strings.json":()=>B(()=>import("./strings-Cw8MYhoH.js"),[]),"../../../config/strings/es/strings.json":()=>B(()=>import("./strings-63agAwKQ.js"),[]),"../../../config/strings/et/strings.json":()=>B(()=>import("./strings--S_tFZhX.js"),[]),"../../../config/strings/eu/strings.json":()=>B(()=>import("./strings-Dnqv5s9H.js"),[]),"../../../config/strings/fa/strings.json":()=>B(()=>import("./strings-AiC1hLsw.js"),[]),"../../../config/strings/fi/strings.json":()=>B(()=>import("./strings-C8i3SwG9.js"),[]),"../../../config/strings/fil/strings.json":()=>B(()=>import("./strings-DSFquLZU.js"),[]),"../../../config/strings/fr-CA/strings.json":()=>B(()=>import("./strings-B1lDCD-Q.js"),[]),"../../../config/strings/fr/strings.json":()=>B(()=>import("./strings-Cq-MVbxn.js"),[]),"../../../config/strings/ga/strings.json":()=>B(()=>import("./strings-D5iZnKaS.js"),[]),"../../../config/strings/gd/strings.json":()=>B(()=>import("./strings-sppT16Sv.js"),[]),"../../../config/strings/gl/strings.json":()=>B(()=>import("./strings-DUei-dSv.js"),[]),"../../../config/strings/gu/strings.json":()=>B(()=>import("./strings-_jWzrlXA.js"),[]),"../../../config/strings/he/strings.json":()=>B(()=>import("./strings-DPVQMHdX.js"),[]),"../../../config/strings/hi/strings.json":()=>B(()=>import("./strings-2dmGjhjU.js"),[]),"../../../config/strings/hr/strings.json":()=>B(()=>import("./strings-DnmkR6Eu.js"),[]),"../../../config/strings/hu/strings.json":()=>B(()=>import("./strings-f1usC3Um.js"),[]),"../../../config/strings/hy/strings.json":()=>B(()=>import("./strings-yh7Bk9Du.js"),[]),"../../../config/strings/id/strings.json":()=>B(()=>import("./strings-DpWBchw5.js"),[]),"../../../config/strings/is/strings.json":()=>B(()=>import("./strings-CEFiGOGD.js"),[]),"../../../config/strings/it/strings.json":()=>B(()=>import("./strings-Co4M-wpn.js"),[]),"../../../config/strings/ja/strings.json":()=>B(()=>import("./strings-Bh9f8jZv.js"),[]),"../../../config/strings/ka/strings.json":()=>B(()=>import("./strings-DrnTeSwD.js"),[]),"../../../config/strings/kk/strings.json":()=>B(()=>import("./strings-D4BI4F2Z.js"),[]),"../../../config/strings/km-KH/strings.json":()=>B(()=>import("./strings-BJHauvYl.js"),[]),"../../../config/strings/kn/strings.json":()=>B(()=>import("./strings-Bg60xlw8.js"),[]),"../../../config/strings/ko/strings.json":()=>B(()=>import("./strings-D_LDWDkP.js"),[]),"../../../config/strings/kok/strings.json":()=>B(()=>import("./strings-CyXYyfw_.js"),[]),"../../../config/strings/lb/strings.json":()=>B(()=>import("./strings-Bc_mthuk.js"),[]),"../../../config/strings/lo/strings.json":()=>B(()=>import("./strings-BV4oYdOh.js"),[]),"../../../config/strings/lt/strings.json":()=>B(()=>import("./strings-B9hOqdcN.js"),[]),"../../../config/strings/lv/strings.json":()=>B(()=>import("./strings-sQQ8gwvv.js"),[]),"../../../config/strings/mi/strings.json":()=>B(()=>import("./strings-DttrECnB.js"),[]),"../../../config/strings/mk/strings.json":()=>B(()=>import("./strings-CslHP7bW.js"),[]),"../../../config/strings/ml/strings.json":()=>B(()=>import("./strings-nHbVFiR1.js"),[]),"../../../config/strings/mr/strings.json":()=>B(()=>import("./strings-vTaHHuxk.js"),[]),"../../../config/strings/ms/strings.json":()=>B(()=>import("./strings-EB9bQahT.js"),[]),"../../../config/strings/mt/strings.json":()=>B(()=>import("./strings-DIraTNzo.js"),[]),"../../../config/strings/nb-NO/strings.json":()=>B(()=>import("./strings-CKGq0C4u.js"),[]),"../../../config/strings/ne/strings.json":()=>B(()=>import("./strings-C32mpT-w.js"),[]),"../../../config/strings/nl/strings.json":()=>B(()=>import("./strings-mgS-Wczu.js"),[]),"../../../config/strings/nn-NO/strings.json":()=>B(()=>import("./strings-CJ1rSMoI.js"),[]),"../../../config/strings/or/strings.json":()=>B(()=>import("./strings-CLuDZIju.js"),[]),"../../../config/strings/pa/strings.json":()=>B(()=>import("./strings-CVw0Ev0d.js"),[]),"../../../config/strings/pl/strings.json":()=>B(()=>import("./strings-0mQPqwKF.js"),[]),"../../../config/strings/pt-BR/strings.json":()=>B(()=>import("./strings-Lh6gHrSx.js"),[]),"../../../config/strings/pt-PT/strings.json":()=>B(()=>import("./strings-9d1hxp9O.js"),[]),"../../../config/strings/quz/strings.json":()=>B(()=>import("./strings-BH_v_XWx.js"),[]),"../../../config/strings/ro/strings.json":()=>B(()=>import("./strings-BHGWm1eG.js"),[]),"../../../config/strings/ru/strings.json":()=>B(()=>import("./strings-DTFBBe4t.js"),[]),"../../../config/strings/sk/strings.json":()=>B(()=>import("./strings-Chu9gqPX.js"),[]),"../../../config/strings/sl/strings.json":()=>B(()=>import("./strings-CwviT_gp.js"),[]),"../../../config/strings/sq/strings.json":()=>B(()=>import("./strings-Bb5HmLR0.js"),[]),"../../../config/strings/sr-Cyrl-BA/strings.json":()=>B(()=>import("./strings-Dy_38MEI.js"),[]),"../../../config/strings/sr-Cyrl-RS/strings.json":()=>B(()=>import("./strings-DZzNAr5l.js"),[]),"../../../config/strings/sr-Latn-RS/strings.json":()=>B(()=>import("./strings-DGNO7Njz.js"),[]),"../../../config/strings/sv/strings.json":()=>B(()=>import("./strings-CzOq_Tci.js"),[]),"../../../config/strings/ta/strings.json":()=>B(()=>import("./strings-CGloLLYq.js"),[]),"../../../config/strings/te/strings.json":()=>B(()=>import("./strings-3mo-XX92.js"),[]),"../../../config/strings/th/strings.json":()=>B(()=>import("./strings-Bxpi3FPt.js"),[]),"../../../config/strings/tr/strings.json":()=>B(()=>import("./strings-DjA5ch2p.js"),[]),"../../../config/strings/tt/strings.json":()=>B(()=>import("./strings-CAqlA-6o.js"),[]),"../../../config/strings/ug/strings.json":()=>B(()=>import("./strings-DkXjIrjq.js"),[]),"../../../config/strings/uk/strings.json":()=>B(()=>import("./strings-C9KDnvbX.js"),[]),"../../../config/strings/ur/strings.json":()=>B(()=>import("./strings-Bpa-hW_R.js"),[]),"../../../config/strings/uz-Latn-UZ/strings.json":()=>B(()=>import("./strings-BpItcDBt.js"),[]),"../../../config/strings/vi/strings.json":()=>B(()=>import("./strings-BfwOKHKX.js"),[]),"../../../config/strings/zh-Hans/strings.json":()=>B(()=>import("./strings-hR18lDKd.js"),[]),"../../../config/strings/zh-Hant/strings.json":()=>B(()=>import("./strings-BfKi7S2j.js"),[])}),`../../../config/strings/${s}/strings.json`,7);Rt.addResourceBundle(s,"translation",o,!0,!0)}catch{console.warn(`Translation file for '${s}' not found.`)}}));const n=!Rt.resolvedLanguage||Rt.resolvedLanguage!==e;(Rt.language!==e||n)&&await Rt.changeLanguage(e),t&&il(CA,e,{expireDays:365,secure:!1})}function F_e(){return Rt.resolvedLanguage?Rt.resolvedLanguage.split("-")[0]==="en":!1}function B_e(e){$s("redirectPathOnNextStart",e)}function tue(){const e=Dn("redirectPathOnNextStart");return na("redirectPathOnNextStart"),e!=null&&e.startsWith("/")?e:null}async function nue(e){try{return(await St(`/conversations/${e}/history`,cw,{analytics:{anonymousPath:"/conversations/*/history"},query:{"api-version":"2"},parseOptions:{safe:!0}}).then(n=>n.data)).results.length>0}catch{return!1}}function sue(){return!It("kill-student-offer")}function t0(e){return!e.includes("kill-student-offer")}function w3(e){const{id:t,type:n,source:s,destination:o,scenario:r}=e;ye({source:s,scenario:r,destination:o,customData:JSON.stringify({eventInfo_galleryArtifactId:t,eventInfo_galleryArtifactType:n})})}function V_e(e){w3({...e,scenario:"galleryHomePage"})}function H_e(e){w3({...e,scenario:"galleryDetailPage"})}function z_e(e){const{id:t,type:n}=e;D.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:"galleryDetailPage",eventInfo_impressionElement:"creatorGallery",eventInfo_customData:JSON.stringify({eventInfo_galleryArtifactId:t,eventInfo_galleryArtifactType:n})}})}function G_e(e){const{galleryItemId:t,url:n,thumbnailUrl:s,errorMessage:o,page:r="galleryHomePage",type:a="image"}=e;qt({feature:"creatorGallery",scenario:"mediaLoad",errorType:"load",errorMessage:o??`Failed to load ${a}`,customData:JSON.stringify({galleryItemId:t,url:n,thumbnailUrl:s,page:r})})}const oue=N(null),W_e=N(new Map),fh="/gallery",vd="/imagine";function rue(e){return/\/gallery\/\w+/.test(e)}function aue(e){return/\/imagine\/\w+/.test(e)}function I3(e){return e.startsWith(fh)||e.startsWith(vd)}async function iue(e){const{id:t,isLiked:n}=e,s=await zn(`/gallery/${t}/react/like`,{options:{method:n?"POST":"DELETE"},analytics:{anonymousPath:"/gallery/*"}});if(!s.ok)throw new Error("Failed to fetch Gallery Like data");return s}async function $_e(e){try{const{isLiked:t}=e;w3({...e,source:t?"like":"unlike"}),await iue(e)}catch{}}async function q_e(e){const{index:t,data:n,basePath:s,from:o}=e;$e().set(oue,t);const{id:a}=n;await Ks({from:o,to:`${s}/${a}`})}function K_e(){An(XF,"true")}function Z_e(e){return{eventInfo_galleryLoadNumber:e.maxIndex+1,eventInfo_galleryArtifactTypes:Array.from(e.viewedTypes).join(",")}}function xA(){const e=ut();return SA(e)}function SA(e){return/^\/shares\/[a-zA-Z0-9_-]+$/.test(e)}async function cue(e){const{conversationIdFromUrl:t,conversationIdFromStart:n}=e;return t&&t!=="new"&&await nue(t)?{conversationId:t,isNew:!1}:n?{conversationId:n,isNew:!0}:{conversationId:null,isNew:!0}}async function lue(e){const{pathname:t,conversationIdFromUrl:n,conversationFromUrlExists:s,urlPrompt:o,features:r,isBanned:a,enablePageRedirect:i,deepLinkTarget:u,search:d,redirectTargetFromStorage:m,userAccount:f}=e;if(!i||a||VC()||navigator.userAgent.toLowerCase().includes("googlebot")&&t==="/")return null;if(o||n==="new")return{to:u==="audioCall"?"/chats/$conversationId/talk":"/",from:t,needsConversationId:u==="audioCall"};if(t.startsWith("/shares"))return t.startsWith("/shares/pages")?!r.includes("kill-shared-page")?null:Xt(t):t.startsWith("/shares/podcasts")||t.startsWith("/shares/3d-generations")||t.startsWith("/shares/tasks")?null:r.includes("kill-share-conversation")||!SA(t)?Xt(t):null;if(t.startsWith("/campaigns"))if(t.startsWith("/campaigns/gallery")){if(!r.includes("share-campaign-gallery"))return Xt(t)}else if(t.startsWith("/campaigns/image-expression-tool")){if(!r.includes("gallery-expression-tool"))return Xt(t)}else return r.includes("share-campaign")?null:Xt(t);if(["/pro/subscribe","/pro/ewallet/return"].includes(t)||t==="/fang")return null;if(t.startsWith("/referrals")&&!r.includes("user-referral")||t.startsWith("/connector")&&!(r.includes("google-drive-connector")||r.includes("google-calendar-connector")||r.includes("google-mail-connector")||r.includes("google-contacts-connector")))return Xt(t);if(t.startsWith("/memory/narrative"))return r.includes("memory-narrative")?null:Xt(t);if(t.endsWith("/talk"))return t.startsWith("/labs/portrait/talk")&&r.includes("labs-portrait-enabled")?{from:t,to:"/labs/portrait",needsConversationId:!1}:Xt(t);if(t.startsWith("/chats")&&!s)return Xt(t);if(t.startsWith("/pages"))return null;if(t.startsWith("/projects"))return r.includes("projects")?null:{to:"/",from:t};if(t.startsWith("/labs")){if(t.startsWith("/labs/portrait")){const g=r.includes("labs-portrait-enabled"),C=r.includes("labs-portrait-v2");if(!g)return Xt(t);if(!C&&["/labs/portrait/gallery","/labs/portrait/future-self"].some(v=>t.startsWith(v)))return{from:t,to:"/labs/portrait",needsConversationId:!1};if(t.startsWith("/labs/portrait/future-self/create"))return{from:t,to:"/labs/portrait/future-self",needsConversationId:!1}}if(t.startsWith("/labs/career-coach")&&!r.includes("labs-career-coach")||t.startsWith("/labs/audio-expression")&&!r.includes("labs-audio-expression")||!ae.instance().config().enableLabs)return Xt(t)}if(t.startsWith("/login"))return Xt(t);if(t.startsWith("/shopping"))return r.includes("shopping-homepage")?null:{to:"/",from:t};if(t.startsWith("/podcasts"))return t.startsWith("/podcasts/user")||t.startsWith("/podcasts/public")?null:Xt(t);if(["/e/so","/e/sol"].includes(t)&&!t0(r))return Xt(t);if(t==="/e/so"&&t0(r)&&(f==null?void 0:f.accountType)!=="MSA")return{from:t,to:"/e/sol"};if(t==="/e/sol"&&t0(r)&&(f==null?void 0:f.accountType)==="MSA")return{from:t,to:"/e/so"};if(t.startsWith("/library")&&!r.includes("library"))return Xt(t);if(m)return{from:t,to:m,needsConversationId:!1};if(t==="/"){if(r.includes("start-in-voice"))return null;const h=d==null?void 0:d.get("back");return uue(h)&&ae.instance().config().redirectBackEnabled?{from:"/login",to:new URL(h).pathname,needsConversationId:!1}:Xt(t)}return rue(t)?r.includes("kill-gallery-detail")?Xt(t):null:t.startsWith(fh)?r.includes("kill-creator-gallery")?Xt(t):null:aue(t)?r.includes("kill-imagine-detail")?Xt(t):null:t.startsWith(vd)?r.includes("creator-gallery-imagine")?null:Xt(t):null}function uue(e){if(!e)return!1;try{if(new URL(e).origin===window.location.origin)return!0;throw new Error("Invalid redirect URL: not from same origin")}catch{throw new Error("Invalid redirect URL, malformed URL")}}function Xt(e){return{from:e,to:"/"}}function due(){try{const{timeZone:e}=Intl.DateTimeFormat().resolvedOptions();return e}catch{return}}const mue=uZ(),r5=1e4;function fue(){return setTimeout(()=>{qt({feature:"start",scenario:"callStartTimeout",errorType:"timeout",errorMessage:`Start call exceeded ${r5}ms timeout`})},r5)}async function pue(){let e=hr("sessionId");const t=hr("referralCode");!e&&t&&(e=crypto.randomUUID(),ma("sessionId",e));const n=Nle(),s={timeZone:due(),startNewConversation:!0,teenSupportEnabled:!0,deviceFingerprint:e??void 0,referralCode:t??void 0,correctPersonalizationSetting:!0,performUserMerge:n,deferredDataUseCapable:!0},o={};mue&&(o.overrideFeatures="1");const i=wt(c2,he())!==!1?{maxRetries:3,initialDelayMs:100,maxDelayMs:500,backoffFactor:2,jitterFactor:.1}:void 0,{data:u,response:d,zodError:m}=await St("/start",iq,{options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)},parseOptions:{safe:!0},query:o,...i&&{retry:i},requestTimeoutMs:r5,onFailedRequest:f=>{throw f.status===Sv?new Error(Ev):new C1(`Start api failure with status ${f.status}`,{route:"/start",statusCode:f.status})}});if(td.trackClientExperimentationAssignment(d.headers),td.trackLatestApiAssignment(d.headers),m)throw m;return u}function hue(){const{i18n:e}=q(),{showBoundary:t}=lS(),n=oe(od),s=oe(YZ),o=oe(AS),r=oe(vt),a=oe(bw),i=oe(_i),u=oe(je),d=oe(uI),m=oe(w1),f=oe(EC),h=Eo(),[g]=ih(),C=ut(),v=c.useRef(C);v.current=C;const y=t1({strict:!1}),b=c.useRef(y);b.current=y;const E=c.useRef(nZ()),S=M(im),I=c.useRef(S);I.current=S;const _=c.useRef(!0),T=c.useRef(!1),{mutateAsync:A}=Di({mutationKey:["start"],mutationFn:pue,retry:!1}),k=Td();return c.useCallback(async R=>{var K;if(!e.language||T.current&&!R.eventDriven)return!1;T.current=!0;const P=ZJ(),{enablePageRedirect:V,overwriteData:U}=R;s(!0);try{const Z=fue(),{isNewUser:Y,banExpiresAt:Q,remainingTurns:ee,features:$,currentConversationId:te,allowBeta:J,userId:W,inDataUseWaitingPeriod:ie}=await A();clearTimeout(Z),await bA(),Ge.emit("app:start-complete");const Se=D.getPicassoId();Se!==null&&W!==null&&Se!==W&&D.trackEvent({name:"health",data:{eventName:"userIdMismatch",eventInfo_customData:JSON.stringify({existingPicassoId:Se,newPicassoId:W??"",origin:"start"})}}),D.setFeatures($),D.setIsNewUser(Y),n5({isNewUser:Y.toString()});const me=VI({featureOverrides:[],localFeatureOverrides:HI(),localFeaturesToDisable:zI(),serverFeatures:$,surfaceConfig:ae.instance().config()});me.includes("kill-picasso-id-on-start")||D.setPicassoId(W??null),me.includes("msal-silent-sso")?Vn(i2,he(),!0):jt(i2),me.includes("msal-v4-upgrade")?Vn(f2,he(),!0):jt(f2),me.includes("token-retry-max-2")?Vn(d2,he(),!0):jt(d2),me.includes("token-retry-max-2-auth0")?Vn(m2,he(),!0):jt(m2),me.includes("no-start-retry")?Vn(c2,he(),!1):jt(c2),me.includes("reauth-redirect")?Vn(p2,he(),!0):jt(p2);const re=o3(Q),xe=VC(me),Ne=await cue({conversationIdFromUrl:xe?void 0:b.current.conversationId,conversationIdFromStart:xe?void 0:te});let{conversationId:Oe}=Ne;if(!Oe){const{id:ce}=await x3({arg:{isPrivate:xe}});Oe=ce,xe&&a(ce)}const se=await lue({pathname:v.current,conversationIdFromUrl:b.current.conversationId,conversationFromUrlExists:b.current.conversationId===Oe,urlPrompt:((K=I.current)==null?void 0:K.prompt)??null,features:me,enablePageRedirect:V,isBanned:!!re,deepLinkTarget:g,search:new URLSearchParams(window.location.search),redirectTargetFromStorage:tue(),userAccount:pe(cn)});r(ce=>{if(!U&&ce.size>0)return ce;const X=new Map([[Oe,{id:Oe,updatedAt:new Date().toISOString(),history:[],isNew:Ne.isNew,characterId:null,continuedAt:null}]]);return!Ne.isNew&&te&&X.set(te,{id:te,updatedAt:new Date().toISOString(),history:[],isNew:!0,characterId:null,continuedAt:null}),X}),u(ce=>ce&&!U?ce:Oe),o(ce=>ce.length>0&&!U?ce:me),i(ee),d(Y),f(ie??null),m(J??!1),J&&Lle(),r3(re,"start",Q),await k.invalidate(),_.current&&(_.current=!1,se&&await h({...se,params:se.needsConversationId?{conversationId:Oe}:{},search:E.current}))}catch(Z){if(D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"StartEndpointError",eventInfo_errorMessage:Z instanceof Error?Z.message:"",eventInfo_details:Z instanceof Error?Z.stack??"":"",...Z instanceof C1&&{eventInfo_statusCode:Z.statusCode}}}),Z instanceof Error){if(Z.message===Ev)return n("age-verification"),performance.mark("useStart-legal-unavailable"),!0;qB(Z,"/start")}console.error(Z),performance.mark("useStart-error"),t(Z)}finally{s(!1),Ole(!1)}return!0},[A,r,u,a,n,s,o,i,d,m,f,h,e.language,t,g,k])}function gue(){const e=M(gv),[t,n]=Ue(wv),s=hue();return c.useEffect(()=>{t||!e||s({enablePageRedirect:!0,overwriteData:!1}).then(o=>{o&&n(!0)}).catch(console.error)},[s,t,n,e]),c.useEffect(()=>{const o=()=>{s({enablePageRedirect:!1,overwriteData:!0,eventDriven:!0}).catch(console.error)};return Ge.on("auth:account-set-by-msal-sso",o),()=>{Ge.off("auth:account-set-by-msal-sso",o)}},[s]),{appInitialized:t}}let EA=-1;const xm=e=>{addEventListener("pageshow",t=>{t.persisted&&(EA=t.timeStamp,e(t))},!0)},ya=(e,t,n,s)=>{let o,r;return a=>{t.value>=0&&(a||s)&&(r=t.value-(o??0),(r||o===void 0)&&(o=t.value,t.delta=r,t.rating=((i,u)=>i>u[1]?"poor":i>u[0]?"needs-improvement":"good")(t.value,n),e(t)))}},wA=e=>{requestAnimationFrame(()=>requestAnimationFrame(()=>e()))},_3=()=>{const e=performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},ph=()=>{const e=_3();return(e==null?void 0:e.activationStart)??0},ba=(e,t=-1)=>{const n=_3();let s="navigate";return EA>=0?s="back-forward-cache":n&&(document.prerendering||ph()>0?s="prerender":document.wasDiscarded?s="restore":n.type&&(s=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:s}},n0=new WeakMap;function IA(e,t){return n0.get(e)||n0.set(e,new t),n0.get(e)}const hh=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const s=new PerformanceObserver(o=>{Promise.resolve().then(()=>{t(o.getEntries())})});return s.observe({type:e,buffered:!0,...n}),s}}catch{}},_A=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let jc=-1;const Cx=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,jp=e=>{document.visibilityState==="hidden"&&jc>-1&&(jc=e.type==="visibilitychange"?e.timeStamp:0,vue())},yx=()=>{addEventListener("visibilitychange",jp,!0),addEventListener("prerenderingchange",jp,!0)},vue=()=>{removeEventListener("visibilitychange",jp,!0),removeEventListener("prerenderingchange",jp,!0)},TA=()=>{var e;return jc<0&&(jc=(document.prerendering||(e=globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden")[0])==null?void 0:e.startTime)??Cx(),yx(),xm(()=>{setTimeout(()=>{jc=Cx(),yx()})})),{get firstHiddenTime(){return jc}}},gh=e=>{document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},bx=[1800,3e3],Cue=(e,t={})=>{gh(()=>{const n=TA();let s,o=ba("FCP");const r=hh("paint",a=>{for(const i of a)i.name==="first-contentful-paint"&&(r.disconnect(),i.startTime<n.firstHiddenTime&&(o.value=Math.max(i.startTime-ph(),0),o.entries.push(i),s(!0)))});r&&(s=ya(e,o,bx,t.reportAllChanges),xm(a=>{o=ba("FCP"),s=ya(e,o,bx,t.reportAllChanges),wA(()=>{o.value=performance.now()-a.timeStamp,s(!0)})}))})};let AA=0,s0=1/0,pf=0;const yue=e=>{for(const t of e)t.interactionId&&(s0=Math.min(s0,t.interactionId),pf=Math.max(pf,t.interactionId),AA=pf?(pf-s0)/7+1:0)};let a5;const xx=()=>a5?AA:performance.interactionCount??0,bue=()=>{"interactionCount"in performance||a5||(a5=hh("event",yue,{type:"event",buffered:!0,durationThreshold:0}))};let Sx=0;class xue{constructor(){O(this,"u",[]);O(this,"l",new Map);O(this,"m");O(this,"p")}v(){Sx=xx(),this.u.length=0,this.l.clear()}P(){const t=Math.min(this.u.length-1,Math.floor((xx()-Sx)/50));return this.u[t]}h(t){var o,r;if((o=this.m)==null||o.call(this,t),!t.interactionId&&t.entryType!=="first-input")return;const n=this.u.at(-1);let s=this.l.get(t.interactionId);if(s||this.u.length<10||t.duration>n.T){if(s?t.duration>s.T?(s.entries=[t],s.T=t.duration):t.duration===s.T&&t.startTime===s.entries[0].startTime&&s.entries.push(t):(s={id:t.interactionId,entries:[t],T:t.duration},this.l.set(s.id,s),this.u.push(s)),this.u.sort((a,i)=>i.T-a.T),this.u.length>10){const a=this.u.splice(10);for(const i of a)this.l.delete(i.id)}(r=this.p)==null||r.call(this,s)}}}const kA=e=>{const t=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?e():(t(e=_A(e)),document.addEventListener("visibilitychange",e,{once:!0}))},Ex=[200,500],Sue=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&gh(()=>{bue();let n,s=ba("INP");const o=IA(t,xue),r=i=>{kA(()=>{for(const d of i)o.h(d);const u=o.P();u&&u.T!==s.value&&(s.value=u.T,s.entries=u.entries,n())})},a=hh("event",r,{durationThreshold:t.durationThreshold??40});n=ya(e,s,Ex,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(r(a.takeRecords()),n(!0))}),xm(()=>{o.v(),s=ba("INP"),n=ya(e,s,Ex,t.reportAllChanges)}))})};let Eue=class{constructor(){O(this,"m")}h(t){var n;(n=this.m)==null||n.call(this,t)}};const wx=[2500,4e3],wue=(e,t={})=>{gh(()=>{const n=TA();let s,o=ba("LCP");const r=IA(t,Eue),a=u=>{t.reportAllChanges||(u=u.slice(-1));for(const d of u)r.h(d),d.startTime<n.firstHiddenTime&&(o.value=Math.max(d.startTime-ph(),0),o.entries=[d],s())},i=hh("largest-contentful-paint",a);if(i){s=ya(e,o,wx,t.reportAllChanges);const u=_A(()=>{a(i.takeRecords()),i.disconnect(),s(!0)});for(const d of["keydown","click","visibilitychange"])addEventListener(d,()=>kA(u),{capture:!0,once:!0});xm(d=>{o=ba("LCP"),s=ya(e,o,wx,t.reportAllChanges),wA(()=>{o.value=performance.now()-d.timeStamp,s(!0)})})}})},Ix=[800,1800],i5=e=>{document.prerendering?gh(()=>i5(e)):document.readyState!=="complete"?addEventListener("load",()=>i5(e),!0):setTimeout(e)},Iue=(e,t={})=>{let n=ba("TTFB"),s=ya(e,n,Ix,t.reportAllChanges);i5(()=>{const o=_3();o&&(n.value=Math.max(o.responseStart-ph(),0),n.entries=[o],s(!0),xm(()=>{n=ba("TTFB",0),s=ya(e,n,Ix,t.reportAllChanges),s(!0)}))})},_ue=e=>{const n=performance.getEntriesByType("navigation")[0],s=n==null?void 0:n.type;let o;const r=navigator;r.connection&&typeof r.connection.effectiveType=="string"&&(o=r.connection.effectiveType);const a={eventName:e.name,eventInfo_duration:e.value,eventInfo_navigationType:s,eventInfo_connectionType:o};D.trackEvent({name:"system",data:a});try{const i=`web-vitals-${e.name}`;performance.mark(i),performance.measure(`web-vitals-measure-${e.name}`)}catch{}};let _x=!1;function Tue(){const e=oe(Pw);if(typeof window>"u"||_x)return;_x=!0;let t=!1;const n=o=>{_ue(o),e(r=>({...r,[o.name.toLowerCase()]:o.value}))},s=o=>{t||(t=!0,n(o))};Iue(n),Cue(n),wue(s,{reportAllChanges:!0}),Sue(n)}function Aue(){c.useEffect(()=>(window.addEventListener("unhandledrejection",U4),()=>{window.removeEventListener("unhandledrejection",U4)}),[])}function kue(e={}){const{isAppInitialized:t=!1}=e,n=window.appStart;return c.useEffect(()=>!t||!n?()=>{}:(window.addEventListener("beforeunload",q4),()=>{window.removeEventListener("beforeunload",q4)}),[t,n]),{startTime:n}}function Mue({reason:e,onReload:t}){const{t:n}=q();return l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"pb-3 text-xl",children:n("authentication.accountChanged")}),l.jsx("p",{className:"pb-7",children:n(e==="login"?"authentication.signedInOtherTab":"authentication.signedOutOtherTab")}),l.jsx(ne,{onClick:t,title:n("authentication.reloadToContinue"),variant:"pill",size:"48-lg",className:"w-full",children:n("authentication.reloadToContinue")})]})}const T3=e=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 24",...e},c.createElement("path",{fill:"#F25022",d:"M12.05 3H3.5v8.55h8.55V3Z"}),c.createElement("path",{fill:"#7FBA00",d:"M21.5 3h-8.55v8.55h8.55V3Z"}),c.createElement("path",{fill:"#00A4EF",d:"M12.05 12.45H3.5V21h8.55v-8.55Z"}),c.createElement("path",{fill:"#FFB900",d:"M21.5 12.45h-8.55V21h8.55v-8.55Z"})),MA=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M16.289 7.53846C17.3723 7.53846 18.7302 6.8061 19.5389 5.82962C20.2712 4.94469 20.8053 3.70884 20.8053 2.47298C20.8053 2.30515 20.79 2.13732 20.7595 2C19.5541 2.04577 18.1047 2.80865 17.235 3.8309C16.5484 4.60903 15.9229 5.82963 15.9229 7.08074C15.9229 7.26383 15.9534 7.44692 15.9686 7.50795C16.0449 7.5232 16.167 7.53846 16.289 7.53846ZM12.4747 26C13.9547 26 14.6107 25.0083 16.4569 25.0083C18.3335 25.0083 18.7455 25.9695 20.3933 25.9695C22.0106 25.9695 23.0939 24.4743 24.1161 23.0095C25.2604 21.3312 25.7334 19.6834 25.7639 19.6071C25.6571 19.5766 22.5599 18.3102 22.5599 14.7552C22.5599 11.6732 25.0011 10.2848 25.1384 10.178C23.5211 7.85887 21.0646 7.79784 20.3933 7.79784C18.5777 7.79784 17.0977 8.89638 16.167 8.89638C15.16 8.89638 13.8326 7.85887 12.2611 7.85887C9.27061 7.85887 6.23438 10.3306 6.23438 14.9994C6.23438 17.8983 7.36343 20.965 8.75186 22.9485C9.94194 24.6268 10.9794 26 12.4747 26Z"})),Sm=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M29.546 13.667H16.6074V19.1073H24.0425C23.6865 20.781 22.7411 22.2039 21.3419 23.1773V26.6204H25.6809C28.2662 24.1829 29.754 20.5792 29.754 16.3183C29.754 15.4014 29.6798 14.5178 29.546 13.667Z",fill:"#4285F4"}),c.createElement("path",{d:"M25.6811 26.6202L24.1728 25.4233L21.3422 23.1771C20.0963 24.0439 18.4918 24.5553 16.6077 24.5553C13.0066 24.5553 9.94929 22.0813 8.84297 18.7412H4.37549V22.2862C6.62805 26.8602 11.2579 29.9995 16.6077 29.9995C20.3024 29.9995 23.4137 28.7583 25.6811 26.6202Z",fill:"#34A853"}),c.createElement("path",{d:"M8.84338 18.7412C8.55701 17.8759 8.39918 16.9539 8.39918 16C8.39918 15.0465 8.55701 14.1245 8.84338 13.2592V9.71387H4.37549C3.44448 11.6046 2.91699 13.7387 2.91699 16C2.91699 18.2617 3.44448 20.3958 4.37549 22.2865L8.84338 18.7412Z",fill:"#FBBC05"}),c.createElement("path",{d:"M21.9211 9.56791L25.7683 5.64882C23.3952 3.38751 20.301 2 16.6078 2C11.258 2 6.62807 5.13939 4.37549 9.71335L8.843 13.2583C9.94932 9.91789 13.0066 7.44426 16.6078 7.44426C18.6489 7.44426 20.4778 8.1629 21.9211 9.56791Z",fill:"#EA4335"}));function Vl(){return!!ae.instance().config().enableAuth0}function Nue(){const e=n1();return c.useCallback(n=>{n?e.removeQueries({queryKey:n}):e.clear()},[e])}const Rue=0,Pue=1,Lue=2;var Tx=Object.prototype.hasOwnProperty;function c5(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&c5(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(Tx.call(e,n)&&++s&&!Tx.call(t,n)||!(n in t)||!c5(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const qr=new WeakMap,Xr=()=>{},Hs=Xr(),l5=Object,fo=e=>e===Hs,oi=e=>typeof e=="function",Em=(e,t)=>({...e,...t}),Oue=e=>oi(e.then),o0={},hf={},NA="undefined",vh=typeof window!=NA,u5=typeof document!=NA,Due=vh&&"Deno"in window,jue=(e,t)=>{const n=qr.get(e);return[()=>!fo(t)&&e.get(t)||o0,s=>{if(!fo(t)){const o=e.get(t);t in hf||(hf[t]=o),n[5](t,Em(o,s),o||o0)}},n[6],()=>!fo(t)&&t in hf?hf[t]:!fo(t)&&e.get(t)||o0]};let d5=!0;const Uue=()=>d5,[m5,f5]=vh&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Xr,Xr],Fue=()=>{const e=u5&&document.visibilityState;return fo(e)||e!=="hidden"},Bue=e=>(u5&&document.addEventListener("visibilitychange",e),m5("focus",e),()=>{u5&&document.removeEventListener("visibilitychange",e),f5("focus",e)}),Vue=e=>{const t=()=>{d5=!0,e()},n=()=>{d5=!1};return m5("online",t),m5("offline",n),()=>{f5("online",t),f5("offline",n)}},Hue={isOnline:Uue,isVisible:Fue},zue={initFocus:Bue,initReconnect:Vue};Ei.useId;const RA=!vh||Due,r0=typeof navigator<"u"&&navigator.connection,Ax=!RA&&r0&&(["slow-2g","2g"].includes(r0.effectiveType)||r0.saveData),gf=new WeakMap,Gue=e=>l5.prototype.toString.call(e),a0=(e,t)=>e===`[object ${t}]`;let Wue=0;const p5=e=>{const t=typeof e,n=Gue(e),s=a0(n,"Date"),o=a0(n,"RegExp"),r=a0(n,"Object");let a,i;if(l5(e)===e&&!s&&!o){if(a=gf.get(e),a)return a;if(a=++Wue+"~",gf.set(e,a),Array.isArray(e)){for(a="@",i=0;i<e.length;i++)a+=p5(e[i])+",";gf.set(e,a)}if(r){a="#";const u=l5.keys(e).sort();for(;!fo(i=u.pop());)fo(e[i])||(a+=i+":"+p5(e[i])+",");gf.set(e,a)}}else a=s?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return a},PA=e=>{if(oi(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?p5(e):"",[e,t]};let $ue=0;const kx=()=>++$ue;async function que(...e){const[t,n,s,o]=e,r=Em({populateCache:!0,throwOnError:!0},typeof o=="boolean"?{revalidate:o}:o||{});let a=r.populateCache;const i=r.rollbackOnError;let u=r.optimisticData;const d=h=>typeof i=="function"?i(h):i!==!1,m=r.throwOnError;if(oi(n)){const h=n,g=[],C=t.keys();for(const v of C)!/^\$(inf|sub)\$/.test(v)&&h(t.get(v)._k)&&g.push(v);return Promise.all(g.map(f))}return f(n);async function f(h){const[g]=PA(h);if(!g)return;const[C,v]=jue(t,g),[y,b,E,S]=qr.get(t),I=()=>{const Z=y[g];return(oi(r.revalidate)?r.revalidate(C().data,h):r.revalidate!==!1)&&(delete E[g],delete S[g],Z&&Z[0])?Z[0](Lue).then(()=>C().data):C().data};if(e.length<3)return I();let _=s,T,A=!1;const k=kx();b[g]=[k,0];const R=!fo(u),P=C(),V=P.data,U=P._c,K=fo(U)?V:U;if(R&&(u=oi(u)?u(K,V):u,v({data:u,_c:K})),oi(_))try{_=_(K)}catch(Z){T=Z,A=!0}if(_&&Oue(_))if(_=await _.catch(Z=>{T=Z,A=!0}),k!==b[g][0]){if(A)throw T;return _}else A&&R&&d(T)&&(a=!0,v({data:K,_c:Hs}));if(a&&!A)if(oi(a)){const Z=a(_,K);v({data:Z,error:Hs,_c:Hs})}else v({data:_,error:Hs,_c:Hs});if(b[g][1]=kx(),Promise.resolve(I()).then(()=>{v({_c:Hs})}),A){if(m)throw T;return}return _}}const Mx=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},Kue=(e,t)=>{if(!qr.has(e)){const n=Em(zue,t),s=Object.create(null),o=que.bind(Hs,e);let r=Xr;const a=Object.create(null),i=(m,f)=>{const h=a[m]||[];return a[m]=h,h.push(f),()=>h.splice(h.indexOf(f),1)},u=(m,f,h)=>{e.set(m,f);const g=a[m];if(g)for(const C of g)C(f,h)},d=()=>{if(!qr.has(e)&&(qr.set(e,[s,Object.create(null),Object.create(null),Object.create(null),o,u,i]),!RA)){const m=n.initFocus(setTimeout.bind(Hs,Mx.bind(Hs,s,Rue))),f=n.initReconnect(setTimeout.bind(Hs,Mx.bind(Hs,s,Pue)));r=()=>{m&&m(),f&&f(),qr.delete(e)}}};return d(),[e,o,d,r]}return[e,qr.get(e)[4]]},Zue=(e,t,n,s,o)=>{const r=n.errorRetryCount,a=o.retryCount,i=~~((Math.random()+.5)*(1<<(a<8?a:8)))*n.errorRetryInterval;!fo(r)&&a>r||setTimeout(s,i,o)},Yue=c5,[LA,Que]=Kue(new Map),Jue=Em({onLoadingSlow:Xr,onSuccess:Xr,onError:Xr,onErrorRetry:Zue,onDiscarded:Xr,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Ax?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Ax?5e3:3e3,compare:Yue,isPaused:()=>!1,cache:LA,mutate:Que,fallback:{}},Hue),Xue=c.createContext({}),ede="$inf$",OA=vh&&window.__SWR_DEVTOOLS_USE__,tde=OA?window.__SWR_DEVTOOLS_USE__:[],nde=()=>{OA&&(window.__SWR_DEVTOOLS_REACT__=Ei)},sde=()=>{const e=c.useContext(Xue);return c.useMemo(()=>Em(Jue,e),[e])},ode=e=>(t,n,s)=>e(t,n&&((...r)=>{const[a]=PA(t),[,,,i]=qr.get(LA);if(a.startsWith(ede))return n(...r);const u=i[a];return fo(u)?n(...r):(delete i[a],u)}),s);tde.concat(ode);nde();function rde(){const{cache:e,mutate:t}=sde(),n=c.useCallback(async()=>{for(const o of e.keys())await t(o,void 0,{revalidate:!1})},[e,t]),s=c.useCallback(async o=>{await t(o,void 0,{revalidate:!1})},[t]);return{clearAllSWRCache:n,clearOneSWRCache:s}}function DA(){jt(s2),jt(cl),jt(d1)}function ade(){jt(Od)}function ide(){na("sticky-conversation-mode")}function cde(){jt(oS),DA(),ade()}function lde(){ide()}function rc(){const{clearAllSWRCache:e}=rde(),t=Nue(),n=async r=>{const{provider:a,opts:i={},onAuthComplete:u,onAuthError:d}=r;DA(),await pa.instance().logIn(a,i).catch(m=>{console.error(m),d==null||d()})},s=async(r=!0)=>{await e(),t(),cde(),lde(),Mle(),await pa.instance().logOut().then(async()=>{r&&s3("/")})};return{login:n,logout:s,switchMicrosoftAccount:async()=>{await s(),await n({provider:"microsoft"})}}}function ude({accountActionRequired:e,onReload:t}){const{t:n}=q(),s=Vl(),{login:o}=rc(),{reason:r,provider:a,loginHint:i,correlationId:u}=e,d=async g=>{ye({source:"sessionExpired",scenario:"continueWithMicrosoftWithLoginHint",destination:"continueWithMicrosoftRedirect"}),wg({authWorkflowAccountType:"microsoft",apiName:"msal:reauthStart"});const{msal:C}=await is.get();await C.acquireTokenRedirect({...Yd(),loginHint:g,account:C.getAccountByUsername(g)??void 0,prompt:void 0,correlationId:u})},m=async()=>{if(r==="token-expired"&&e.provider==="microsoft"){const{msal:g}=await is.get();jt(ar);const C=g.getActiveAccount();await g.clearCache({account:C})}},f=async(g,C)=>{await m();let v="";switch(g==="microsoft"?(v="MSA",wg({authWorkflowAccountType:"microsoft",apiName:"msal:reauthStart"})):g==="auth0"&&(v=(C==null?void 0:C.connection)==="apple"?"Apple":"Google",wg({authWorkflowAccountType:(C==null?void 0:C.connection)??"google",apiName:Ss.REAUTH_START})),ye({source:"sessionExpired",scenario:`continueWith${v}`,destination:`continueWith${v}Redirect`}),g){case"microsoft":o({provider:g});break;case"auth0":o({provider:g,opts:C});break}},h=async()=>{$t({source:"signin",scenario:"sessionExpired"}),await m(),o({provider:"microsoft"})};return l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"pb-3 text-xl",children:n("authentication.sessionExpired")}),l.jsx("p",{className:"pb-7",children:n("authentication.sessionExpiredMessage")}),r==="token-expired"&&a==="microsoft"&&i&&l.jsx(ne,{onClick:()=>d(i),title:`${n("signInPrompt.continueAs",{name:i})}`,variant:"pill",size:"48-lg",className:"w-full",children:`${n("signInPrompt.continueAs",{name:i})}`}),s?l.jsxs(l.Fragment,{children:[l.jsxs(ne,{onClick:()=>f("microsoft"),title:n("signInPrompt.continueWithMicrosoft"),variant:"pill",size:"48-lg",className:"mt-3 w-full",children:[l.jsx(T3,{className:"size-6"}),n("signInPrompt.continueWithMicrosoft")]}),l.jsxs(ne,{onClick:()=>f("auth0",{connection:"apple"}),title:n("signInPrompt.continueWithApple"),variant:"pill",size:"48-lg",className:"mt-3 w-full",children:[l.jsx(MA,{className:"size-6 text-black dark:text-white"}),n("signInPrompt.continueWithApple")]}),l.jsxs(ne,{onClick:()=>f("auth0",{connection:"google"}),title:n("signInPrompt.continueWithGoogle"),variant:"pill",size:"48-lg",className:"mt-3 w-full",children:[l.jsx(Sm,{className:"size-6"}),n("signInPrompt.continueWithGoogle")]})]}):l.jsx(ne,{onClick:h,title:n("common.loginText"),variant:"pill",size:"48-lg",className:"mt-3 w-full",children:n("common.loginText")}),l.jsx(ne,{onClick:t,title:n("signInPrompt.continueWithoutSignIn"),variant:"pill",color:"subtle-dimmed-inverted",size:"48-lg",className:"mt-3 w-full",children:n("signInPrompt.continueWithoutSignIn")})]})}function jA(e){const{accountActionRequired:t}=e;return l.jsx(Ho,{isOpen:!0,children:l.jsx(dde,{accountActionRequired:t})})}function dde(e){const{accountActionRequired:t}=e,{reason:n,errorMessage:s}=t;c.useEffect(()=>{D.trackEvent({name:"system",data:{eventName:"copilotWebBackgroundAccountChange",eventInfo_action:"shown",eventInfo_reason:n}}),n==="token-expired"&&t.provider==="microsoft"&&FQ(s)},[n,s,t.provider]);const o=async()=>{if(D.trackEvent({name:"system",data:{eventName:"copilotWebBackgroundAccountChange",eventInfo_action:"reload",eventInfo_reason:n}}),n==="token-expired"&&t.provider==="microsoft"){const{msal:r}=await is.get(),a=r.getActiveAccount();jt(ar),await r.clearCache({account:a})}jl()};return n==="login"||n==="logout"?l.jsx("div",{className:"flex max-w-72 flex-col items-center p-1 text-center",children:l.jsx(Mue,{reason:n,onReload:o})}):l.jsx("div",{className:"flex max-w-96 flex-col items-center p-1 text-center",children:l.jsx(ude,{accountActionRequired:t,onReload:o})})}function mde(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function fde(e){if(!mde(e)&&typeof e!="number")return!1;const t=Ft(e);return!isNaN(Number(t))}function UA(e,t){const n=Ft(e);if(isNaN(t))return t2(e,NaN);if(!t)return n;const s=n.getDate(),o=t2(e,n.getTime());o.setMonth(n.getMonth()+t+1,0);const r=o.getDate();return s>=r?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function pde(e,t){return UA(e,t*12)}function hde(e,t){return pde(e,-13)}function Xn(e,t,n="en-US"){var o,r;let s;if(e instanceof Date)s=e;else if(typeof e=="number")s=new Date(e<1e12?e*1e3:e);else if(typeof e=="string")s=new Date(e);else throw new Error(`Invalid date input: ${e}`);if(Number.isNaN(s.getTime()))throw new Error(`Invalid date: ${String(e)}`);switch(t){case"yyyyMMdd":{const a=s.getFullYear(),i=(s.getMonth()+1).toString().padStart(2,"0"),u=s.getDate().toString().padStart(2,"0");return`${a}${i}${u}`}case"yyyyMMdd_HHmmss":{const a=s.getFullYear(),i=(s.getMonth()+1).toString().padStart(2,"0"),u=s.getDate().toString().padStart(2,"0"),d=s.getHours().toString().padStart(2,"0"),m=s.getMinutes().toString().padStart(2,"0"),f=s.getSeconds().toString().padStart(2,"0");return`${a}${i}${u}_${d}${m}${f}`}case"h:mm aa":case"h:mm a":return new Intl.DateTimeFormat(n,{hour:"numeric",minute:"2-digit",hour12:!0}).format(s);case"h":return((o=new Intl.DateTimeFormat(n,{hour:"numeric",hour12:!0}).formatToParts(s).find(u=>u.type==="hour"))==null?void 0:o.value)??"";case"mm":return new Intl.DateTimeFormat(n,{minute:"2-digit"}).format(s).padStart(2,"0");case"a":return((r=new Intl.DateTimeFormat(n,{hour:"numeric",hour12:!0}).formatToParts(s).find(u=>u.type==="dayPeriod"))==null?void 0:r.value)??"";case"PP":return new Intl.DateTimeFormat(n,{year:"numeric",month:"short",day:"numeric"}).format(s);case"EEEE":return new Intl.DateTimeFormat(n,{weekday:"long"}).format(s);case"eeee":return new Intl.DateTimeFormat(n,{weekday:"long"}).format(s);case"MMMM":return new Intl.DateTimeFormat(n,{month:"long"}).format(s);case"d":return s.getDate().toString();case"MM/dd":{const a=(s.getMonth()+1).toString().padStart(2,"0"),i=s.getDate().toString().padStart(2,"0");return`${a}/${i}`}case"MMM d":return new Intl.DateTimeFormat(n,{month:"short",day:"numeric"}).format(s);case"MMM":return new Intl.DateTimeFormat(n,{month:"short"}).format(s);case"eee, MMM d":return new Intl.DateTimeFormat(n,{weekday:"short",month:"short",day:"numeric"}).format(s);case"eee":return new Intl.DateTimeFormat(n,{weekday:"short"}).format(s);case"EE":return new Intl.DateTimeFormat(n,{weekday:"short"}).format(s);case"h:mma":return new Intl.DateTimeFormat(n,{hour:"numeric",minute:"2-digit",hour12:!0}).format(s).replace(" ","");case"haaa":return new Intl.DateTimeFormat(n,{hour:"numeric",hour12:!0}).format(s).replace(/\s+/g,"").toLowerCase();case"yyyy":return s.getFullYear().toString();case"MM":return(s.getMonth()+1).toString().padStart(2,"0");case"dd":return s.getDate().toString().padStart(2,"0");case"HH":return s.getHours().toString().padStart(2,"0");case"HH:mm":{const a=s.getHours().toString().padStart(2,"0"),i=s.getMinutes().toString().padStart(2,"0");return`${a}:${i}`}case"HH:mm:ss":{const a=s.getHours().toString().padStart(2,"0"),i=s.getMinutes().toString().padStart(2,"0"),u=s.getSeconds().toString().padStart(2,"0");return`${a}:${i}:${u}`}case"ss":return s.getSeconds().toString().padStart(2,"0");case"xD":{const i=Math.floor((new Date().getTime()-s.getTime())/(1e3*3600*24));return z("dates.time.dayAbbrCapitalized",{dayNumber:i})}case"xh":{const i=Math.floor((new Date().getTime()-s.getTime())/(1e3*3600));return z("dates.time.hourAbbr",{hourNumber:Math.max(1,i)})}case"xw":{const i=Math.floor((new Date().getTime()-s.getTime())/(1e3*3600*24*7));return z("dates.time.weekAbbr",{weekNumber:i})}case"yyyy-MM-dd":{const a=s.getFullYear(),i=(s.getMonth()+1).toString().padStart(2,"0"),u=s.getDate().toString().padStart(2,"0");return`${a}-${i}-${u}`}case"yyyy-MM-dd, h:mm aa":{const a=s.getFullYear(),i=(s.getMonth()+1).toString().padStart(2,"0"),u=s.getDate().toString().padStart(2,"0"),d=new Intl.DateTimeFormat(n,{hour:"numeric",minute:"2-digit",hour12:!0}).format(s);return`${a}-${i}-${u}, ${d}`}default:return s.toLocaleString(n)}}function A3(e,t){if(e){if(e.indexOf("-")!==-1)return e;if(t)return`${e}-${t}`}else if(t)return t;return"en-US"}const Ch=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M4.53033 12.9697C4.23744 12.6768 3.76256 12.6768 3.46967 12.9697C3.17678 13.2626 3.17678 13.7374 3.46967 14.0303L7.96967 18.5303C8.26256 18.8232 8.73744 18.8232 9.03033 18.5303L20.0303 7.53033C20.3232 7.23744 20.3232 6.76256 20.0303 6.46967C19.7374 6.17678 19.2626 6.17678 18.9697 6.46967L8.5 16.9393L4.53033 12.9697Z"})),Q_e=Object.freeze(Object.defineProperty({__proto__:null,default:Ch},Symbol.toStringTag,{value:"Module"})),gde="p-2 -m-2 bg-slate-200 rounded-xl text-stroke-350";function k3(e){const{disabled:t,checked:n,label:s,className:o,labelClassName:r,setChecked:a,"aria-label":i,"aria-expanded":u,spatialNavigationAutofocus:d=!1}=e,m=c.useId(),{focusable:f,refCallback:h}=Ra({autoRestoreFocus:!0,forceFocus:!0});return l.jsxs("label",{"aria-label":i,className:F("relative flex cursor-pointer items-center",o,f.focused&&gde),ref:h,htmlFor:m,"data-spatial-focus-key":f.focusKey,"data-spatial-navigation-autofocus":d,children:[l.jsx("input",{checked:n,type:"checkbox",id:m,className:"peer sr-only",onChange:g=>a(g.target.checked),disabled:t,"aria-expanded":u}),l.jsx("span",{className:F("flex aspect-square size-5 items-center justify-center rounded-full border transition-colors duration-200 peer-focus:ring-1 peer-focus:ring-black peer-focus:ring-offset-2 peer-disabled:pointer-events-none peer-disabled:opacity-40 dark:peer-focus:ring-white","contrast-more:peer-focus:outline contrast-more:peer-focus:outline-2 contrast-more:peer-focus:outline-offset-2",n&&"bg-black contrast-more:bg-white dark:bg-white"),children:l.jsx(Ch,{className:F("size-3 text-white transition-opacity duration-200 contrast-more:text-current dark:text-black contrast-more:dark:text-current",n?"opacity-100":"opacity-0")})}),l.jsx("span",{className:F("mt-px ps-4 peer-disabled:pointer-events-none peer-disabled:opacity-40",r),children:s})]})}const us=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M8.46967 4.21967C8.17678 4.51256 8.17678 4.98744 8.46967 5.28033L15.1893 12L8.46967 18.7197C8.17678 19.0126 8.17678 19.4874 8.46967 19.7803C8.76256 20.0732 9.23744 20.0732 9.53033 19.7803L16.7803 12.5303C17.0732 12.2374 17.0732 11.7626 16.7803 11.4697L9.53033 4.21967C9.23744 3.92678 8.76256 3.92678 8.46967 4.21967Z"})),J_e=Object.freeze(Object.defineProperty({__proto__:null,default:us},Symbol.toStringTag,{value:"Module"})),vde={top:36,bottom:36,left:24,right:24};function vf(e){const{ariaLabelId:t,options:n,renderOption:s,onSelect:o,value:r,id:a,actionLabel:i,placeholder:u,className:d,menuClassName:m,expandIconClassName:f,disabled:h=!1,isValid:g=!0,supportsBrowserAutofill:C,supportsTypeahead:v=!1,autoComplete:y,boundary:b,padding:E=vde,useFloatingContainer:S=!0,multiSelect:I=!1,multiSelectedValues:_=[],onMultiSelectionChange:T}=e,{t:A}=q(),[k,R]=c.useState(!1),[P,V]=c.useState(null),U=n.findIndex(X=>X.key===r),K=c.useRef([]),Z=c.useRef([]);c.useEffect(()=>{k&&V(U>=0?U:0)},[k,U]);const Y=c.useCallback(X=>{var Re;const ve=(Re=n[X])==null?void 0:Re.key;ve&&o(ve)},[o,n]),{refs:Q,floatingStyles:ee,context:$}=Ol({placement:"bottom-start",strategy:"absolute",open:k,onOpenChange:R,whileElementsMounted:Na,middleware:[Rl({padding:E}),tT({boundary:b,apply({rects:X,elements:ve,availableHeight:Re}){Object.assign(ve.floating.style,{maxHeight:`${Re}px`,minWidth:`${X.reference.width}px`})},padding:E})]}),te=JC($,{event:"mousedown",enabled:!h}),J=hm($),W=oh($,{role:"listbox"}),ie=Zre($,{listRef:K,activeIndex:P,selectedIndex:U,onNavigate:V,loop:!0,focusItemOnHover:!1,openOnArrowKeyDown:!h}),Se=Qre($,{enabled:v,listRef:Z,activeIndex:P,onMatch:k?V:Y}),{getReferenceProps:me,getFloatingProps:re,getItemProps:xe}=nh([J,W,ie,te,Se]),Ne=c.useCallback(X=>{if(I){if(!T)return;const ve=_.includes(X);T(ve?_.filter(Re=>Re!==X):[..._,X])}else o(X),R(!1)},[I,o,T,_]);let Oe;I?_.length>0?Oe=l.jsx("div",{className:"truncate",children:A("dropdown.multiselect.itemsSelected",{count:_.length})}):Oe=l.jsx("div",{className:"truncate text-foreground-550 dark:text-foreground-600",children:u}):U>-1?Oe=s(n[U]):Oe=l.jsx("div",{className:"truncate text-foreground-550 dark:text-foreground-600",children:u});const se=c.useCallback(X=>{h||o(X.currentTarget.value)},[o,h]),ce=c.useRef(null);return l.jsxs(l.Fragment,{children:[C&&l.jsx("select",{"aria-hidden":!0,className:"hidden",onChange:se,autoComplete:y,disabled:h,children:n.map(X=>l.jsx("option",{value:X.key,children:X.text},X.key))}),l.jsxs("button",{role:"combobox",type:"button",id:a,ref:Q.setReference,"aria-labelledby":t,"aria-expanded":k,"aria-haspopup":"listbox","aria-autocomplete":"none","aria-invalid":!g,"aria-disabled":h,className:le("flex w-full cursor-pointer items-center justify-between gap-2 rounded-2xl bg-black/5 px-[1.125rem] py-4 dark:bg-background-450/25",d,h&&"pointer-events-none opacity-50"),...me(),children:[l.jsx("div",{className:"min-w-0",children:Oe}),l.jsxs("div",{className:le("flex min-h-[26px] shrink-0 grow items-center justify-end gap-2",f),children:[i&&l.jsx("span",{children:i}),l.jsx(us,{className:"size-6 rotate-90"})]})]}),S&&l.jsx("div",{ref:ce}),k&&l.jsx(Ll,{root:S?ce.current:void 0,children:l.jsx(th,{context:$,modal:!1,initialFocus:-1,returnFocus:!1,children:l.jsx("div",{ref:Q.setFloating,style:ee,className:le("flex overflow-hidden rounded-2xl shadow-md",m),...re(),children:l.jsx("div",{className:le("flex w-full flex-col p-2",Bee),children:l.jsx("div",{className:le("vertical-scrollbar overflow-y-auto py-1 pe-1"),children:n.map((X,ve)=>l.jsx("div",{ref:Re=>{K.current[ve]=Re,Z.current[ve]=X.text},role:"option",tabIndex:ve===P?0:-1,"aria-selected":I?_.includes(X.key):ve===U&&ve===P,className:"relative cursor-default rounded-xl px-3 py-2 -outline-offset-2 hover:bg-black/5 dark:hover:bg-white/8",...xe({onClick(){I||Ne(X.key)},onKeyDown(Re){Re.key==="Enter"&&(Re.preventDefault(),Ne(X.key))}}),children:I?l.jsx(k3,{label:X.text,checked:_.includes(X.key),setChecked:()=>Ne(X.key)}):s(X)},X.key))})})})})})]})}function Nx(e){const{htmlFor:t,content:n,required:s,className:o,afterContent:r}=e;return l.jsxs("div",{className:"flex items-center",children:[l.jsxs("label",{htmlFor:t,className:le("flex items-center gap-0.5 text-foreground-900",o),children:[n,s&&l.jsx("span",{className:"text-system-red-550 dark:text-system-red-350",children:"*"})]}),r]})}const Rx="absolute size-full",Cde="bg-gradient-discover-light dark:bg-gradient-discover-dark",yde="bg-gradient-authentication-light dark:bg-gradient-authentication-dark";function ac(e){const{isBottomFade:t,forceGradient:n,isFixed:s,overrideGradientType:o,customColor:r}=e,a=ut(),i=a==="/login",u=n===!0||i,m=(o??(i?"authentication":"default"))==="authentication"?yde:Cde;return l.jsxs("div",{className:le(s?"fixed":"absolute",t?"-inset-x-4 bottom-0 h-dvh":"inset-0","overflow-hidden"),children:[l.jsx("div",{className:le(Rx,"bg-none",r??"bg-background-150")}),l.jsx(pt,{children:u&&l.jsx(ge.div,{className:le(Rx,m),initial:"initial",animate:"animate",exit:"exit",variants:{initial:Fe,animate:nt,exit:Fe},transition:HC},a)})]})}const FA=N(void 0);function bde(e){const{buttonClassName:t}=e,{t:n}=q(),{closeSettings:s}=Ir(),o=oe(FA),r=M(je);function a(){$t({source:"complianceLinks",scenario:"cookies",conversationId:r,destination:"#"}),o("more-options"),s()}return l.jsx(ne,{role:"menuitem",variant:"rect",size:"28-xxs",color:"subtle-dimmed-inverted",className:t,title:n("settings.cookies"),onClick:()=>a(),testId:"cookies-compliance-button",children:l.jsx("span",{children:n("settings.cookies")})})}const gl="https://www.bing.com/new/termsofuse",Jn="https://go.microsoft.com/fwlink/?LinkId=521839",Up="https://www.microsoft.com/microsoft-copilot/learn/?form=MG0AUO&OCID=MG0AUO#faqs",Gf="hover:underline focus:underline";function Px(e){var t,n;return((n=(t=ae.instance().config()).textOverrides)==null?void 0:n.call(t,e))??e}function X_e(e){const{component:t="link",buttonClassName:n}=e,s=M(je),{pushPage:o}=Ir(),r=M(Mn),a=ch(r),i=(d,m)=>{$t({source:"complianceLinks",scenario:d,conversationId:s,destination:m})},u=G("manage-cookies");return l.jsxs("div",{role:"menuitem",className:le("flex w-full flex-wrap justify-center gap-x-3 gap-y-1 text-black/80 text-xs dark:text-white/80",t==="button"?"flex-col p-0":"px-5 py-2"),children:[t==="link"?l.jsx(xde,{handleAnalytics:i}):l.jsx(Sde,{handleAnalytics:i,className:n??"",setPage:o}),u&&a&&l.jsx(bde,{buttonClassName:F(Gf,{"text-xs p-0 min-h-0 mx-0 min-w-0 gap-x-0 safe-hover:bg-transparent dark:safe-hover:bg-transparent dark:text-white/80":t==="link",[n??""]:t==="button"})})]})}function xde(e){const{handleAnalytics:t}=e;return l.jsxs(l.Fragment,{children:[l.jsx(cs,{href:Jn,title:z(Px("settings.privacyLink")),className:Gf,onClick:()=>t("privacy",Jn),children:z(Px("settings.privacyLink"))}),l.jsx(cs,{href:gl,title:z("settings.termsOfServiceLink"),className:Gf,onClick:()=>t("terms",gl),children:z("settings.termsOfServiceLink")}),l.jsx(cs,{href:Up,title:z("settings.faqLink"),className:Gf,onClick:()=>t("faq",Up),children:z("settings.faqLink")})]})}function Sde(e){const{handleAnalytics:t,className:n,setPage:s}=e,o=(r,a)=>{var m;t(r,a);const u=(m=ae.instance().config().settingsOverrides)==null?void 0:m.shouldShowPolicyTermsQRCodes,d={privacy:"privacyStatement",terms:"terms",faq:"faq",cookies:void 0};u&&r in d?s==null||s(d[r]):Io(a)};return l.jsxs(l.Fragment,{children:[l.jsx(ne,{role:"menuitem",variant:"rect",color:"subtle-dimmed-inverted",className:n,title:z("settings.privacyLink"),onClick:()=>o("privacy",Jn),children:l.jsx("span",{children:z("settings.privacyLink")})}),l.jsx(ne,{role:"menuitem",variant:"rect",color:"subtle-dimmed-inverted",className:n,title:z("settings.termsOfServiceLink"),onClick:()=>o("terms",gl),children:l.jsx("span",{children:z("settings.termsOfServiceLink")})}),l.jsx(ne,{role:"menuitem",variant:"rect",color:"subtle-dimmed-inverted",className:n,title:z("settings.faqLink"),onClick:()=>o("faq",Up),children:l.jsx("span",{children:z("settings.faqLink")})})]})}const Lx={...jd,"United Kingdom":"UK"},Ox={termsLink:l.jsx(Dx,{link:gl}),privacyLink:l.jsx(Dx,{link:Jn})};function Dx(e){const{children:t,link:n}=e;return l.jsx(cs,{className:"underline",href:n,title:"",children:t})}function Ede(e,t,n){const s=new Date(n,t-1,e);return fde(s)&&s.getFullYear()===n&&s.getMonth()===t-1&&s.getDate()===e}function wde(e,t,n){const s=new Date(n,t-1,e),o=hde(new Date);return s<=o}const i0="border-2 border-system-red-550/50 bg-system-red-550/10 text-system-red-550 dark:text-system-red-350";function Ide(){const[e,t]=c.useState(!1),[n,s]=c.useState(void 0),[o,r]=c.useState(void 0);c.useEffect(()=>{async function k(){const R=await YQ();r(R)}k()},[]),c.useEffect(()=>{const k=new URLSearchParams(window.location.search);k.delete("code"),k.delete("state"),k.delete("error"),window.history.replaceState({},document.title,`${window.location.pathname}?${k}`)},[]),c.useEffect(()=>{o&&un({page:"auth0AccountVerificationPage",scenario:"auth0Verification",customData:JSON.stringify({accountType:o})})},[o]);const[a,i]=c.useState(""),[u,d]=c.useState(""),[m,f]=c.useState(""),[h,g]=c.useState(Lx["United States"]),{i18n:C}=q(),v=A3(C.resolvedLanguage),y=new Intl.NumberFormat(v,{minimumIntegerDigits:2,useGrouping:!1}),b=new Intl.NumberFormat(v,{minimumIntegerDigits:4,useGrouping:!1});c.useEffect(()=>{t(!!!(u&&m&&a&&h))},[u,m,a,h]);const E=[{key:"01",text:z("common.date.month.january")},{key:"02",text:z("common.date.month.february")},{key:"03",text:z("common.date.month.march")},{key:"04",text:z("common.date.month.april")},{key:"05",text:z("common.date.month.may")},{key:"06",text:z("common.date.month.june")},{key:"07",text:z("common.date.month.july")},{key:"08",text:z("common.date.month.august")},{key:"09",text:z("common.date.month.september")},{key:"10",text:z("common.date.month.october")},{key:"11",text:z("common.date.month.november")},{key:"12",text:z("common.date.month.december")}],S=Object.entries(Lx).sort().map(([k,R])=>({key:R,text:k})),I=Array.from({length:31},(k,R)=>{const P=R+1,V=y.format(P);return{key:P.toString(),text:V}}),_=Array.from({length:125},(k,R)=>{const P=new Date().getFullYear()-R,V=b.format(P);return{key:`${new Date().getFullYear()-R}`,text:V}}),T=k=>l.jsx("p",{children:k.text}),A=async()=>{const k=parseInt(a,10),R=parseInt(u,10),P=parseInt(m,10);if(!Ede(P,R,k)){ye({source:"auth0AccountVerificationPage",scenario:"auth0VerificationInvalidDate",destination:"auth0AccountVerificationPage",customData:JSON.stringify({accountType:o})}),s(!1);return}if(!wde(P,R,k)){ye({source:"auth0AccountVerificationPage",scenario:"auth0VerificationNotAdult",destination:"auth0AccountVerificationPage",customData:JSON.stringify({accountType:o})}),s(!1);return}const K=Xn(new Date(k,R-1,P),"yyyy-MM-dd");s(!0);const Z=await ZQ(K,h);if(!Z){ye({source:"auth0AccountVerificationPage",scenario:"auth0VerificationNotSuccessfulInvalidToken",destination:"auth0AccountVerificationPage",customData:JSON.stringify({accountType:o})}),s(!1);return}const{ageGroup:Y}=Z,Q=Y===si.NOT_ADULT,ee=Y===si.ADULT;if(!(Q||ee)){ye({source:"auth0AccountVerificationPage",scenario:"auth0VerificationNotSuccessfulNotTeenOrAdult",destination:"auth0AccountVerificationPage",customData:JSON.stringify({accountType:o})}),s(!1);return}ye({source:"auth0AccountVerificationPage",scenario:"auth0VerificationSuccessful",destination:"auth0AccountVerificationPage",customData:JSON.stringify({accountType:o})}),jl()};return l.jsxs(l.Fragment,{children:[l.jsx(ac,{forceGradient:!0,overrideGradientType:"authentication"}),l.jsxs("section",{className:"relative m-auto flex min-h-dvh max-w-[500px] flex-col items-center justify-center gap-3 overflow-y-auto px-5 py-12 text-center",children:[l.jsx("h1",{className:"mb-4 text-center font-semibold text-2xl sm:text-4xl",children:z("error.auth0VerificationTitle")}),l.jsx("p",{children:z("error.auth0VerificationDescription")}),l.jsxs("div",{className:"mt-12 w-full",children:[l.jsx(Nx,{className:"mb-2 text-base",htmlFor:"birthdate-month",content:z("error.auth0VerificationBirthdate"),required:!0}),l.jsxs("div",{id:"birthdate-group",className:"flex gap-2",children:[l.jsx("span",{id:"month-label",className:"sr-only",children:u||z("dates.month")}),l.jsx("span",{id:"day-label",className:"sr-only",children:m||z("dates.day")}),l.jsx("span",{id:"year-label",className:"sr-only",children:a||z("dates.year")}),l.jsx(vf,{renderOption:T,options:E,onSelect:k=>d(k),id:"birthdate-month",ariaLabelId:"month-label",placeholder:z("dates.month"),className:le("flex-1",Jr,n===!1&&i0),value:u,isValid:n,menuClassName:ct.dropdownMenuOverModal}),l.jsx(vf,{renderOption:T,options:I,onSelect:k=>f(k),id:"birthdate-day",ariaLabelId:"day-label",placeholder:z("dates.day"),className:le("flex-1",Jr,n===!1&&i0),value:m,menuClassName:ct.dropdownMenuOverModal}),l.jsx(vf,{renderOption:T,options:_,onSelect:k=>i(k),id:"birthdate-year",ariaLabelId:"year-label",placeholder:z("dates.year"),className:le("flex-1",Jr,n===!1&&i0),value:a,menuClassName:ct.dropdownMenuOverModal})]}),n===!1&&l.jsx("div",{className:le("mt-2 text-start text-system-red-550 text-sm dark:text-system-red-350"),children:z("error.authh0VerificationAgeError")})]}),l.jsxs("div",{className:"mt-12 w-full",children:[l.jsx(Nx,{className:"mb-2 text-base",htmlFor:"country",content:z("error.auth0VerificationCountryRegion"),required:!0}),l.jsx(vf,{renderOption:T,options:S,onSelect:k=>g(k),id:"country","aria-labelledby":"country-group",placeholder:z("error.auth0VerificationCountryRegion"),className:le("flex-1",Jr),value:h,menuClassName:ct.dropdownMenuOverModal})]}),l.jsxs("div",{className:"mt-12 w-full text-black text-xs dark:text-white/90",children:[l.jsx(mn,{i18nKey:z("error.auth0VerificationDisclaimer"),components:{termsLink:Ox.termsLink,privacyLink:Ox.privacyLink}}),l.jsx(ne,{className:"mt-4 w-full",color:"strong",size:"56-xl",variant:"rect",onClick:A,title:z("common.continue"),disabled:e,children:z("common.continue")})]})]})]})}function jx(e){var t,n;return((n=(t=ae.instance().config()).textOverrides)==null?void 0:n.call(t,e))??e}const c0="w-full";function _de(){const{switchMicrosoftAccount:e,logout:t,login:n}=rc(),{t:s}=q(),o=Vl(),r=async()=>{await e()},a=async(d,m)=>{switch(await t(),d){case"microsoft":n({provider:d});break;case"auth0":n({provider:d,opts:m});break}},i=ae.instance().config().hideAgeVerificationButton!==!0,u=ae.instance().config().hideAgeVerificationSwitchAccountButton!==!0;return l.jsxs(l.Fragment,{children:[l.jsx(ac,{forceGradient:!0}),l.jsxs("section",{className:"relative z-10 m-auto flex h-dvh max-w-96 flex-col items-center justify-center gap-3 px-5 text-center",children:[l.jsx("h1",{className:"text-4xl",children:s(jx("error.ageVerificationTitle"))}),l.jsx("h2",{className:"text-foreground-600",children:s(jx("error.ageVerification"))}),i&&l.jsx(ne,{className:"mt-6 w-full",color:"default",size:"56-xl",variant:"rect",testId:"age-verification",title:s("error.ageVerificationVerifyAge"),onClick:()=>{Dl(FB)},children:s("error.ageVerificationVerifyAge")}),i&&l.jsx("div",{className:"text-balance text-foreground-600",children:s("error.ageVerificationOr")}),o?l.jsxs(l.Fragment,{children:[l.jsxs(ne,{onClick:()=>a("microsoft"),color:"default",title:s("signInPrompt.continueWithMicrosoft"),variant:"pill",size:"56-xl",className:le(c0),children:[l.jsx(T3,{className:"size-6"}),s("signInPrompt.continueWithMicrosoft")]}),l.jsxs(ne,{onClick:()=>a("auth0",{connection:"apple"}),color:"default",variant:"pill",size:"56-xl",title:s("signInPrompt.continueWithApple"),className:le(c0),children:[l.jsx(MA,{className:"size-6 text-black dark:text-white"}),s("signInPrompt.continueWithApple")]}),l.jsxs(ne,{onClick:()=>a("auth0",{connection:"google"}),color:"default",variant:"pill",size:"56-xl",title:s("signInPrompt.continueWithGoogle"),className:le(c0),children:[l.jsx(Sm,{className:"size-6"}),s("signInPrompt.continueWithGoogle")]})]}):u&&l.jsx(ne,{className:"w-full",color:"default",size:"56-xl",variant:"rect",title:s("error.ageVerificationSwitchAccount"),onClick:r,children:s("error.ageVerificationSwitchAccount")})]})]})}function Tde(){const e=M(cn);return(e==null?void 0:e.provider)==="auth0"?l.jsx(Ide,{}):l.jsx(_de,{})}const BA=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M12 4.5C7.85786 4.5 4.5 7.85786 4.5 12C4.5 16.1421 7.85786 19.5 12 19.5C16.1421 19.5 19.5 16.1421 19.5 12C19.5 11.6236 19.4723 11.2538 19.4188 10.8923C19.3515 10.4382 19.6839 10 20.1429 10C20.5138 10 20.839 10.2562 20.8953 10.6228C20.9642 11.0718 21 11.5317 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C14.3051 3 16.4077 3.86656 18 5.29168V4.25C18 3.83579 18.3358 3.5 18.75 3.5C19.1642 3.5 19.5 3.83579 19.5 4.25V7.25C19.5 7.66421 19.1642 8 18.75 8H15.75C15.3358 8 15 7.66421 15 7.25C15 6.83579 15.3358 6.5 15.75 6.5H17.0991C15.7609 5.25883 13.9691 4.5 12 4.5Z"})),eTe=Object.freeze(Object.defineProperty({__proto__:null,default:BA},Symbol.toStringTag,{value:"Module"}));function Ade(e){const{t}=q(),{btnTitle:n,onBtnClick:s=()=>{}}=e;return l.jsxs("section",{className:"relative z-10 m-auto flex h-full max-w-96 flex-col items-center justify-center gap-3 px-5 text-center",children:[l.jsx("h1",{className:"text-4xl","data-testid":"unhandled-error-title",children:t("error.unhandledErrorTitle")}),l.jsx("h2",{className:"text-foreground-600",children:t("error.unhandledError")}),l.jsx(ne,{className:"mt-6 w-full",color:"default",size:"56-xl",variant:"rect",title:t("error.unhandledErrorReload"),onClick:s,testId:"unhandled-error-reload",children:n??l.jsxs(l.Fragment,{children:[l.jsx(BA,{className:"size-6"}),t("error.unhandledErrorReload")]})})]})}function M3(){return l.jsxs("main",{className:"relative size-full overflow-hidden",children:[l.jsx(ac,{forceGradient:!0}),l.jsx(Ade,{onBtnClick:()=>{jl()}})]})}const kde=100,Fp=N([]);function VA(){const e=M(Fp),[t,n]=c.useState(!1),s=c.useRef(null);c.useEffect(()=>(s.current=setTimeout(()=>n(!0),kde),()=>{s.current&&clearTimeout(s.current)}),[]);const o=t?e:[];return l.jsxs("div",{className:"sr-only",children:[l.jsx(Ux,{messages:o.filter(r=>r.type==="polite"),type:"polite"}),l.jsx(Ux,{messages:o.filter(r=>r.type==="assertive"),type:"assertive"})]})}function Ux({messages:e,type:t}){return l.jsx("div",{"aria-live":t,"aria-atomic":"true",children:e.map(n=>l.jsx("div",{"aria-label":n.msg,children:n.msg},n.id))})}function h5(){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.floor(Math.random()*16);return(e==="x"?t:Math.floor(Math.random()*4+8)).toString(16)})}const HA=7e3;function Pi(e={}){return Mde(e),null}function Mde(e={}){const{msg:t,id:n,type:s="polite",timeout:o=HA}=e,r=oe(Fp),a=c.useRef(n??h5());c.useEffect(()=>{t&&r(i=>{if(i.some(d=>d.id===a.current&&d.msg===t&&d.type===s))return i;a.current=n??h5();const u={msg:t,id:a.current,type:s};return window.setTimeout(()=>{r(d=>d.filter(m=>m.id!==u.id))},o),[...i,u]})},[n,t,s,r,o])}function vo(e){const{msg:t,id:n,type:s="polite",timeout:o=HA}=e;if(!t)return;const r=$e();r.set(Fp,a=>{const i={msg:t,id:n??h5(),type:s};return window.setTimeout(()=>{r.set(Fp,u=>u.filter(d=>d.id!==i.id))},o),[...a,i]})}function Nde(){const{t:e}=q(),t=M(cI);let n="main";rn(o2)&&t==="permanent"&&(n="confirm-submission");const[s,o]=c.useState(n),[r,a]=c.useState(""),[i,u]=c.useState(!1),d=!r||r.trim().length===0||i,m=t==="permanent"?e("composer.userBan.permanent"):e("composer.userBan.temporary",{duration:e(t==="1-hr"?"composer.userBan.duration1Hr":"composer.userBan.duration24Hr")}),f=e(t==="permanent"?"composer.userBan.banMessagePermanent":"composer.userBan.banMessageTemporary"),h=async()=>{if(!d){$t({source:"submitBanAppeal"}),u(!0);try{await kn({path:"/user/bans/appeal",args:{body:{appealText:`APPEAL: ${r}`}}}),o("confirm-submission"),An(o2,new Date().toISOString())}catch(g){D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"submitBanAppeal",eventInfo_errorMessage:`${g}`,eventInfo_details:"Error submitting ban appeal"}})}u(!1)}};return l.jsxs("main",{className:"relative size-full",children:[l.jsx(ac,{forceGradient:!0}),l.jsxs(ln,{id:s,className:"relative z-10 m-auto flex h-dvh max-w-[540px] flex-col items-center justify-center gap-3 p-12 text-center",children:[s==="main"&&l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"text-4xl",children:m}),l.jsx("p",{children:f}),t==="permanent"&&l.jsx(ne,{color:"strong",size:"56-xl",className:"mt-6 w-full",title:e("composer.userBan.submitAppeal"),onClick:()=>o("submit-appeal"),children:e("composer.userBan.submitAppeal")}),l.jsx(Pi,{msg:`${m}. ${f}`})]}),s==="submit-appeal"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex w-full items-center pb-4",children:[l.jsx(ne,{variant:"square",color:"subtle-dimmed-inverted",size:"32-xs",title:e("common.backText"),onClick:()=>o("main"),children:l.jsx(Ml,{className:"size-5 -rotate-90"})}),l.jsx("h2",{className:"grow pe-8",children:e("composer.userBan.submitAppeal")})]}),l.jsx("textarea",{className:"h-[240px] w-full resize-none rounded-xl bg-background-100 p-4 placeholder:text-foreground-650 contrast-more:border-2 dark:text-white",onChange:g=>a(g.target.value),disabled:i,placeholder:e("composer.userBan.submitAppealPlaceholder")}),l.jsx(ne,{color:"strong",className:"w-full",size:"56-xl",title:e("common.submitText"),onClick:h,disabled:d,children:e("common.submitText")})]}),s==="confirm-submission"&&l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"text-4xl",children:e("composer.userBan.appealSubmitted")}),l.jsx("p",{children:e("composer.userBan.appealSubmittedDescription")}),l.jsx(Pi,{msg:`${e("composer.userBan.appealSubmitted")}, ${e("composer.userBan.appealSubmittedDescription")}`})]})]})]})}function Rde(e){const{children:t}=e;Fie(),ole(),ih(),hX(),qie(),Dle();const{appInitialized:n}=gue();Dce(),wce(n),Rie(),Aue();const s=aA(),o=oe(A1);sle({isEnabled:s,onIntercept:o,shouldIntercept:u=>AT(u)});const r=M(Yr),a=M(gv);kue({isAppInitialized:n}),pX(),ice(),uX(n),mX({appInitialized:n}),Vie(),kce();const i=M(od);return Tue(),Aie(),nle(n),rle(),kie(),Bie(),Uce(),Mie(),i==="user-banned"?l.jsx(Nde,{}):i==="age-verification"?l.jsx(Tde,{}):i?l.jsx(M3,{}):!n||!a?null:r?l.jsx(jA,{accountActionRequired:r}):t}function Pde(){const e=M(L1),t=c.useRef(!1);c.useEffect(()=>{e&&!t.current&&(D.trackEvent({name:"system",data:{eventName:"copilotStart",eventInfo_duration:window.appEnd-window.appStart,eventInfo_landingPage:D.getLandingPage()}}),t.current=!0)},[e])}const Lde=$e();function zA(e){Lde.set(bi,e)}function Ode(){const e=um(),t=M(Xw),[n,s]=Ue(Xd);c.useEffect(()=>{e&&!n&&s(t)},[e,t,n,s])}const Dde=10*1024*1024,jde=5*1024*1024,Ude=50*1024*1024,Fde=3,qs={"image/png":["png"],"image/jpeg":["jpg","jpeg"],"image/webp":["webp"],"image/svg+xml":["svg"],"application/pdf":["pdf"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/msword":["doc"],"application/vnd.ms-excel":["xls"],"application/vnd.ms-powerpoint":["ppt"],"application/json":["json"],"text/xml":["xml"],"application/x-sql":["sql"],"text/csv":["csv"],"text/markdown":["md"],"text/plain":["txt"],"text/html":["html","htm"],"text/javascript":["js"],"text/css":["css"],"application/xml":["xml"]},Bde={"image/png":["png"],"image/jpeg":["jpg","jpeg"]},Vde={"application/pdf":["pdf"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/json":["json"],"text/csv":["csv"],"text/markdown":["md"],"text/plain":["txt"]},Fx=N(null),GA=N(e=>{const t=e(Ea("fileasyncprocessing"));return{maxFilesPerMessage:Fde,image:{maxBytes:Dde,mimeTypes:Bde},document:{maxBytes:t?Ude:jde,mimeTypes:Vde}}}),qo=N(e=>e(Fx)??e(GA),(e,t,n)=>{t(Fx,n)}),Hl=N(e=>{const t=e(qo);return{...t.image.mimeTypes,...t.document.mimeTypes}});function WA(e){if(e.length===0)throw new Error("Array must have at least one element");return Math.floor(Math.random()*e.length)}function tTe(e,t){if(e.length===1)throw new Error("Array must have at least two elements");let n;do n=WA(e);while(n===t);return n}function Hde(e){if(e.length!==0)return e[WA(e)]}function zde(e){const t=[...e];for(let n=e.length-1;n>0;n-=1){const s=Math.floor(Math.random()*(n+1)),o=t[n];o&&t[s]&&(t[n]=t[s],t[s]=o)}return t}function nTe(e,t){if(e.length!==t.length)return!1;const n=[...e].sort(),s=[...t].sort();return n.every((o,r)=>o===s[r])}const Gde={refetchOnWindowFocus:!1,refetchOnReconnect:!1,staleTime:1/0,refetchInterval:Dp};function Wde(e,t){return St(e,Cq,t?{query:{"api-version":"2"}}:void 0).then(n=>n.data)}function as(e){return Array.isArray(e)?Vs(e):{positive:Vs(e.positive),negative:Vs(e.negative)}}function Vs(e){const t=e,n=t.slice(0,-1),s=t.slice(-1);return[...zde(n),...s]}function $de(e){return{newsArticle:Vs(e.newsArticle),newsVideo:Vs(e.newsVideo),newsGem:Vs(e.newsGem),chat:Vs(e.chat),dailyBriefing:Vs(e.dailyBriefing),podcast:Vs(e.podcast),default:Vs(e.default)}}function qde(){const e=G("adspositivefeedbacksurvey"),t=G("file-upload-config"),{data:n,refetch:s}=Ms({queryKey:["config",e?"adsV2":"adsV1"],queryFn:()=>Wde("/config",e),...Gde}),o=oe(T1),r=oe(ww),a=oe(Tw),i=oe(Xae),u=oe(eie),d=oe(tie),m=oe(uC),f=oe(dC),h=oe(Iw),g=oe(qo),C=oe(tY);XT(s),c.useEffect(()=>{if(n){if(o(n.voices),r(n.signInPrompts),a(n.maxTextMessageLength),i(n.maxPageContentLength),d(n.pageLimit),u(n.maxPageTitleLength),n.characters&&f(n.characters),n.feedbackOptions.text=Vs(n.feedbackOptions.text),n.feedbackOptions.image=Vs(n.feedbackOptions.image),n.feedbackOptions.discover&&(n.feedbackOptions.discover=$de(n.feedbackOptions.discover)),n.feedbackOptions.card.local=as(n.feedbackOptions.card.local),n.feedbackOptions.card.ads=as(n.feedbackOptions.card.ads),n.feedbackOptions.card.video=as(n.feedbackOptions.card.video),n.feedbackOptions.card.image=as(n.feedbackOptions.card.image),n.feedbackOptions.card.shopping=as(n.feedbackOptions.card.shopping),n.feedbackOptions.card.recipe=as(n.feedbackOptions.card.recipe),n.feedbackOptions.card.sports=as(n.feedbackOptions.card.sports),n.feedbackOptions.card.finance=as(n.feedbackOptions.card.finance),n.feedbackOptions.card.quiz=as(n.feedbackOptions.card.quiz),n.feedbackOptions.card.weather=as(n.feedbackOptions.card.weather),n.feedbackOptions.card.personalArtifacts=as(n.feedbackOptions.card.personalArtifacts),n.feedbackOptions.card.healthcareInfo=as(n.feedbackOptions.card.healthcareInfo),n.feedbackOptions.card.navigation=as(n.feedbackOptions.card.navigation),n.feedbackOptions.card.healthcareEntity=as(n.feedbackOptions.card.healthcareEntity),m(n.feedbackOptions),h(n.messagePreview),t){const v=I=>{const _={};for(const T of I)T in qs&&qs[T]&&(_[T]=qs[T]);return _},y=v(n.attachments.image.mimeTypes),b=v(n.attachments.document.mimeTypes),E=pe(GA),S=(I,_)=>({maxBytes:I.maxBytes??_.maxBytes,mimeTypes:Object.keys(I.mimeTypes??{}).length?I.mimeTypes??{}:_.mimeTypes});g({maxFilesPerMessage:n.attachments.maxFilesPerMessage||E.maxFilesPerMessage,image:S({maxBytes:n.attachments.image.maxBytes,mimeTypes:y},E.image),document:S({maxBytes:n.attachments.document.maxBytes,mimeTypes:b},E.document)})}C(n.portraits??[])}},[n,r,o,a,i,u,m,f,d,h,g,t,C])}function Kde(){const e=bl(vt);return c.useCallback(n=>{e(s=>{for(const{id:o,title:r,updatedAt:a,characterId:i,continuedAt:u,group:d}of n){const m=s.get(o);m?(m.title=r,m.updatedAt=a,m.characterId=i??null,m.continuedAt=u,m.group=d??null):s.set(o,{id:o,title:r,updatedAt:a,characterId:i??null,history:[],continuedAt:null,group:d??null})}})},[e])}function Zde(){const e=Kde(),t=oe(Zd),n=G("group-conversations");return c.useCallback(async({url:o,args:r,isFirstPage:a})=>{const i=await St(o,Lq,{query:{...r,...n?{types:"group,chat"}:{}}}).then(u=>u.data);if(i.results.length>0){const u=i.results.map(d=>({...d,history:[]}));e(u),t(!0)}else a&&t(!1);return i},[e,t,n])}function wm(e){const{data:t,error:n,isPending:s,isFetchingNextPage:o,hasNextPage:r,fetchNextPage:a,refetch:i}=hO({staleTime:6048e5,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,...e}),u=c.useCallback(async()=>{r&&await a()},[a,r]),d=t==null?void 0:t.pages,m=s||o,f=c.useCallback(async()=>{await i({cancelRefetch:!1})},[i]);return{loader:{loading:m,hasNextPage:r,error:n??void 0,onLoadMore:u,data:d},refetch:f}}function Yde(){const e=Zde();return wm({queryKey:["conversations"],queryFn:({pageParam:t})=>e(t),initialPageParam:{url:"/conversations",isFirstPage:!0},getNextPageParam:t=>t.next?{url:"/conversations",args:{cursor:t.next}}:null})}const Qde="aster";function Jde(){const e=oe(Mn),t=oe(bQ),n=!Zt("kill-picasso-id-on-start");return c.useCallback(async()=>{const s=await St("/user",ZE,{parseOptions:{safe:!0},query:{"api-version":"4"}}).then(u=>u.data),{id:o,anid:r,isHistoryMigrationPending:a}=s;D.setAnid(r);const i=D.getPicassoId();return i!==null&&i!==o&&D.trackEvent({name:"health",data:{eventName:"userIdMismatch",eventInfo_customData:JSON.stringify({existingPicassoId:i,newPicassoId:o,origin:"user"})}}),n||D.setPicassoId(o),t(a),e(s.regionCode),s},[n,t,e])}function Xde(){const e=M(cn),t=M(Ui),{refetch:n}=Yde(),s=Jde(),o=oe(Yt),r=oe(QZ),a=oe(_i),i=oe(Jd),u=oe(Xw),d=oe(tI),m=oe(SC),f=oe(O1),h=oe(pQ),g=oe(lY),C=oe(nI),v=oe(hQ),y=oe(gQ),b=oe(vQ),E=oe(sI),S=oe(oI),I=oe(Qw),_=oe(D1),T=oe(em),A=oe(j1),k=oe(CQ),R=oe(IQ),P=um(),V=G("account-change-chat-reset"),U=ih()[0]==="audioCall";c.useEffect(()=>{(async()=>{r(!0);try{const Z=Promise.all([s(),St("/user/settings",Rq).then(Be=>Be.data),n()]),Y=pa.instance().getUserInfo(),[{id:Q,firstName:ee,isPro:$,inEeaPlusRegion:te,isEligibleForFreeTrial:J,phoneLink:W,ageGroup:ie,allowedToggles:Se,remainingUsage:me,subscriptions:re,accountTier:xe,requiredConsents:Ne},{preferredVoice:Oe,preferredCharacter:se,optOutOfTraining:ce,optInToVoiceTraining:X,optOutOfPersonalization:ve,optOutOfPhoneConnection:Re,optInToGenerativeUI:qe,allowBiometricDataUse:Xe,allowOneDriveAccess:et,allowOutlookAccess:fe,allowEdgePasswordsAccess:Ee,allowBrowserActions:Ae,allowComputerUseActions:Ye,features:De}]=await Z;if(D.setIsAad(t),o({id:Q,firstName:ee,isPro:$&&!t,inEeaPlusRegion:te,isEligibleForFreeTrial:J,phoneLink:W,ageGroup:ie,allowedToggles:Se,subscriptions:re,accountTier:xe,isStudent:void 0,requiredConsents:Ne}),I(ee??void 0),!V&&!U&&await i3(),i(Oe||Qde),P&&se){const Be=Cw(se);u(Be)}d(ce),m(X),f(ve),h(!!Re),g(!!qe),C(!!Xe),v(!!et),y(!!fe),b(!!Ee),E(Ae),S(Ye),k((De==null?void 0:De.suggestedFollowups)??!0),R(Ne),me&&(_(me.podcastGenerations),T(me.researchCalls),A(me.videoGenerations)),D.setSettings({userSettingVoiceType:Oe??void 0,userConsentPersonalization:!ve,userConsentModelTraining:!ce,userSettingBrowserActions:Ae??void 0,userSettingComputerUseActions:Ye??void 0,userSubscription:$?"pro":"free",accountTier:xe??"free",activeSubscriptions:(re==null?void 0:re.map(Be=>Be.tier).join(","))??""});const Ke=await Y;if(Ke){const{mail:Be,givenName:Ce,imgSrc:ze,isStudent:Ct}=Ke;o(Me=>Me&&{...Me,givenName:Ce,email:Be,imgSrc:ze,isStudent:Ct}),Ce&&!ee&&I(Ce),t||a(null)}}finally{r(!1)}})().catch(console.error)},[e,V,o,r,a,n,d,i,P,h,g,m,f,C,v,E,S,s,t,u,U,I,_,T,A,k,R,y,b])}const $A=()=>{const e=G("google-drive-connector"),{isGoogleDriveEnabled:t=!1}=ae.instance().config().connectorPlatform??{};return e&&!!t},eme=()=>{const e=G("google-calendar-connector"),{isGoogleCalendarEnabled:t=!1}=ae.instance().config().connectorPlatform??{};return e&&!!t},qA=()=>{const e=M(vv),t=G("outlook-connector"),n=G("email-assist"),{isOutlookEnabled:s=!1}=ae.instance().config().connectorPlatform??{};return e&&s&&(t||n)},KA=()=>{const e=M(vv),t=G("onedrive-connector"),{isOneDriveEnabled:n=!1}=ae.instance().config().connectorPlatform??{};return e&&n&&t},ZA=()=>{const e=G("google-mail-connector"),{isGmailEnabled:t=!1}=ae.instance().config().connectorPlatform??{};return e&&!!t},YA=()=>{const e=G("google-contacts-connector"),{isGoogleContactsEnabled:t=!1}=ae.instance().config().connectorPlatform??{};return e&&!!t},QA=()=>{const e=M(vv),t=G("edge-browser-connector"),{isEdgeBrowserEnabled:n=!1}=ae.instance().config().connectorPlatform??{};return e&&t&&!!n},Bx="userConnectors",tme="/connections",nme=["one-drive","outlook","edge-browser","gmail","google-calendar","google-contacts","google-drive"];async function sme(){const{data:e}=await St(tme,KK,{options:{method:"GET",headers:{"Content-Type":"application/json"}}});return e.connections}function ome(){const e=Qt(),t=$A(),n=eme(),s=qA(),o=KA(),r=ZA(),a=YA(),i=QA(),u=e&&(t||n||s||o||r||a||i),d=oe(rd),m=It("kill-google-drive-connector"),f=c.useMemo(()=>{let v=[...nme];return(m||!t)&&(v=v.filter(y=>y!=="google-drive")),s||(v=v.filter(y=>y!=="outlook")),n||(v=v.filter(y=>y!=="google-calendar")),o||(v=v.filter(y=>y!=="one-drive")),r||(v=v.filter(y=>y!=="gmail")),a||(v=v.filter(y=>y!=="google-contacts")),i||(v=v.filter(y=>y!=="edge-browser")),v},[m,s,n,o,r,a,t,i]),{data:h,error:g,isLoading:C}=Ms({queryKey:["userConnectors"],queryFn:sme,enabled:u});return c.useEffect(()=>{if(h!==void 0){const v=f.map(y=>{const b=h.find(E=>E.type===y);return{type:y,status:(b==null?void 0:b.status)??"disconnected",id:(b==null?void 0:b.id)??`${y}-${crypto.randomUUID()}`}});d(v)}},[h,d,f]),{isLoading:C,error:!!g,data:C||!h?null:h}}const rme=x({isMobileAppInstalled:he()}),ame="/user/install-status",ime={refetchOnWindowFocus:!1,refetchOnReconnect:!1,staleTime:6e4};async function cme(){try{return(await St(ame,rme,{options:{method:"GET"}})).data.isMobileAppInstalled}catch(e){throw console.error("Failed to fetch mobile app install status:",e),e}}function lme(){const e=oe(pC),{data:t,error:n,isLoading:s,refetch:o}=Ms({queryKey:["mobileAppInstallStatus"],queryFn:cme,...ime});return c.useEffect(()=>{t!==void 0&&e(t)},[t,e]),{isMobileAppInstalled:t,isLoading:s,error:n,refetch:o}}function ume(){const e=G("memory-narrative"),t=Qt(),n=M(O1),s=M(EC);return e&&t&&!n&&!s}const JA="/user/narrative";function Vx(e,t){var n;return(n=e.filter(s=>s.name===t)[0])==null?void 0:n.url}function sTe(e){const{background1:t,background2:n,background3:s}=e,r=[n,t,s].filter(i=>typeof i=="object"&&"light"in i&&"dark"in i);if(r.length===0)return[];const a=[];for(let i=0;i<r.length;i+=1){const u=r[i],d=r[(i+1)%r.length];!u||!d||(a.push({type:"gradient",from:u,to:d}),a.push({type:"solid",color:d}))}return a}function oTe(e,t,n){const s=e[t%e.length];return s?s.type==="gradient"?`linear-gradient(to bottom, ${n?`#${s.from.dark}`:`#${s.from.light}`}, ${n?`#${s.to.dark}`:`#${s.to.light}`})`:n?`#${s.color.dark}`:`#${s.color.light}`:"var(--background-color)"}function rTe(e,t){return t==="wavy-shape"?Vx(e,"hero-image-wavy-tablet"):Vx(e,`hero-image-${t}-tablet`)}const dme=x({from:p()});function mme(e){return dme.safeParse(e).success}function aTe(e){return mme(e)?e.from:"/"}const iTe={start:{...Fe,y:300},end:{...nt,y:0}},cTe={duration:Ose,ease:Dse},fme={refetchOnWindowFocus:!1,retry:!1,refetchInterval:Dp},pme=["memoryNarrative",JA];async function hme(e){const{data:t,response:n}=await St(e,z$,{options:{method:"GET",headers:{"Content-Type":"application/json"}},query:{"api-version":"2"}});if(!n.ok)return null;const{id:s,sections:o,theme:r,masks:a,font:i,fontHandwriting:u}=t;return{id:s,sections:o.filter(d=>d.type!=="shareDefault"),config:{theme:r,masks:a,font:i,...u?{fontHandwriting:u}:{}}}}function gme(){const e=Qt(),t=ume(),n=e&&t,{data:s,error:o,isPending:r}=Ms({queryKey:pme,enabled:n,queryFn:()=>hme(JA),...fme});return{isLoading:r,error:o,data:r||!s?null:s}}const Hx="ms-copilot://chat",vme=1e3;function Cme(e){if(typeof window>"u")return new URLSearchParams;const t=new URLSearchParams,n=D.getFormCode();n&&t.set("form",n);const s=oZ();return s&&t.set("ocid",s),e!=null&&e.prompt&&t.set("q",e.prompt),t}function yme(e){return e?`${Hx}?${e.toString()}`:Hx}async function bme(e){if(!fw())return!1;try{const t=Cme(e),n=yme(t),s=document.createElement("iframe");return s.style.display="none",s.src=n,document.body.appendChild(s),setTimeout(()=>{s.parentNode&&s.parentNode.removeChild(s)},vme),!0}catch{return!1}}function xme(){const e=Zt("kill-windows-protocol-launcher"),t=M(fC),n=M(yw);c.useEffect(()=>{if(e||!fw()||!n)return;(async()=>{try{await bme({prompt:t??void 0})}catch(o){console.error(o)}})()},[n,e,t])}const g5="composer-visible",XA="composer-input";function Sme(e){return e.entryType==="element"&&"identifier"in e}function Eme(){performance.getEntriesByName("startupTime-begin").length||performance.mark("startupTime-begin",{startTime:window.appStart});const e=performance.measure("measure-TTC","startupTime-begin",g5);go({feature:"composer",scenario:"measure-TTC",duration:e.duration})}function wme(){const e=bm();if(typeof window>"u"||!e)return()=>{};const t=new PerformanceObserver(n=>{try{if(performance.getEntriesByName(g5).length>0){t.disconnect();return}for(const s of n.getEntries()){if(!Sme(s))continue;const{startTime:o,entryType:r,identifier:a}=s;if(r==="element"&&a===XA){performance.mark(g5,{startTime:o}),Eme(),t.disconnect();break}}}catch{}});return t.observe({type:"element",buffered:!0}),()=>t.disconnect()}function Ime(){c.useEffect(()=>wme(),[])}function _me(){return Xde(),ome(),lme(),gme(),qde(),Ode(),Pde(),xme(),Ime(),null}const Tme=7*24*60*60*1e3;function Ame(){return wt(i2,he().nullable())===!0}function kme(){return wt(n2,he().nullable())===!0}function Mme(){return La().state.location.pathname==="/login"}function l0(e){return ra(e)?"AAD":"MSA"}async function Nme(){const e=$e();function t(){if(!Ame()||kme())return!1;const a=wt(v4,j().nullable());return!(a&&Date.now()-a<Tme)}function n(o){var r;if(o===null){e.set(cn,null),D.setUserAccountType(void 0);return}e.set(cn,{id:((r=o.idTokenClaims)==null?void 0:r.oid)??"",tenantId:o.tenantId,provider:"microsoft",accountType:l0(o.tenantId)}),D.setUserAccountType(l0(o.tenantId))}async function s(){try{ae.instance().config().enableAuth0&&await Do.get();const{msal:o}=await is.get();D.trackEvent({name:"system",data:{eventName:"copilotMsalInit",eventInfo_initTrigger:"DCL",eventInfo_timing:performance.now()-window.appStart}}),o.addEventCallback(async m=>{var f,h;TJ(m),m.eventType===((f=window.msal)==null?void 0:f.EventType.ACCOUNT_ADDED)?e.set(Yr,{reason:"login"}):m.eventType===((h=window.msal)==null?void 0:h.EventType.ACCOUNT_REMOVED)&&e.set(Yr,{reason:"logout"})});let r=!1;const a=pa.instance();await a.initAuthAccount(),r=!!await a.getAccountFromProviders(),e.set(gv,!0);const{monitorAccountChangesAcrossTabs:u,enableAuth0:d}=ae.instance().config();if(u&&o.enableAccountStorageEvents(),!r){const m=wt(ar,p());m&&(await BQ(),await o.loginRedirect({...Yd(),prompt:"none",loginHint:m}))}if(!r&&t()){const m=performance.now();try{const f=await o.ssoSilent(_Y()),h=performance.now()-m,g=l0(f.account.tenantId)==="MSA";g||Tg({message:"SSO Silent returned an AAD account",errorCode:"unexpected_account_type"}),Mme()&&Tg({message:"User is on login page, skipping account update",errorCode:"sso_on_login_page"}),g?(o.setActiveAccount(f.account),n(f.account),AJ({accountUpdate:!0,accountType:"MSA",message:"Account set by MSAL silent SSO",duration:h}),Ge.emit("auth:account-set-by-msal-sso")):await o.logoutRedirect({account:f.account,onRedirectNavigate:()=>!1})}catch(f){Tg({message:f instanceof Error?f.message:"Unknown error",errorCode:window.msal&&f instanceof window.msal.AuthError?f.errorCode:""})}Vn(v4,j(),Date.now())}d&&u&&L2.addEventListener("message",m=>{const f=JK.safeParse(m.data);if(!f.success)return;const{eventName:h}=f.data;h==="auth0.accountAdded"?e.set(Yr,{reason:"login"}):h==="auth0.accountRemoved"&&e.set(Yr,{reason:"logout"})})}catch(o){D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"MsalInitError",eventInfo_details:"DCL",eventInfo_errorMessage:o instanceof Error?o.message:""}})}}return s()}function Rme(){if(typeof document>"u")return;const e=()=>{setTimeout(()=>Nme(),0)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e,{once:!0}):e()}function ek(){const e=gt({breakpoint:"sm"});return(ae.instance().config().responsiveFullWidthSidebarEnabled??!1)&&e}function Pme(e){return["/login","/e/so","/e/sol","/fang","/referrals","/referrals/rules","/memory/narrative"].includes(e)}function Ns(){const e=ut();return(ae.instance().config().sidebarNavigation??!1)&&!Pme(e)}function zl(){const e=Ns(),t=G("sidebar-narrow"),n=ae.instance().config().useCompactSidebarHeader??!1;return e&&t&&!n}function Im(){const e=Ns(),t=zl(),n=M(Vo),s=gt({breakpoint:"md"});return e&&t&&!n&&!s}function _m({endDelay:e=200}={}){const[t,n]=c.useState(!1),s=c.useRef(null);return c.useEffect(()=>{if(typeof window>"u")return()=>{};const o=()=>{n(!0),s.current!==null&&window.clearTimeout(s.current),s.current=window.setTimeout(()=>{n(!1)},e)};return window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o),s.current!==null&&window.clearTimeout(s.current)}},[e]),t}function Bp(e){const{className:t,text:n}=e;return l.jsx("p",{className:F("inline h-min flex-none rounded border px-0.5 uppercase text-2xs",t),children:n})}function N3({defaultValue:e,controlledValue:t,onChange:n}){const s=t!==void 0,[o,r]=c.useState(e);return c.useEffect(()=>{s&&r(t)},[t,s]),{state:s?t:o,setState:u=>{s||r(u),n==null||n(u)}}}function Tm(e){var R;const{renderTrigger:t,triggerClick:n,children:s,className:o,options:r,isOpen:a,trapFocus:i,onIsOpenChange:u}=e,{state:d,setState:m}=N3({controlledValue:a,defaultValue:!1,onChange:u}),{disableFocusManager:f=!1}=r??{},h=Xi(),{refs:g,x:C,y:v,strategy:y,context:b,middlewareData:E}=Ol({open:d,placement:(r==null?void 0:r.placement)??"bottom-end",onOpenChange:m,middleware:[va((r==null?void 0:r.offset)??1),Rl({fallbackAxisSideDirection:"end"}),Ca(),yre()],whileElementsMounted:Na}),S=JC(b),I=hm(b),_=oh(b,{role:(r==null?void 0:r.roleType)??"dialog"}),{getReferenceProps:T,getFloatingProps:A}=nh([S,I,_]),k=P=>{r!=null&&r.stopReferencePropagation&&P.stopPropagation(),n==null||n(P)};return l.jsxs(l.Fragment,{children:[t==null?void 0:t({ref:g.setReference,...T({onClick:k})},d),d&&l.jsx(Ll,{root:r==null?void 0:r.rootRef,children:l.jsx(th,{context:b,modal:i,disabled:f,returnFocus:(r==null?void 0:r.returnFocus)??!0,children:l.jsx("div",{ref:P=>{g.setFloating(P),r!=null&&r.menuRef&&(r.menuRef.current=P)},style:{position:y,top:`${v}px`,[h?"insetInlineEnd":"insetInlineStart"]:`${C}px`,visibility:(R=E.hide)!=null&&R.referenceHidden?"hidden":"visible"},...A({onClick:P=>{r!=null&&r.stopFloatingPropagation&&P.stopPropagation(),r!=null&&r.hideOnMenuClick&&m(!1)}}),className:le("flex rounded-2xl p-1.5 shadow-xl",(r==null?void 0:r.overrideZIndex)??ct.modal,o),children:s})})})]})}function Lme(e={}){const{disabled:t=!1}=e,n=Zt("kill-shared-page"),s=c.useCallback(async o=>{const{pageParam:r}=o,{url:a,args:i}=r,u={...i,...n?{}:{"api-version":"2"}};return await St(a,X$,{query:u,analytics:{anonymousPath:"/pages"}}).then(m=>m.data)},[n]);return wm({queryKey:["pages"],queryFn:s,enabled:!t,initialPageParam:{url:"/pages",isFirstPage:!0},getNextPageParam:o=>o.next?{url:"/pages",args:{cursor:o.next}}:null})}function Ome(){const e=G("pages-anonymous"),t=Qt();return{canCreatePageForSignedOut:e,canCreatePage:t||e}}const R3=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M5.25 4H18.75C20.483 4 21.8992 5.35645 21.9949 7.06558L22 7.25V16.75C22 18.483 20.6435 19.8992 18.9344 19.9949L18.75 20H5.25C3.51697 20 2.10075 18.6435 2.00514 16.9344L2 16.75V7.25C2 5.51697 3.35645 4.10075 5.06558 4.00514L5.25 4H18.75H5.25ZM20.5 9.373L12.3493 13.6637C12.1619 13.7623 11.9431 13.7764 11.7468 13.706L11.6507 13.6637L3.5 9.374V16.75C3.5 17.6682 4.20711 18.4212 5.10647 18.4942L5.25 18.5H18.75C19.6682 18.5 20.4212 17.7929 20.4942 16.8935L20.5 16.75V9.373ZM18.75 5.5H5.25C4.33183 5.5 3.57881 6.20711 3.5058 7.10647L3.5 7.25V7.679L12 12.1525L20.5 7.678V7.25C20.5 6.33183 19.7929 5.57881 18.8935 5.5058L18.75 5.5Z"})),lTe=Object.freeze(Object.defineProperty({__proto__:null,default:R3},Symbol.toStringTag,{value:"Module"})),Dme=e=>c.createElement("svg",{viewBox:"0 0 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M27.9994 14.0514C27.9994 6.29111 21.7315 0 13.9997 0C6.26795 0 0 6.29111 0 14.0514C0 20.641 4.52023 26.1705 10.6179 27.6892V18.3455H7.73121V14.0514H10.6179V12.2011C10.6179 7.41859 12.7745 5.20184 17.4526 5.20184C18.3396 5.20184 19.8701 5.37664 20.4962 5.55088V9.44312C20.1658 9.40828 19.5918 9.39085 18.8789 9.39085C16.5835 9.39085 15.6965 10.2637 15.6965 12.5328V14.0514H20.2694L19.4837 18.3455H15.6965V28C22.6286 27.1597 28 21.2356 28 14.0514H27.9994Z"})),jme=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("g",{id:"Linkedin"},c.createElement("path",{id:"Shape",d:"M23.6999 2.75909C23.6999 1.39872 22.5971 0.295929 21.2368 0.295929H2.76308C1.40272 0.295929 0.299927 1.39872 0.299927 2.75909V21.2328C0.299927 22.5931 1.40272 23.6959 2.76308 23.6959H21.2368C22.5971 23.6959 23.6999 22.5931 23.6999 21.2328V2.75909ZM3.63848 9.12156H7.24935V20.6943H3.63848V9.12156ZM16.4313 8.83425C19.8921 8.83425 20.6797 10.9844 20.753 13.861L20.7589 14.3469V20.6942H17.1519L17.1517 14.9161C17.1477 13.5985 17.0603 11.9984 15.278 11.9984C13.4002 11.9984 13.1135 13.4611 13.1135 14.971V20.6942H9.51161V9.12143H12.9689V10.7028H13.0188L13.1052 10.5509C13.6314 9.68925 14.7739 8.83425 16.4313 8.83425ZM3.35125 5.45367C3.35125 4.30239 4.28565 3.36809 5.44404 3.36809C6.59732 3.36809 7.53556 4.30239 7.53556 5.45367C7.53556 6.60623 6.59732 7.54053 5.44404 7.54053C4.28565 7.54053 3.35125 6.60623 3.35125 5.45367Z",fill:"currentColor"}))),Ume=e=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",...e},c.createElement("g",{clipPath:"url(#clip0_9013_4638)"},c.createElement("path",{d:"M14 0C6.26828 0 0 6.26828 0 14C0 17.8664 1.56734 21.3664 4.10047 23.8995L1.43391 26.5661C0.904531 27.0955 1.27969 28 2.02781 28H14C21.7317 28 28 21.7317 28 14C28 6.26828 21.7317 0 14 0Z",className:"fill-foreground-650"}),c.createElement("path",{d:"M16.8481 6.60187C17.091 7.63109 18.0152 8.39781 19.1188 8.39781C20.4072 8.39781 21.4517 7.35328 21.4517 6.06484C21.4517 4.7764 20.4072 3.73187 19.1188 3.73187C17.9922 3.73187 17.0527 4.53031 16.8339 5.59234C14.9472 5.79469 13.4739 7.39484 13.4739 9.33406C13.4739 9.33843 13.4739 9.34172 13.4739 9.34609C11.4221 9.4325 9.54846 10.0166 8.06096 10.9386C7.50861 10.5109 6.81518 10.2561 6.06268 10.2561C4.25689 10.2561 2.79346 11.7195 2.79346 13.5253C2.79346 14.8356 3.56346 15.9644 4.6758 16.4861C4.78408 20.2814 8.91955 23.3341 14.0066 23.3341C19.0936 23.3341 23.2346 20.2781 23.3374 16.4795C24.441 15.9545 25.2044 14.8291 25.2044 13.5264C25.2044 11.7206 23.741 10.2572 21.9352 10.2572C21.186 10.2572 20.4958 10.5098 19.9446 10.9342C18.4439 10.0056 16.5496 9.42156 14.4769 9.3439C14.4769 9.34062 14.4769 9.33844 14.4769 9.33515C14.4769 7.94609 15.5094 6.79328 16.8481 6.60406V6.60187ZM7.92971 15.6002C7.98439 14.4145 8.77189 13.5045 9.68736 13.5045C10.6028 13.5045 11.3028 14.4659 11.2481 15.6516C11.1935 16.8372 10.5099 17.2681 9.5933 17.2681C8.67674 17.2681 7.87502 16.7858 7.92971 15.6002ZM18.3269 13.5045C19.2435 13.5045 20.031 14.4145 20.0846 15.6002C20.1392 16.7858 19.3364 17.2681 18.421 17.2681C17.5055 17.2681 16.8208 16.8383 16.7661 15.6516C16.7114 14.4659 17.4103 13.5045 18.3269 13.5045ZM17.2375 18.3433C17.4092 18.3608 17.5186 18.5391 17.4519 18.6987C16.8886 20.0452 15.5586 20.9912 14.0066 20.9912C12.4546 20.9912 11.1256 20.0452 10.5613 18.6987C10.4946 18.5391 10.6039 18.3608 10.7756 18.3433C11.7819 18.2416 12.8702 18.1858 14.0066 18.1858C15.143 18.1858 16.2302 18.2416 17.2375 18.3433Z",style:{fill:"rgb(var(--color-foreground-100))"}})),c.createElement("defs",null,c.createElement("clipPath",{id:"clip0_9013_4638"},c.createElement("rect",{width:28,height:28,fill:"white"})))),Fme=e=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",fill:"currentColor",...e},c.createElement("g",null,c.createElement("path",{d:"M16.6638 11.85L27.0874 0H24.6174L15.5665 10.2892L8.33765 0H0L10.9315 15.5591L0 27.9856H2.47021L12.0281 17.1199L19.6623 27.9856H28L16.6632 11.85H16.6638ZM13.2805 15.6962L12.1729 14.1468L3.36026 1.81862H7.15435L14.2663 11.7679L15.3739 13.3172L24.6185 26.2497H20.8244L13.2805 15.6967V15.6962Z",fill:"currentColor"}))),Bme=e=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",fill:"currentColor",...e},c.createElement("path",{d:"M23.9202 4.06584C21.2885 1.44525 17.7882 0.00132957 14.0588 0C6.37397 0 0.119658 6.21909 0.116984 13.8635C0.115647 16.3072 0.758058 18.6925 1.97804 20.7946L0 27.9796L7.39072 26.0517C9.4269 27.1566 11.7198 27.7383 14.0528 27.739H14.0588C21.7423 27.739 27.9974 21.5192 28 13.8748C28.0013 10.17 26.5527 6.6871 23.9202 4.0665V4.06584ZM14.0588 25.3975H14.0541C11.9751 25.3969 9.93564 24.8411 8.15617 23.7914L7.73299 23.5415L3.34709 24.6856L4.5176 20.4329L4.24218 19.9968C3.08236 18.162 2.46937 16.0413 2.4707 13.8642C2.47338 7.51078 7.67149 2.34138 14.0635 2.34138C17.1586 2.34271 20.0678 3.54266 22.2557 5.72117C24.4437 7.89902 25.6476 10.7949 25.6463 13.8735C25.6436 20.2275 20.4455 25.3969 14.0588 25.3969V25.3975ZM20.4147 16.7673C20.0664 16.5938 18.3538 15.7561 18.0343 15.6405C17.7147 15.5248 17.4828 15.467 17.2508 15.814C17.0189 16.161 16.3511 16.9415 16.1478 17.1721C15.9446 17.4035 15.7414 17.4321 15.3931 17.2585C15.0449 17.085 13.9225 16.7194 12.5915 15.5394C11.5561 14.6206 10.8568 13.4866 10.6536 13.1395C10.4504 12.7925 10.6322 12.605 10.806 12.4329C10.9624 12.2773 11.1543 12.028 11.3287 11.8259C11.5033 11.6238 11.5607 11.4789 11.677 11.2482C11.7934 11.0168 11.7352 10.8148 11.6483 10.6412C11.5614 10.4677 10.8649 8.76253 10.574 8.06918C10.2912 7.39377 10.0039 7.48551 9.79059 7.47421C9.58736 7.46424 9.35542 7.46225 9.12279 7.46225C8.89016 7.46225 8.51309 7.54867 8.19358 7.89569C7.87407 8.24267 6.97426 9.08097 6.97426 10.7855C6.97426 12.49 8.22236 14.1381 8.39681 14.3694C8.57127 14.6008 10.8534 18.0995 14.3476 19.6006C15.1786 19.9576 15.8276 20.171 16.3336 20.3306C17.168 20.5945 17.9273 20.5573 18.5276 20.4682C19.1968 20.3685 20.5886 19.6299 20.8787 18.8208C21.1688 18.0117 21.1688 17.3177 21.0819 17.1734C20.995 17.0292 20.7624 16.9421 20.4141 16.7686L20.4147 16.7673Z"})),v5="../../assets/lottie";function Vme(e){return e.startsWith(`${v5}/`)?e.slice(v5.length+1):e}function tk(){const e=Object.assign({"../../assets/lottie/chain-of-thought-dark.json":()=>B(()=>import("./chain-of-thought-dark-BPjK_j-x.js"),[]).then(n=>n.default),"../../assets/lottie/chain-of-thought-light.json":()=>B(()=>import("./chain-of-thought-light-D5erdeOr.js"),[]).then(n=>n.default),"../../assets/lottie/character-thinking-cloud-animation.json":()=>B(()=>import("./character-thinking-cloud-animation-Bu4j70Rh.js"),[]).then(n=>n.default),"../../assets/lottie/image-gen-dark.json":()=>B(()=>import("./image-gen-dark-DTw6tnD0.js"),[]).then(n=>n.default),"../../assets/lottie/image-gen-light.json":()=>B(()=>import("./image-gen-light-C_x12-59.js"),[]).then(n=>n.default),"../../assets/lottie/loader-gradient.json":()=>B(()=>import("./loader-gradient-7hu2fPzp.js"),[]).then(n=>n.default),"../../assets/lottie/loader-image-generating.json":()=>B(()=>import("./loader-image-generating-BZL4nXqF.js"),[]).then(n=>n.default),"../../assets/lottie/loader-reasoning-dark.json":()=>B(()=>import("./loader-reasoning-dark-Dh23ceSo.js"),[]).then(n=>n.default),"../../assets/lottie/loader-reasoning-light.json":()=>B(()=>import("./loader-reasoning-light-BmcsjTTD.js"),[]).then(n=>n.default),"../../assets/lottie/loader-spinner-dark.json":()=>B(()=>import("./loader-spinner-dark-D_zqJrW7.js"),[]).then(n=>n.default),"../../assets/lottie/loader-spinner-light.json":()=>B(()=>import("./loader-spinner-light-CUlAhBGz.js"),[]).then(n=>n.default),"../../assets/lottie/loader-spinner-white.json":()=>B(()=>import("./loader-spinner-white-B2mzTARL.js"),[]).then(n=>n.default),"../../assets/lottie/pages-welcome-dark.json":()=>B(()=>import("./pages-welcome-dark-BxeF7F8z.js"),[]).then(n=>n.default),"../../assets/lottie/pages-welcome-light.json":()=>B(()=>import("./pages-welcome-light-BFwITHsU.js"),[]).then(n=>n.default),"../../assets/lottie/voicemail-dark.json":()=>B(()=>import("./voicemail-dark-Bec3gjKS.js"),[]).then(n=>n.default),"../../assets/lottie/voicemail-light.json":()=>B(()=>import("./voicemail-light-DmBzGtqk.js"),[]).then(n=>n.default)});function t(n){return e[n]?n:`${v5}/${n}`}return{load:n=>{const s=t(n),o=e[s];return o?o():Promise.reject(new Error(`Lottie animation not found: ${n} (resolved: ${s})`))},exists:n=>{const s=t(n);return!!e[s]},getNames:()=>Object.keys(e).map(Vme),getFullPath:n=>t(n)}}const Hme=c.lazy(()=>B(()=>import("./index.es-C-L2gmEi.js"),__vite__mapDeps([5,1]))),zme=tk();function it(e){const{type:t,className:n,rendererSettings:s,colorTheme:o}=e,r=M(Wo),a=o??r,[i,u]=c.useState(null),d=c.useMemo(()=>{switch(t){case"gradient":return"loader-gradient.json";case"reasoning":return a==="dark"?"loader-reasoning-dark.json":"loader-reasoning-light.json";case"chainOfThought":return a==="dark"?"chain-of-thought-dark.json":"chain-of-thought-light.json";case"spinnerWhite":return"loader-spinner-white.json";case"imageGen":return a==="dark"?"image-gen-dark.json":"image-gen-light.json";case"spinnerThemed":default:return a==="dark"?"loader-spinner-dark.json":"loader-spinner-light.json"}},[t,a]);return c.useEffect(()=>{zme.load(d).then(u).catch(()=>u(null))},[d]),i?l.jsx(c.Suspense,{fallback:l.jsx("div",{}),children:l.jsx(Hme,{animationData:i,loop:!0,className:n,rendererSettings:s})}):l.jsx("div",{})}const P3=Object.freeze(Object.defineProperty({__proto__:null,default:it},Symbol.toStringTag,{value:"Module"})),uTe=["facebook","twitter","whatsapp","linkedin","reddit","email"],Gme={facebook:"senderToFacebook",twitter:"senderToX",linkedin:"senderToLinkedIn",whatsapp:"senderToWhatsApp",reddit:"senderToReddit",email:"senderToEmail"},nk={facebook:{displayName:"Facebook",linkGenerator:e=>`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(e)}`,icon:l.jsx(Dme,{})},twitter:{displayName:"X",linkGenerator:(e,t)=>`https://twitter.com/intent/tweet?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`,icon:l.jsx(Fme,{})},whatsapp:{displayName:"WhatsApp",linkGenerator:(e,t)=>`https://api.whatsapp.com/send?text=${encodeURIComponent(`${t} ${e}`)}`,icon:l.jsx(Bme,{})},linkedin:{displayName:"LinkedIn",linkGenerator:(e,t)=>`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`,icon:l.jsx(jme,{})},reddit:{displayName:"Reddit",linkGenerator:(e,t)=>`https://www.reddit.com/submit?url=${encodeURIComponent(e)}&title=${encodeURIComponent(t)}`,icon:l.jsx(Ume,{})},email:{displayName:"Email",linkGenerator:(e,t)=>`mailto:?subject=${encodeURIComponent(t)}&body=${encodeURIComponent(e)}`,icon:l.jsx(R3,{})}};function dTe(e){const{socialMedia:t,className:n,loading:s,disabled:o,onClickSocialMedia:r,includeTitle:a,iconClassName:i="size-6"}=e,u=nk[t],d=u.displayNameKey?z(u.displayNameKey):u.displayName,m=l.jsx("div",{className:i,children:u.icon}),f="56-xl",h="subtle-dimmed-inverted",g=F("flex-1 py-2",n);return l.jsxs(ne,{size:f,color:h,title:d,className:g,onClick:C=>r(t,C),disabled:o,children:[s?l.jsx(it,{className:"size-8"}):m,a&&l.jsx("span",{className:"font-medium text-foreground-650 text-2xs",children:d})]})}function mTe(e,t,n,s){if(!t)return;let o;if(e==="email"){const r=s?`${s}

${t}`:t;o=`mailto:?subject=${encodeURIComponent(n)}&body=${encodeURIComponent(r)}`}else o=nk[e].linkGenerator(t,s??n);Io(o)}function sk(e){const{scenario:t,pageName:n,sectionName:s,customData:o}=e;ye({source:"shareMenu",scenario:t,pageName:n,sectionName:s,customData:o})}function fTe(e){const{conversationId:t,messageId:n}=e;D.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:"sharePreview",eventInfo_impressionElement:"shareBlockedBanner",eventInfo_conversationId:t,eventInfo_messageId:n}})}function pTe(e){const{conversationId:t,messageId:n,uploadedFileType:s}=e;D.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:"sharePreview",eventInfo_conversationId:t,eventInfo_messageId:n,eventInfo_uploadFileType:s}})}function hTe(e){const{scenario:t,uploadedFileType:n,conversationId:s,customData:o,clickDestination:r="copyLink"}=e,a={eventName:"copilotClick",eventInfo_clickSource:"shareButton",eventInfo_clickScenario:t,eventInfo_uploadFileType:n,eventInfo_clickDestination:r,eventInfo_customData:o,eventInfo_conversationId:s};D.trackEvent({name:"interaction",data:a})}function gTe(e){const{scenario:t,socialMedia:n,customData:s,conversationId:o}=e,r={eventName:"copilotClick",eventInfo_clickSource:"shareButton",eventInfo_clickDestination:Gme[n],eventInfo_clickScenario:t,eventInfo_customData:s,eventInfo_conversationId:o};D.trackEvent({name:"interaction",data:r})}function Wme(e){const{shareId:t,sharedLevel:n,sharedDataType:s,impressionScenario:o}=e;D.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:"receivePreview",eventInfo_impressionScenario:o,eventInfo_customData:JSON.stringify({eventInfo_shareId:t,sharedLevel:n,sharedDataType:s})}})}function vTe(){D.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"talkToCopilot"}})}function CTe(e){const{cardType:t,messageId:n,conversationId:s,scenario:o}=e;$t({source:"shareMenu",scenario:o,messageId:n,conversationId:s,cardType:t})}function $me(e){const{conversationId:t,messageId:n,errorName:s,errorMessage:o,errorStack:r}=e;D.trackEvent({name:"system",data:{eventName:"shareMessagesFailed",eventInfo_conversationId:t,eventInfo_messageId:n??"",eventInfo_error:s,eventInfo_errorMessage:o,eventInfo_errorStack:r}})}function qme(){ye({source:"continueClicked"})}function Kme(e){const{shareId:t,error:n,conversationId:s}=e;qt({feature:"share",scenario:"continueClickFailed",errorType:n==null?void 0:n.name,errorMessage:n==null?void 0:n.message,customData:JSON.stringify({eventInfo_shareId:t,eventInfo_conversationId:s})})}function yTe(){ye({source:"sharedLinkManagement"})}function Zme(e){ye({source:"delete",scenario:"deleteSingleSharedLink",customData:JSON.stringify({eventInfo_shareId:e})})}function Yme(e){const{details:t,errorMessage:n}=e;D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"CopyError",eventInfo_details:t,eventInfo_errorMessage:n}})}function bTe(){ye({pageName:"chatPage",sectionName:"chatResponse",source:"addToPage"})}function xTe(e){ye({pageName:"addToPage",source:e})}function Qme(){ye({sectionName:"actionMenu",source:"createNewPage"})}function Jme(e){ye({pageName:e,source:"openPage"})}function STe(){ye({pageName:"pages",sectionName:"editBar",source:"askCopilot"})}function ETe(e){const{action:t,pageId:n,conversationId:s,messageId:o,suggestionId:r}=e;ye({pageName:"pages",sectionName:"suggestions",source:t==="accept"?"applyRevision":"reject",conversationId:s,customData:JSON.stringify({eventInfo_pageId:n,eventInfo_messageId:o,eventInfo_suggestionId:r,eventInfo_sourcesCount:pe(wo)})})}function wTe(e){const{reaction:t,pageId:n,suggestionId:s,messageId:o,startIndex:r,endIndex:a,oldText:i,replacement:u,conversationId:d}=e;ye({pageName:"pages",sectionName:"suggestions",source:"pagesFeedback",scenario:t,conversationId:d,customData:JSON.stringify({eventInfo_pageId:n,eventInfo_reaction:t,eventInfo_suggestionId:s,eventInfo_messageId:o,eventInfo_startIndex:r,eventInfo_endIndex:a,eventInfo_oldText:i,eventInfo_replacement:u})})}function Xme(e){qt({feature:"pages",...e})}const ITe=["createPage","addToExistingPage","openPageOnChat","openPageOnHistory","openPageOnLibrary","copyPage"];function _Te(e,t,n){go({feature:"pages",scenario:e,duration:Math.round(t),customData:JSON.stringify({eventInfo_pageId:n})})}function TTe(){ye({pageName:"pages",source:"hyperlinkInPages"})}function ATe({sectionName:e,pageId:t}){ye({sectionName:e,source:"deletePage",customData:JSON.stringify({eventInfo_pageId:t})})}function kTe({sectionName:e,pageId:t}){ye({sectionName:e,source:"renamePage",customData:JSON.stringify({eventInfo_pageId:t})})}function MTe(e){D.trackEvent({name:"interaction",data:{eventName:"copilotPagesEdited",eventInfo_customData:JSON.stringify({eventInfo_pageId:e,eventInfo_sourcesCount:pe(wo)})}})}function NTe(e){const{pageName:t,sectionName:n,pageId:s}=e;ye({pageName:t,sectionName:n,source:"pagesSharing",customData:JSON.stringify({eventInfo_pageId:s})})}function RTe(e){const{pageName:t,sectionName:n,pageId:s,source:o}=e;ye({pageName:t,sectionName:n,source:o,customData:JSON.stringify({eventInfo_pageId:s})})}function PTe(e){const{sectionName:t,pageId:n}=e;ye({sectionName:t,source:"removePagesSharing",customData:JSON.stringify({eventInfo_pageId:n})})}const LTe=["pagesHistory","direct"];function OTe(e,t){D.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:"pagesSharing",eventInfo_impressionScenario:e}}),Wme({shareId:t,sharedLevel:"singleAr",sharedDataType:"page",impressionScenario:"pages"})}const DTe=["responsePreviewedPage","chatCreateNewPage","chatAddToExistingPage","chatDirectToNewPage","pagesHistory","actionMenuCreateNewPage","libraryMenuCreateNewPage","makeACopyViewerPage","makeACopyOwnerPage","makeACopyViewOnly","makeACopyPagesHistory","libraryPageItem"];function jTe(e,t){D.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:"pages",eventInfo_impressionScenario:t,eventInfo_customData:JSON.stringify({eventInfo_pageId:e,eventInfo_sourcesCount:pe(wo)})}})}function UTe(e){const{pageName:t,sectionName:n,pageId:s}=e;ye({pageName:t,sectionName:n,source:"makePagesCopy",customData:JSON.stringify({eventInfo_pageId:s})})}function FTe(){ye({pageName:"pages",source:"printPage"})}function efe(e){D.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:"threePages",eventInfo_impressionScenario:e}})}function BTe(e,t){ye({pageName:"pages",sectionName:"titleBar",source:t,customData:JSON.stringify({eventInfo_pageId:e,eventInfo_sourcesCount:pe(wo)})})}function VTe(e){un({page:"sourcesManagement",scenario:"showSources",customData:JSON.stringify({eventInfo_pageId:e,eventInfo_sourcesCount:pe(wo)})})}function HTe(e,t){ye({pageName:"pages",sectionName:"sourcesManagement",source:t,customData:JSON.stringify({eventInfo_pageId:e,eventInfo_sourcesCount:pe(wo)})})}function ok({pageId:e,uploadStatus:t,format:n}){un({scenario:"uploadPageSourceFile",page:"sourcesManagement",element:"sourcesFileItem",customData:JSON.stringify({eventInfo_pageId:e,eventInfo_sourcesCount:pe(wo),eventInfo_sourcesFileFormat:n,eventInfo_uploadStatus:t})})}function zTe(e,t){go({feature:"pages",scenario:"uploadSourceFile",customData:JSON.stringify({eventInfo_pageId:e,eventInfo_sourcesCount:pe(wo)})}),ok({pageId:e,uploadStatus:"Success",format:t})}function GTe(e){ye({pageName:"pages",sectionName:"sourcesManagement",source:"deleteFile",customData:JSON.stringify({eventInfo_pageId:e,eventInfo_sourcesCount:pe(wo)})})}function WTe(e){ye({pageName:"pages",sectionName:"sourcesFileDeleteModal",source:"confirmDeleteFile",customData:JSON.stringify({eventInfo_pageId:e,eventInfo_sourcesCount:pe(wo)})})}function $Te({pageId:e,isSaving:t,errorMessage:n,exception:s,fileExtension:o}){Xme({scenario:"uploadSourceFile",errorType:t?"SavePageMappingFailed":"UploadSourceFileFailed",errorMessage:n,exception:s,customData:JSON.stringify({eventInfo_pageId:e,eventInfo_sourcesCount:pe(wo)})}),ok({pageId:e,uploadStatus:t?"SavePageMappingFailed":"UploadSourceFileFailed",format:o})}function tfe(){const e=Eo(),t=Td(),n=oe(Vo);return c.useCallback(async({pageId:s,pageType:o,closeSidebar:r,sourcePage:a,impressionScenario:i,featureLatencyInfo:u})=>{if(Jme(a),r&&n(!1),o==="sharedPage"){await e({to:"/shares/pages/$shareId",params:{shareId:s},from:t.state.location.pathname,state:{...u,impressionScenario:i}});return}await e({to:"/pages/$pageId",params:{pageId:s},from:t.state.location.pathname,state:{...u,impressionScenario:i}})},[e,t.state.location.pathname,n])}const nfe=$e();function Gr(e){e&&nfe.set(Sn,{title:e.title,subtitle:e.message,dismissable:!0,dismissAfter:10*1e3})}const zx="/pages";async function sfe(e,t){const n=await kn({path:"/pages",args:{body:{title:e,content:t},analytics:{anonymousPath:zx}}}),s=await n.json(),o=tq.safeParse(s);if(!n.ok&&o.success)throw new Error(o.data.errorCode);try{return VE.parse(s)}catch(r){throw r instanceof ep&&sd(r,zx,!1),r}}function ofe(){const{canCreatePage:e,canCreatePageForSignedOut:t}=Ome(),{t:n}=q(),[s,o]=c.useState(!1),r=Vl(),a=oe(So),i=oe(ka),u=tfe();return{creatingPage:s,createPage:e?async({content:m,sourcePage:f,impressionScenario:h,featureLatencyInfo:g})=>{o(!0);try{const{id:C}=await sfe("",m);await u({pageId:C,closeSidebar:!0,sourcePage:f,impressionScenario:h,featureLatencyInfo:g})}catch(C){C instanceof Error&&C.message==="page-count-exceeded"&&t?(efe(f),a(r?"prompt-3p-sign-in":"prompt-sign-in"),i({isOpen:!0,scenario:"sidebarActionCreatePage",reason:"pageLimitReached"})):Gr({title:n("common.somethingWrong"),message:n("pages.errorCreatingMessage")})}finally{o(!1)}}:null}}function rk(e){const{callback:t,signInScenario:n,onShowSignIn:s,signInReason:o}=e,r=Qt(),a=oe(ka);return(...i)=>{if(!r){a({isOpen:!0,scenario:n,reason:o}),s&&typeof s=="function"&&s();return}t(...i)}}function rfe(){return Ks({to:"/",from:La().state.location.pathname})}const u0=N(!1),ak=N(!1),C5=N(null),Gx=N(null),afe=N(null),ife=N(!0),cfe=N(-1),qTe=N(!1),KTe=uv("muteCoachmarkVisible",!0),lfe=uv("studyVoiceCoachmarkNumberOfTimesShown",0);function _r(){const{createConversation:e}=ym();return c.useCallback(async()=>{ik(),await e({shouldNavigateToChat:!1}),await rfe()},[e])}function ik(){mt(So,null),mt(im,null),mt(C5,null)}function ufe(){const{t:e}=q(),t=_r(),{createPage:n}=ofe(),s=Qt(),o=G("pages-anonymous"),{refetch:r}=Lme({disabled:!s&&!o}),a=async()=>{Qme(),await(n==null?void 0:n({content:"",sourcePage:"createNewPage",impressionScenario:"actionMenuCreateNewPage",featureLatencyInfo:{scenario:"createPage",startTimestamp:Date.now()}})),await r()},i=rk({callback:a,signInScenario:"sidebarActionCreatePage",signInReason:"createPage"}),u=async()=>{!s&&o?a():i()},d=()=>{setTimeout(()=>{u()},0)};return l.jsxs("div",{className:"flex flex-col",children:[l.jsx(ne,{color:"subtle-dimmed-inverted",size:"40-base",variant:"rect",alignment:"start",title:e("sidebar.actions.newChat"),onClick:()=>{t()},children:e("sidebar.actions.newChat")}),l.jsx(ne,{color:"subtle-dimmed-inverted",size:"40-base",alignment:"start",variant:"rect",title:e("sidebar.actions.newPage"),testId:"create-new-page-button",onClick:d,children:e("sidebar.actions.newPage")})]})}function ck(e){const{buttonSize:t}=e,{t:n}=q(),s=Bd();return l.jsx(Tm,{options:{placement:"bottom-end",hideOnMenuClick:!0,roleType:"menu"},className:Js,renderTrigger:({onClick:o,...r},a)=>l.jsx(ne,{...r,testId:"sidebar-action-menu-button",title:n("sidebar.actions.menuTitle"),tooltip:{placement:"bottom",disabled:a},color:"subtle-dimmed-inverted",variant:"rect",size:t,className:"min-w-6 rounded-sm rounded-e-xl px-0",onClick:i=>{s&&(ye({source:"sidebarActionsMenu",customData:JSON.stringify({buttonSize:t})}),o(i))},id:"sidebar-new-action-menu-button",children:l.jsx(us,{className:"size-3.5 rotate-90"})}),children:l.jsx(ufe,{})})}const lk=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M10.7327 19.7905C11.0326 20.0762 11.5074 20.0646 11.7931 19.7647C12.0788 19.4648 12.0672 18.99 11.7673 18.7043L5.51587 12.7497L20.25 12.7497C20.6642 12.7497 21 12.4139 21 11.9997C21 11.5855 20.6642 11.2497 20.25 11.2497L5.51577 11.2497L11.7673 5.29502C12.0672 5.00933 12.0787 4.5346 11.7931 4.23467C11.5074 3.93475 11.0326 3.9232 10.7327 4.20889L3.31379 11.2756C3.14486 11.4365 3.04491 11.6417 3.01393 11.8551C3.00479 11.9019 3 11.9503 3 11.9997C3 12.0493 3.00481 12.0977 3.01398 12.1446C3.04502 12.3579 3.14496 12.563 3.31379 12.7238L10.7327 19.7905Z"})),ZTe=Object.freeze(Object.defineProperty({__proto__:null,default:lk},Symbol.toStringTag,{value:"Module"})),Am=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M21.7803 3.28033C22.0732 2.98744 22.0732 2.51256 21.7803 2.21967C21.4874 1.92678 21.0125 1.92678 20.7196 2.21967L10.7197 12.2197L10.25 13.75L11.7803 13.2803L21.7803 3.28033ZM6.25 3C4.45507 3 3 4.45508 3 6.25V17.75C3 19.5449 4.45507 21 6.25 21H17.75C19.5449 21 21 19.5449 21 17.75V9.75C21 9.33579 20.6642 9 20.25 9C19.8358 9 19.5 9.33579 19.5 9.75V17.75C19.5 18.7165 18.7165 19.5 17.75 19.5H6.25C5.2835 19.5 4.5 18.7165 4.5 17.75V6.25C4.5 5.2835 5.2835 4.5 6.25 4.5H14.25C14.6642 4.5 15 4.16421 15 3.75C15 3.33579 14.6642 3 14.25 3H6.25Z"})),YTe=Object.freeze(Object.defineProperty({__proto__:null,default:Am},Symbol.toStringTag,{value:"Module"})),yh=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M3.75 8.5C3.75 8.08579 4.08579 7.75 4.5 7.75H5.75C6.16421 7.75 6.5 8.08579 6.5 8.5C6.5 8.91421 6.16421 9.25 5.75 9.25H4.5C4.08579 9.25 3.75 8.91421 3.75 8.5ZM3.75 12C3.75 11.5858 4.08579 11.25 4.5 11.25H5.75C6.16421 11.25 6.5 11.5858 6.5 12C6.5 12.4142 6.16421 12.75 5.75 12.75H4.5C4.08579 12.75 3.75 12.4142 3.75 12ZM3.75 15.5C3.75 15.0858 4.08579 14.75 4.5 14.75H5.75C6.16421 14.75 6.5 15.0858 6.5 15.5C6.5 15.9142 6.16421 16.25 5.75 16.25H4.5C4.08579 16.25 3.75 15.9142 3.75 15.5ZM4.25 3C2.45507 3 1 4.45507 1 6.25V17.75C1 19.5449 2.45508 21 4.25 21H19.75C21.5449 21 23 19.5449 23 17.75V6.25C23 4.45507 21.5449 3 19.75 3H4.25ZM19.75 19.5H9V4.5H19.75C20.7165 4.5 21.5 5.2835 21.5 6.25V17.75C21.5 18.7165 20.7165 19.5 19.75 19.5ZM4.25 4.5H7.5V19.5H4.25C3.2835 19.5 2.5 18.7165 2.5 17.75V6.25C2.5 5.2835 3.2835 4.5 4.25 4.5Z"})),QTe=Object.freeze(Object.defineProperty({__proto__:null,default:yh},Symbol.toStringTag,{value:"Module"})),dfe=N(!0),mfe=N(!0),ffe=N(!1),pfe=N(!1),uk=N(!1);function L3(){const e=M(w1),t=M(fl);return e&&!!t}function bh(){const e=ut();return e.startsWith("/podcasts")||e.startsWith("/shares/podcasts")}function Tr(e,t={},n){const{initialize:s=!1}=t,o=c.useRef(null);return c.useEffect(()=>{const r=n??o.current,a=new ResizeObserver(([i])=>{i&&e(i.contentRect)});return r&&(a.observe(r),s&&e(r.getBoundingClientRect())),()=>a.disconnect()},[e,s,n]),o}function hfe(e,t){const n=ae.instance().config().sidebarOverrides;return(n==null?void 0:n[e])??t}const gfe=c.lazy(()=>B(()=>import("./llm-selector-Bj_QqtXQ.js"),__vite__mapDeps([6,1])));function vfe(e){const{isSidebarOpen:t,toggle:n}=e,s=_r(),[o]=Ue(Hn),r=M(_s),{t:a}=q(),i=ut(),u=bh(),d=o==="chat-only"||t,m=L3(),f=M(uk),h=_m(),g=!t&&(i.startsWith("/daily")||i.endsWith("/talk")||u||i.startsWith("/labs/experiments/3d-generations")||i.startsWith("/shares/3d-generations")||I3(i)),C=c.useRef(null),v=Tr(()=>{const y=document.getElementById("app");if(y){const b=!t&&C.current?C.current.clientWidth:0;y.style.setProperty("--header-controls-inline-start-width",`${b}px`)}});return l.jsx("div",{className:le("pointer-events-none absolute start-0 top-0 w-full p-1 pe-3.5",ct.sidebar),ref:v,children:l.jsx("div",{className:"relative",children:l.jsxs("div",{className:"absolute flex min-w-full items-center justify-between gap-1 p-1",children:[l.jsx(pt,{children:g&&l.jsx(ge.div,{className:le("pointer-events-auto absolute inset-0 rounded-2xl border border-stroke-100 shadow-md dark:border-stroke-300",Js),initial:"initial",animate:"animate",exit:"exit",variants:{initial:Fe,animate:nt,exit:Fe},transition:h?{duration:0}:pn})}),l.jsxs("div",{className:"pointer-events-auto flex shrink-0 items-center gap-1","data-theme":r&&!t?r.theme:void 0,ref:C,children:[(f||d&&t)&&l.jsxs(l.Fragment,{children:[l.jsx(ne,{title:a(t?"sidebar.close":"sidebar.open"),className:"after:absolute after:inset-0 after:rounded-lg hover:after:bg-black/3 dark:hover:after:bg-white/5",color:"subtle-dimmed-inverted",variant:"square",size:"28-xxs",onClick:()=>{ye({source:"sidebarToggle",pageName:i,customData:JSON.stringify({isOpen:t})}),n()},testId:"sidebar-toggle-button",children:t?l.jsx(lk,{className:"size-4"}):l.jsx(yh,{className:"size-5"})}),m&&!f&&l.jsx(Bp,{text:a("settings.copilotBeta.beta"),className:"relative me-2 ms-1 uppercase"})]}),d&&(f||!t)&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center rounded-lg hover:bg-black/3 dark:hover:bg-white/5",children:[l.jsx(ne,{title:a("composer.startNewChat"),color:"subtle-dimmed-inverted",variant:"square",size:"28-xxs",onClick:async()=>{ye({source:"sidebarNewConversation",destination:"/chat",pageName:i,customData:JSON.stringify({isOpen:t})}),await s()},children:l.jsx(Am,{className:"size-5"})}),l.jsx(ck,{buttonSize:"28-xxs"})]}),hfe("showLLMSelector",!1)&&l.jsx(gfe,{}),m&&l.jsx(Bp,{text:a("settings.copilotBeta.beta"),className:"relative me-2 ms-1 uppercase"})]})]})]})})})}const Cfe="/static/cmc/assets/meshopt_decoder-3Kt66jYv.js",yn=class yn{static async loadLibraries(){const[t,,n]=await Promise.all([B(()=>import("./index-ouYxeWMq.js").then(s=>s.c),__vite__mapDeps([7,8,9,1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251])),B(()=>import("./index-BOwGiAGR.js").then(s=>s.b),__vite__mapDeps([252,253,1,8,9,23,11,12,29,254,255,124,20,30,47,256,149,257,196,69,26,21,22,258,150,259,208,260,261,262,263,207,28,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,14,15,16,286,287,288,289,71,72,290,291,292,293,294])),B(()=>import("./math.scalar.functions-B0475LkX.js").then(s=>s.m),[])]);t.MeshoptCompression.Configuration={decoder:{url:Cfe}},t.Logger.LogLevels=t.Logger.NoneLogLevel,yn.Core=t,yn.Math=n,yn.isInitialized=!0}static async loadViewerLibraries(){const t=await B(()=>import("./viewer-lib-index-BHBgjYjN.js"),__vite__mapDeps([295,1,19,8,9,13,67,296,254]));yn.Viewer=t}static async loadDebugLibraries(){await yn.loadLibraries(),await B(()=>import("./babylon.inspector.bundle-qvpCLVyp.js").then(t=>t.b),__vite__mapDeps([297,1,298,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,299,296,253,254,255,252,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,300,301,302]))}static isLoaded(){return yn.isInitialized}static getCore(){return yn.throwIfNotInitialized("Core"),yn.Core}static getMath(){return yn.throwIfNotInitialized("Core"),yn.Math}static getViewer(){return yn.throwIfNotInitialized("Viewer"),yn.Viewer}static throwIfNotInitialized(t){if(!yn.isInitialized)throw new Error(`Libraries ${t} are not loaded yet. Call loadLibraries first.`)}};O(yn,"Core"),O(yn,"Math"),O(yn,"Viewer"),O(yn,"isInitialized",!1);let Zs=yn;function JTe(e){const t=e.split(/[\\/]/),n=t.pop();return{basePath:`${t.join("/")}/`,fileName:n??""}}function XTe(e,t){D.trackEvent({name:"interaction",data:{eventName:"characterAnimation",eventInfo_characterAnimationState:e,eventInfo_characterId:t}})}function eAe(e,t){const{Texture:n}=Zs.getCore();return new Promise((s,o)=>{const r=new n(e,t,!1,!1,1,()=>{s(r)},o)})}function tAe(e){const{Vector3:t}=Zs.getCore();return new t(e[0],e[1]??0,e[2]??0)}function nAe(e){return Math.max(...e)-Math.min(...e)}function sAe(e){return e*Math.PI/180}function Wx(e){const{Clamp:t}=Zs.getMath();return t(e,0,1)}function yfe(e,t,n){return Math.abs(e-t)>n?t:e}function oAe(e,t,n=.01,s=.2){const{MoveTowards:o}=Zs.getMath();return o(e,yfe(e,t,n),s)}let $x;function pu(...e){$x===void 0&&($x=be("babylon-debug"))}class bfe{constructor(){O(this,"resourceObserver");O(this,"entries",[]);O(this,"keyword",null);this.resourceObserver=new PerformanceObserver(t=>{this.handleResources(t)})}trackStart(t){this.keyword=t,this.resourceObserver.observe({type:"resource",buffered:!1})}trackEnd(){const{entries:t}=this,n=t[t.length-1];return this.resourceObserver.disconnect(),this.entries=[],this.keyword=null,n?{name:n.name,duration:Math.round(n.duration)}:null}handleResources(t){if(this.keyword)for(const n of t.getEntries())n.name.includes(this.keyword)&&this.entries.push(n)}}class xfe{constructor(t=!0){O(this,"interactTime",0);O(this,"voiceChatToggledTime",0);O(this,"speechEndDetectedTime",0);O(this,"startMessageTime",0);O(this,"mountedTime",0);O(this,"libsLoadedTime",0);O(this,"sceneInitializedTime",0);O(this,"interactSource","");O(this,"currentConversationId","");O(this,"currentMessageId","");O(this,"serverTurnCounter");O(this,"visualizerEnabled",!1);O(this,"loadedEnd",!1);O(this,"voiceChatToggledOn",!1);O(this,"resourceMonitor",new bfe);O(this,"isFirstTime",!1);O(this,"isVoiceCall");O(this,"resetLoading",()=>{pu("%c[] -> resetAppearanceEvent"),this.interactTime=0,this.visualizerEnabled=!1,this.loadedEnd=!1});O(this,"isAvailable",()=>this.isVoiceCall?Bs()&&this.voiceChatToggledOn&&this.interactTime>0:Bs()&&this.mountedTime>0);O(this,"trackLoadingEvent",t=>{if(!this.isAvailable())return;const{eventName:n,duration:s,characterId:o,networkDuration:r}=t;if(o&&!df(o))return;const i=["voiceChatToggled","appearanceVisible","appearanceLoadingComplete"].includes(n);D.trackEvent({name:"system",data:{eventName:n,eventInfo_duration:Math.round(s),eventInfo_conversationId:this.currentConversationId,eventInfo_firstTime:this.isFirstTime,eventInfo_characterId:o,eventInfo_trigger:i?this.interactSource:void 0,eventInfo_networkDuration:r,eventInfo_customData:JSON.stringify({isVoiceCall:this.isVoiceCall})}}),pu(`%c[] -> ${n} : `,"color: #691dc6",Math.round(s),this.isFirstTime?"firstTime":"",o?`characterId: ${o}`:"",`isVoiceCall: ${this.isVoiceCall===!0}`)});O(this,"onUserInteract",t=>{this.resetLoading(),this.interactTime=performance.now(),this.interactSource=t,pu("%c[] -> onUserInteract","color: #222222")});O(this,"onVoiceChatToggled",(t,n)=>{if(t==="end")this.voiceChatToggledOn=!1,this.speechEndDetectedTime=0,this.resourceMonitor.trackEnd();else{this.voiceChatToggledOn=!0,this.voiceChatToggledTime=performance.now(),this.currentConversationId=n??"";const s=this.voiceChatToggledTime-this.interactTime;this.trackLoadingEvent({eventName:"voiceChatToggled",duration:s})}});O(this,"onMounted",()=>{this.mountedTime=performance.now();let t;this.isVoiceCall?t=this.mountedTime-this.voiceChatToggledTime:(this.interactTime=this.mountedTime,t=0),this.trackLoadingEvent({eventName:"appearanceMounted",duration:t})});O(this,"onUnmounted",()=>{this.resourceMonitor.trackEnd()});O(this,"onBabylonLibrariesLoaded",t=>{if(!df(t))return;this.libsLoadedTime=performance.now();const n=this.libsLoadedTime-this.mountedTime;this.trackLoadingEvent({eventName:"appearanceBabylonLoaded",duration:n,characterId:t})});O(this,"onSceneInitializationStart",t=>{df(t)&&this.resourceMonitor.trackStart(".glb")});O(this,"onSceneInitialized",t=>{if(!df(t))return;this.sceneInitializedTime=performance.now();const n=this.sceneInitializedTime-this.libsLoadedTime,s=this.resourceMonitor.trackEnd();pu("%c[] -> monitorResult : ","color: #5bb173",s),this.trackLoadingEvent({eventName:"appearanceSceneInitialized",duration:n,characterId:t,networkDuration:s?s.duration:void 0}),this.trackLoadingEvent({eventName:"appearanceLoadingComplete",duration:this.sceneInitializedTime-this.interactTime,characterId:t}),this.loadedEnd=!0,this.checkEnd()});O(this,"onVisualizerEnabled",()=>{if(this.visualizerEnabled)return;this.visualizerEnabled=!0,this.isVoiceCall&&!this.voiceChatToggledOn&&(this.voiceChatToggledOn=!0);const t=Math.round(performance.now()-this.interactTime);this.trackLoadingEvent({eventName:"appearanceVisible",duration:t}),this.checkEnd()});O(this,"checkEnd",()=>{this.visualizerEnabled&&this.loadedEnd&&this.resetLoading()});O(this,"onStartMessage",(t,n,s)=>{this.currentMessageId=t,this.startMessageTime=n,this.serverTurnCounter=s});O(this,"onSpeechEndDetected",t=>{this.speechEndDetectedTime=t});O(this,"onAnimationStart",()=>{const t=Math.round(performance.now()-(this.speechEndDetectedTime||this.startMessageTime));D.trackEvent({name:"system",data:{eventName:"copilotAnimationStart",eventInfo_conversationId:this.currentConversationId,eventInfo_messageId:this.currentMessageId,eventInfo_duration:t,eventInfo_serverTurnCounter:this.serverTurnCounter}}),pu("%c[] -> onAnimationStart : ","color: #691dc6",Math.round(t))});O(this,"onColorUpdate",t=>{D.trackEvent({name:"system",data:{eventName:"appearanceColorUpdate",eventInfo_conversationId:this.currentConversationId,eventInfo_duration:0,eventInfo_firstTime:this.isFirstTime,eventInfo_customData:JSON.stringify(t)}})});this.isVoiceCall=t,this.isFirstTime=!rn(nS)}}const d0=new Map,Sfe=(e=!0)=>(d0.has(e)||d0.set(e,new xfe(e)),d0.get(e)),vl=Sfe(!0),Efe="/static/cmc/assets/lumi-square-B1_IY09F.webm",wfe="data:image/webp;base64,UklGRuAGAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSPABAAABkCQAkCFJMZ61bdu2rZNt27Zt27Zt27ZttOKSiogPRMQEAMeQRGlTRAOxUSuMP3jryYOzi+onFJG059UAau/2S8YuRq+HaH6tdgivmlfR+t/EBIxSrPChy43JuATXf4GOdyflEWe2B52vic4h3wWkHBtCV+c9knoaU4UO9SDxqzw0cVcj/b5oFGlPIsd+BDluIcsP2Z0VeoZMVwY7yvMMuf4v5ybdXeS7PchF/FPI+H9FB+FrkfXGYLuByPtXEasKf5nhNJtkd5H7y2QWy5B/c7OGKHBrsEny+xJeZjCZjiIbGuT6IWO2wVyUeS5ck/qxkI9pNPVQqKeMZoYUbKwKPi2mryrBGzHjVTn+iJmtKucVM09V3S9mlqqqT8xoVcn/YrqoMv0QU1sV9Z6Un1lUsFHKzQhNOymTQZv9swxPSV3QNhm7w3RQOyDBUwEMo1yWMAWMGwnYGcMs6lF2OxKCZcX/vLyTY4D1VFbnq4LD+Ff53GkfHZwW+8HkXsc44LoNiw+D4gLhWAa7cwNp6EqqT4PjAHGsvTR36kYB8oRHKQ6ViQIMEx9y5t9QJAawjLvW0Z/puaMB09B+f1y86ZkpOvAtccIqcKh8vHDgHL3jPbMXfVKEBgHzWC32fVZ57w7PBCLDc7SYvnn/2lG1EgM1VlA4IMoEAABQGgCdASpAAEAAPikQhkIhoQoFA34MAUJZgCdMoSEH61+MfsY1T+2fibjkTK9nX6/7jO2B5gHPi3GW8wehn0qflVZgB1gOXQ9ZuWgsxxM66H5AZL7/C/Y7rEv91/J3ZEP63/s/yA9bTzW/RP+9/Kr6Av4l/Kv8H+Zn+F///gl9DX9TlBP4/u5lnqSxFS9F7sD8mqxrREFHwUlkm6bkl3BUp3dXytXljlJLfMn5z+FZCS6lMviAWjwKqkiqz1Xy8kharhmOS1MgUfy/eOZ6gelEO6hsGqJ/gw7RVAAA/v7spf/3Z7/+7Cv//doYIoq5IRecW9KGbtgXQyQn2TgjuovYXnDnncdyY+R9kyVdkZLpdIz8SW7VHDyHDrT7sLm4ac30adnLLsaftHJ7xezOXxRNY0RXMcoxMovA3zTPvq8t7hjxYhHzldhhfTW+U4cThCjbGtlp/vhz0WSNOYdokdPZ//jr2OlfB0IO72/kswbAJqjS147MZJXRDeFIC1s20oYpIN9HA/shgxPJmyMHn6y6ihngKA9SaJ9dHhtR2EY3i4elMvo3L6wE7s4XcZupxF3wYCQz+rRBRiyPGdQTyfLwuMl9pxl1As6e/eu3IyaTd2Ie9VCXVls4d//hcC94pvnml5SxycJDnsm7kQj1PqWDh/pQ+yc3ACFGZ3V516Hv47tbeurTRCIo1VcrqQHxDkCrkiabw95wHTHsHYxGkEi/53r/ixamTbiESmHIGgiAj94RAibdzh+F0Jg56aKeFljUEAipxLxmmIe11/iNGSRN/ZPenrUPpU8L0v/wj/xqbFGAVHORQDAfQ6DAJUj52PpsOijf+kE6B0YO8jciXXEbdil5WzM+qBwQpwAMb/RuUC4qBfZOroG+VfspPagyx/aB7eh/4yaN4/8JSZbiI6sonTdgC9289rk8UTWj8hMT/UPleL4+TSMv2K7N/z5GOTXVjPpagklsdgGkxOfrn5oW+NWIh5M/6XQjizzjny4MB9pfn6r/WAjuTK/xGT+aNC2FD3YujomeqgoF73qZq1EUnj8qtwwUBpGa0KHdVchC0/J78/izwEmlT0MNlf8kFYLT4LglZ3bN+z2qQSB5Cv1/5ia33+vXWV3OWt9ac5JKI8PPFu41gTV7v/mkSDYyC5DP7dTjn9GqvfCiFR5HrdTNnhClUjcLaDRHY0gwJGXkchezt1K5SJhzt6zDpcvo0yXRtf/Yka3U34ixGZa91McoxzIB9/0MeQR0FinLFZvKu3++KgeBu0H/nTpChOyl7Ee4UVHZa4TyiLGtSlkQb2IQePPro155VZ/5LZM9eid/j/njBTn8BxE8femtFkMnZ0IKd2Z+nz2pGCmGzlBGwtHasVAO7OAFNGGe6nta6AWBBAnbQT/rQSDgfZZ3F4sNxVvIPSEL+dz/sZurs65Zx9IWPS0Lyr5bzE70w0zGU5pFcuMlm6OUJw6aQxFoaSxnlgFlJmR472YOJapiJyJl3wEbdOpaigaGhUCf/4zZ7P1hJrqHbTqDLQsvaKER8OYwrOtEOLCRtjeRErWX42YASvAfWt2+8IA4m4bVvKD+Xew0gtkJb96JneNR0gIfszUod84oXj/wGBnf9mP+f8IEzVwQet5ZacFvQTgAAA==";function Ife(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function dk(e){const{className:t}=e,{t:n}=q();return Ife()?l.jsx("img",{src:wfe,alt:n("settings.appearanceIconAlt"),className:F("size-6")}):l.jsx("video",{src:Efe,title:n("settings.appearanceIconAlt"),className:F("size-8 rounded-xl",t),autoPlay:!0,loop:!0,muted:!0,playsInline:!0})}const qx="Sidebar";function _fe(){const{t:e}=q(),t=oe(bo),n=c.useRef(!1);c.useEffect(()=>{n.current||(n.current=!0,un({page:qx,scenario:"Displayed",element:"appearanceCtaSidebarBanner"}))},[]);const s=async()=>{t(Aa),vl.onUserInteract("appearanceCtaSidebarBanner"),await Xs({talk:!0}),ye({pageName:qx,source:"appearanceCtaSidebarBanner",scenario:"open",destination:"AudioCallWithAppearance"})};return l.jsxs(ne,{title:e("settings.appearanceSidebarBannerAltText"),"aria-label":e("settings.appearanceSidebarBannerAltText"),className:"my-4 flex w-full gap-2 p-2",onClick:s,color:"subtle-dimmed-inverted",alignment:"start",children:[l.jsx(dk,{}),l.jsx("div",{className:"text-start text-sm",children:e("settings.appearanceSidebarStartVoiceBannerText")})]})}const Tfe=N(!1),Afe=N(!1),mk=ms({key:p4,schema:M4,initialValue:wt(p4,M4)??void 0}),rAe=ms({key:nS,schema:he(),initialValue:!1}),fk=ms({key:sS,schema:he(),initialValue:!1}),kfe=N(!1),Mfe=N(!1),pk=ms({key:WF,schema:he(),initialValue:!1}),Nfe=N(!1),Rfe=ms({key:$F,schema:he(),initialValue:!1}),Pfe=N(!1),hk=ms({key:qF,schema:he(),initialValue:!1}),Lfe=N(!1),m0="Sidebar";function Ofe(e){const{onDismiss:t}=e,{t:n}=q(),s=oe(bo),o=oe(mk),r=c.useRef(!1),a=oe(kfe);c.useEffect(()=>{r.current||(r.current=!0,un({page:m0,scenario:"Displayed",element:"appearanceCtaDiscoverySidebarBanner"}))},[]);const i=async()=>{o(FE),a(!0),s(Aa),vl.onUserInteract("appearanceCtaDiscoverySidebarBanner"),await Xs({talk:!0}),t(),ye({pageName:m0,source:"appearanceCtaDiscoverySidebarBanner",scenario:"open",destination:"AudioCallWithAppearance"})},u=d=>{d.stopPropagation(),o(Wv),t(),ye({pageName:m0,source:"appearanceCtaDiscoverySidebarBanner",scenario:"dismiss"})};return l.jsx("div",{className:"my-2 flex w-full px-1",children:l.jsxs("div",{className:"flex cursor-pointer flex-row items-center justify-center gap-1 rounded-2xl bg-foreground-100 p-3 dark:bg-background-650/10",role:"button",tabIndex:0,title:n("settings.appearanceSidebarBannerText"),"aria-label":n("settings.appearanceSidebarBannerText"),onClick:i,onKeyDown:async d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),await i())},children:[l.jsx(dk,{}),l.jsxs("div",{className:"mx-1 flex flex-1 flex-col gap-2",children:[l.jsx("div",{className:"text-start text-xs",children:n("settings.appearanceSidebarBannerText")}),l.jsxs("div",{className:"flex flex-row items-center gap-1 text-accent-550",children:[l.jsx("div",{className:"text-start text-xs",children:n("settings.appearanceSidebarBannerTryItText")}),l.jsx(us,{className:"size-3"})]})]}),l.jsx("div",{className:"flex h-full flex-col justify-start self-stretch",children:l.jsx(ne,{title:n("product.dismiss"),"aria-label":n("product.dismiss"),variant:"rect",color:"subtle-dimmed-inverted",size:"28-xxs",onClick:u,children:l.jsx(an,{className:"size-3"})})})]})})}function Vu(e){const{children:t,color:n="neutral",className:s}=e;return l.jsx("div",{className:F("flex h-4 shrink-0 items-center rounded px-1.5 text-2xs",n==="neutral"?"bg-black/8 text-foreground-550 dark:bg-white/8 dark:text-foreground-650":"bg-accent-350/30 text-accent-650 dark:bg-accent-450/30",s),children:t})}const Dfe="relative flex shrink-0 items-center justify-center";function Wa(e){const{titleString:t,descriptionString:n,badgeString:s,iconBgColor:o,iconFgColor:r,isSelected:a,isIconOnly:i,children:u,testId:d,buttonClassName:m,onClick:f}=e,h=Im(),g=be("sidebar-compact-nav-items")&&!It("kill-sidebar-compact-nav-items");return l.jsx(ge.div,{className:"relative w-full",layout:"position",transition:pn,children:l.jsx(ne,{className:F("pointer-events-auto w-full flex-col px-2",g||i?"py-1.5":"py-2",i&&"h-9 w-10",a&&"bg-black/5 before:contrast-more:border-[4px] dark:bg-white/8",m),title:t,tooltip:{placement:"right",gap:12,disabled:!h},size:g||i?"36-sm":"40-base",color:"subtle-dimmed-inverted",onClick:f,testId:d,"aria-selected":a,children:l.jsx("span",{className:"flex w-full items-center justify-between",children:l.jsxs("span",{className:F("flex min-w-0",g?"gap-2.5":"gap-3"),children:[l.jsx("span",{className:F(Dfe,g||i?"size-6":"size-10 squircle-16",!g&&!i&&o,!g&&!i&&r),children:u}),l.jsx(pt,{mode:"popLayout",children:!i&&l.jsxs(ge.span,{className:"flex min-w-0 flex-1 flex-col",animate:"animate",exit:"exit",variants:{animate:nt,exit:Fe},transition:pn,children:[l.jsxs("span",{className:"flex min-h-6 w-full items-center gap-1.5 text-start text-base-dense-medium",children:[t,s!==void 0&&s!==""&&l.jsx(Vu,{color:"accent",children:s})]}),!g&&n&&l.jsx("span",{className:"w-full text-start text-foreground-550 text-xs",children:n})]})})]})})})})}const Kx=65,jfe=100;function Zx({count:e=1}){const t=RU(),n=c.useMemo(()=>{let s=t??Math.floor(Math.random()*4294967295);const o=4294967296,r=1664525,a=1013904223;function i(){return s=(r*s+a)%o,s/o}return Array.from({length:e},()=>{const u=i();return`${Math.floor(u*(jfe-Kx+1))+Kx}%`})},[e,t]);return l.jsx("div",{className:"flex flex-col gap-5 px-3 py-1",children:n.map((s,o)=>l.jsx("div",{style:{width:s},className:le("relative h-5 overflow-hidden rounded-lg bg-background-300 opacity-30 dark:bg-background-250 dark:opacity-40","border border-background-300 dark:border-background-250","after:absolute after:inset-0 after:h-full","after:opacity-50 dark:after:opacity-5","after:bg-gradient-to-r after:from-transparent after:via-white after:to-transparent","after:bg-[length:80%_100%] after:bg-no-repeat","after:animate-[shimmer-translate-x_2s_infinite]","rtl:after:animate-[shimmer-translate-x-reverse_2s_infinite]")},o))})}const gk=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M8 4.5H8.99998V10.7382C8.99998 11.1132 8.90628 11.4822 8.72739 11.8117L5.14269 18.415C4.50968 19.5811 5.35388 20.9999 6.68068 20.9999H17.3193C18.6461 20.9999 19.4903 19.5811 18.8573 18.415L15.2726 11.8117C15.0937 11.4822 15 11.1132 15 10.7382V4.5H16C16.4142 4.5 16.75 4.16421 16.75 3.75C16.75 3.33579 16.4142 3 16 3H8C7.58579 3 7.25 3.33579 7.25 3.75C7.25 4.16421 7.58579 4.5 8 4.5ZM10.5 10.7382V4.5H13.5V10.7382C13.5 11.3631 13.6561 11.9781 13.9543 12.5273L14.7537 14H9.24621L10.0457 12.5273C10.3438 11.9781 10.5 11.3631 10.5 10.7382ZM8.43192 15.5H15.568L17.539 19.1307C17.6294 19.2973 17.5088 19.4999 17.3193 19.4999H6.68068C6.49114 19.4999 6.37054 19.2973 6.46097 19.1307L8.43192 15.5Z"})),aAe=Object.freeze(Object.defineProperty({__proto__:null,default:gk},Symbol.toStringTag,{value:"Module"})),vk=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M11.0656 8.00389L11.25 7.99875H18.75C20.483 7.99875 21.8992 9.3552 21.9949 11.0643L22 11.2487V18.7487C22 20.4818 20.6435 21.898 18.9344 21.9936L18.75 21.9987H11.25C9.51697 21.9987 8.10075 20.6423 8.00515 18.9332L8 18.7487V11.2487C8 9.51571 9.35646 8.0995 11.0656 8.00389ZM18.75 9.49875H11.25C10.3318 9.49875 9.57881 10.2059 9.5058 11.1052L9.5 11.2487V18.7487C9.5 19.6669 10.2071 20.4199 11.1065 20.4929L11.25 20.4987H18.75C19.6682 20.4987 20.4212 19.7916 20.4942 18.8923L20.5 18.7487V11.2487C20.5 10.2822 19.7165 9.49875 18.75 9.49875ZM15.5818 4.23284L15.6345 4.40964L16.327 6.998H14.774L14.1856 4.79787C13.9355 3.86431 12.9759 3.31029 12.0423 3.56044L4.79787 5.50158C3.91344 5.73856 3.36966 6.61227 3.52756 7.49737L3.56044 7.64488L5.50158 14.8893C5.69372 15.6064 6.30445 16.0996 7.00045 16.1764L7.00056 17.6816C5.69932 17.6051 4.52962 16.7445 4.10539 15.4544L4.05269 15.2776L2.11155 8.03311C1.66301 6.35913 2.6067 4.6401 4.23284 4.10539L4.40964 4.05269L11.6541 2.11155C13.3281 1.66301 15.0471 2.6067 15.5818 4.23284Z"})),iAe=Object.freeze(Object.defineProperty({__proto__:null,default:vk},Symbol.toStringTag,{value:"Module"})),Ck=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M3.5 12C3.5 7.30558 7.30558 3.5 12 3.5C16.6944 3.5 20.5 7.30558 20.5 12C20.5 16.6944 16.6944 20.5 12 20.5C7.30558 20.5 3.5 16.6944 3.5 12ZM12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM7.08349 8.70767C6.67722 7.6882 7.68791 6.67747 8.7074 7.08372L12.7356 8.68888C13.9078 9.15602 14.8461 10.0704 15.3431 11.2303L17.1969 15.5557C17.6414 16.5929 16.5927 17.6415 15.5555 17.197L11.2301 15.3433C10.0703 14.8462 9.15587 13.908 8.68872 12.7358L7.08349 8.70767ZM8.69209 8.69233L10.0822 12.1805C10.4018 12.9825 11.0274 13.6245 11.821 13.9646L15.572 15.5721L13.9644 11.8212C13.6243 11.0276 12.9824 10.4019 12.1803 10.0823L8.69209 8.69233Z"})),cAe=Object.freeze(Object.defineProperty({__proto__:null,default:Ck},Symbol.toStringTag,{value:"Module"})),yk=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M2 5.25C2 3.45507 3.45507 2 5.25 2H14.75C16.5449 2 18 3.45507 18 5.25V8H16.5V5.25C16.5 4.2835 15.7165 3.5 14.75 3.5H5.25C4.2835 3.5 3.5 4.2835 3.5 5.25V12.75C3.5 13.7165 4.2835 14.5 5.25 14.5H8V16H5.25C3.45507 16 2 14.5449 2 12.75V5.25ZM19 13.25C19 13.9404 18.4404 14.5 17.75 14.5C17.0596 14.5 16.5 13.9404 16.5 13.25C16.5 12.5596 17.0596 12 17.75 12C18.4404 12 19 12.5596 19 13.25ZM9 12.25C9 10.4551 10.4551 9 12.25 9H18.75C20.5449 9 22 10.4551 22 12.25V18.75C22 20.5449 20.5449 22 18.75 22H12.25C10.4551 22 9 20.5449 9 18.75V12.25ZM12.25 10.5C11.2835 10.5 10.5 11.2835 10.5 12.25V18.75C10.5 18.9393 10.5301 19.1216 10.5856 19.2923L13.98 16.1069C14.845 15.2977 16.1892 15.2977 17.0542 16.1069L20.4246 19.2598C20.4736 19.0985 20.5 18.9273 20.5 18.75V12.25C20.5 11.2835 19.7165 10.5 18.75 10.5H12.25ZM12.25 20.5H18.75C18.9854 20.5 19.2099 20.4535 19.4149 20.3693L16.0295 17.2023C15.7411 16.9326 15.2931 16.9326 15.0047 17.2023L11.6167 20.3819C11.8131 20.4582 12.0267 20.5 12.25 20.5ZM5.75 5C6.16421 5 6.5 5.33579 6.5 5.75V6.25C6.5 6.66421 6.16421 7 5.75 7C5.33579 7 5 6.66421 5 6.25V5.75C5 5.33579 5.33579 5 5.75 5ZM6.5 8.75C6.5 8.33579 6.16421 8 5.75 8C5.33579 8 5 8.33579 5 8.75V9.25C5 9.66421 5.33579 10 5.75 10C6.16421 10 6.5 9.66421 6.5 9.25V8.75ZM14.25 5C14.6642 5 15 5.33579 15 5.75V6.25C15 6.66421 14.6642 7 14.25 7C13.8358 7 13.5 6.66421 13.5 6.25V5.75C13.5 5.33579 13.8358 5 14.25 5ZM6.5 11.75C6.5 11.3358 6.16421 11 5.75 11C5.33579 11 5 11.3358 5 11.75V12.25C5 12.6642 5.33579 13 5.75 13C6.16421 13 6.5 12.6642 6.5 12.25V11.75Z"})),lAe=Object.freeze(Object.defineProperty({__proto__:null,default:yk},Symbol.toStringTag,{value:"Module"})),bk=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M7 7V5a3 3 0 0 1 5-2.236A3 3 0 0 1 17 5v2h1.5A1.5 1.5 0 0 1 20 8.5v10.005A3.495 3.495 0 0 1 16.505 22H8a4 4 0 0 1-4-4V8.5A1.5 1.5 0 0 1 5.5 7H7Zm6.635 13.5a3.479 3.479 0 0 1-.625-1.995V8.5H5.5V18A2.5 2.5 0 0 0 8 20.5h5.635ZM11.5 7V5a1.5 1.5 0 0 0-3 0v2h3ZM13 7h2.5V5a1.5 1.5 0 0 0-2.656-.956c.101.3.156.622.156.956v2Zm1.51 11.505a1.995 1.995 0 0 0 3.99 0V8.5h-3.99v10.005Z"})),uAe=Object.freeze(Object.defineProperty({__proto__:null,default:bk},Symbol.toStringTag,{value:"Module"})),Ufe="discover",Ffe="chat",Bfe={CHAT:"chat"},dAe={BIG:"big",SMALL:"small"},O3={COMPOSER:"composer",ADDRESS_BAR_SEARCH:"addressBarSearch",DRAWER:"drawer"};function mAe(e){return e===Bfe.CHAT?Ffe:Ufe}const xk=N(O3.ADDRESS_BAR_SEARCH);function Vfe(){const e=G("creator-gallery-rename-to-imagine"),t=G("creator-gallery-imagine");return e&&t}function fAe(){return ut().startsWith(vd)?vd:fh}function Hfe(){return Vfe()?vd:fh}const zfe="/discover";function Gfe(e){return e.startsWith(zfe)}function Sk(){const e=ut();return Gfe(e)}function Yx(e){return e?{x:e.scrollLeft,y:e.scrollTop}:{x:0,y:0}}function Wfe(e,t={}){const{checkIsScrolling:n=!0,scrollEndDelay:s=150}=t,[o,r]=c.useState(Yx(e.current)),[a,i]=c.useState(!1),u=c.useRef(void 0);return c.useEffect(()=>{const d=e.current;let m=null;if(d===null)return()=>{};function f(){m===null&&(m=window.requestAnimationFrame(()=>{r(Yx(d)),n&&(i(!0),u.current&&window.clearTimeout(u.current),u.current=window.setTimeout(()=>{i(!1)},s)),m=null}))}return d.addEventListener("scroll",f),()=>{d.removeEventListener("scroll",f),u.current&&clearTimeout(u.current)}},[n,e,s]),t.checkIsScrolling?{...o,isScrolling:a}:o}function $fe(e,t,n={}){const{leading:s=!0,trailing:o=!1}=n;let r=!1,a=null;const i=u=>{e(...u)};return!s&&!o?()=>{}:(...u)=>{r?a=u:(s?i(u):o&&(a=u),r=!0,setTimeout(()=>{r=!1,o&&a&&(i(a),a=null,r=!0,setTimeout(()=>{r=!1},t))},t))}}function y5(e,t=1e3){const n=c.useRef(null);return c.useEffect(()=>{n.current=e},[e]),c.useMemo(()=>$fe((...r)=>{var a;(a=n.current)==null||a.call(n,...r)},t),[t])}function Ek({onScrollStart:e,onScrollEnd:t,scrollRefs:n}){const s=c.useRef({}),o=y5(a=>{const{target:i}=a;i instanceof Window?s.current={scrollSource:"window",scrollStartTime:Date.now(),scrollStartX:i.scrollX,scrollStartY:i.scrollY,scrollWidth:document.documentElement.scrollWidth,scrollHeight:document.documentElement.scrollHeight}:i instanceof HTMLElement&&(s.current={scrollSource:i.id,scrollStartTime:Date.now(),scrollStartX:i.scrollLeft,scrollStartY:i.scrollTop,scrollWidth:i.scrollWidth,scrollHeight:i.scrollHeight}),e==null||e(s.current)}),r=y5(a=>{const{target:i}=a;i instanceof Window?(s.current={...s.current,scrollEndX:i.scrollX,scrollEndY:i.scrollY,scrollDuration:Date.now()-(s.current.scrollStartTime??0)},t==null||t(s.current)):i instanceof HTMLElement?(s.current={...s.current,scrollEndX:i.scrollLeft,scrollEndY:i.scrollTop,scrollDuration:Date.now()-(s.current.scrollStartTime??0)},t==null||t(s.current)):s.current={}});c.useEffect(()=>{var i,u;const a={passive:!0};for(const d of n)(i=d.current)==null||i.addEventListener("scroll",o,a),(u=d.current)==null||u.addEventListener("scrollend",r,a);return()=>{var d,m;for(const f of n)(d=f.current)==null||d.removeEventListener("scroll",o),(m=f.current)==null||m.removeEventListener("scrollend",r)}},[n,o,r])}function D3(e){const{scrollableRef:t,customData:n,customTrackCallback:s}=e,o=c.useCallback(r=>{window.requestAnimationFrame(()=>{if(s)s(r);else{const a=JSON.stringify(typeof n=="object"||n===void 0?{scrollWidth:r.scrollWidth,scrollHeight:r.scrollHeight,...n??{}}:n);LQ({...r,scrollSource:e.source??r.scrollSource,customData:a})}})},[n,s,e.source]);Ek({onScrollEnd:o,scrollRefs:t?[t]:[]})}const qfe=/(['"])((\w+:(\/?\/?))?[^\s,]+)\1/,Kfe={maxRetries:2,initialDelayMs:200,backoffFactor:2,jitterFactor:.1};function Zfe(e){const n=String(e).match(qfe);if(n)return n[2]}function Yfe(e,t){const n=s=>import(s);return async s=>{try{return await s()}catch(o){if(!be("lazy-with-retry"))throw o;const r=Zfe(s);if(!r)throw qt({feature:"lazyWithRetry",scenario:e,errorType:"lazyLoadModulePathParsingFailure",errorMessage:"Could not resolve path from importer function",customData:String(s)}),o;const a=async()=>{const m=`${r}?t=${Number(new Date)}`;return n(m)},d={...t,onSuccess:m=>{go({feature:"lazyWithRetry",scenario:e,customData:JSON.stringify({attempts:m.attemptCount})})},onFailure:m=>{qt({feature:"lazyWithRetry",scenario:e,errorType:"lazyLoadRetryFailure",errorMessage:`Lazy import failed after ${m.attemptCount} attempt(s). Reason: ${m.exitReason??"unknown"}`,customData:JSON.stringify(m.errors)})}};return rm(a,d)}}}function wk(e,t,n=Kfe){return c.lazy(()=>Yfe(t,n)(e))}function Qfe(){ye({pageName:"october-moment",sectionName:"mico",source:"octoberMomentTryNow",scenario:"actions",destination:"mico"})}function Jfe(){ye({pageName:"october-moment",sectionName:"learn-live",source:"octoberMomentTryNow",scenario:"actions",destination:"learn-live"})}function Xfe(){ye({pageName:"october-moment",sectionName:"groups",source:"octoberMomentTryNow",scenario:"actions",destination:"groups"})}function epe(){ye({pageName:"october-moment",sectionName:"memory",source:"octoberMomentTryNow",scenario:"actions",destination:"memory"})}function tpe(){ye({pageName:"october-moment",sectionName:"connectors",source:"octoberMomentTryNow",scenario:"actions",destination:"connectors"})}function npe(){ye({pageName:"october-moment",sectionName:"imagine",source:"octoberMomentTryNow",scenario:"actions",destination:"imagine"})}function spe(){ye({pageName:"october-moment",sectionName:"real-talk",source:"octoberMomentTryNow",scenario:"actions",destination:"real-talk"})}function ope(){ye({pageName:"october-moment",sectionName:"search-mode",source:"octoberMomentTryNow",scenario:"actions",destination:"search-mode"})}function rpe(){ye({pageName:"october-moment",sectionName:"sources-pages",source:"octoberMomentTryNow",scenario:"actions",destination:"sources-pages"})}function ape(){ye({pageName:"october-moment",sectionName:"care-navigator",source:"octoberMomentTryNow",scenario:"actions",destination:"care-navigator"})}function ipe(){ye({pageName:"sidebar",sectionName:"october-moment-card",source:"octoberMomentCard",scenario:"actions",destination:"october-moment"})}function cpe(){ye({pageName:"landingPage",sectionName:"october-moment-card",source:"octoberMomentCard",scenario:"actions",destination:"october-moment"})}function lpe(){ye({pageName:"landingPage",sectionName:"october-moment-card",source:"octoberMomentCard",scenario:"dismiss"})}async function ic(){const e=await x3(),t={id:e.id,updatedAt:new Date().toISOString(),history:[],isNew:!0,characterId:void 0,continuedAt:null,group:null};return mt(vt,n=>{const s=new Map(n);return s.set(e.id,t),s}),mt(Zd,!0),lm({id:e.id,shouldNavigateToChat:!1}),e.id}async function pAe(){Qfe(),Kt("chat");const e=await ic();mt(bo,Aa),await Xs({conversationId:e,talk:!0})}async function hAe(){Jfe(),Kt("study");const e=await ic();mt(bo,Aa),await Xs({conversationId:e,talk:!0})}async function gAe(){Xfe(),Kt("chat");const e=await ic();await Xs({conversationId:e}),await jn.submitMessage({text:z("octoberMoment.landingPage.features.groupConversation.featurePromptText"),inputMethod:"text"})}async function vAe(){epe(),mt(CC,!0)}async function CAe(){tpe(),Kt("chat");const e=await ic();await Xs({conversationId:e}),await jn.submitMessage({text:z("octoberMoment.landingPage.features.thirdPartyApp.featurePromptText"),inputMethod:"text"})}async function yAe(){npe(),Kt("chat"),await Ks({from:"/",to:be("creator-gallery-imagine")?"/imagine":"/gallery"})}async function bAe(){spe(),Kt("coco");const e=await ic();await Xs({conversationId:e})}async function xAe(){ope(),Kt("search");const e=await ic();await Xs({conversationId:e}),await jn.submitMessage({text:z("octoberMoment.landingPage.features.copilotSearch.featurePromptText"),inputMethod:"text"})}async function SAe(){rpe(),Kt("chat");const e=await kn({path:"/pages",args:{body:{title:"",content:""},analytics:{anonymousPath:"/pages"}}});if(!e.ok)throw new Error(`Failed to create page: ${e.status}`);const t=await e.json(),n=VE.parse(t);await Ks({from:"/",to:`/pages/${n.id}`})}async function EAe(){ape(),Kt("chat");const e=await ic();await Xs({conversationId:e}),await jn.submitMessage({text:z("octoberMoment.landingPage.features.copilotMap.featurePromptText"),inputMethod:"text"})}function Ik(){return be("october-moment-2025")}function wAe(e,t){return(e.assets.layouts.order??1/0)-(t.assets.layouts.order??1/0)}function Vp(e){var t;return((t=ae.instance().config().settingsOverrides)==null?void 0:t[e.key])??e.default}const _o={image:"ImagesTab",page:"PagesTab",research:"ResearchTab",podcast:"PodcastsTab",video:"VideosTab"},upe={image:"ImagesList",page:"PagesList",research:"ResearchList",podcast:"PodcastsList",video:"VideosList"},dpe={image:"ImageItem",page:"PageItem",research:"ResearchItem",podcast:"PodcastItem",video:"VideoItem"};function mpe(e){ye({pageName:e,source:"LibraryNavItem",destination:"library"})}function IAe(e){const t=_o[e];ye({pageName:"library",source:t})}function _Ae(e){un({page:"library",scenario:_o[e],element:upe[e]})}function TAe(e){const{type:t,index:n}=e;ye({pageName:"library",source:dpe[t],scenario:_o[t],customData:JSON.stringify({itemIndex:n})})}function AAe(e){const{type:t,index:n}=e;ye({pageName:"library",source:"Share",scenario:_o[t],customData:JSON.stringify({itemIndex:n})})}function kAe(e){const{type:t,index:n}=e;ye({pageName:"library",source:"Delete",scenario:_o[t],customData:JSON.stringify({itemIndex:n})})}function MAe(e){const{type:t,index:n,format:s}=e;let o="Download";s==="pdf"?o="ExportAsPdf":o="ExportAsDocx",ye({pageName:"library",source:o,scenario:_o[t],customData:JSON.stringify({itemIndex:n})})}function NAe(e){const{type:t,isEmpty:n}=e;ye({pageName:"library",source:"CreateButton",scenario:_o[t],customData:JSON.stringify({isEmpty:n})})}function RAe(e){ye({pageName:"library",source:"SignInButton",scenario:_o[e]})}function PAe(){un({page:"library",element:"LibrarySignInPromotion"})}function LAe(){un({page:"library"})}function OAe(e){un({page:"library",scenario:_o[e],element:"EmptyState"})}function DAe(e){un({page:"library",scenario:_o[e],element:"ErrorPage"})}function jAe(e){ye({pageName:"library",source:"retryButton",scenario:_o[e]})}const fpe="/static/cmc/assets/october-moment-icon-CapwGCOT.webp";function j3(){const e=gt({breakpoint:"md"}),t=Ns(),n=M(Vo);return t&&n&&!e}function _k(e){const{isNotification:t}=e,{t:n}=q();return l.jsx("div",{className:F("overflow-hidden rounded-xl",!t&&"w-2/5"),children:l.jsx("div",{className:"relative size-full",children:l.jsx("img",{src:fpe,alt:n("octoberMoment.landingPage.header"),className:"block size-full object-cover"})})})}function ppe(){const e=j3(),t=ut(),n=Eo(),{t:s}=q();return l.jsx(pt,{mode:"popLayout",children:l.jsx(ge.button,{className:"flex min-w-0 flex-1 flex-col",initial:"initial",animate:"animate",exit:"exit",variants:{initial:Fe,animate:nt,exit:Fe},onClick:async()=>{ipe(),await n({to:"/fallrelease",from:t})},transition:pn,children:e&&l.jsxs("div",{className:"relative isolate flex h-full cursor-pointer flex-row gap-3 rounded-3xl bg-white/45 p-2 text-foreground-800 transition-shadow duration-200 ease-entrance will-change-transform hover:shadow-lg focus-visible:shadow-lg dark:bg-background-650/10",children:[l.jsx(_k,{isNotification:!1}),l.jsxs("div",{className:"size-full text-left",children:[l.jsx("div",{className:"text-sm-strong",children:s("octoberMoment.awarenessCard.cardHeader")}),l.jsx("div",{className:"text-xs",children:s("octoberMoment.awarenessCard.cardDescription")})]})]})})})}function f0(e){const{fallback:t,children:n}=e;return l.jsx(Q7,{serverFallback:t,children:l.jsx(c.Suspense,{fallback:t,children:n})})}const hpe=wk(()=>B(()=>import("./sidebar-settings-CjU4dUvc.js"),__vite__mapDeps([303,1,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345])),"sidebar-settings"),p0="bg-sidebar-light dark:bg-sidebar-dark",Qx="before:pointer-events-none before:absolute before:h-10 before:w-full before:from-sidebar-light before:to-transparent dark:before:from-sidebar-dark",gpe=c.lazy(()=>B(()=>import("./sidebar-pages-CeYQ1SWb.js"),__vite__mapDeps([346,1])).then(e=>({default:e.SidebarPages}))),vpe=c.lazy(()=>B(()=>import("./conversations-CEmAvcij.js"),__vite__mapDeps([347,1,348,349,350,351,352,353,354])));function Cpe(e){const{toggle:t}=e,{t:n}=q(),s=ut(),o=Eo(),r=_r(),a=M(Vo),i=_m(),u=oe(xk),d=c.useRef(!0);c.useEffect(()=>{d.current=!1},[]);const m=Qt(),f=Bd(),h=G("pages-sidebar-empty-cta"),g=G("pages-anonymous"),C=G("library"),v=!C&&(m||h||g)&&f,y=Cm(),b=G("appearance-discoverability-sidebar-banner"),E=M(mk),S=M(bo),I=M(fk),_=M(Mfe),T=ae.instance().config().enableLabs,A=!Zt("kill-creator-gallery"),k=G("creator-gallery-rename-to-imagine"),R=G("shopping-homepage"),P=s==="/shopping",V=Sk(),U=V||s==="/daily",{modalType:K}=t1({strict:!1}),Z=s.startsWith("/library"),Y=s.startsWith("/labs"),Q=I3(s),ee=Hfe(),[$,te]=c.useState(y&&b&&!I&&!E);c.useEffect(()=>{(E||_)&&te(!1)},[E,_]);const J=c.useMemo(()=>y&&b&&S&&I&&E!==Wv&&!_,[y,E,b,S,I,_]),W=M(Qd),ie=c.useRef(null),{y:Se}=Wfe(ie),me=Se>0,re=ek(),xe=oe(Vo);D3({scrollableRef:ie,source:"sidebar"});const Ne=Vp({key:"shouldUseFlyoutSettings",default:!1}),Oe=G("sidebar-settings"),se=Oe&&!Ne&&f,ce=zl(),X=Im(),ve=ce&&!re&&!a;return l.jsx("div",{className:F("h-dvh px-0.5 pb-0.5 pt-1",re?"w-full":"w-sidebar"),children:l.jsx("div",{className:F("t-custom-scrollbar h-full overflow-x-hidden",a?"overflow-y-auto":"overflow-y-hidden"),ref:ie,children:l.jsxs("div",{className:F("flex min-h-full w-full flex-col px-1",{"justify-between":se}),children:[l.jsx(ge.div,{className:F(p0,Qx,"pointer-events-none sticky top-0 z-10 pb-3 pt-[52px]",me&&"before:bottom-0 before:top-full before:bg-gradient-to-b before:opacity-90",me&&"after:absolute after:bottom-0 after:mx-1 after:w-[calc(100%-8px)] after:border-b after:border-black/8 dark:after:border-white/10",re&&"whitespace-nowrap"),layout:!0,transition:pn,children:l.jsxs("div",{className:F(p0,"pointer-events-auto relative flex flex-col items-start gap-0.5",X?"pt-0":"pt-4"),children:[l.jsx(pt,{mode:"popLayout",children:X&&l.jsxs(ge.div,{className:"flex flex-col gap-0.5",animate:"animate",exit:"exit",variants:{animate:{scale:1,...nt},exit:{scale:.6,...Fe}},transition:i||d.current?{duration:0}:pn,children:[l.jsx(Wa,{buttonClassName:"cursor-e-resize",titleString:n("sidebar.open"),isIconOnly:!0,onClick:()=>{ye({source:"sidebarToggle",pageName:s,customData:JSON.stringify({isOpen:a})}),t()},testId:"sidebar-toggle-button",children:l.jsx(yh,{className:"size-6"})}),l.jsx(Wa,{titleString:n("composer.startNewChat"),isIconOnly:!0,onClick:async()=>{f&&(ye({source:"sidebarNewConversation",destination:"/",pageName:s,customData:JSON.stringify({isOpen:a})}),await r())},children:l.jsx(Am,{className:"size-6"})})]})}),l.jsx(Wa,{titleString:n("sidebar.discover"),descriptionString:n("sidebar.discoverDescription"),isSelected:U,isIconOnly:ve,iconBgColor:"bg-caramel-350/40 dark:bg-slate-650/60",iconFgColor:"text-caramel-600 dark:text-slate-250",testId:"sidebar-discover-button",onClick:async()=>{if(!f)return;!V||V&&!!K?(u(O3.DRAWER),ye({source:"sidebarDiscoverButton",destination:"/discover",pageName:s}),await o({to:"/discover",from:s,search:{modalUrl:void 0}})):re&&xe(!1)},children:l.jsx(Ck,{className:"size-6"})}),R&&l.jsx(Wa,{titleString:n("sidebar.shopping.title"),descriptionString:n("sidebar.shopping.description"),isSelected:P,isIconOnly:ve,iconBgColor:"bg-shopping-purple-350 dark:bg-slate-650/60",iconFgColor:"text-shopping-purple-550 dark:text-slate-250",testId:"sidebar-shopping-button",onClick:async()=>{f&&(await o({to:"/shopping",from:s}),re&&P&&xe(!1))},children:l.jsx(bk,{className:"size-6"})}),A&&l.jsx(Wa,{titleString:n(k?"sidebar.gallery.titleV2":"sidebar.gallery.title"),descriptionString:n("sidebar.gallery.description"),badgeString:n("sidebar.gallery.badge"),iconBgColor:"bg-midnight-350/50 dark:bg-midnight-600/50",iconFgColor:"text-midnight-600 dark:text-midnight-350",isSelected:Q,isIconOnly:ve,onClick:async()=>{f&&(ye({source:"sidebarGalleryButton",destination:ee,pageName:s}),await o({to:ee,from:s}),re&&Q&&xe(!1))},children:l.jsx(yk,{className:"size-6"})}),C&&l.jsx(Wa,{titleString:n("sidebar.library"),descriptionString:n("sidebar.libraryDescription"),iconBgColor:"bg-spot-green-300/40 dark:bg-spot-green-600/60",iconFgColor:"text-spot-green-600 dark:text-slate-250",isSelected:Z,isIconOnly:ve,onClick:()=>{f&&(o({to:"/library",from:s}),mpe(s))},children:l.jsx(vk,{className:"size-6"})}),T&&l.jsx(Wa,{titleString:n("sidebar.labs"),descriptionString:n("sidebar.labsDescription"),iconBgColor:"bg-labs-light dark:bg-labs-dark",iconFgColor:"text-labs-dark dark:text-labs-light",isSelected:Y,isIconOnly:ve,onClick:async()=>{f&&(ye({source:"sidebarLabsButton",destination:"/labs",pageName:s}),await o({to:"/labs",from:s}),re&&Y&&xe(!1))},children:l.jsx(gk,{className:"size-6"})}),Ik()&&f&&l.jsx("div",{className:"mt-3 px-1",children:l.jsx(ppe,{})})]})}),l.jsx(pt,{children:a&&l.jsxs(ge.div,{className:"grow",animate:"animate",exit:"exit",variants:{animate:nt,exit:Fe},layout:"position",transition:pn,children:[J&&f&&l.jsx(_fe,{}),$&&!J&&f&&l.jsx(Ofe,{onDismiss:()=>te(!1)}),l.jsxs("div",{className:F("relative flex grow flex-col py-5"),children:[v&&l.jsx(f0,{fallback:null,children:l.jsx(gpe,{isCompact:!re})}),l.jsx("h2",{className:"mb-6 flex gap-2 px-2.5 align-middle text-base-dense-medium","data-testid":"sidebar-conversations-header",children:n("sidebar.conversations")}),W&&f?l.jsx(f0,{fallback:l.jsx(Zx,{count:16}),children:l.jsx(vpe,{isCompact:!re})}):l.jsx(Zx,{count:16})]})]})}),!Oe&&l.jsx("div",{className:F(p0,Qx,"sticky bottom-0 py-1 before:bottom-full before:bg-gradient-to-t")}),l.jsx(f0,{fallback:null,children:se&&l.jsx(hpe,{})})]})})})}const ype="/static/cmc/assets/copilot-wordmark-DvWA6bVb.svg",km=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M22.9253 4.97196C22.5214 3.79244 21.4126 3 20.1658 3L18.774 3C17.3622 3 16.1532 4.01106 15.9033 5.40051L14.4509 13.4782L15.0163 11.5829C15.3849 10.347 16.5215 9.5 17.8112 9.5L23.0593 9.5L25.3054 10.809L27.4705 9.5H26.5598C25.313 9.5 24.2042 8.70756 23.8003 7.52804L22.9253 4.97196Z",fill:"url(#paint0_radial_262034_2117)"}),c.createElement("path",{d:"M9.39637 27.0147C9.79613 28.2011 10.9084 29 12.1604 29H14.5727C16.1772 29 17.4805 27.704 17.4893 26.0995L17.5315 18.4862L16.9699 20.4033C16.6058 21.6461 15.4659 22.5 14.1708 22.5H8.88959L6.96437 21.0214L4.88007 22.5H5.78013C7.03206 22.5 8.14435 23.299 8.54411 24.4853L9.39637 27.0147Z",fill:"url(#paint1_radial_262034_2117)"}),c.createElement("path",{d:"M19.7501 3H8.81266C5.68767 3 3.81268 7.08916 2.56269 11.1783C1.08177 16.0229 -0.856044 22.5021 4.75017 22.5021H9.66051C10.9615 22.5021 12.105 21.6415 12.4657 20.3915C13.2784 17.5759 14.7501 12.4993 15.9014 8.65192C16.4758 6.73249 16.9543 5.08404 17.6886 4.05749C18.1003 3.48196 18.7864 3 19.7501 3Z",fill:"url(#paint2_radial_262034_2117)"}),c.createElement("path",{d:"M19.7501 3H8.81266C5.68767 3 3.81268 7.08916 2.56269 11.1783C1.08177 16.0229 -0.856044 22.5021 4.75017 22.5021H9.66051C10.9615 22.5021 12.105 21.6415 12.4657 20.3915C13.2784 17.5759 14.7501 12.4993 15.9014 8.65192C16.4758 6.73249 16.9543 5.08404 17.6886 4.05749C18.1003 3.48196 18.7864 3 19.7501 3Z",fill:"url(#paint3_linear_262034_2117)"}),c.createElement("path",{d:"M12.2478 29H23.1852C26.3102 29 28.1852 24.9103 29.4352 20.8207C30.9161 15.9755 32.854 9.49548 27.2477 9.49548H22.3375C21.0364 9.49548 19.893 10.3562 19.5322 11.6062C18.7196 14.4221 17.2479 19.4994 16.0965 23.3474C15.5221 25.2671 15.0436 26.9157 14.3093 27.9424C13.8976 28.518 13.2115 29 12.2478 29Z",fill:"url(#paint4_radial_262034_2117)"}),c.createElement("path",{d:"M12.2478 29H23.1852C26.3102 29 28.1852 24.9103 29.4352 20.8207C30.9161 15.9755 32.854 9.49548 27.2477 9.49548H22.3375C21.0364 9.49548 19.893 10.3562 19.5322 11.6062C18.7196 14.4221 17.2479 19.4994 16.0965 23.3474C15.5221 25.2671 15.0436 26.9157 14.3093 27.9424C13.8976 28.518 13.2115 29 12.2478 29Z",fill:"url(#paint5_linear_262034_2117)"}),c.createElement("defs",null,c.createElement("radialGradient",{id:"paint0_radial_262034_2117",cx:0,cy:0,r:1,gradientTransform:"matrix(-7.37821 -8.55084 -7.96607 7.17216 25.5747 13.5466)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.0955758,stopColor:"#00AEFF"}),c.createElement("stop",{offset:.773185,stopColor:"#2253CE"}),c.createElement("stop",{offset:1,stopColor:"#0736C4"})),c.createElement("radialGradient",{id:"paint1_radial_262034_2117",cx:0,cy:0,r:1,gradientTransform:"matrix(6.61516 7.92888 7.80904 -6.47171 7.1753 21.9482)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#FFB657"}),c.createElement("stop",{offset:.633728,stopColor:"#FF5F3D"}),c.createElement("stop",{offset:.923392,stopColor:"#C02B3C"})),c.createElement("radialGradient",{id:"paint2_radial_262034_2117",cx:0,cy:0,r:1,gradientTransform:"matrix(-0.990905 -17.2799 98.0282 -5.51056 8.54161 22.4952)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.03,stopColor:"#FFC800"}),c.createElement("stop",{offset:.31,stopColor:"#98BD42"}),c.createElement("stop",{offset:.49,stopColor:"#52B471"}),c.createElement("stop",{offset:.843838,stopColor:"#0D91E1"})),c.createElement("linearGradient",{id:"paint3_linear_262034_2117",x1:9.52186,y1:3,x2:10.3572,y2:22.5029,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#3DCBFF"}),c.createElement("stop",{offset:.246674,stopColor:"#0588F7",stopOpacity:0})),c.createElement("radialGradient",{id:"paint4_radial_262034_2117",cx:0,cy:0,r:1,gradientTransform:"matrix(-8.64067 24.4636 -29.4075 -10.797 27.8096 7.58585)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.0661714,stopColor:"#8C48FF"}),c.createElement("stop",{offset:.5,stopColor:"#F2598A"}),c.createElement("stop",{offset:.895833,stopColor:"#FFB152"})),c.createElement("linearGradient",{id:"paint5_linear_262034_2117",x1:28.6736,y1:8.30469,x2:28.6627,y2:13.617,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.0581535,stopColor:"#F8ADFA"}),c.createElement("stop",{offset:.708063,stopColor:"#A86EDD",stopOpacity:0}))));function xt(e){const{url:t,className:n}=e;return l.jsx("div",{className:F("bg-current forced-color-adjust-none",n),style:{WebkitMaskImage:`url(${t})`,maskImage:`url(${t})`,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskPosition:"center",maskPosition:"center",WebkitMaskSize:"contain",maskSize:"contain"}})}const Jx={placement:"bottom"};function bpe(e){const{isSidebarOpen:t,toggle:n,isSidebarAtomSynced:s}=e,o=_r(),[r]=Ue(Hn),a=c.useRef(!0);c.useEffect(()=>{a.current=!1},[]);const i=M(_s),{t:u}=q(),d=_m(),m=ut(),f=wr(),h=bh(),g=gt({breakpoint:"md"}),C=L3(),v=zl(),y=Im(),b=Bd(),E=!t&&(m.startsWith("/daily")||m.endsWith("/talk")||h||m.startsWith("/labs/experiments/3d-generations")||m.startsWith("/shares/3d-generations")),S=r==="chat-only"||t,I=c.useRef(null),_=Tr(()=>{const T=document.getElementById("app");if(T){const A=g&&I.current?I.current.clientWidth:0;T.style.setProperty("--sidebar-header-secondary-buttons-collapsed-width",`${A}px`),T.style.setProperty("--header-controls-inline-start-width",`${A}px`)}});return l.jsx("div",{className:F("pointer-events-none absolute start-0 top-0 w-full py-1.5 pe-2.5 md:py-3",!v&&(!t||!s)?"ps-2":"ps-0.5",ct.sidebar),children:l.jsx("div",{className:"relative",children:l.jsxs("div",{className:F("absolute flex min-w-full items-end justify-between p-1",y?"gap-3":"gap-0.5"),ref:_,children:[(t||v)&&l.jsx("div",{className:F("flex w-0 items-center",(!s||v&&!t)&&"max-md:hidden"),children:l.jsxs(ne,{role:"link",title:u("sidebar.homepageLink"),className:F("pointer-events-auto absolute start-1 top-1 flex items-center gap-2.5 pe-2.5 ps-2",y&&"gap-0 px-2"),size:"36-sm",color:"subtle-dimmed-inverted",testId:"sidebar-copilot-brand-button",onClick:async()=>{!f&&b&&(ye({source:"sidebarBrandButton",destination:"/chat",pageName:m}),await o())},children:[l.jsx(km,{className:"size-6"}),l.jsx(ln,{className:"flex items-center",mode:"popLayout",initial:a.current?!1:"initial",delay:d?0:es.default,duration:d?0:es.slow,children:l.jsxs("span",{className:F("flex items-center text-lg-strong",!s&&v&&"max-md:hidden",!t&&v&&"hidden"),children:[l.jsx(xt,{url:ype,className:"h-[18px] w-[58px]"}),C&&l.jsx(Bp,{text:"BETA",className:"ms-2 uppercase"})]})})]})}),l.jsxs("div",{className:F("pointer-events-auto relative mx-1 flex shrink-0 items-center gap-0.5",y&&"md:hidden"),"data-theme":i&&!t?i.theme:void 0,ref:I,children:[l.jsx(pt,{children:E&&l.jsx(ge.div,{className:F("pointer-events-auto absolute border border-stroke-100 shadow-md dark:border-stroke-300",S?"-inset-1 rounded-2xl":"inset-0 rounded-xl",Js),initial:"initial",animate:"animate",exit:"exit",variants:{initial:Fe,animate:nt,exit:Fe},transition:d?{duration:0}:pn})}),l.jsx(ne,{title:u(t?"sidebar.close":"sidebar.open"),tooltip:Jx,className:F("after:absolute after:inset-0 after:rounded-xl max-md:hover:after:bg-black/3 max-md:dark:after:hover:bg-white/5",!v&&"hover:after:bg-black/3 dark:after:hover:bg-white/5",v&&t&&"md:cursor-w-resize",v&&!t&&"md:cursor-e-resize"),color:"subtle-dimmed-inverted",variant:"square",size:"36-sm",onClick:()=>{ye({source:"sidebarToggle",pageName:m,customData:JSON.stringify({isOpen:t})}),n()},testId:"sidebar-toggle-button",children:l.jsx(yh,{className:"size-6"})}),S&&l.jsxs("div",{className:F("flex rounded-xl max-md:hover:bg-black/3 max-md:dark:hover:bg-white/5",y?"md:gap-1":"hover:bg-black/3 dark:hover:bg-white/5",!s&&r!=="chat-only"&&"max-md:hidden"),children:[l.jsx(ne,{title:u("composer.startNewChat"),tooltip:Jx,color:"subtle-dimmed-inverted",variant:"square",size:"36-sm",className:F("rounded-sm rounded-s-xl max-md:w-[34px]",y?"md:w-10":"w-[34px]"),onClick:async()=>{b&&(ye({source:"sidebarNewConversation",destination:"/chat",pageName:m,customData:JSON.stringify({isOpen:t})}),await o())},testId:"sidebar-new-conversation-button",children:l.jsx(Am,{className:"size-6"})}),l.jsx(ck,{buttonSize:"36-sm"})]}),C&&l.jsx(Bp,{text:u("settings.copilotBeta.beta"),className:F("relative m-2 uppercase",t&&s&&"max-md:hidden",(t||v)&&"md:hidden")})]})]})})})}function Co({onOutsideEvent:e,elements:t,shouldAttachListeners:n=!0,includeScroll:s=!0,invokeOnce:o=!0,includeFocus:r=!0,includeClick:a=!1}){c.useEffect(()=>{const i=u=>{const d=u.target,m=t.some(h=>{var g;return(g=h.current)==null?void 0:g.contains(d)}),f=d instanceof Element&&d.closest("[data-outside-events-ignore]")!==null;!m&&!f&&e()};return n&&(document.addEventListener("mousedown",i,{once:o}),a&&document.addEventListener("click",i,{once:o}),s&&document.addEventListener("scroll",i,!0),r&&document.addEventListener("focusin",i,!0)),()=>{document.removeEventListener("mousedown",i),a&&document.removeEventListener("click",i),s&&document.removeEventListener("scroll",i,!0),r&&document.removeEventListener("focusin",i,!0)}},[n,s,t,o,r,e,a])}function xpe(e){const{isSidebarAtomSynced:t=!0}=e,{t:n}=q(),[s,o]=Ue(Vo),r=_m(),a=gt({breakpoint:"md"}),[i,u]=c.useState(a),d=c.useRef(a),m=c.useRef(null),f=ae.instance().config().useCompactSidebarHeader??!1,h=ae.instance().config().isSidebarSmokeLayerVisible??!0;E3(()=>{a&&o(!1)});const g=Im();c.useEffect(()=>{d.current===!1&&a&&o(!1),d.current===!0&&!a&&o(aS()==="open"),d.current=a,u(a)},[a,o]),Co({onOutsideEvent:()=>o(!1),elements:[m],shouldAttachListeners:s&&!h&&a,includeScroll:!1,invokeOnce:!1,includeFocus:!1});const C=()=>{o(!s),a||eB(s?"close":"open")};return l.jsxs(l.Fragment,{children:[l.jsx(pt,{children:i&&s&&h&&l.jsx(ge.div,{className:F("fixed inset-0 bg-black/30",!t&&"hidden"),onClick:()=>o(!1),initial:"initial",animate:"animate",exit:"exit",variants:{initial:Fe,animate:nt,exit:Fe},transition:pn})}),l.jsxs(ge.div,{ref:m,className:le("relative w-full bg-sidebar-light dark:bg-sidebar-dark",!h&&"shadow-lg"),layout:"position",role:"navigation",children:[!s&&l.jsx("button",{onClick:C,type:"button",className:"absolute size-full cursor-e-resize outline-none max-md:hidden","aria-label":n("sidebar.open")}),f?l.jsx(vfe,{isSidebarOpen:s,toggle:C}):l.jsx(bpe,{isSidebarOpen:s,toggle:C,isSidebarAtomSynced:t}),l.jsx(pt,{children:l.jsx(ge.div,{className:F("overflow-hidden",!s&&!g&&"hidden",s&&!t&&"max-md:hidden"),animate:"animate",exit:"exit",variants:{animate:nt,exit:Fe},transition:r?{duration:0}:pn,children:l.jsx(Cpe,{toggle:C})})})]})]})}const Spe=290,Epe=52,wpe=()=>{const e=zl(),t=gt({breakpoint:"md"});return e&&!t?Epe:0},Ipe="bg-sidebar-light dark:bg-sidebar-dark";function _pe(e){const{children:t}=e,n=gt({breakpoint:"md"}),s=Ns(),r=M(Vo)&&s,[a,i]=c.useState(!1),u=M(Hn),d=M(xi),m=M(A1),f=ek(),h=zl(),g=_m(),C=c1(),v=oe(Vo),[y,b]=c.useState(!1);c.useEffect(()=>{C&&!y&&(n&&v(!1),b(!0))},[C,n,v,y]);const E=s&&(r||h),S=E&&!n;c.useEffect(()=>{const P=document.getElementById("app");P&&P.style.setProperty("--layout-offset-y",S?`${bS}px`:"0px")},[S]);const I=Im(),_=u==="side-by-side",T=f?"100%":Spe,A=wpe(),k=d||!!m,R=y?{width:r?T:A}:{};return l.jsxs("div",{className:le("flex h-full overflow-hidden",Ipe),inert:k?!0:void 0,children:[s&&l.jsx(ge.div,{className:le("absolute h-full w-0 will-change-auto max-md:bg-sidebar-light max-md:dark:bg-sidebar-dark md:relative",r?"md:w-[290px]":"md:w-[52px]",ct.sidebarSmallScreen),animate:R,transition:g?{duration:0}:pn,onAnimationStart:()=>i(!0),onAnimationComplete:()=>i(!1),children:l.jsx(xpe,{isSidebarAtomSynced:y})}),l.jsx("main",{className:le("relative flex w-full min-w-0 will-change-auto","after:pointer-events-none after:fixed after:inset-2 after:z-30 after:rounded-container after:border after:border-transparent after:opacity-0 after:transition-opacity after:duration-0 dark:after:border-white/12 dark:after:border-s-white/8",E&&!a&&"md:after:opacity-100 md:after:duration-1000",I?"after:start-[52px]":"after:start-[290px]",E&&"md:pt-1.5",_&&"pt-1.5",E&&!_&&"md:pb-1.5",E&&"md:pe-1.5",!E&&_&&"pe-1.5 ps-1.5",_&&"max-md:pe-1.5 max-md:ps-1.5"),children:t})]})}function Cd(e){const{children:t,className:n,backgroundColor:s}=e,o=Ns(),r=zl(),i=ut().endsWith("/talk");return l.jsxs("div",{className:F("relative h-full overflow-hidden",n),children:[l.jsx("div",{className:le("absolute size-full",o&&"md:t-main-clip-path"),children:l.jsx(ac,{customColor:s,isFixed:!0})}),l.jsx("div",{className:le("relative size-full",!i&&"overflow-hidden",o&&r&&"md:rounded-container"),children:t})]})}const UAe="https://picassostaticassetsstg.azureedge.net/character/try-now/lumi_intro_394_222";function Tpe(e,t){if(!e)return!1;const n=wt(sS,he())??wt(KF,he());return!t&&!n}function Ape(){const e=Bs(),t=be("appearance-first-run-experience"),n=pe(pk);return e&&t&&!n}function kpe(e,t,n,s){return(!e||!t)&&!s?!1:!n&&!wt(GF,he())}function Tk(){const e=M(uY),t=M(Tfe),n=Cm(),s=lh(),o=G("appearance-discoverability"),r=M(Afe),a=G("appearance-try-now-modal"),i=M(bo),u=kpe(n,o,r,s),d=Tpe(a,i);return{noModalToShow:!u&&!d&&!e&&!t,shouldShowEducationModal:u,shouldShowTryNowModal:d,isAppearanceTryNowModalDisplayed:e,isAppearanceEducationModalDisplayed:t,isAppearanceEducationModalClicked:r}}function Ak(){const e=M(mC),{passthroughType:t}=qT();return!!(e!=null&&e.prompt)&&t==="full"}const Hp={CLOSE_BUTTON:"closeButton",ONE_LINE_COMPOSER:"oneLineComposer",IMAGE_VIEWER:"imageViewer"},Gl=N(),Mpe=N(e=>{const t=e(Gl);if(!(!t||!Array.isArray(t.media)||typeof t.currentMediaIndex!="number"))return t.media[t.currentMediaIndex]});function Npe(){return M(Mpe)}function Rpe(e){const t=pe(je);$t({source:e.source??"defaultMediaViewerSource",scenario:"mediaViewerOpen",messageId:e.messageId,conversationId:t})}function Ppe(){const e=pe(Gl),t=pe(je);e&&$t({source:"mediaViewer",scenario:"mediaViewerNext",messageId:e.messageId,conversationId:t})}function Lpe(){const e=pe(Gl),t=pe(je);e&&$t({source:"mediaViewer",scenario:"mediaViewerPrevious",messageId:e.messageId,conversationId:t})}function Xx(){const e=pe(Gl),t=pe(je);e&&$t({source:"mediaViewer",scenario:"mediaViewerClose",messageId:e.messageId,conversationId:t})}function kk(){return`Copilot_${Xn(new Date,"yyyyMMdd_HHmmss")}`}function Ope(e){e.target instanceof HTMLImageElement&&URL.revokeObjectURL(e.target.src)}async function Dpe(e,t=!1){try{const n=await zn(e,{analytics:{anonymousPath:"/attachments/*.png"}});return t&&n.status!==200?null:await n.blob()}catch{return null}}async function jpe(e,t=!1){try{const n=await Dpe(e,t);return n?URL.createObjectURL(n):null}catch{return null}}const Mk={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",webp:"image/webp"},h0="image";function Upe(e){const{pathname:t}=new URL(e,"https://example.com");return t.split("/").pop()??"image.jpg"}function Fpe(e){var o;const{pathname:t}=new URL(e,"https://example.com"),n=t.split("."),s=n.length>1?((o=n.pop())==null?void 0:o.toLowerCase())??"":"";return Object.keys(Mk).includes(s)?s:""}function Bpe(e){const t=Fpe(e);return Mk[t]??"image/jpeg"}const Vpe=async(e,t="image.jpg")=>{const s=await(await zn(e)).blob(),o=s.type||Bpe(e);return{file:new File([s],t,{type:o}),type:o}};function FAe(e){const t=e.naturalWidth/e.naturalHeight;return t>1.1?"landscape":t<.9?"portrait":"square"}async function Hpe(e,t){const n=t??kk(),o=await(await fetch(e)).blob(),r=URL.createObjectURL(o),a=document.createElement("a");a.href=r,a.download=n,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)}const zpe=N();function Nk(){const[e,t]=Ue(zpe);return{isPictureInPictureOpen:e!==void 0,openPictureInPicture:o=>{t(o),ye({source:"mediaViewer",scenario:"PictureInPictureOpen"})},closePictureInPicture:()=>t(void 0)}}function Gpe(e){const t=Xn(new Date,"yyyyMMdd_HHmmss");return{filename:`${e}_${t}.mp4`}}function Pa(){const[e,t]=Ue(Gl),n=oe(Dd),{openPictureInPicture:s}=Nk(),{t:o}=q(),r=c.useCallback(()=>{const{onClose:b}=e??{};Xx(),n(!1),t(void 0),b==null||b()},[t,e,n]),a=c.useCallback(()=>{Ppe(),t(b=>{if(!b)return b;if(b.currentMediaIndex<b.media.length-1){const E=b.currentMediaIndex+1;return{...b,currentMediaIndex:E,isCurrentMediaLoading:g0(b.media[E])}}return b})},[t]),i=c.useCallback(()=>{Lpe(),t(b=>{if(!b)return b;if(b.currentMediaIndex>0){const E=b.currentMediaIndex-1;return{...b,currentMediaIndex:E,isCurrentMediaLoading:g0(b.media[E])}}return b})},[t]),u=c.useCallback(b=>{Rpe(b),n(!1),t({...b,isCurrentMediaLoading:g0(b.media[b.currentMediaIndex])})},[t,n]),d=e==null?void 0:e.media[e.currentMediaIndex],m=(d==null?void 0:d.type)==="video",f=(e==null?void 0:e.source)==="videoActionCard"||(e==null?void 0:e.source)==="library",h=m&&f,g=m&&!h,C=c.useCallback(()=>{var b;if(d&&d.type==="video"){const{player:E}=d;s({url:d.url,title:((b=d.source)==null?void 0:b.title)??"",startTime:(E==null?void 0:E.getCurrentTime())??0}),Xx(),t(void 0)}},[s,t,d]),v=c.useCallback(()=>{if(!h)return;const{filename:b}=Gpe(o("video.downloadFileName"));Hpe(d.url,b)},[h,d,o]),y=(e==null?void 0:e.contentComposerType)??Hp.CLOSE_BUTTON;return c.useMemo(()=>({openMediaViewer:u,closeMediaViewer:r,isMediaViewerOpen:e!==void 0,next:a,previous:i,isPictureInPictureSupported:g,triggerPictureInPicture:C,contentComposerType:y,showOneLineComposerWhenMediaViewerOpen:y===Hp.ONE_LINE_COMPOSER,contentPageType:e==null?void 0:e.contentPageType,triggerVideoDownload:h?v:void 0}),[u,r,e,a,i,g,C,y,h,v])}function g0(e){if(e&&"initLoading"in e)return e.initLoading}function Wpe(){var m,f;const e=ut(),t=M(Hn),{isAppearanceEducationModalDisplayed:n,isAppearanceTryNowModalDisplayed:s}=Tk(),{isMediaViewerOpen:o}=Pa(),{disableMultiturn:r}=ae.instance().config(),a=((m=ae.instance().config().composer)==null?void 0:m.largeScreen)===!0&&((f=ae.instance().config().composer)==null?void 0:f.voiceOnly)===!0,i=["/pro/subscribe","/pro/ewallet/return","/referrals","/referrals/rules","/subscription/manage","/subscription/start","/connector/callback"],u=Ak(),d=!e.startsWith("/labs")||e==="/labs/portrait/talk";return!i.includes(e)&&!e.startsWith("/topic-selection")&&(!e.startsWith("/fang")||o)&&!e.startsWith("/login")&&e!=="/e/so"&&e!=="/e/sol"&&!e.startsWith("/pro/redeem")&&!e.startsWith("/gaming")&&(!e.startsWith("/library")||o)&&!e.startsWith("/memory/narrative")&&!e.startsWith("/conversations")&&!e.startsWith("/campaigns")&&!e.startsWith("/pages")&&!e.startsWith("/shares/pages")&&!e.startsWith("/shares/3d-generations")&&!I3(e)&&(!e.startsWith("/shopping")||o)&&d&&t!=="detail-only"&&!s&&!n&&!a&&!r&&!u&&!e.startsWith("/shares/tasks")&&!e.startsWith("/fallrelease")}function $pe(){var o,r;const e=ut(),n=wr()&&be("use-tv-talk")||e.endsWith("/talk");return((o=ae.instance().config().composer)==null?void 0:o.largeScreen)===!0&&((r=ae.instance().config().composer)==null?void 0:r.voiceOnly)===!0&&n}function qpe(e){const{showSettings:t,showSettingsRelyOnChatDetailLayout:n}=e,s=M(Hn);return c.useMemo(()=>n?t&&s!=="side-by-side"&&s!=="detail-only":t,[n,t,s])}function Kpe(){const[e,t]=Ue(pfe);return c.useEffect(()=>{async function n(){const o=await(ae.instance().config().isCommandHeaderSupported??(()=>Promise.resolve(!1)))();t(o)}n().catch(()=>{})},[t]),e}function Rk(){return gO().map(t=>t.context)}function xh(){const e=Rk(),t=e[e.length-1];return!!(t!=null&&t.customLayout)}function Zpe(){const e=Rk(),t=e[e.length-1];return!!(t!=null&&t.standalonePage)}const Ype=16/9,Qpe=48,Pk=296,Jpe=Pk/Ype,Xpe=Jpe+Qpe;function e1e(){return l.jsx("div",{className:"pointer-events-none absolute inset-0 mb-[calc(var(--composer-container-height)+20px)] me-4 ms-2 mt-[72px]",children:l.jsx("div",{className:"absolute bottom-0 end-4",style:{width:`${Pk}px`,height:`${Xpe}px`},children:l.jsx("div",{className:le("relative flex h-full flex-col overflow-hidden rounded-4xl","bg-acrylic-default-fallback-light/[98] dark:bg-acrylic-default-fallback-dark/[98]"),style:{boxShadow:"0px 16px 24px -2px rgba(0, 0, 0, 0.12)"},children:l.jsx("div",{className:"flex h-full items-center justify-center",children:l.jsx(it,{className:"size-12"})})})})})}function b5(e){qt({feature:"fileDownload",errorType:"DownloadFileError",errorMessage:e})}const yd=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M18.2498 20.5009C18.664 20.5008 19 20.8365 19 21.2507C19 21.6649 18.6644 22.0008 18.2502 22.0009L5.25022 22.0047C4.836 22.0048 4.5 21.6691 4.5 21.2549C4.5 20.8407 4.83557 20.5048 5.24978 20.5047L18.2498 20.5009ZM11.6482 2.01271L11.75 2.00586C12.1297 2.00586 12.4435 2.28801 12.4932 2.65409L12.5 2.75586L12.499 16.4409L16.2208 12.7205C16.4871 12.4543 16.9038 12.4301 17.1974 12.648L17.2815 12.7206C17.5477 12.9869 17.5719 13.4036 17.354 13.6972L17.2814 13.7813L12.2837 18.7779C12.0176 19.044 11.6012 19.0683 11.3076 18.8507L11.2235 18.7782L6.22003 13.7816C5.92694 13.4889 5.92661 13.014 6.21931 12.7209C6.48539 12.4545 6.90204 12.43 7.1958 12.6477L7.27997 12.7202L10.999 16.4339L11 2.75586C11 2.37616 11.2822 2.06237 11.6482 2.01271L11.75 2.00586L11.6482 2.01271Z",fill:"currentColor"})),BAe=Object.freeze(Object.defineProperty({__proto__:null,default:yd},Symbol.toStringTag,{value:"Module"}));function Wl(e){const t=pe(qo).document.mimeTypes;return e in t}function U3(e,t){const n=pe(Hl),{supportedMimeTypes:s=n}=t??{};if(!e)return!1;const o=Cr(e);return o===""?!1:o in s}function VAe(){const e=pe(Hl);return Object.keys(e).map(t=>t in qs&&qs[t]?[t,...qs[t].map(n=>`.${n}`)]:[]).flat()}function HAe(){const e=pe(qo).document.mimeTypes;return Object.keys(e).map(t=>t in qs&&qs[t]?[t,...qs[t].map(n=>`.${n}`)]:[]).flat()}function zAe(){const e=pe(qo).image.mimeTypes;return Object.keys(e).map(t=>t in qs&&qs[t]?[t,...qs[t].map(n=>`.${n}`)]:[]).flat()}function F3(e){return Object.values(e).flat().map(t=>`.${t}`)}function t1e(){const e=pe(qo).document.mimeTypes;return F3(e)}function n1e(){const e=pe(qo).image.mimeTypes;return F3(e)}function Lk(){const e=pe(qo);return{documentMaxSize:e.document.maxBytes,imageMaxSize:e.image.maxBytes}}function B3(e){const t=g1e(e),n=pe(Hl),s=Object.entries(n).find(([,o])=>o.includes(t??""));return s?s[0]:""}function Cr(e){return e?e.type!==""?e.type:B3(e.name):""}function Ok(e,t){const n=pe(Hl),{supportedMimeTypes:s=n,scenario:o}=t??{};let r,a=null;const i=be("multi-file-upload"),u=Lk();if(!U3(e,{supportedMimeTypes:s}))r={title:z("composer.errors.unsupportedAttachmentTypeV2.title"),message:z("composer.errors.unsupportedAttachmentTypeV2.message")},a="fileType";else if(!Dk(e)){const d=Cr(e);r=i?{title:z("composer.errors.multi.attachmentTooLarge.title"),message:z("composer.errors.multi.attachmentTooLarge.message",{limit:Wl(d)?u.documentMaxSize/1024/1024:u.imageMaxSize/1024/1024})}:{title:z("composer.errors.attachmentTooLargeV2.title"),message:z("composer.errors.attachmentTooLargeV2.message")},a="fileSize"}return D.trackEvent({name:"system",data:{eventName:"clientFileValidation",eventInfo_errorType:a,eventInfo_fileType:Cr(e),eventInfo_fileSize:e.size,eventInfo_customData:o?JSON.stringify({uploadFileScenario:o}):void 0}}),r}function s1e(e){return e.type==="text/x-markdown"?new File([e],e.name,{type:"text/markdown"}):e}function Dk(e){const t=Lk(),n=Cr(e),s=Wl(n)?t.documentMaxSize:t.imageMaxSize;return e.size<=s}function o1e(e){var n;const t=(n=e.clipboardData)==null?void 0:n.items;if(t)for(let s=0;s<t.length;s+=1){const o=t[s];if((o==null?void 0:o.kind)==="file"){const r=o.getAsFile();if(!U3(r))continue;const a=Cr(r);if(r!==null)return Dk(r)?{file:r,error:void 0}:(D.trackEvent({name:"system",data:{eventName:"clientFileValidation",eventInfo_errorType:"fileType",eventInfo_fileSize:r.size,eventInfo_fileType:a,eventInfo_errorMessage:"File size too large in paste"}}),{file:void 0,error:{title:z("composer.errors.attachmentTooLargeV2.title"),message:z("composer.errors.attachmentTooLargeV2.message")}})}}return{file:void 0,error:void 0}}function jk(e){switch(e){case"unsupported-content-type":return{title:z("composer.errors.unsupportedAttachmentTypeV2.title"),message:z("composer.errors.unsupportedAttachmentTypeV2.message")};case"attachment-too-large":return{title:z("composer.errors.attachmentTooLargeV2.title"),message:z("composer.errors.attachmentTooLargeV2.message")};case"empty-attachment":return{title:z("composer.errors.emptyAttachmentV2.title"),message:z("composer.errors.emptyAttachmentV2.message")};case"content-blocked":return{title:z("composer.errors.attachmentContentBlockedV2.title"),message:z("composer.errors.attachmentContentBlockedV2.message")};case"rate-limit-exceeded":return{title:z("composer.errors.attachmentRateLimitExceededV2.title"),message:z("composer.errors.attachmentRateLimitExceededV2.message")};default:return{title:z("composer.errors.attachmentDefault.title"),message:z("composer.errors.attachmentDefault.message")}}}function Uk(e,t){const n=window.URL.createObjectURL(e),s=document.createElement("a");s.style.display="none",s.href=n,s.download=t,document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(n),s.remove()}function GAe(e,t,n){const s=new Blob([n],{type:t});Uk(s,e)}function r1e(e){const t=e.headers.get("Content-Disposition");if(!t)return;const n=t.match(/filename\*=UTF-8''([^;]+)/);if(n&&n[1])return decodeURIComponent(n[1]);const s=t.match(/filename=([^;]+)/);if(s&&s[1])return s[1].replace(/^"(.*)"$/,"$1")}async function Fk(e){const{url:t,fileName:n,preferResponseFileName:s,args:o}=e,r=dm(t)?await fetch(t,o==null?void 0:o.options):await zn(t,o);if(!r.ok)throw new Error(`Failed to fetch file: ${n} from ${t} (status: ${r.status})`);const a=await r.blob();let i=n;if(s){const u=r1e(r);u&&(i=u)}Uk(a,i)}function a1e({name:e,size:t,message:n,kind:s}){D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"submitMessage",eventInfo_errorMessage:n,eventInfo_details:`Error uploading ${s} attachment`,eventInfo_uploadFileSize:t,eventInfo_uploadFileType:e,eventInfo_numDocumentsUploaded:1}})}function Bk(){return`file-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function WAe(e,t){for(const n of e){const s=Ok(n,{supportedMimeTypes:t});if(s)return s}return null}function i1e(e){const t=u1e(e);return new File([e],t,{type:"text/plain"})}function c1e(e){return e.replace(/[\\/:*?"<>|]/g,"_").trim()}function l1e(e){return e.length>0&&!/^[_\s]+$/.test(e)}function u1e(e){const n=`${z("fileUpload.pastedTextDefaultFilename")}.txt`;if(!e||e.trim().length===0)return n;const o=e.split(`
`).find(a=>a.trim().length>0);if(!o)return n;let r=o.trim().slice(0,50);return r=c1e(r),l1e(r)?`${r}.txt`:n}const d1e=2e3,m1e=500*1024,f1e=1*1024*1024,p1e=.05,h1e=.15;function $Ae(e){const{fileSizeBytes:t,minUploadFileTimeMs:n=d1e,minUploadSpeedBytesPerSec:s=m1e,maxUploadSpeedBytesPerSec:o=f1e,minBufferRatio:r=p1e,maxBufferRatio:a=h1e}=e,i=s+Math.random()*(o-s),u=t/i*1e3,d=n+u,m=r+Math.random()*(a-r),f=d*m;return d+f}function g1e(e){var t;return(t=e==null?void 0:e.split(".").pop())==null?void 0:t.toLowerCase()}const Sh=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M5.5028 4.62704L5.5 6.75V17.2542C5.5 19.0491 6.95507 20.5042 8.75 20.5042L17.3663 20.5045C17.0573 21.3782 16.224 22.0042 15.2444 22.0042H8.75C6.12665 22.0042 4 19.8776 4 17.2542V6.75C4 5.76929 4.62745 4.93512 5.5028 4.62704ZM17.75 2C18.9926 2 20 3.00736 20 4.25V17.25C20 18.4926 18.9926 19.5 17.75 19.5H8.75C7.50736 19.5 6.5 18.4926 6.5 17.25V4.25C6.5 3.00736 7.50736 2 8.75 2H17.75ZM17.75 3.5H8.75C8.33579 3.5 8 3.83579 8 4.25V17.25C8 17.6642 8.33579 18 8.75 18H17.75C18.1642 18 18.5 17.6642 18.5 17.25V4.25C18.5 3.83579 18.1642 3.5 17.75 3.5Z"})),qAe=Object.freeze(Object.defineProperty({__proto__:null,default:Sh},Symbol.toStringTag,{value:"Module"})),Mm=e=>c.createElement("svg",{viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M6.25 10C6.25 10.6904 5.69036 11.25 5 11.25C4.30964 11.25 3.75 10.6904 3.75 10C3.75 9.30964 4.30964 8.75 5 8.75C5.69036 8.75 6.25 9.30964 6.25 10ZM11.25 10C11.25 10.6904 10.6904 11.25 10 11.25C9.30964 11.25 8.75 10.6904 8.75 10C8.75 9.30964 9.30964 8.75 10 8.75C10.6904 8.75 11.25 9.30964 11.25 10ZM15 11.25C15.6904 11.25 16.25 10.6904 16.25 10C16.25 9.30964 15.6904 8.75 15 8.75C14.3096 8.75 13.75 9.30964 13.75 10C13.75 10.6904 14.3096 11.25 15 11.25Z"})),KAe=Object.freeze(Object.defineProperty({__proto__:null,default:Mm},Symbol.toStringTag,{value:"Module"})),v1e=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("ellipse",{cx:15.9995,cy:16,rx:13.249,ry:13.25,fill:"url(#paint0_linear_105551_393)"}),c.createElement("ellipse",{cx:15.9995,cy:16,rx:13.249,ry:13.25,fill:"url(#paint1_radial_105551_393)"}),c.createElement("ellipse",{cx:15.9995,cy:16,rx:13.249,ry:13.25,fill:"url(#paint2_radial_105551_393)",fillOpacity:.5}),c.createElement("path",{d:"M16.0001 2.75C23.3173 2.75 29.2491 8.68223 29.2491 16C29.2491 18.4375 28.5898 20.7206 27.4415 22.6826L27.5548 22.4336C28.9158 19.4123 26.7044 15.9936 23.3907 15.9961L18.464 15.999C17.1036 15.9999 16.0001 14.8975 16.0001 13.5371V8.60156C16.0001 5.28671 12.5773 3.07782 9.55676 4.44336L9.36731 4.52832C11.318 3.39781 13.5833 2.75002 16.0001 2.75Z",fill:"url(#paint3_linear_105551_393)"}),c.createElement("path",{d:"M16.0001 2.75C23.3173 2.75 29.2491 8.68223 29.2491 16C29.2491 18.4375 28.5898 20.7206 27.4415 22.6826L27.5548 22.4336C28.9158 19.4123 26.7044 15.9936 23.3907 15.9961L18.464 15.999C17.1036 15.9999 16.0001 14.8975 16.0001 13.5371V8.60156C16.0001 5.28671 12.5773 3.07782 9.55676 4.44336L9.36731 4.52832C11.318 3.39781 13.5833 2.75002 16.0001 2.75Z",fill:"url(#paint4_radial_105551_393)"}),c.createElement("path",{d:"M16.0001 2.75C23.3173 2.75 29.2491 8.68223 29.2491 16C29.2491 18.4375 28.5898 20.7206 27.4415 22.6826L27.5548 22.4336C28.9158 19.4123 26.7044 15.9936 23.3907 15.9961L18.464 15.999C17.1036 15.9999 16.0001 14.8975 16.0001 13.5371V8.60156C16.0001 5.28671 12.5773 3.07782 9.55676 4.44336L9.36731 4.52832C11.318 3.39781 13.5833 2.75002 16.0001 2.75Z",fill:"url(#paint5_radial_105551_393)",fillOpacity:.8}),c.createElement("path",{d:"M16.0001 2.75C23.3173 2.75 29.2491 8.68223 29.2491 16C29.2491 18.4375 28.5898 20.7206 27.4415 22.6826L27.5548 22.4336C28.9158 19.4123 26.7044 15.9936 23.3907 15.9961L18.464 15.999C17.1036 15.9999 16.0001 14.8975 16.0001 13.5371V8.60156C16.0001 5.28671 12.5773 3.07782 9.55676 4.44336L9.36731 4.52832C11.318 3.39781 13.5833 2.75002 16.0001 2.75Z",fill:"url(#paint6_radial_105551_393)"}),c.createElement("path",{d:"M16.0001 2.75C23.3173 2.75 29.2491 8.68223 29.2491 16C29.2491 18.4375 28.5898 20.7206 27.4415 22.6826L27.5548 22.4336C28.9158 19.4123 26.7044 15.9936 23.3907 15.9961L18.464 15.999C17.1036 15.9999 16.0001 14.8975 16.0001 13.5371V8.60156C16.0001 5.28671 12.5773 3.07782 9.55676 4.44336L9.36731 4.52832C11.318 3.39781 13.5833 2.75002 16.0001 2.75Z",fill:"url(#paint7_radial_105551_393)"}),c.createElement("rect",{x:2,y:14,width:12,height:12,rx:2.75,fill:"url(#paint8_radial_105551_393)"}),c.createElement("rect",{x:2,y:14,width:12,height:12,rx:2.75,fill:"url(#paint9_radial_105551_393)",fillOpacity:.3}),c.createElement("path",{d:"M7.33095 21.1332V23.25H5.86646V16.75H8.12894C8.93902 16.75 9.55565 16.9268 9.97883 17.2803C10.405 17.6339 10.6181 18.1582 10.6181 18.8532C10.6181 19.5694 10.3793 20.1284 9.90175 20.5303C9.42719 20.9322 8.7894 21.1332 7.98839 21.1332H7.33095ZM7.33095 17.8741V20.0091H7.94305C8.30577 20.0091 8.58537 19.9139 8.78184 19.7235C8.97832 19.5331 9.07656 19.2596 9.07656 18.9031C9.07656 18.5737 8.97983 18.3199 8.78638 18.1416C8.59595 17.9633 8.32239 17.8741 7.96572 17.8741H7.33095Z",fill:"white"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_105551_393",x1:14.6551,y1:1.90642,x2:-1.57873,y2:17.4368,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.0582736,stopColor:"#FF7F48"}),c.createElement("stop",{offset:1,stopColor:"#E5495B"})),c.createElement("radialGradient",{id:"paint1_radial_105551_393",cx:0,cy:0,r:1,gradientTransform:"matrix(-18.8112 18.811 -31.6617 -31.6613 21.2367 10.439)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.151523,stopColor:"#AA1D2D"}),c.createElement("stop",{offset:.380855,stopColor:"#D12B18",stopOpacity:.44}),c.createElement("stop",{offset:.601996,stopColor:"#FF3C00",stopOpacity:0})),c.createElement("radialGradient",{id:"paint2_radial_105551_393",cx:0,cy:0,r:1,gradientTransform:"matrix(22.8026 -10.7704 19.5125 41.3098 -1.87407 26.7704)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.4067,stopColor:"#FF66FB"}),c.createElement("stop",{offset:1,stopColor:"#EA3D01",stopOpacity:0})),c.createElement("linearGradient",{id:"paint3_linear_105551_393",x1:18.5077,y1:18.9549,x2:32.7722,y2:8.38635,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.310768,stopColor:"#FF6E30"}),c.createElement("stop",{offset:.634576,stopColor:"#FFA05C"})),c.createElement("radialGradient",{id:"paint4_radial_105551_393",cx:0,cy:0,r:1,gradientTransform:"matrix(16.7654 3.51442 -4.52076 15.7435 13.7736 17.5903)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.78593,stopColor:"#FFA05C",stopOpacity:0}),c.createElement("stop",{offset:.904889,stopColor:"#FFCE84"})),c.createElement("radialGradient",{id:"paint5_radial_105551_393",cx:0,cy:0,r:1,gradientTransform:"matrix(14.4735 -9.47386 9.06302 13.8421 16.4609 15.8064)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.295239,stopColor:"#FF99E9"}),c.createElement("stop",{offset:.727968,stopColor:"#FF99E9",stopOpacity:0})),c.createElement("radialGradient",{id:"paint6_radial_105551_393",cx:0,cy:0,r:1,gradientTransform:"matrix(12.1147 -13.8748 12.9299 10.767 14.5186 17.83)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#FD6EF9"}),c.createElement("stop",{offset:.637205,stopColor:"#FF9944"}),c.createElement("stop",{offset:.85186,stopColor:"#FCC479"})),c.createElement("radialGradient",{id:"paint7_radial_105551_393",cx:0,cy:0,r:1,gradientTransform:"matrix(-1.36843 9.27606 -20.9774 -2.95138 13.3133 4.50181)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.144283,stopColor:"#FF8D13"}),c.createElement("stop",{offset:.537266,stopColor:"#FF7F29",stopOpacity:0})),c.createElement("radialGradient",{id:"paint8_radial_105551_393",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(1.99854 14) rotate(45) scale(16.9706)"},c.createElement("stop",{stopColor:"#F8193E"}),c.createElement("stop",{offset:.939062,stopColor:"#920616"})),c.createElement("radialGradient",{id:"paint9_radial_105551_393",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7.99854 21.2) rotate(90) scale(8.4 9.5625)"},c.createElement("stop",{offset:.575893,stopColor:"#FFB055",stopOpacity:0}),c.createElement("stop",{offset:.973806,stopColor:"#FFF2BE"})))),C1e=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 2C24.3137 2 27 4.68628 27 8V26.5C27 28.433 25.433 30 23.5 30H6.5C4.567 30 3 28.433 3 26.5C3 25.1038 3.81753 23.8986 5 23.3368V5C5 3.34314 6.34315 2 8 2H21Z",fill:"url(#paint0_linear_103584_157300)"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.5 29H21.0505C20.4022 28.3647 20 27.4793 20 26.5C20 25.5207 20.4022 24.6353 21.0505 24H6.5C5.11929 24 4 25.1193 4 26.5C4 27.8807 5.11929 29 6.5 29ZM6.5 23H23.5C23.7761 23 24 23.2238 24 23.5C24 23.7762 23.7761 24 23.5 24C22.1193 24 21 25.1193 21 26.5C21 27.8807 22.1193 29 23.5 29C24.8807 29 26 27.8807 26 26.5V8C26 5.23859 23.7614 3 21 3H8C6.89543 3 6 3.89542 6 5V23.0354C6.1633 23.0121 6.33024 23 6.5 23Z",fill:"url(#paint1_linear_103584_157300)"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.5 29H21.0505C20.4022 28.3647 20 27.4793 20 26.5C20 25.5207 20.4022 24.6353 21.0505 24H6.5C5.11929 24 4 25.1193 4 26.5C4 27.8807 5.11929 29 6.5 29ZM6.5 23H23.5C23.7761 23 24 23.2238 24 23.5C24 23.7762 23.7761 24 23.5 24C22.1193 24 21 25.1193 21 26.5C21 27.8807 22.1193 29 23.5 29C24.8807 29 26 27.8807 26 26.5V8C26 5.23859 23.7614 3 21 3H8C6.89543 3 6 3.89542 6 5V23.0354C6.1633 23.0121 6.33024 23 6.5 23Z",fill:"url(#paint2_radial_103584_157300)"}),c.createElement("path",{d:"M18.1709 7.03024C18.4304 7.12461 18.5643 7.41149 18.4699 7.67101L14.4699 18.671C14.3755 18.9305 14.0886 19.0644 13.8291 18.97C13.5696 18.8757 13.4357 18.5888 13.5301 18.3293L17.5301 7.32926C17.6245 7.06975 17.9114 6.93587 18.1709 7.03024Z",fill:"url(#paint3_linear_103584_157300)"}),c.createElement("path",{d:"M11.3536 10.1466C11.5488 10.3418 11.5488 10.6584 11.3536 10.8537L9.20711 13.0001L11.3536 15.1466C11.5488 15.3418 11.5488 15.6584 11.3536 15.8537C11.1583 16.049 10.8417 16.049 10.6464 15.8537L8.14645 13.3537C7.95118 13.1584 7.95118 12.8418 8.14645 12.6466L10.6464 10.1466C10.8417 9.95132 11.1583 9.95132 11.3536 10.1466Z",fill:"url(#paint4_linear_103584_157300)"}),c.createElement("path",{d:"M20.6464 10.1466C20.8417 9.95132 21.1583 9.95132 21.3536 10.1466L23.8536 12.6466C24.0488 12.8418 24.0488 13.1584 23.8536 13.3537L21.3536 15.8537C21.1583 16.049 20.8417 16.049 20.6464 15.8537C20.4512 15.6584 20.4512 15.3418 20.6464 15.1466L22.7929 13.0001L20.6464 10.8537C20.4512 10.6584 20.4512 10.3418 20.6464 10.1466Z",fill:"url(#paint5_linear_103584_157300)"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_103584_157300",x1:10.75,y1:2,x2:15.1208,y2:30.0979,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#BBBBBB"}),c.createElement("stop",{offset:1,stopColor:"#888888"})),c.createElement("linearGradient",{id:"paint1_linear_103584_157300",x1:10.1111,y1:3,x2:13.9744,y2:29.1515,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EBEBEB"})),c.createElement("radialGradient",{id:"paint2_radial_103584_157300",cx:0,cy:0,r:1,gradientTransform:"matrix(11.6111 20.5833 -17.4167 7.71875 11.0278 9.77083)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.177083,stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EFEFEF"})),c.createElement("linearGradient",{id:"paint3_linear_103584_157300",x1:11.5,y1:5,x2:16.9412,y2:19.0003,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:1e-4,stopColor:"#597493"}),c.createElement("stop",{offset:1,stopColor:"#0F2F56"})),c.createElement("linearGradient",{id:"paint4_linear_103584_157300",x1:11.5,y1:5,x2:16.9412,y2:19.0003,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:1e-4,stopColor:"#597493"}),c.createElement("stop",{offset:1,stopColor:"#0F2F56"})),c.createElement("linearGradient",{id:"paint5_linear_103584_157300",x1:11.5,y1:5,x2:16.9412,y2:19.0003,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:1e-4,stopColor:"#597493"}),c.createElement("stop",{offset:1,stopColor:"#0F2F56"})))),y1e=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M2 8C2 6.34315 3.34315 5 5 5H24C27.3137 5 30 7.68629 30 11V24C30 25.6569 28.6569 27 27 27H8C4.68629 27 2 24.3137 2 21V8Z",fill:"url(#paint0_linear_103584_148917)"}),c.createElement("path",{d:"M3 8C3 6.89543 3.89543 6 5 6H24C26.7614 6 29 8.23858 29 11V24C29 25.1046 28.1046 26 27 26H8C5.23858 26 3 23.7614 3 21V8Z",fill:"url(#paint1_linear_103584_148917)"}),c.createElement("path",{d:"M3 8C3 6.89543 3.89543 6 5 6H24C26.7614 6 29 8.23858 29 11V24C29 25.1046 28.1046 26 27 26H8C5.23858 26 3 23.7614 3 21V8Z",fill:"url(#paint2_radial_103584_148917)"}),c.createElement("path",{d:"M24.25 19.25C24.6642 19.2501 25 19.5858 25 20C25 20.6115 24.9926 21.2789 24.7871 21.9033C24.5674 22.5709 24.1422 23.1399 23.416 23.624C23.0714 23.8538 22.6057 23.7607 22.376 23.416C22.1462 23.0714 22.2393 22.6057 22.584 22.376C23.0575 22.0603 23.257 21.7543 23.3623 21.4346C23.4818 21.0715 23.5 20.6385 23.5 20C23.5 19.5858 23.8358 19.25 24.25 19.25Z",fill:"url(#paint3_linear_103584_148917)"}),c.createElement("path",{d:"M16.5 10C17.8468 10 19.0267 10.3456 19.8516 11.2598C20.6609 12.1569 21 13.4626 21 15.0938V21.25C21 21.6642 20.6642 22 20.25 22C19.8358 22 19.5 21.6642 19.5 21.25V20.959C18.6998 21.5588 17.5578 22 16 22C15.6534 22 15.3187 21.9661 15 21.8994V21C15 20.7706 14.9795 20.546 14.9424 20.3272C15.2405 20.4375 15.5913 20.5 16 20.5C17.4573 20.5 18.3334 20.0319 18.8389 19.5615C19.0975 19.3208 19.2693 19.0702 19.374 18.8604C19.4264 18.7553 19.46 18.664 19.4795 18.5947C19.5002 18.521 19.5 18.4902 19.5 18.5V16.0684C19.3218 16.0283 19.1621 15.9603 19.0361 15.8984C18.8982 15.8307 18.7425 15.7426 18.6094 15.6699C18.0734 15.3773 17.3257 15 16 15C15.0161 15 14.4247 15.4254 14.0527 15.96C13.6566 16.5297 13.5 17.2473 13.5 17.75C13.5 17.7946 13.5028 17.8385 13.5039 17.8818C13.0796 17.5407 12.5847 17.2845 12.0439 17.1387C12.1342 16.4934 12.3706 15.7518 12.8223 15.1025C13.4504 14.2 14.4843 13.5 16 13.5C17.6741 13.5 18.6766 13.9977 19.3281 14.3535C19.3828 14.3834 19.4319 14.4086 19.4756 14.4326C19.3955 13.3619 19.1177 12.6842 18.7383 12.2637C18.3014 11.7796 17.6061 11.5 16.5 11.5C15.5111 11.5 14.797 11.5134 14.0303 12.2803C13.7374 12.5731 13.2626 12.5731 12.9697 12.2803C12.6769 11.9874 12.6769 11.5126 12.9697 11.2197C14.2029 9.98642 15.489 10 16.5 10Z",fill:"url(#paint4_linear_103584_148917)"}),c.createElement("rect",{x:1,y:18,width:13,height:13,rx:3,fill:"url(#paint5_radial_103584_148917)"}),c.createElement("rect",{x:1,y:18,width:13,height:13,rx:3,fill:"url(#paint6_radial_103584_148917)",fillOpacity:.3}),c.createElement("path",{d:"M10.7227 28H8.83301L7.64648 25.7692C7.60417 25.6911 7.57161 25.6292 7.54883 25.5837C7.5293 25.5349 7.50814 25.4795 7.48535 25.4177H7.46582C7.43652 25.4958 7.40885 25.5593 7.38281 25.6081C7.35677 25.6569 7.32585 25.7171 7.29004 25.7887L6.05957 28H4.27734L6.41602 24.4951L4.42383 21H6.28906L7.34375 22.9916C7.38607 23.073 7.42188 23.1446 7.45117 23.2064C7.48372 23.265 7.51628 23.335 7.54883 23.4163H7.56836C7.61393 23.3219 7.64974 23.2471 7.67578 23.1918C7.70508 23.1364 7.74414 23.0632 7.79297 22.9721L8.88672 21H10.6641L8.64258 24.4414L10.7227 28Z",fill:"white"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_103584_148917",x1:11.0417,y1:5,x2:13.3847,y2:27.3656,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#BBBBBB"}),c.createElement("stop",{offset:1,stopColor:"#888888"})),c.createElement("linearGradient",{id:"paint1_linear_103584_148917",x1:10.2222,y1:6,x2:12.1806,y2:26.3672,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EBEBEB"})),c.createElement("radialGradient",{id:"paint2_radial_103584_148917",cx:0,cy:0,r:1,gradientTransform:"matrix(13.7222 15.8333 -20.5833 5.9375 11.3056 11.2083)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.177083,stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EFEFEF"})),c.createElement("linearGradient",{id:"paint3_linear_103584_148917",x1:29.7922,y1:30.5,x2:12.5927,y2:6.95085,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.16806,stopColor:"#15561C"}),c.createElement("stop",{offset:.541154,stopColor:"#15561C"}),c.createElement("stop",{offset:1,stopColor:"#297C2D"})),c.createElement("linearGradient",{id:"paint4_linear_103584_148917",x1:29.7922,y1:30.5,x2:12.5927,y2:6.95085,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.16806,stopColor:"#15561C"}),c.createElement("stop",{offset:.541154,stopColor:"#15561C"}),c.createElement("stop",{offset:1,stopColor:"#297C2D"})),c.createElement("radialGradient",{id:"paint5_radial_103584_148917",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(1 18) rotate(45) scale(18.3848 52.3364)"},c.createElement("stop",{stopColor:"#20A85E"}),c.createElement("stop",{offset:.94375,stopColor:"#09442A"})),c.createElement("radialGradient",{id:"paint6_radial_103584_148917",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7.5 25.8) rotate(90) scale(9.1 10.4813)"},c.createElement("stop",{offset:.580357,stopColor:"#33A662",stopOpacity:0}),c.createElement("stop",{offset:.973806,stopColor:"#98F0B0"})))),b1e=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M5 5C5 3.34315 6.34315 2 8 2H21C24.3137 2 27 4.68629 27 8V27C27 28.6569 25.6569 30 24 30H11C7.68629 30 5 27.3137 5 24V5Z",fill:"url(#paint0_linear_103584_148416)"}),c.createElement("path",{d:"M5 5C5 3.34315 6.34315 2 8 2H21C24.3137 2 27 4.68629 27 8V27C27 28.6569 25.6569 30 24 30H11C7.68629 30 5 27.3137 5 24V5Z",fill:"url(#paint1_radial_103584_148416)"}),c.createElement("path",{d:"M5.5 5C5.5 3.61929 6.61929 2.5 8 2.5H21C24.0376 2.5 26.5 4.96243 26.5 8V27C26.5 28.3807 25.3807 29.5 24 29.5H11C7.96243 29.5 5.5 27.0376 5.5 24V5Z",stroke:"url(#paint2_linear_103584_148416)",strokeLinecap:"round",strokeDasharray:"4 3"}),c.createElement("path",{d:"M22 17V22.5312C21.9998 23.3423 21.3423 23.9998 20.5312 24H15V21C15 19.1461 13.7386 17.5873 12.0273 17.1338L15.5713 13L22 17Z",fill:"url(#paint3_radial_103584_148416)"}),c.createElement("path",{d:"M22 17.0312C21.9998 17.8423 21.3423 18.4998 20.5312 18.5H14.1211C13.388 17.586 12.2628 17 11 17H10V14.6992C10 13.6604 10.8391 12.8158 11.8779 12.8096L20.7334 12.7568L22 12V17.0312Z",fill:"url(#paint4_linear_103584_148416)"}),c.createElement("path",{d:"M22 17.0312C21.9998 17.8423 21.3423 18.4998 20.5312 18.5H14.1211C13.388 17.586 12.2628 17 11 17H10V14.6992C10 13.6604 10.8391 12.8158 11.8779 12.8096L20.7334 12.7568L22 12V17.0312Z",fill:"url(#paint5_radial_103584_148416)",fillOpacity:.6}),c.createElement("path",{d:"M22 17.0312C21.9998 17.8423 21.3423 18.4998 20.5312 18.5H14.1211C13.388 17.586 12.2628 17 11 17H10V14.6992C10 13.6604 10.8391 12.8158 11.8779 12.8096L20.7334 12.7568L22 12V17.0312Z",fill:"url(#paint6_radial_103584_148416)",fillOpacity:.1}),c.createElement("path",{d:"M20.5312 8C21.3423 8.00021 21.9998 8.65767 22 9.46875V12.0312C21.9998 12.8423 21.3423 13.4998 20.5312 13.5H12.4551C11.0993 13.5 10 14.5993 10 15.9551V10.5186C10 9.12762 11.1276 8 12.5186 8H20.5312Z",fill:"url(#paint7_linear_103584_148416)"}),c.createElement("path",{d:"M20.5312 8C21.3423 8.00021 21.9998 8.65767 22 9.46875V12.0312C21.9998 12.8423 21.3423 13.4998 20.5312 13.5H12.4551C11.0993 13.5 10 14.5993 10 15.9551V10.5186C10 9.12762 11.1276 8 12.5186 8H20.5312Z",fill:"url(#paint8_radial_103584_148416)",fillOpacity:.8}),c.createElement("rect",{x:1,y:18,width:13,height:13,rx:3,fill:"url(#paint9_radial_103584_148416)"}),c.createElement("rect",{x:1,y:18,width:13,height:13,rx:3,fill:"url(#paint10_radial_103584_148416)",fillOpacity:.65}),c.createElement("path",{d:"M11.6998 21L10.1921 27.9992L8.38988 28L7.4998 23.8L6.56805 28H4.74863L3.2998 21.0008H4.78584L5.6798 25.62L6.56805 21.0008H8.38988L9.3198 25.62L10.1921 21.0008L11.6998 21Z",fill:"white"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_103584_148416",x1:11.1111,y1:2,x2:15.5764,y2:30.0674,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EBEBEB"})),c.createElement("radialGradient",{id:"paint1_radial_103584_148416",cx:0,cy:0,r:1,gradientTransform:"matrix(11.6111 22.1667 -17.4167 8.3125 12.0278 9.29167)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.177083,stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EFEFEF"})),c.createElement("linearGradient",{id:"paint2_linear_103584_148416",x1:12.2813,y1:2.5,x2:16.9026,y2:29.4578,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#BBBBBB"}),c.createElement("stop",{offset:1,stopColor:"#888888"})),c.createElement("radialGradient",{id:"paint3_radial_103584_148416",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.4159 23.9997) scale(27.5042 8.52474)"},c.createElement("stop",{offset:.180414,stopColor:"#1657F4"}),c.createElement("stop",{offset:.574542,stopColor:"#0036C4"})),c.createElement("linearGradient",{id:"paint4_linear_103584_148416",x1:10.1071,y1:21.0936,x2:19.1739,y2:21.0936,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#66C0FF"}),c.createElement("stop",{offset:.25606,stopColor:"#0094F0"})),c.createElement("radialGradient",{id:"paint5_radial_103584_148416",cx:0,cy:0,r:1,gradientTransform:"matrix(-7.98381 15.2097 -17.5489 -41.5814 21.9464 13.7445)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.140259,stopColor:"#D471FF"}),c.createElement("stop",{offset:.830508,stopColor:"#509DF5",stopOpacity:0})),c.createElement("radialGradient",{id:"paint6_radial_103584_148416",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(20.2144 24.1169) rotate(90) scale(13.3025 40.1142)"},c.createElement("stop",{offset:.283333,stopColor:"#4F006F",stopOpacity:0}),c.createElement("stop",{offset:1,stopColor:"#4F006F"})),c.createElement("linearGradient",{id:"paint7_linear_103584_148416",x1:10.1071,y1:12.852,x2:21.9438,y2:13.0288,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#9DEAFF"}),c.createElement("stop",{offset:.201276,stopColor:"#3BD5FF"})),c.createElement("radialGradient",{id:"paint8_radial_103584_148416",cx:0,cy:0,r:1,gradientTransform:"matrix(-11.335 2.92732 -7.10275 -29.8256 21.9464 9.17977)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.0606583,stopColor:"#E4A7FE"}),c.createElement("stop",{offset:.538869,stopColor:"#E4A7FE",stopOpacity:0})),c.createElement("radialGradient",{id:"paint9_radial_103584_148416",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(1 18) rotate(45) scale(18.3848)"},c.createElement("stop",{offset:.0811439,stopColor:"#367AF2"}),c.createElement("stop",{offset:.871875,stopColor:"#001A8F"})),c.createElement("radialGradient",{id:"paint10_radial_103584_148416",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7.5 25.8) rotate(90) scale(9.1 10.3715)"},c.createElement("stop",{offset:.586954,stopColor:"#2763E5",stopOpacity:0}),c.createElement("stop",{offset:.973806,stopColor:"#58AAFE"})))),x1e=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M2 8C2 6.34315 3.34315 5 5 5H24C27.3137 5 30 7.68629 30 11V24C30 25.6569 28.6569 27 27 27H8C4.68629 27 2 24.3137 2 21V8Z",fill:"url(#paint0_linear_103584_148987)"}),c.createElement("path",{d:"M3 8C3 6.89543 3.89543 6 5 6H24C26.7614 6 29 8.23858 29 11V24C29 25.1046 28.1046 26 27 26H8C5.23858 26 3 23.7614 3 21V8Z",fill:"url(#paint1_linear_103584_148987)"}),c.createElement("path",{d:"M3 8C3 6.89543 3.89543 6 5 6H24C26.7614 6 29 8.23858 29 11V24C29 25.1046 28.1046 26 27 26H8C5.23858 26 3 23.7614 3 21V8Z",fill:"url(#paint2_radial_103584_148987)"}),c.createElement("path",{d:"M22 22.75C22 23.4404 21.4404 24 20.75 24H15V21C15 18.7909 13.2091 17 11 17H10V13.875C10 12.8395 10.8395 12 11.875 12H22V22.75Z",fill:"url(#paint3_radial_103584_148987)"}),c.createElement("path",{d:"M22 22.75C22 23.4404 21.4404 24 20.75 24H15V21C15 18.7909 13.2091 17 11 17H10V13.875C10 12.8395 10.8395 12 11.875 12H22V22.75Z",fill:"url(#paint4_radial_103584_148987)",fillOpacity:.7}),c.createElement("path",{d:"M17.248 14C16.5589 14 16 14.5589 16 15.248V17.2471C16 17.9385 15.4385 18.4986 14.7471 18.4971L14.1172 18.4951C13.384 17.5839 12.2606 17 11 17H10V15.875C10 14.8395 10.8395 14 11.875 14H17.248Z",fill:"url(#paint5_linear_103584_148987)"}),c.createElement("path",{d:"M17.248 14C16.5589 14 16 14.5589 16 15.248V17.2471C16 17.9385 15.4385 18.4986 14.7471 18.4971L14.1172 18.4951C13.384 17.5839 12.2606 17 11 17H10V15.875C10 14.8395 10.8395 14 11.875 14H17.248Z",fill:"url(#paint6_linear_103584_148987)",fillOpacity:.3}),c.createElement("path",{d:"M17.5 14H12.3438C11.0493 14 10 15.0493 10 16.3438V11.5C10 10.1193 11.1193 9 12.5 9H17.5V14Z",fill:"url(#paint7_linear_103584_148987)"}),c.createElement("path",{d:"M17.5 14H12.3438C11.0493 14 10 15.0493 10 16.3438V11.5C10 10.1193 11.1193 9 12.5 9H17.5V14Z",fill:"url(#paint8_radial_103584_148987)"}),c.createElement("path",{d:"M17.5 14H12.3438C11.0493 14 10 15.0493 10 16.3438V11.5C10 10.1193 11.1193 9 12.5 9H17.5V14Z",fill:"url(#paint9_linear_103584_148987)"}),c.createElement("path",{d:"M22 10.25C22 9.55964 21.4404 9 20.75 9H17.25C16.5596 9 16 9.55964 16 10.25V12.75C16 13.4404 16.5596 14 17.25 14H20.75C21.4404 14 22 13.4404 22 12.75V10.25Z",fill:"url(#paint10_radial_103584_148987)"}),c.createElement("rect",{x:1,y:18,width:13,height:13,rx:3,fill:"url(#paint11_radial_103584_148987)"}),c.createElement("rect",{x:1,y:18,width:13,height:13,rx:3,fill:"url(#paint12_radial_103584_148987)",fillOpacity:.3}),c.createElement("path",{d:"M10.7227 28H8.83301L7.64648 25.7692C7.60417 25.6911 7.57161 25.6292 7.54883 25.5837C7.5293 25.5349 7.50814 25.4795 7.48535 25.4177H7.46582C7.43652 25.4958 7.40885 25.5593 7.38281 25.6081C7.35677 25.6569 7.32585 25.7171 7.29004 25.7887L6.05957 28H4.27734L6.41602 24.4951L4.42383 21H6.28906L7.34375 22.9916C7.38607 23.073 7.42188 23.1446 7.45117 23.2064C7.48372 23.265 7.51628 23.335 7.54883 23.4163H7.56836C7.61393 23.3219 7.64974 23.2471 7.67578 23.1918C7.70508 23.1364 7.74414 23.0632 7.79297 22.9721L8.88672 21H10.6641L8.64258 24.4414L10.7227 28Z",fill:"white"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_103584_148987",x1:11.0417,y1:5,x2:13.3847,y2:27.3656,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#BBBBBB"}),c.createElement("stop",{offset:1,stopColor:"#888888"})),c.createElement("linearGradient",{id:"paint1_linear_103584_148987",x1:10.2222,y1:6,x2:12.1806,y2:26.3672,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EBEBEB"})),c.createElement("radialGradient",{id:"paint2_radial_103584_148987",cx:0,cy:0,r:1,gradientTransform:"matrix(13.7222 15.8333 -20.5833 5.9375 11.3056 11.2083)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.177083,stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EFEFEF"})),c.createElement("radialGradient",{id:"paint3_radial_103584_148987",cx:0,cy:0,r:1,gradientTransform:"matrix(-11.3333 -12.3333 9.54948 -8.77158 22 25)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.0647233,stopColor:"#379539"}),c.createElement("stop",{offset:.422149,stopColor:"#297C2D"}),c.createElement("stop",{offset:.703448,stopColor:"#15561C"})),c.createElement("radialGradient",{id:"paint4_radial_103584_148987",cx:0,cy:0,r:1,gradientTransform:"matrix(-4.79167 -4.79167 3.71016 -3.70864 13.6667 16.3333)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#073B10"}),c.createElement("stop",{offset:.992234,stopColor:"#084A13",stopOpacity:0})),c.createElement("linearGradient",{id:"paint5_linear_103584_148987",x1:8.0774,y1:19.6792,x2:15.7988,y2:19.6792,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#52D17C"}),c.createElement("stop",{offset:.328512,stopColor:"#4AA647"})),c.createElement("linearGradient",{id:"paint6_linear_103584_148987",x1:15.6393,y1:14,x2:15.6393,y2:21.8896,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#29852F"}),c.createElement("stop",{offset:.499968,stopColor:"#4AA647",stopOpacity:0})),c.createElement("linearGradient",{id:"paint7_linear_103584_148987",x1:10.2763,y1:17.7979,x2:19.2103,y2:12.4439,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#66D052"}),c.createElement("stop",{offset:1,stopColor:"#85E972"})),c.createElement("radialGradient",{id:"paint8_radial_103584_148987",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(17.23 13.6212) rotate(-180) scale(3.75784 11.5142)"},c.createElement("stop",{offset:.292495,stopColor:"#4EB43B"}),c.createElement("stop",{offset:1,stopColor:"#72CC61",stopOpacity:0})),c.createElement("linearGradient",{id:"paint9_linear_103584_148987",x1:13.3811,y1:14.0608,x2:10,y2:14.0608,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.183694,stopColor:"#C0E075",stopOpacity:0}),c.createElement("stop",{offset:1,stopColor:"#D1EB95"})),c.createElement("radialGradient",{id:"paint10_radial_103584_148987",cx:0,cy:0,r:1,gradientTransform:"matrix(-5.96857 -5.69975 4.89508 -6.9497 21.9686 14.6997)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.439983,stopColor:"#79E96D"}),c.createElement("stop",{offset:1,stopColor:"#D0EB76"})),c.createElement("radialGradient",{id:"paint11_radial_103584_148987",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(1 18) rotate(45) scale(18.3848 52.3364)"},c.createElement("stop",{stopColor:"#20A85E"}),c.createElement("stop",{offset:.94375,stopColor:"#09442A"})),c.createElement("radialGradient",{id:"paint12_radial_103584_148987",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7.5 25.8) rotate(90) scale(9.1 10.4813)"},c.createElement("stop",{offset:.580357,stopColor:"#33A662",stopOpacity:0}),c.createElement("stop",{offset:.973806,stopColor:"#98F0B0"})))),S1e=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M5 5C5 3.34315 6.34315 2 8 2H21C24.3137 2 27 4.68629 27 8V27C27 28.6569 25.6569 30 24 30H11C7.68629 30 5 27.3137 5 24V5Z",fill:"url(#paint0_linear_103584_156665)"}),c.createElement("path",{d:"M6 5C6 3.89543 6.89543 3 8 3H21C23.7614 3 26 5.23858 26 8V27C26 28.1046 25.1046 29 24 29H11C8.23858 29 6 26.7614 6 24V5Z",fill:"url(#paint1_linear_103584_156665)"}),c.createElement("path",{d:"M6 5C6 3.89543 6.89543 3 8 3H21C23.7614 3 26 5.23858 26 8V27C26 28.1046 25.1046 29 24 29H11C8.23858 29 6 26.7614 6 24V5Z",fill:"url(#paint2_radial_103584_156665)"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_103584_156665",x1:12.1042,y1:2,x2:16.851,y2:29.9723,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#BBBBBB"}),c.createElement("stop",{offset:1,stopColor:"#888888"})),c.createElement("linearGradient",{id:"paint1_linear_103584_156665",x1:11.5556,y1:3,x2:15.7862,y2:29.0347,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EBEBEB"})),c.createElement("radialGradient",{id:"paint2_radial_103584_156665",cx:0,cy:0,r:1,gradientTransform:"matrix(10.5556 20.5833 -15.8333 7.71875 12.3889 9.77083)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.177083,stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EFEFEF"})))),E1e=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M2 8C2 6.34315 3.34315 5 5 5H24C27.3137 5 30 7.68629 30 11V24C30 25.6569 28.6569 27 27 27H8C4.68629 27 2 24.3137 2 21V8Z",fill:"url(#paint0_linear_103584_157892)"}),c.createElement("path",{d:"M3 8C3 6.89543 3.89543 6 5 6H24C26.7614 6 29 8.23858 29 11V24C29 25.1046 28.1046 26 27 26H8C5.23858 26 3 23.7614 3 21V8Z",fill:"url(#paint1_linear_103584_157892)"}),c.createElement("path",{d:"M3 8C3 6.89543 3.89543 6 5 6H24C26.7614 6 29 8.23858 29 11V24C29 25.1046 28.1046 26 27 26H8C5.23858 26 3 23.7614 3 21V8Z",fill:"url(#paint2_radial_103584_157892)"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C19.866 9 23 12.134 23 16C23 19.866 19.866 23 16 23C12.134 23 9 19.866 9 16C9 12.134 12.134 9 16 9ZM17.7096 10.2471C19.1936 10.6874 20.4373 11.6863 21.1973 13H18.7113C18.4854 11.8906 18.1382 10.9418 17.7096 10.2471ZM17.7096 21.7529C19.1936 21.3126 20.4373 20.3137 21.1973 19H18.7113C18.4854 20.1094 18.1382 21.0582 17.7096 21.7529ZM17.6889 19C17.5588 19.586 17.3931 20.1104 17.2022 20.5558C16.9625 21.1151 16.7028 21.5038 16.4653 21.7382C16.2321 21.9683 16.076 22 16 22C15.924 22 15.7679 21.9683 15.5347 21.7382C15.2972 21.5038 15.0375 21.1151 14.7978 20.5558C14.6069 20.1104 14.4412 19.586 14.3111 19H17.6889ZM18.8758 18H21.6586C21.8797 17.3744 22 16.7013 22 16C22 15.2987 21.8797 14.6256 21.6586 14H18.8758C18.9566 14.6337 19 15.305 19 16C19 16.695 18.9566 17.3663 18.8758 18ZM17.8671 14C17.9526 14.6235 18 15.2954 18 16C18 16.7046 17.9526 17.3765 17.8671 18H14.1329C14.0474 17.3765 14 16.7046 14 16C14 15.2954 14.0474 14.6235 14.1329 14H17.8671ZM17.6889 13C17.5588 12.414 17.3931 11.8896 17.2022 11.4442C16.9625 10.8849 16.7028 10.4962 16.4653 10.2618C16.2321 10.0317 16.076 10 16 10C15.924 10 15.7679 10.0317 15.5347 10.2618C15.2972 10.4962 15.0375 10.8849 14.7978 11.4442C14.6069 11.8896 14.4412 12.414 14.3111 13H17.6889ZM13.2887 13C13.5146 11.8906 13.8618 10.9418 14.2904 10.2471C12.8064 10.6874 11.5627 11.6863 10.8027 13H13.2887ZM13.1242 14H10.3414C10.1203 14.6256 10 15.2987 10 16C10 16.7013 10.1203 17.3744 10.3414 18H13.1242C13.0434 17.3663 13 16.695 13 16C13 15.305 13.0434 14.6337 13.1242 14ZM13.2887 19H10.8027C11.5627 20.3137 12.8064 21.3126 14.2904 21.7529C13.8618 21.0582 13.5146 20.1094 13.2887 19Z",fill:"url(#paint3_linear_103584_157892)"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_103584_157892",x1:11.0417,y1:5,x2:13.3847,y2:27.3656,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#BBBBBB"}),c.createElement("stop",{offset:1,stopColor:"#888888"})),c.createElement("linearGradient",{id:"paint1_linear_103584_157892",x1:10.2222,y1:6,x2:12.1806,y2:26.3672,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EBEBEB"})),c.createElement("radialGradient",{id:"paint2_radial_103584_157892",cx:0,cy:0,r:1,gradientTransform:"matrix(13.7222 15.8333 -20.5833 5.9375 11.3056 11.2083)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.177083,stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EFEFEF"})),c.createElement("linearGradient",{id:"paint3_linear_103584_157892",x1:13.2955,y1:10.75,x2:17.3252,y2:22.8327,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:1e-4,stopColor:"#597493"}),c.createElement("stop",{offset:1,stopColor:"#0F2F56"})))),w1e=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M11 2C9.34315 2 8 3.34315 8 5C6.34315 5 5 6.34315 5 8V21C5 25.9706 9.02944 30 14 30H21C22.6569 30 24 28.6569 24 27C25.6569 27 27 25.6569 27 24V8C27 4.68629 24.3137 2 21 2H11Z",fill:"url(#paint0_linear_103584_152224)"}),c.createElement("path",{d:"M8 21C8 24.3137 10.6863 27 14 27H23C23 28.1046 22.1046 29 21 29H14C9.58172 29 6 25.4183 6 21V8C6 6.89543 6.89543 6 8 6V21ZM21 3C23.7614 3 26 5.23858 26 8V24C26 25.1046 25.1046 26 24 26H14C11.2386 26 9 23.7614 9 21V5C9 3.89543 9.89543 3 11 3H21Z",fill:"url(#paint1_linear_103584_152224)"}),c.createElement("path",{d:"M8 21C8 24.3137 10.6863 27 14 27H23C23 28.1046 22.1046 29 21 29H14C9.58172 29 6 25.4183 6 21V8C6 6.89543 6.89543 6 8 6V21ZM21 3C23.7614 3 26 5.23858 26 8V24C26 25.1046 25.1046 26 24 26H14C11.2386 26 9 23.7614 9 21V5C9 3.89543 9.89543 3 11 3H21Z",fill:"url(#paint2_radial_103584_152224)"}),c.createElement("rect",{x:1,y:18,width:13,height:13,rx:3,fill:"url(#paint3_radial_103584_152224)"}),c.createElement("rect",{x:1,y:18,width:13,height:13,rx:3,fill:"url(#paint4_radial_103584_152224)",fillOpacity:.8}),c.createElement("path",{d:"M10.6494 28H9.05762L6.17188 23.6799C6.09049 23.5497 6.02214 23.4375 5.9668 23.3431C5.91146 23.2455 5.86914 23.1641 5.83984 23.099H5.82031C5.82682 23.2227 5.83171 23.3789 5.83496 23.5676C5.83822 23.7564 5.83984 23.9777 5.83984 24.2315V28H4.35059V21H6.0498L8.82812 25.1834C8.88672 25.2778 8.94369 25.3738 8.99902 25.4714C9.05762 25.5658 9.11133 25.6602 9.16016 25.7545H9.17969C9.17318 25.6732 9.16829 25.5528 9.16504 25.3933C9.16178 25.2306 9.16016 25.0305 9.16016 24.7929V21H10.6494V28Z",fill:"white"}),c.createElement("path",{d:"M23 20.5449C23 21.3484 22.3484 22.0002 21.5449 22L15 21.998V21C15 19.173 13.7749 17.6327 12.1016 17.1543C12.4342 15.9139 13.5638 15 14.9092 15H23V20.5449Z",fill:"url(#paint5_radial_103584_152224)"}),c.createElement("path",{d:"M17 10.7188L23 10.5V15.0455C23 15.8488 22.3488 16.5 21.5455 16.5H17V10.7188Z",fill:"url(#paint6_linear_103584_152224)"}),c.createElement("path",{d:"M21.4443 7C22.3034 7.00009 23 7.69661 23 8.55566V10.9443C23 11.8034 22.3034 12.5 21.4443 12.5H20.5557C19.6966 12.5 19 13.1966 19 14.0557V14.9443C19 15.8034 18.3034 16.5 17.4443 16.5H14.7471C13.9465 16.5 13.2272 16.8435 12.7246 17.3896C12.4935 17.2791 12.2501 17.1899 11.9971 17.125L11.999 9.74902C11.9996 8.23067 13.2316 7.00004 14.75 7H21.4443Z",fill:"url(#paint7_linear_103584_152224)"}),c.createElement("path",{d:"M21.4443 7C22.3034 7.00009 23 7.69661 23 8.55566V10.9443C23 11.8034 22.3034 12.5 21.4443 12.5H20.5557C19.6966 12.5 19 13.1966 19 14.0557V14.9443C19 15.8034 18.3034 16.5 17.4443 16.5H14.7471C13.9465 16.5 13.2272 16.8435 12.7246 17.3896C12.4935 17.2791 12.2501 17.1899 11.9971 17.125L11.999 9.74902C11.9996 8.23067 13.2316 7.00004 14.75 7H21.4443Z",fill:"url(#paint8_radial_103584_152224)"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_103584_152224",x1:12.1042,y1:2,x2:16.851,y2:29.9723,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#BBBBBB"}),c.createElement("stop",{offset:1,stopColor:"#888888"})),c.createElement("linearGradient",{id:"paint1_linear_103584_152224",x1:11.5556,y1:3,x2:15.7862,y2:29.0347,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EBEBEB"})),c.createElement("radialGradient",{id:"paint2_radial_103584_152224",cx:0,cy:0,r:1,gradientTransform:"matrix(10.5556 20.5833 -15.8333 7.71875 12.3889 9.77083)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.177083,stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EFEFEF"})),c.createElement("radialGradient",{id:"paint3_radial_103584_152224",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(1 18) rotate(45) scale(18.3848)"},c.createElement("stop",{offset:.071875,stopColor:"#AC13EB"}),c.createElement("stop",{offset:.878742,stopColor:"#580087"})),c.createElement("radialGradient",{id:"paint4_radial_103584_152224",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7.5 25.8) rotate(90) scale(9.1 10.4813)"},c.createElement("stop",{offset:.584821,stopColor:"#841FB0",stopOpacity:0}),c.createElement("stop",{offset:.968712,stopColor:"#D373FC"})),c.createElement("radialGradient",{id:"paint5_radial_103584_152224",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(23.621 23) scale(20.6151 9.35577)"},c.createElement("stop",{offset:.158518,stopColor:"#A931D8"}),c.createElement("stop",{offset:.565784,stopColor:"#6E1996"})),c.createElement("linearGradient",{id:"paint6_linear_103584_152224",x1:25.6934,y1:14.3288,x2:18.23,y2:10.6334,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.216532,stopColor:"#CA59F7"}),c.createElement("stop",{offset:.888362,stopColor:"#691A90"})),c.createElement("linearGradient",{id:"paint7_linear_103584_152224",x1:24.5748,y1:10.4292,x2:11.0028,y2:10.4292,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.807408,stopColor:"#DE66FF"}),c.createElement("stop",{offset:1,stopColor:"#FCB1FF"})),c.createElement("radialGradient",{id:"paint8_radial_103584_152224",cx:0,cy:0,r:1,gradientTransform:"matrix(-6.53498 10.8766 -19.1742 -11.0291 24.9349 6.20395)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#FFC7A3"}),c.createElement("stop",{offset:.830508,stopColor:"#DE67FD",stopOpacity:0})))),I1e=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M5 5C5 3.34315 6.34315 2 8 2H21C24.3137 2 27 4.68629 27 8V27C27 28.6569 25.6569 30 24 30H11C7.68629 30 5 27.3137 5 24V5Z",fill:"url(#paint0_linear_103584_151909)"}),c.createElement("path",{d:"M6 5C6 3.89543 6.89543 3 8 3H21C23.7614 3 26 5.23858 26 8V27C26 28.1046 25.1046 29 24 29H11C8.23858 29 6 26.7614 6 24V5Z",fill:"url(#paint1_linear_103584_151909)"}),c.createElement("path",{d:"M6 5C6 3.89543 6.89543 3 8 3H21C23.7614 3 26 5.23858 26 8V27C26 28.1046 25.1046 29 24 29H11C8.23858 29 6 26.7614 6 24V5Z",fill:"url(#paint2_radial_103584_151909)"}),c.createElement("path",{d:"M21.5 23C21.7761 23 22 23.2239 22 23.5C22 23.7761 21.7761 24 21.5 24H10.5C10.2239 24 10 23.7761 10 23.5C10 23.2239 10.2239 23 10.5 23H21.5Z",fill:"url(#paint3_linear_103584_151909)"}),c.createElement("path",{d:"M21.5 20C21.7761 20 22 20.2239 22 20.5C22 20.7761 21.7761 21 21.5 21H10.5C10.2239 21 10 20.7761 10 20.5C10 20.2239 10.2239 20 10.5 20H21.5Z",fill:"url(#paint4_linear_103584_151909)"}),c.createElement("path",{d:"M21.5 17C21.7761 17 22 17.2239 22 17.5C22 17.7761 21.7761 18 21.5 18H10.5C10.2239 18 10 17.7761 10 17.5C10 17.2239 10.2239 17 10.5 17H21.5Z",fill:"url(#paint5_linear_103584_151909)"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 8C11.7466 8 12.1055 8.06974 12.417 8.29395C12.7541 8.53664 13 8.93704 13 9.5C13 10.063 12.7541 10.4634 12.417 10.7061C12.1055 10.9303 11.7466 11 11.5 11H11V12.5C11 12.7761 10.7761 13 10.5 13C10.2239 13 10 12.7761 10 12.5V8.5L10.0098 8.39941C10.0563 8.17145 10.2583 8 10.5 8H11.5ZM11 10H11.5C11.5866 10 11.7279 9.97017 11.833 9.89453C11.9126 9.83723 12 9.73704 12 9.5C12 9.26296 11.9126 9.16277 11.833 9.10547C11.7279 9.02983 11.5866 9 11.5 9H11V10Z",fill:"#D20112"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5 8C16.0928 8 16.7176 8.17579 17.2021 8.59473C17.6985 9.02399 18 9.66792 18 10.5C18 11.3321 17.6985 11.976 17.2021 12.4053C16.7176 12.8242 16.0928 13 15.5 13H14.5C14.2239 13 14 12.7761 14 12.5V8.5L14.0098 8.39941C14.0563 8.17145 14.2583 8 14.5 8H15.5ZM15 12H15.5C15.9071 12 16.2824 11.8788 16.5479 11.6494C16.8014 11.4302 17 11.074 17 10.5C17 9.92596 16.8014 9.56976 16.5479 9.35059C16.2824 9.12122 15.9071 9 15.5 9H15V12Z",fill:"#D20112"}),c.createElement("path",{d:"M21.5 8C21.7761 8 22 8.22386 22 8.5C22 8.77614 21.7761 9 21.5 9H20V10H21C21.2761 10 21.5 10.2239 21.5 10.5C21.5 10.7761 21.2761 11 21 11H20V12.5C20 12.7761 19.7761 13 19.5 13C19.2239 13 19 12.7761 19 12.5V8.5L19.0098 8.39941C19.0563 8.17145 19.2583 8 19.5 8H21.5Z",fill:"#D20112"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_103584_151909",x1:12.1042,y1:2,x2:16.851,y2:29.9723,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#BBBBBB"}),c.createElement("stop",{offset:1,stopColor:"#888888"})),c.createElement("linearGradient",{id:"paint1_linear_103584_151909",x1:11.5556,y1:3,x2:15.7862,y2:29.0347,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EBEBEB"})),c.createElement("radialGradient",{id:"paint2_radial_103584_151909",cx:0,cy:0,r:1,gradientTransform:"matrix(10.5556 20.5833 -15.8333 7.71875 12.3889 9.77083)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.177083,stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EFEFEF"})),c.createElement("linearGradient",{id:"paint3_linear_103584_151909",x1:13.875,y1:17,x2:14.4312,y2:24.1512,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#898989"}),c.createElement("stop",{offset:1,stopColor:"#636262"})),c.createElement("linearGradient",{id:"paint4_linear_103584_151909",x1:13.875,y1:17,x2:14.4312,y2:24.1512,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#898989"}),c.createElement("stop",{offset:1,stopColor:"#636262"})),c.createElement("linearGradient",{id:"paint5_linear_103584_151909",x1:13.875,y1:17,x2:14.4312,y2:24.1512,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#898989"}),c.createElement("stop",{offset:1,stopColor:"#636262"})))),_1e=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M3 6C3 4.34315 4.34315 3 6 3H23C26.3137 3 29 5.68629 29 9V26C29 27.6569 27.6569 29 26 29H9C5.68629 29 3 26.3137 3 23V6Z",fill:"url(#paint0_linear_103584_156952)"}),c.createElement("path",{d:"M4 6C4 4.89543 4.89543 4 6 4H23C25.7614 4 28 6.23858 28 9V26C28 27.1046 27.1046 28 26 28H9C6.23858 28 4 25.7614 4 23V6Z",fill:"url(#paint1_linear_103584_156952)"}),c.createElement("path",{d:"M4 6C4 4.89543 4.89543 4 6 4H23C25.7614 4 28 6.23858 28 9V26C28 27.1046 27.1046 28 26 28H9C6.23858 28 4 25.7614 4 23V6Z",fill:"url(#paint2_radial_103584_156952)"}),c.createElement("path",{d:"M14.9394 15.0605L9.56142 20.4392C8.61656 21.3842 9.28583 22.9998 10.6221 22.9998H21.3795C22.7159 22.9998 23.3851 21.384 22.4401 20.439L17.0608 15.0604C16.4749 14.4746 15.5252 14.4747 14.9394 15.0605Z",fill:"url(#paint3_linear_103584_156952)"}),c.createElement("circle",{cx:21,cy:11,r:2,fill:"url(#paint4_linear_103584_156952)"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_103584_156952",x1:11.3958,y1:3,x2:14.8966,y2:29.2555,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#BBBBBB"}),c.createElement("stop",{offset:1,stopColor:"#888888"})),c.createElement("linearGradient",{id:"paint1_linear_103584_156952",x1:10.6667,y1:4,x2:13.7026,y2:28.2872,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EBEBEB"})),c.createElement("radialGradient",{id:"paint2_radial_103584_156952",cx:0,cy:0,r:1,gradientTransform:"matrix(12.6667 19 -19 7.125 11.6667 10.25)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.177083,stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EFEFEF"})),c.createElement("linearGradient",{id:"paint3_linear_103584_156952",x1:9,y1:11.4998,x2:15.5376,y2:29.6106,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:1e-4,stopColor:"#597493"}),c.createElement("stop",{offset:1,stopColor:"#0F2F56"})),c.createElement("linearGradient",{id:"paint4_linear_103584_156952",x1:19,y1:6.5,x2:23.3454,y2:14.8196,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:1e-4,stopColor:"#597493"}),c.createElement("stop",{offset:1,stopColor:"#0F2F56"})))),T1e=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M2 8C2 6.34315 3.34315 5 5 5H24C27.3137 5 30 7.68629 30 11V24C30 25.6569 28.6569 27 27 27H8C4.68629 27 2 24.3137 2 21V8Z",fill:"url(#paint0_linear_103584_150141)"}),c.createElement("path",{d:"M2 8C2 6.34315 3.34315 5 5 5H24C27.3137 5 30 7.68629 30 11V24C30 25.6569 28.6569 27 27 27H8C4.68629 27 2 24.3137 2 21V8Z",fill:"url(#paint1_radial_103584_150141)"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 6C3.89543 6 3 6.89543 3 8V9.85714C3 10.1333 2.77614 10.3571 2.5 10.3571C2.22386 10.3571 2 10.1333 2 9.85714V8C2 6.34315 3.34315 5 5 5H6.80952C7.08567 5 7.30952 5.22386 7.30952 5.5C7.30952 5.77614 7.08567 6 6.80952 6H5ZM9.02381 5.5C9.02381 5.22386 9.24767 5 9.52381 5H13.1429C13.419 5 13.6429 5.22386 13.6429 5.5C13.6429 5.77614 13.419 6 13.1429 6H9.52381C9.24767 6 9.02381 5.77614 9.02381 5.5ZM15.3571 5.5C15.3571 5.22386 15.581 5 15.8571 5H19.4762C19.7523 5 19.9762 5.22386 19.9762 5.5C19.9762 5.77614 19.7523 6 19.4762 6H15.8571C15.581 6 15.3571 5.77614 15.3571 5.5ZM21.6905 5.5C21.6905 5.22386 21.9143 5 22.1905 5H24C24.9321 5 25.8159 5.21289 26.6041 5.59317C26.8528 5.71316 26.9572 6.01205 26.8372 6.26076C26.7172 6.50947 26.4183 6.61382 26.1696 6.49383C25.5139 6.17753 24.7784 6 24 6H22.1905C21.9143 6 21.6905 5.77614 21.6905 5.5ZM28.7392 8.16283C28.988 8.04284 29.2868 8.14719 29.4068 8.3959C29.7871 9.18414 30 10.0679 30 11V12.8571C30 13.1333 29.7761 13.3571 29.5 13.3571C29.2239 13.3571 29 13.1333 29 12.8571V11C29 10.2216 28.8225 9.48606 28.5062 8.83042C28.3862 8.58171 28.4905 8.28282 28.7392 8.16283ZM2.5 12.1429C2.77614 12.1429 3 12.3667 3 12.6429V16.3571C3 16.6333 2.77614 16.8571 2.5 16.8571C2.22386 16.8571 2 16.6333 2 16.3571V12.6429C2 12.3667 2.22386 12.1429 2.5 12.1429ZM29.5 15.1429C29.7761 15.1429 30 15.3667 30 15.6429V19.3571C30 19.6333 29.7761 19.8571 29.5 19.8571C29.2239 19.8571 29 19.6333 29 19.3571V15.6429C29 15.3667 29.2239 15.1429 29.5 15.1429ZM2.5 18.6429C2.77614 18.6429 3 18.8667 3 19.1429V21C3 21.7784 3.17753 22.5139 3.49383 23.1696C3.61382 23.4183 3.50947 23.7172 3.26076 23.8372C3.01205 23.9572 2.71316 23.8528 2.59317 23.6041C2.21289 22.8159 2 21.9321 2 21V19.1429C2 18.8667 2.22386 18.6429 2.5 18.6429ZM29.5 21.6429C29.7761 21.6429 30 21.8667 30 22.1429V24C30 25.6569 28.6569 27 27 27H25.1905C24.9143 27 24.6905 26.7761 24.6905 26.5C24.6905 26.2239 24.9143 26 25.1905 26H27C28.1046 26 29 25.1046 29 24V22.1429C29 21.8667 29.2239 21.6429 29.5 21.6429ZM5.16283 25.7392C5.28282 25.4905 5.58171 25.3862 5.83042 25.5062C6.48606 25.8225 7.22159 26 8 26H9.80952C10.0857 26 10.3095 26.2239 10.3095 26.5C10.3095 26.7761 10.0857 27 9.80952 27H8C7.06791 27 6.18414 26.7871 5.3959 26.4068C5.14719 26.2868 5.04284 25.988 5.16283 25.7392ZM12.0238 26.5C12.0238 26.2239 12.2477 26 12.5238 26H16.1429C16.419 26 16.6429 26.2239 16.6429 26.5C16.6429 26.7761 16.419 27 16.1429 27H12.5238C12.2477 27 12.0238 26.7761 12.0238 26.5ZM18.3571 26.5C18.3571 26.2239 18.581 26 18.8571 26H22.4762C22.7523 26 22.9762 26.2239 22.9762 26.5C22.9762 26.7761 22.7523 27 22.4762 27H18.8571C18.581 27 18.3571 26.7761 18.3571 26.5Z",fill:"url(#paint2_linear_103584_150141)"}),c.createElement("path",{d:"M16 9C19.866 9 23 12.1346 23 16.001C22.9998 19.8672 19.8659 23.001 16 23.001C15.6604 23.001 15.3267 22.9755 15 22.9287V21C15 18.7909 13.2091 17 11 17H9.07227C9.02561 16.6736 9.00002 16.3402 9 16.001C9 12.1346 12.134 9 16 9Z",fill:"url(#paint3_linear_103584_150141)"}),c.createElement("path",{d:"M16 9C19.866 9 23 12.1346 23 16.001C22.9998 19.8672 19.8659 23.001 16 23.001C15.6604 23.001 15.3267 22.9755 15 22.9287V21C15 18.7909 13.2091 17 11 17H9.07227C9.02561 16.6736 9.00002 16.3402 9 16.001C9 12.1346 12.134 9 16 9Z",fill:"url(#paint4_radial_103584_150141)"}),c.createElement("path",{d:"M16 9C19.866 9 23 12.1346 23 16.001C22.9998 19.8672 19.8659 23.001 16 23.001C15.6604 23.001 15.3267 22.9755 15 22.9287V21C15 18.7909 13.2091 17 11 17H9.07227C9.02561 16.6736 9.00002 16.3402 9 16.001C9 12.1346 12.134 9 16 9Z",fill:"url(#paint5_radial_103584_150141)",fillOpacity:.5}),c.createElement("path",{d:"M16 9C19.866 9 23 12.1346 23 16.001C22.9999 17.2831 22.6525 18.4831 22.0508 19.5166L22.1621 19.2725C22.8546 17.7349 21.7302 15.9952 20.0439 15.9951H17.248C16.5554 15.995 15.9945 15.4329 15.9951 14.7402L15.9971 11.958C15.9983 10.2697 14.2553 9.14358 12.7168 9.83887L12.5098 9.93262C13.5373 9.34019 14.7287 9.00001 16 9Z",fill:"url(#paint6_radial_103584_150141)"}),c.createElement("path",{d:"M16 9C19.866 9 23 12.1346 23 16.001C22.9999 17.2831 22.6525 18.4831 22.0508 19.5166L22.1621 19.2725C22.8546 17.7349 21.7302 15.9952 20.0439 15.9951H17.248C16.5554 15.995 15.9945 15.4329 15.9951 14.7402L15.9971 11.958C15.9983 10.2697 14.2553 9.14358 12.7168 9.83887L12.5098 9.93262C13.5373 9.34019 14.7287 9.00001 16 9Z",fill:"url(#paint7_radial_103584_150141)"}),c.createElement("rect",{x:1,y:18,width:13,height:13,rx:3,fill:"url(#paint8_radial_103584_150141)"}),c.createElement("rect",{x:1,y:18,width:13,height:13,rx:3,fill:"url(#paint9_radial_103584_150141)",fillOpacity:.3}),c.createElement("path",{d:"M7.01855 25.7204V28H5.44141V21H7.87793C8.75033 21 9.41439 21.1904 9.87012 21.5711C10.3291 21.9519 10.5586 22.5165 10.5586 23.265C10.5586 24.0363 10.3014 24.6383 9.78711 25.0711C9.27604 25.504 8.58919 25.7204 7.72656 25.7204H7.01855ZM7.01855 22.2106V24.5098H7.67773C8.06836 24.5098 8.36947 24.4073 8.58105 24.2022C8.79264 23.9972 8.89844 23.7027 8.89844 23.3187C8.89844 22.964 8.79427 22.6906 8.58594 22.4986C8.38086 22.3066 8.08626 22.2106 7.70215 22.2106H7.01855Z",fill:"white"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_103584_150141",x1:9.77778,y1:5,x2:11.9773,y2:27.3951,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EBEBEB"})),c.createElement("radialGradient",{id:"paint1_radial_103584_150141",cx:0,cy:0,r:1,gradientTransform:"matrix(14.7778 17.4167 -22.1667 6.53125 10.9444 10.7292)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.177083,stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EFEFEF"})),c.createElement("linearGradient",{id:"paint2_linear_103584_150141",x1:11.2188,y1:5.5,x2:13.4332,y2:26.8537,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#BBBBBB"}),c.createElement("stop",{offset:1,stopColor:"#888888"})),c.createElement("linearGradient",{id:"paint3_linear_103584_150141",x1:15.1255,y1:8.5543,x2:6.54225,y2:16.9404,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.0582736,stopColor:"#FF7F48"}),c.createElement("stop",{offset:1,stopColor:"#E5495B"})),c.createElement("radialGradient",{id:"paint4_radial_103584_150141",cx:0,cy:0,r:1,gradientTransform:"matrix(-10.1505 9.93875 -17.0846 -16.7282 18.6769 13.0625)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.151523,stopColor:"#AA1D2D"}),c.createElement("stop",{offset:.380855,stopColor:"#D12B18",stopOpacity:.44}),c.createElement("stop",{offset:.601996,stopColor:"#FF3C00",stopOpacity:0})),c.createElement("radialGradient",{id:"paint5_radial_103584_150141",cx:0,cy:0,r:1,gradientTransform:"matrix(12.3042 -5.69055 10.5289 21.826 6.20639 21.6912)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.4067,stopColor:"#FF66FB"}),c.createElement("stop",{offset:1,stopColor:"#EA3D01",stopOpacity:0})),c.createElement("radialGradient",{id:"paint6_radial_103584_150141",cx:0,cy:0,r:1,gradientTransform:"matrix(6.39204 -7.32044 6.82218 5.68073 15.2277 16.9563)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#FD6EF9"}),c.createElement("stop",{offset:.637205,stopColor:"#FF9944"}),c.createElement("stop",{offset:.85186,stopColor:"#FCC479"})),c.createElement("radialGradient",{id:"paint7_radial_103584_150141",cx:0,cy:0,r:1,gradientTransform:"matrix(-0.722024 4.89412 -11.0683 -1.55717 14.5918 9.92427)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.144283,stopColor:"#FF8D13"}),c.createElement("stop",{offset:.537266,stopColor:"#FF7F29",stopOpacity:0})),c.createElement("radialGradient",{id:"paint8_radial_103584_150141",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(0.998413 18) rotate(45) scale(18.3848)"},c.createElement("stop",{stopColor:"#F8193E"}),c.createElement("stop",{offset:.939062,stopColor:"#920616"})),c.createElement("radialGradient",{id:"paint9_radial_103584_150141",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7.49841 25.8) rotate(90) scale(9.1 10.3594)"},c.createElement("stop",{offset:.575893,stopColor:"#FFB055",stopOpacity:0}),c.createElement("stop",{offset:.973806,stopColor:"#FFF2BE"})))),A1e=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M2 8C2 6.34315 3.34315 5 5 5H24C27.3137 5 30 7.68629 30 11V24C30 25.6569 28.6569 27 27 27H8C4.68629 27 2 24.3137 2 21V8Z",fill:"url(#paint0_linear_103584_150063)"}),c.createElement("path",{d:"M3 8C3 6.89543 3.89543 6 5 6H24C26.7614 6 29 8.23858 29 11V24C29 25.1046 28.1046 26 27 26H8C5.23858 26 3 23.7614 3 21V8Z",fill:"url(#paint1_linear_103584_150063)"}),c.createElement("path",{d:"M3 8C3 6.89543 3.89543 6 5 6H24C26.7614 6 29 8.23858 29 11V24C29 25.1046 28.1046 26 27 26H8C5.23858 26 3 23.7614 3 21V8Z",fill:"url(#paint2_radial_103584_150063)"}),c.createElement("path",{d:"M16 18C16.276 18.0002 16.5 18.224 16.5 18.5V22H18.5C18.776 22.0002 19 22.224 19 22.5C19 22.776 18.776 22.9998 18.5 23H15V22H15.5V18.5C15.5 18.2239 15.7239 18 16 18Z",fill:"url(#paint3_linear_103584_150063)"}),c.createElement("path",{d:"M22 17C22 18.1046 21.1046 19 20 19H14.4639C13.7722 17.8046 12.4804 17 11 17H10V10H22V17Z",fill:"url(#paint4_linear_103584_150063)"}),c.createElement("rect",{x:9,y:9,width:14,height:2,rx:1,fill:"url(#paint5_linear_103584_150063)"}),c.createElement("rect",{x:1,y:18,width:13,height:13,rx:3,fill:"url(#paint6_radial_103584_150063)"}),c.createElement("rect",{x:1,y:18,width:13,height:13,rx:3,fill:"url(#paint7_radial_103584_150063)",fillOpacity:.3}),c.createElement("path",{d:"M7.01855 25.7204V28H5.44141V21H7.87793C8.75033 21 9.41439 21.1904 9.87012 21.5711C10.3291 21.9519 10.5586 22.5165 10.5586 23.265C10.5586 24.0363 10.3014 24.6383 9.78711 25.0711C9.27604 25.504 8.58919 25.7204 7.72656 25.7204H7.01855ZM7.01855 22.2106V24.5098H7.67773C8.06836 24.5098 8.36947 24.4073 8.58105 24.2022C8.79264 23.9972 8.89844 23.7027 8.89844 23.3187C8.89844 22.964 8.79427 22.6906 8.58594 22.4986C8.38086 22.3066 8.08626 22.2106 7.70215 22.2106H7.01855Z",fill:"white"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_103584_150063",x1:11.0417,y1:5,x2:13.3847,y2:27.3656,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#BBBBBB"}),c.createElement("stop",{offset:1,stopColor:"#888888"})),c.createElement("linearGradient",{id:"paint1_linear_103584_150063",x1:10.2222,y1:6,x2:12.1806,y2:26.3672,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EBEBEB"})),c.createElement("radialGradient",{id:"paint2_radial_103584_150063",cx:0,cy:0,r:1,gradientTransform:"matrix(13.7222 15.8333 -20.5833 5.9375 11.3056 11.2083)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.177083,stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EFEFEF"})),c.createElement("linearGradient",{id:"paint3_linear_103584_150063",x1:6.50581,y1:9.0599,x2:8.82172,y2:27.9804,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.508018,stopColor:"#FA734C"}),c.createElement("stop",{offset:.725475,stopColor:"#E5495B"}),c.createElement("stop",{offset:.872732,stopColor:"#AA1D2D"})),c.createElement("linearGradient",{id:"paint4_linear_103584_150063",x1:20,y1:10,x2:16,y2:22.5,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.103189,stopColor:"#FFA05C"}),c.createElement("stop",{offset:.76658,stopColor:"#FDB567"})),c.createElement("linearGradient",{id:"paint5_linear_103584_150063",x1:14,y1:5,x2:16,y2:14,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.297917,stopColor:"#FF7F48"}),c.createElement("stop",{offset:.579167,stopColor:"#E5495B"}),c.createElement("stop",{offset:.889583,stopColor:"#AA1D2D"})),c.createElement("radialGradient",{id:"paint6_radial_103584_150063",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(0.998413 18) rotate(45) scale(18.3848)"},c.createElement("stop",{stopColor:"#F8193E"}),c.createElement("stop",{offset:.939062,stopColor:"#920616"})),c.createElement("radialGradient",{id:"paint7_radial_103584_150063",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7.49841 25.8) rotate(90) scale(9.1 10.3594)"},c.createElement("stop",{offset:.575893,stopColor:"#FFB055",stopOpacity:0}),c.createElement("stop",{offset:.973806,stopColor:"#FFF2BE"})))),k1e=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M2 8C2 6.34315 3.34315 5 5 5H24C27.3137 5 30 7.68629 30 11V24C30 25.6569 28.6569 27 27 27H8C4.68629 27 2 24.3137 2 21V8Z",fill:"url(#paint0_linear_103584_150212)"}),c.createElement("path",{d:"M3 8C3 6.89543 3.89543 6 5 6H24C26.7614 6 29 8.23858 29 11V24C29 25.1046 28.1046 26 27 26H8C5.23858 26 3 23.7614 3 21V8Z",fill:"url(#paint1_linear_103584_150212)"}),c.createElement("path",{d:"M3 8C3 6.89543 3.89543 6 5 6H24C26.7614 6 29 8.23858 29 11V24C29 25.1046 28.1046 26 27 26H8C5.23858 26 3 23.7614 3 21V8Z",fill:"url(#paint2_radial_103584_150212)"}),c.createElement("path",{d:"M16 9C19.866 9 23 12.1346 23 16.001C22.9998 19.8672 19.8659 23.001 16 23.001C15.6604 23.001 15.3267 22.9755 15 22.9287V21C15 18.7909 13.2091 17 11 17H9.07227C9.02561 16.6736 9.00002 16.3402 9 16.001C9 12.1346 12.134 9 16 9Z",fill:"url(#paint3_linear_103584_150212)"}),c.createElement("path",{d:"M16 9C19.866 9 23 12.1346 23 16.001C22.9998 19.8672 19.8659 23.001 16 23.001C15.6604 23.001 15.3267 22.9755 15 22.9287V21C15 18.7909 13.2091 17 11 17H9.07227C9.02561 16.6736 9.00002 16.3402 9 16.001C9 12.1346 12.134 9 16 9Z",fill:"url(#paint4_radial_103584_150212)"}),c.createElement("path",{d:"M16 9C19.866 9 23 12.1346 23 16.001C22.9998 19.8672 19.8659 23.001 16 23.001C15.6604 23.001 15.3267 22.9755 15 22.9287V21C15 18.7909 13.2091 17 11 17H9.07227C9.02561 16.6736 9.00002 16.3402 9 16.001C9 12.1346 12.134 9 16 9Z",fill:"url(#paint5_radial_103584_150212)",fillOpacity:.5}),c.createElement("path",{d:"M16 9C19.866 9 23 12.1346 23 16.001C22.9999 17.2831 22.6525 18.4831 22.0508 19.5166L22.1621 19.2725C22.8546 17.7349 21.7302 15.9952 20.0439 15.9951H17.248C16.5554 15.995 15.9945 15.4329 15.9951 14.7402L15.9971 11.958C15.9983 10.2697 14.2553 9.14358 12.7168 9.83887L12.5098 9.93262C13.5373 9.34019 14.7287 9.00001 16 9Z",fill:"url(#paint6_radial_103584_150212)"}),c.createElement("path",{d:"M16 9C19.866 9 23 12.1346 23 16.001C22.9999 17.2831 22.6525 18.4831 22.0508 19.5166L22.1621 19.2725C22.8546 17.7349 21.7302 15.9952 20.0439 15.9951H17.248C16.5554 15.995 15.9945 15.4329 15.9951 14.7402L15.9971 11.958C15.9983 10.2697 14.2553 9.14358 12.7168 9.83887L12.5098 9.93262C13.5373 9.34019 14.7287 9.00001 16 9Z",fill:"url(#paint7_radial_103584_150212)"}),c.createElement("rect",{x:1,y:18,width:13,height:13,rx:3,fill:"url(#paint8_radial_103584_150212)"}),c.createElement("rect",{x:1,y:18,width:13,height:13,rx:3,fill:"url(#paint9_radial_103584_150212)",fillOpacity:.3}),c.createElement("path",{d:"M7.01855 25.7204V28H5.44141V21H7.87793C8.75033 21 9.41439 21.1904 9.87012 21.5711C10.3291 21.9519 10.5586 22.5165 10.5586 23.265C10.5586 24.0363 10.3014 24.6383 9.78711 25.0711C9.27604 25.504 8.58919 25.7204 7.72656 25.7204H7.01855ZM7.01855 22.2106V24.5098H7.67773C8.06836 24.5098 8.36947 24.4073 8.58105 24.2022C8.79264 23.9972 8.89844 23.7027 8.89844 23.3187C8.89844 22.964 8.79427 22.6906 8.58594 22.4986C8.38086 22.3066 8.08626 22.2106 7.70215 22.2106H7.01855Z",fill:"white"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_103584_150212",x1:11.0417,y1:5,x2:13.3847,y2:27.3656,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#BBBBBB"}),c.createElement("stop",{offset:1,stopColor:"#888888"})),c.createElement("linearGradient",{id:"paint1_linear_103584_150212",x1:10.2222,y1:6,x2:12.1806,y2:26.3672,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EBEBEB"})),c.createElement("radialGradient",{id:"paint2_radial_103584_150212",cx:0,cy:0,r:1,gradientTransform:"matrix(13.7222 15.8333 -20.5833 5.9375 11.3056 11.2083)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.177083,stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EFEFEF"})),c.createElement("linearGradient",{id:"paint3_linear_103584_150212",x1:15.1255,y1:8.5543,x2:6.54225,y2:16.9404,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.0582736,stopColor:"#FF7F48"}),c.createElement("stop",{offset:1,stopColor:"#E5495B"})),c.createElement("radialGradient",{id:"paint4_radial_103584_150212",cx:0,cy:0,r:1,gradientTransform:"matrix(-10.1505 9.93875 -17.0846 -16.7282 18.6769 13.0625)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.151523,stopColor:"#AA1D2D"}),c.createElement("stop",{offset:.380855,stopColor:"#D12B18",stopOpacity:.44}),c.createElement("stop",{offset:.601996,stopColor:"#FF3C00",stopOpacity:0})),c.createElement("radialGradient",{id:"paint5_radial_103584_150212",cx:0,cy:0,r:1,gradientTransform:"matrix(12.3042 -5.69055 10.5289 21.826 6.20639 21.6912)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.4067,stopColor:"#FF66FB"}),c.createElement("stop",{offset:1,stopColor:"#EA3D01",stopOpacity:0})),c.createElement("radialGradient",{id:"paint6_radial_103584_150212",cx:0,cy:0,r:1,gradientTransform:"matrix(6.39204 -7.32044 6.82218 5.68073 15.2277 16.9563)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#FD6EF9"}),c.createElement("stop",{offset:.637205,stopColor:"#FF9944"}),c.createElement("stop",{offset:.85186,stopColor:"#FCC479"})),c.createElement("radialGradient",{id:"paint7_radial_103584_150212",cx:0,cy:0,r:1,gradientTransform:"matrix(-0.722024 4.89412 -11.0683 -1.55717 14.5918 9.92427)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.144283,stopColor:"#FF8D13"}),c.createElement("stop",{offset:.537266,stopColor:"#FF7F29",stopOpacity:0})),c.createElement("radialGradient",{id:"paint8_radial_103584_150212",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(0.998413 18) rotate(45) scale(18.3848)"},c.createElement("stop",{stopColor:"#F8193E"}),c.createElement("stop",{offset:.939062,stopColor:"#920616"})),c.createElement("radialGradient",{id:"paint9_radial_103584_150212",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7.49841 25.8) rotate(90) scale(9.1 10.3594)"},c.createElement("stop",{offset:.575893,stopColor:"#FFB055",stopOpacity:0}),c.createElement("stop",{offset:.973806,stopColor:"#FFF2BE"})))),M1e=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M2 8C2 6.34315 3.34315 5 5 5H24C27.3137 5 30 7.68629 30 11V24C30 25.6569 28.6569 27 27 27H8C4.68629 27 2 24.3137 2 21V8Z",fill:"url(#paint0_linear_103584_149982)"}),c.createElement("path",{d:"M3 8C3 6.89543 3.89543 6 5 6H24C26.7614 6 29 8.23858 29 11V24C29 25.1046 28.1046 26 27 26H8C5.23858 26 3 23.7614 3 21V8Z",fill:"url(#paint1_linear_103584_149982)"}),c.createElement("path",{d:"M3 8C3 6.89543 3.89543 6 5 6H24C26.7614 6 29 8.23858 29 11V24C29 25.1046 28.1046 26 27 26H8C5.23858 26 3 23.7614 3 21V8Z",fill:"url(#paint2_radial_103584_149982)"}),c.createElement("path",{d:"M17 9C17.5523 9 18 9.44772 18 10V14L13.7168 14.9521C13.574 14.9838 13.426 14.9838 13.2832 14.9521L9 14V10C9 9.44772 9.44772 9 10 9H17Z",fill:"#33C481"}),c.createElement("path",{d:"M20 14C20.5523 14 21 14.4477 21 15V18L17 19L13.8721 18.2178C13.145 17.4673 12.1274 17 11 17H9V14H20Z",fill:"#21A366"}),c.createElement("path",{d:"M22 18C22.5523 18 23 18.4477 23 19V22C23 22.5523 22.5523 23 22 23H15V21C15 19.805 14.4754 18.733 13.6445 18H22Z",fill:"#185C37"}),c.createElement("rect",{x:1,y:18,width:13,height:13,rx:3,fill:"#107C41"}),c.createElement("path",{d:"M7.01855 25.7204V28H5.44141V21H7.87793C8.75033 21 9.41439 21.1904 9.87012 21.5711C10.3291 21.9519 10.5586 22.5165 10.5586 23.265C10.5586 24.0363 10.3014 24.6383 9.78711 25.0711C9.27604 25.504 8.58919 25.7204 7.72656 25.7204H7.01855ZM7.01855 22.2106V24.5098H7.67773C8.06836 24.5098 8.36947 24.4073 8.58105 24.2022C8.79264 23.9972 8.89844 23.7027 8.89844 23.3187C8.89844 22.964 8.79427 22.6906 8.58594 22.4986C8.38086 22.3066 8.08626 22.2106 7.70215 22.2106H7.01855Z",fill:"white"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_103584_149982",x1:11.0417,y1:5,x2:13.3847,y2:27.3656,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#BBBBBB"}),c.createElement("stop",{offset:1,stopColor:"#888888"})),c.createElement("linearGradient",{id:"paint1_linear_103584_149982",x1:10.2222,y1:6,x2:12.1806,y2:26.3672,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EBEBEB"})),c.createElement("radialGradient",{id:"paint2_radial_103584_149982",cx:0,cy:0,r:1,gradientTransform:"matrix(13.7222 15.8333 -20.5833 5.9375 11.3056 11.2083)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.177083,stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EFEFEF"})))),N1e=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M5 5C5 3.34315 6.34315 2 8 2H21C24.3137 2 27 4.68629 27 8V27C27 28.6569 25.6569 30 24 30H11C7.68629 30 5 27.3137 5 24V5Z",fill:"url(#paint0_linear_103584_157128)"}),c.createElement("path",{d:"M6 5C6 3.89543 6.89543 3 8 3H21C23.7614 3 26 5.23858 26 8V27C26 28.1046 25.1046 29 24 29H11C8.23858 29 6 26.7614 6 24V5Z",fill:"url(#paint1_linear_103584_157128)"}),c.createElement("path",{d:"M6 5C6 3.89543 6.89543 3 8 3H21C23.7614 3 26 5.23858 26 8V27C26 28.1046 25.1046 29 24 29H11C8.23858 29 6 26.7614 6 24V5Z",fill:"url(#paint2_radial_103584_157128)"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4617 8.30769C13.384 8.12137 13.202 8 13.0001 8C12.7983 8 12.6162 8.12137 12.5386 8.30769L10.0386 14.3077C9.93238 14.5626 10.0529 14.8553 10.3078 14.9615C10.5627 15.0677 10.8555 14.9472 10.9617 14.6923L11.6668 13H14.3335L15.0386 14.6923C15.1448 14.9472 15.4375 15.0677 15.6924 14.9615C15.9473 14.8553 16.0679 14.5626 15.9617 14.3077L13.4617 8.30769ZM13.0001 9.8L13.9168 12H12.0835L13.0001 9.8Z",fill:"url(#paint3_linear_103584_157128)"}),c.createElement("path",{d:"M17.5001 11C17.224 11 17.0001 11.2239 17.0001 11.5C17.0001 11.7761 17.224 12 17.5001 12H21.5001C21.7763 12 22.0001 11.7761 22.0001 11.5C22.0001 11.2239 21.7763 11 21.5001 11H17.5001Z",fill:"url(#paint4_linear_103584_157128)"}),c.createElement("path",{d:"M17.5001 14C17.224 14 17.0001 14.2239 17.0001 14.5C17.0001 14.7761 17.224 15 17.5001 15H21.5001C21.7763 15 22.0001 14.7761 22.0001 14.5C22.0001 14.2239 21.7763 14 21.5001 14H17.5001Z",fill:"url(#paint5_linear_103584_157128)"}),c.createElement("path",{d:"M10.5001 17C10.224 17 10.0001 17.2239 10.0001 17.5C10.0001 17.7761 10.224 18 10.5001 18H21.5001C21.7763 18 22.0001 17.7761 22.0001 17.5C22.0001 17.2239 21.7763 17 21.5001 17H10.5001Z",fill:"url(#paint6_linear_103584_157128)"}),c.createElement("path",{d:"M10.5001 20C10.224 20 10.0001 20.2239 10.0001 20.5C10.0001 20.7761 10.224 21 10.5001 21H14.5001C14.7763 21 15.0001 20.7761 15.0001 20.5C15.0001 20.2239 14.7763 20 14.5001 20H10.5001Z",fill:"url(#paint7_linear_103584_157128)"}),c.createElement("path",{d:"M10.5001 23C10.224 23 10.0001 23.2239 10.0001 23.5C10.0001 23.7761 10.224 24 10.5001 24H14.5001C14.7763 24 15.0001 23.7761 15.0001 23.5C15.0001 23.2239 14.7763 23 14.5001 23H10.5001Z",fill:"url(#paint8_linear_103584_157128)"}),c.createElement("path",{d:"M17.0001 20C16.4478 20 16.0001 20.4477 16.0001 21V23C16.0001 23.5523 16.4478 24 17.0001 24H21.0001C21.5524 24 22.0001 23.5523 22.0001 23V21C22.0001 20.4477 21.5524 20 21.0001 20H17.0001Z",fill:"url(#paint9_linear_103584_157128)"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_103584_157128",x1:12.1042,y1:2,x2:16.851,y2:29.9723,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#BBBBBB"}),c.createElement("stop",{offset:1,stopColor:"#888888"})),c.createElement("linearGradient",{id:"paint1_linear_103584_157128",x1:11.5556,y1:3,x2:15.7862,y2:29.0347,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EBEBEB"})),c.createElement("radialGradient",{id:"paint2_radial_103584_157128",cx:0,cy:0,r:1,gradientTransform:"matrix(10.5556 20.5833 -15.8333 7.71875 12.3889 9.77083)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.177083,stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EFEFEF"})),c.createElement("linearGradient",{id:"paint3_linear_103584_157128",x1:10,y1:2,x2:21.5,y2:28,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:1e-4,stopColor:"#597493"}),c.createElement("stop",{offset:1,stopColor:"#0F2F56"})),c.createElement("linearGradient",{id:"paint4_linear_103584_157128",x1:10,y1:2,x2:21.5,y2:28,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:1e-4,stopColor:"#597493"}),c.createElement("stop",{offset:1,stopColor:"#0F2F56"})),c.createElement("linearGradient",{id:"paint5_linear_103584_157128",x1:10,y1:2,x2:21.5,y2:28,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:1e-4,stopColor:"#597493"}),c.createElement("stop",{offset:1,stopColor:"#0F2F56"})),c.createElement("linearGradient",{id:"paint6_linear_103584_157128",x1:10,y1:2,x2:21.5,y2:28,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:1e-4,stopColor:"#597493"}),c.createElement("stop",{offset:1,stopColor:"#0F2F56"})),c.createElement("linearGradient",{id:"paint7_linear_103584_157128",x1:10,y1:2,x2:21.5,y2:28,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:1e-4,stopColor:"#597493"}),c.createElement("stop",{offset:1,stopColor:"#0F2F56"})),c.createElement("linearGradient",{id:"paint8_linear_103584_157128",x1:10,y1:2,x2:21.5,y2:28,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:1e-4,stopColor:"#597493"}),c.createElement("stop",{offset:1,stopColor:"#0F2F56"})),c.createElement("linearGradient",{id:"paint9_linear_103584_157128",x1:10,y1:2,x2:21.5,y2:28,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:1e-4,stopColor:"#597493"}),c.createElement("stop",{offset:1,stopColor:"#0F2F56"})))),R1e=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M5 5C5 3.34315 6.34315 2 8 2H21C24.3137 2 27 4.68629 27 8V27C27 28.6569 25.6569 30 24 30H8.5C6.567 30 5 28.433 5 26.5V5Z",fill:"url(#paint0_linear_103584_148750)"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 3H21C23.7614 3 26 5.23859 26 8V21C26 22.1046 25.1046 23 24 23H8.5C7.52066 23 6.63525 23.4022 6 24.0505V5C6 3.89542 6.89543 3 8 3ZM6 26.5C6 27.8807 7.11929 29 8.5 29H24C25.1046 29 26 28.1046 26 27V26.2361C25.4692 26.7112 24.7684 27 24 27H8.5C8.22386 27 8 26.7762 8 26.5C8 26.2238 8.22386 26 8.5 26H24C25.1046 26 26 25.1046 26 24V23.2361C25.4692 23.7112 24.7684 24 24 24H8.5C7.11929 24 6 25.1193 6 26.5Z",fill:"url(#paint1_linear_103584_148750)"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 3H21C23.7614 3 26 5.23859 26 8V21C26 22.1046 25.1046 23 24 23H8.5C7.52066 23 6.63525 23.4022 6 24.0505V5C6 3.89542 6.89543 3 8 3ZM6 26.5C6 27.8807 7.11929 29 8.5 29H24C25.1046 29 26 28.1046 26 27V26.2361C25.4692 26.7112 24.7684 27 24 27H8.5C8.22386 27 8 26.7762 8 26.5C8 26.2238 8.22386 26 8.5 26H24C25.1046 26 26 25.1046 26 24V23.2361C25.4692 23.7112 24.7684 24 24 24H8.5C7.11929 24 6 25.1193 6 26.5Z",fill:"url(#paint2_radial_103584_148750)"}),c.createElement("path",{d:"M21 18.5449C21 19.3484 20.3484 20.0002 19.5449 20L14.873 19.998C14.4283 18.2739 12.8631 17 11 17H10V16.7842C10 15.1775 11.3025 13.875 12.9092 13.875H21V18.5449Z",fill:"url(#paint3_radial_103584_148750)"}),c.createElement("path",{d:"M15.9231 9.25391L21 9.0625V14.0455C21 14.8488 20.3488 15.5 19.5455 15.5H15.9231V9.25391Z",fill:"url(#paint4_linear_103584_148750)"}),c.createElement("path",{d:"M19.4443 6C20.3034 6.00003 21 6.69658 21 7.55566V9.44434C21 10.3035 20.3034 11 19.4443 11H19.1377C18.272 11.0002 17.5733 11.7075 17.583 12.5732L17.5977 13.9268C17.6073 14.7926 16.9079 15.5 16.042 15.5H12.25C11.2708 15.5 10.4401 16.1266 10.1309 17H10L10.002 8.74902C10.0025 7.23065 11.2335 6 12.752 6H19.4443Z",fill:"url(#paint5_linear_103584_148750)"}),c.createElement("path",{d:"M19.4443 6C20.3034 6.00003 21 6.69658 21 7.55566V9.44434C21 10.3035 20.3034 11 19.4443 11H19.1377C18.272 11.0002 17.5733 11.7075 17.583 12.5732L17.5977 13.9268C17.6073 14.7926 16.9079 15.5 16.042 15.5H12.25C11.2708 15.5 10.4401 16.1266 10.1309 17H10L10.002 8.74902C10.0025 7.23065 11.2335 6 12.752 6H19.4443Z",fill:"url(#paint6_radial_103584_148750)"}),c.createElement("rect",{x:1,y:18,width:13,height:13,rx:3,fill:"url(#paint7_radial_103584_148750)"}),c.createElement("rect",{x:1,y:18,width:13,height:13,rx:3,fill:"url(#paint8_radial_103584_148750)",fillOpacity:.8}),c.createElement("path",{d:"M10.6494 28H9.05762L6.17188 23.6799C6.09049 23.5497 6.02214 23.4375 5.9668 23.3431C5.91146 23.2455 5.86914 23.1641 5.83984 23.099H5.82031C5.82682 23.2227 5.83171 23.3789 5.83496 23.5676C5.83822 23.7564 5.83984 23.9777 5.83984 24.2315V28H4.35059V21H6.0498L8.82812 25.1834C8.88672 25.2778 8.94369 25.3738 8.99902 25.4714C9.05762 25.5658 9.11133 25.6602 9.16016 25.7545H9.17969C9.17318 25.6732 9.16829 25.5528 9.16504 25.3933C9.16178 25.2306 9.16016 25.0305 9.16016 24.7929V21H10.6494V28Z",fill:"white"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_103584_148750",x1:12.1042,y1:2,x2:16.851,y2:29.9723,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#BBBBBB"}),c.createElement("stop",{offset:1,stopColor:"#888888"})),c.createElement("linearGradient",{id:"paint1_linear_103584_148750",x1:11.5556,y1:3,x2:15.7862,y2:29.0347,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EBEBEB"})),c.createElement("radialGradient",{id:"paint2_radial_103584_148750",cx:0,cy:0,r:1,gradientTransform:"matrix(10.5556 20.5833 -15.8333 7.71875 12.3889 9.77083)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.177083,stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EFEFEF"})),c.createElement("radialGradient",{id:"paint3_radial_103584_148750",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(20.6793 20) scale(17.4436 8.1863)"},c.createElement("stop",{offset:.158518,stopColor:"#A931D8"}),c.createElement("stop",{offset:.565784,stopColor:"#6E1996"})),c.createElement("linearGradient",{id:"paint4_linear_103584_148750",x1:23.2791,y1:12.4127,x2:16.8822,y2:9.34981,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.216532,stopColor:"#CA59F7"}),c.createElement("stop",{offset:.888362,stopColor:"#691A90"})),c.createElement("linearGradient",{id:"paint5_linear_103584_148750",x1:21.4864,y1:9.20518,x2:10.0024,y2:9.20518,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.807408,stopColor:"#DE66FF"}),c.createElement("stop",{offset:1,stopColor:"#FCB1FF"})),c.createElement("radialGradient",{id:"paint6_radial_103584_148750",cx:0,cy:0,r:1,gradientTransform:"matrix(-5.5296 10.1659 -16.2243 -10.3085 21.7912 5.25597)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#FFC7A3"}),c.createElement("stop",{offset:.830508,stopColor:"#DE67FD",stopOpacity:0})),c.createElement("radialGradient",{id:"paint7_radial_103584_148750",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(1 18) rotate(45) scale(18.3848)"},c.createElement("stop",{offset:.071875,stopColor:"#AC13EB"}),c.createElement("stop",{offset:.878742,stopColor:"#580087"})),c.createElement("radialGradient",{id:"paint8_radial_103584_148750",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7.5 25.8) rotate(90) scale(9.1 10.4813)"},c.createElement("stop",{offset:.584821,stopColor:"#841FB0",stopOpacity:0}),c.createElement("stop",{offset:.968712,stopColor:"#D373FC"})))),P1e=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M5 5C5 3.34315 6.34315 2 8 2H21C24.3137 2 27 4.68629 27 8V27C27 28.6569 25.6569 30 24 30H11C7.68629 30 5 27.3137 5 24V5Z",fill:"url(#paint0_linear_103584_157341)"}),c.createElement("path",{d:"M6 5C6 3.89543 6.89543 3 8 3H21C23.7614 3 26 5.23858 26 8V27C26 28.1046 25.1046 29 24 29H11C8.23858 29 6 26.7614 6 24V5Z",fill:"url(#paint1_linear_103584_157341)"}),c.createElement("path",{d:"M6 5C6 3.89543 6.89543 3 8 3H21C23.7614 3 26 5.23858 26 8V27C26 28.1046 25.1046 29 24 29H11C8.23858 29 6 26.7614 6 24V5Z",fill:"url(#paint2_radial_103584_157341)"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 8.5C10 8.22386 10.2239 8 10.5 8H21.5C21.7761 8 22 8.22386 22 8.5C22 8.77614 21.7761 9 21.5 9H10.5C10.2239 9 10 8.77614 10 8.5ZM10 11.5C10 11.2239 10.2239 11 10.5 11H21.5C21.7761 11 22 11.2239 22 11.5C22 11.7761 21.7761 12 21.5 12H10.5C10.2239 12 10 11.7761 10 11.5ZM10 14.5C10 14.2239 10.2239 14 10.5 14H21.5C21.7761 14 22 14.2239 22 14.5C22 14.7761 21.7761 15 21.5 15H10.5C10.2239 15 10 14.7761 10 14.5ZM10 17.5C10 17.2239 10.2239 17 10.5 17H21.5C21.7761 17 22 17.2239 22 17.5C22 17.7761 21.7761 18 21.5 18H10.5C10.2239 18 10 17.7761 10 17.5ZM10 20.5C10 20.2239 10.2239 20 10.5 20H21.5C21.7761 20 22 20.2239 22 20.5C22 20.7761 21.7761 21 21.5 21H10.5C10.2239 21 10 20.7761 10 20.5ZM10 23.5C10 23.2239 10.2239 23 10.5 23H21.5C21.7761 23 22 23.2239 22 23.5C22 23.7761 21.7761 24 21.5 24H10.5C10.2239 24 10 23.7761 10 23.5Z",fill:"url(#paint3_linear_103584_157341)"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_103584_157341",x1:12.1042,y1:2,x2:16.851,y2:29.9723,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#BBBBBB"}),c.createElement("stop",{offset:1,stopColor:"#888888"})),c.createElement("linearGradient",{id:"paint1_linear_103584_157341",x1:11.5556,y1:3,x2:15.7862,y2:29.0347,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EBEBEB"})),c.createElement("radialGradient",{id:"paint2_radial_103584_157341",cx:0,cy:0,r:1,gradientTransform:"matrix(10.5556 20.5833 -15.8333 7.71875 12.3889 9.77083)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.177083,stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EFEFEF"})),c.createElement("linearGradient",{id:"paint3_linear_103584_157341",x1:13.6818,y1:10,x2:19.3789,y2:22.8113,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:1e-4,stopColor:"#597493"}),c.createElement("stop",{offset:1,stopColor:"#0F2F56"})))),L1e=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M5 5C5 3.34315 6.34315 2 8 2H21C24.3137 2 27 4.68629 27 8V27C27 28.6569 25.6569 30 24 30H11C7.68629 30 5 27.3137 5 24V5Z",fill:"url(#paint0_linear_103584_148497)"}),c.createElement("path",{d:"M6 5C6 3.89543 6.89543 3 8 3H21C23.7614 3 26 5.23858 26 8V27C26 28.1046 25.1046 29 24 29H11C8.23858 29 6 26.7614 6 24V5Z",fill:"url(#paint1_linear_103584_148497)"}),c.createElement("path",{d:"M6 5C6 3.89543 6.89543 3 8 3H21C23.7614 3 26 5.23858 26 8V27C26 28.1046 25.1046 29 24 29H11C8.23858 29 6 26.7614 6 24V5Z",fill:"url(#paint2_radial_103584_148497)"}),c.createElement("path",{d:"M22 17V22.5312C21.9998 23.3423 21.3423 23.9998 20.5312 24H15V21C15 19.1461 13.7386 17.5873 12.0273 17.1338L15.5713 13L22 17Z",fill:"url(#paint3_radial_103584_148497)"}),c.createElement("path",{d:"M22 17.0312C21.9998 17.8423 21.3423 18.4998 20.5312 18.5H14.1211C13.388 17.586 12.2628 17 11 17H10V14.6992C10 13.6604 10.8391 12.8158 11.8779 12.8096L20.7334 12.7568L22 12V17.0312Z",fill:"url(#paint4_linear_103584_148497)"}),c.createElement("path",{d:"M22 17.0312C21.9998 17.8423 21.3423 18.4998 20.5312 18.5H14.1211C13.388 17.586 12.2628 17 11 17H10V14.6992C10 13.6604 10.8391 12.8158 11.8779 12.8096L20.7334 12.7568L22 12V17.0312Z",fill:"url(#paint5_radial_103584_148497)",fillOpacity:.6}),c.createElement("path",{d:"M22 17.0312C21.9998 17.8423 21.3423 18.4998 20.5312 18.5H14.1211C13.388 17.586 12.2628 17 11 17H10V14.6992C10 13.6604 10.8391 12.8158 11.8779 12.8096L20.7334 12.7568L22 12V17.0312Z",fill:"url(#paint6_radial_103584_148497)",fillOpacity:.1}),c.createElement("path",{d:"M20.5312 8C21.3423 8.00021 21.9998 8.65767 22 9.46875V12.0312C21.9998 12.8423 21.3423 13.4998 20.5312 13.5H12.4551C11.0993 13.5 10 14.5993 10 15.9551V10.5186C10 9.12762 11.1276 8 12.5186 8H20.5312Z",fill:"url(#paint7_linear_103584_148497)"}),c.createElement("path",{d:"M20.5312 8C21.3423 8.00021 21.9998 8.65767 22 9.46875V12.0312C21.9998 12.8423 21.3423 13.4998 20.5312 13.5H12.4551C11.0993 13.5 10 14.5993 10 15.9551V10.5186C10 9.12762 11.1276 8 12.5186 8H20.5312Z",fill:"url(#paint8_radial_103584_148497)",fillOpacity:.8}),c.createElement("rect",{x:1,y:18,width:13,height:13,rx:3,fill:"url(#paint9_radial_103584_148497)"}),c.createElement("rect",{x:1,y:18,width:13,height:13,rx:3,fill:"url(#paint10_radial_103584_148497)",fillOpacity:.65}),c.createElement("path",{d:"M11.6998 21L10.1921 27.9992L8.38988 28L7.4998 23.8L6.56805 28H4.74863L3.2998 21.0008H4.78584L5.6798 25.62L6.56805 21.0008H8.38988L9.3198 25.62L10.1921 21.0008L11.6998 21Z",fill:"white"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_103584_148497",x1:12.1042,y1:2,x2:16.851,y2:29.9723,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#BBBBBB"}),c.createElement("stop",{offset:1,stopColor:"#888888"})),c.createElement("linearGradient",{id:"paint1_linear_103584_148497",x1:11.5556,y1:3,x2:15.7862,y2:29.0347,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EBEBEB"})),c.createElement("radialGradient",{id:"paint2_radial_103584_148497",cx:0,cy:0,r:1,gradientTransform:"matrix(10.5556 20.5833 -15.8333 7.71875 12.3889 9.77083)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.177083,stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EFEFEF"})),c.createElement("radialGradient",{id:"paint3_radial_103584_148497",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.4159 23.9997) scale(27.5042 8.52474)"},c.createElement("stop",{offset:.180414,stopColor:"#1657F4"}),c.createElement("stop",{offset:.574542,stopColor:"#0036C4"})),c.createElement("linearGradient",{id:"paint4_linear_103584_148497",x1:10.1071,y1:21.0936,x2:19.1739,y2:21.0936,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#66C0FF"}),c.createElement("stop",{offset:.25606,stopColor:"#0094F0"})),c.createElement("radialGradient",{id:"paint5_radial_103584_148497",cx:0,cy:0,r:1,gradientTransform:"matrix(-7.98381 15.2097 -17.5489 -41.5814 21.9464 13.7445)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.140259,stopColor:"#D471FF"}),c.createElement("stop",{offset:.830508,stopColor:"#509DF5",stopOpacity:0})),c.createElement("radialGradient",{id:"paint6_radial_103584_148497",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(20.2144 24.1169) rotate(90) scale(13.3025 40.1142)"},c.createElement("stop",{offset:.283333,stopColor:"#4F006F",stopOpacity:0}),c.createElement("stop",{offset:1,stopColor:"#4F006F"})),c.createElement("linearGradient",{id:"paint7_linear_103584_148497",x1:10.1071,y1:12.852,x2:21.9438,y2:13.0288,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#9DEAFF"}),c.createElement("stop",{offset:.201276,stopColor:"#3BD5FF"})),c.createElement("radialGradient",{id:"paint8_radial_103584_148497",cx:0,cy:0,r:1,gradientTransform:"matrix(-11.335 2.92732 -7.10275 -29.8256 21.9464 9.17977)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.0606583,stopColor:"#E4A7FE"}),c.createElement("stop",{offset:.538869,stopColor:"#E4A7FE",stopOpacity:0})),c.createElement("radialGradient",{id:"paint9_radial_103584_148497",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(1 18) rotate(45) scale(18.3848)"},c.createElement("stop",{offset:.0811439,stopColor:"#367AF2"}),c.createElement("stop",{offset:.871875,stopColor:"#001A8F"})),c.createElement("radialGradient",{id:"paint10_radial_103584_148497",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7.5 25.8) rotate(90) scale(9.1 10.3715)"},c.createElement("stop",{offset:.586954,stopColor:"#2763E5",stopOpacity:0}),c.createElement("stop",{offset:.973806,stopColor:"#58AAFE"})))),O1e=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M2 8C2 6.34315 3.34315 5 5 5H24C27.3137 5 30 7.68629 30 11V24C30 25.6569 28.6569 27 27 27H8C4.68629 27 2 24.3137 2 21V8Z",fill:"url(#paint0_linear_103584_148835)"}),c.createElement("path",{d:"M2 8C2 6.34315 3.34315 5 5 5H24C27.3137 5 30 7.68629 30 11V24C30 25.6569 28.6569 27 27 27H8C4.68629 27 2 24.3137 2 21V8Z",fill:"url(#paint1_radial_103584_148835)"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 6C3.89543 6 3 6.89543 3 8V9.85714C3 10.1333 2.77614 10.3571 2.5 10.3571C2.22386 10.3571 2 10.1333 2 9.85714V8C2 6.34315 3.34315 5 5 5H6.80952C7.08567 5 7.30952 5.22386 7.30952 5.5C7.30952 5.77614 7.08567 6 6.80952 6H5ZM9.02381 5.5C9.02381 5.22386 9.24767 5 9.52381 5H13.1429C13.419 5 13.6429 5.22386 13.6429 5.5C13.6429 5.77614 13.419 6 13.1429 6H9.52381C9.24767 6 9.02381 5.77614 9.02381 5.5ZM15.3571 5.5C15.3571 5.22386 15.581 5 15.8571 5H19.4762C19.7523 5 19.9762 5.22386 19.9762 5.5C19.9762 5.77614 19.7523 6 19.4762 6H15.8571C15.581 6 15.3571 5.77614 15.3571 5.5ZM21.6905 5.5C21.6905 5.22386 21.9143 5 22.1905 5H24C24.9321 5 25.8159 5.21289 26.6041 5.59317C26.8528 5.71316 26.9572 6.01205 26.8372 6.26076C26.7172 6.50947 26.4183 6.61382 26.1696 6.49383C25.5139 6.17753 24.7784 6 24 6H22.1905C21.9143 6 21.6905 5.77614 21.6905 5.5ZM28.7392 8.16283C28.988 8.04284 29.2868 8.14719 29.4068 8.3959C29.7871 9.18414 30 10.0679 30 11V12.8571C30 13.1333 29.7761 13.3571 29.5 13.3571C29.2239 13.3571 29 13.1333 29 12.8571V11C29 10.2216 28.8225 9.48606 28.5062 8.83042C28.3862 8.58171 28.4905 8.28282 28.7392 8.16283ZM2.5 12.1429C2.77614 12.1429 3 12.3667 3 12.6429V16.3571C3 16.6333 2.77614 16.8571 2.5 16.8571C2.22386 16.8571 2 16.6333 2 16.3571V12.6429C2 12.3667 2.22386 12.1429 2.5 12.1429ZM29.5 15.1429C29.7761 15.1429 30 15.3667 30 15.6429V19.3571C30 19.6333 29.7761 19.8571 29.5 19.8571C29.2239 19.8571 29 19.6333 29 19.3571V15.6429C29 15.3667 29.2239 15.1429 29.5 15.1429ZM2.5 18.6429C2.77614 18.6429 3 18.8667 3 19.1429V21C3 21.7784 3.17753 22.5139 3.49383 23.1696C3.61382 23.4183 3.50947 23.7172 3.26076 23.8372C3.01205 23.9572 2.71316 23.8528 2.59317 23.6041C2.21289 22.8159 2 21.9321 2 21V19.1429C2 18.8667 2.22386 18.6429 2.5 18.6429ZM29.5 21.6429C29.7761 21.6429 30 21.8667 30 22.1429V24C30 25.6569 28.6569 27 27 27H25.1905C24.9143 27 24.6905 26.7761 24.6905 26.5C24.6905 26.2239 24.9143 26 25.1905 26H27C28.1046 26 29 25.1046 29 24V22.1429C29 21.8667 29.2239 21.6429 29.5 21.6429ZM5.16283 25.7392C5.28282 25.4905 5.58171 25.3862 5.83042 25.5062C6.48606 25.8225 7.22159 26 8 26H9.80952C10.0857 26 10.3095 26.2239 10.3095 26.5C10.3095 26.7761 10.0857 27 9.80952 27H8C7.06791 27 6.18414 26.7871 5.3959 26.4068C5.14719 26.2868 5.04284 25.988 5.16283 25.7392ZM12.0238 26.5C12.0238 26.2239 12.2477 26 12.5238 26H16.1429C16.419 26 16.6429 26.2239 16.6429 26.5C16.6429 26.7761 16.419 27 16.1429 27H12.5238C12.2477 27 12.0238 26.7761 12.0238 26.5ZM18.3571 26.5C18.3571 26.2239 18.581 26 18.8571 26H22.4762C22.7523 26 22.9762 26.2239 22.9762 26.5C22.9762 26.7761 22.7523 27 22.4762 27H18.8571C18.581 27 18.3571 26.7761 18.3571 26.5Z",fill:"url(#paint2_linear_103584_148835)"}),c.createElement("path",{d:"M22 22.75C22 23.4404 21.4404 24 20.75 24H15V21C15 18.7909 13.2091 17 11 17H10V13.875C10 12.8395 10.8395 12 11.875 12H22V22.75Z",fill:"url(#paint3_radial_103584_148835)"}),c.createElement("path",{d:"M22 22.75C22 23.4404 21.4404 24 20.75 24H15V21C15 18.7909 13.2091 17 11 17H10V13.875C10 12.8395 10.8395 12 11.875 12H22V22.75Z",fill:"url(#paint4_radial_103584_148835)",fillOpacity:.7}),c.createElement("path",{d:"M17.248 14C16.5589 14 16 14.5589 16 15.248V17.2471C16 17.9385 15.4385 18.4986 14.7471 18.4971L14.1172 18.4951C13.384 17.5839 12.2606 17 11 17H10V15.875C10 14.8395 10.8395 14 11.875 14H17.248Z",fill:"url(#paint5_linear_103584_148835)"}),c.createElement("path",{d:"M17.248 14C16.5589 14 16 14.5589 16 15.248V17.2471C16 17.9385 15.4385 18.4986 14.7471 18.4971L14.1172 18.4951C13.384 17.5839 12.2606 17 11 17H10V15.875C10 14.8395 10.8395 14 11.875 14H17.248Z",fill:"url(#paint6_linear_103584_148835)",fillOpacity:.3}),c.createElement("path",{d:"M17.5 14H12.3438C11.0493 14 10 15.0493 10 16.3438V11.5C10 10.1193 11.1193 9 12.5 9H17.5V14Z",fill:"url(#paint7_linear_103584_148835)"}),c.createElement("path",{d:"M17.5 14H12.3438C11.0493 14 10 15.0493 10 16.3438V11.5C10 10.1193 11.1193 9 12.5 9H17.5V14Z",fill:"url(#paint8_radial_103584_148835)"}),c.createElement("path",{d:"M17.5 14H12.3438C11.0493 14 10 15.0493 10 16.3438V11.5C10 10.1193 11.1193 9 12.5 9H17.5V14Z",fill:"url(#paint9_linear_103584_148835)"}),c.createElement("path",{d:"M22 10.25C22 9.55964 21.4404 9 20.75 9H17.25C16.5596 9 16 9.55964 16 10.25V12.75C16 13.4404 16.5596 14 17.25 14H20.75C21.4404 14 22 13.4404 22 12.75V10.25Z",fill:"url(#paint10_radial_103584_148835)"}),c.createElement("rect",{x:1,y:18,width:13,height:13,rx:3,fill:"url(#paint11_radial_103584_148835)"}),c.createElement("rect",{x:1,y:18,width:13,height:13,rx:3,fill:"url(#paint12_radial_103584_148835)",fillOpacity:.3}),c.createElement("path",{d:"M10.7227 28H8.83301L7.64648 25.7692C7.60417 25.6911 7.57161 25.6292 7.54883 25.5837C7.5293 25.5349 7.50814 25.4795 7.48535 25.4177H7.46582C7.43652 25.4958 7.40885 25.5593 7.38281 25.6081C7.35677 25.6569 7.32585 25.7171 7.29004 25.7887L6.05957 28H4.27734L6.41602 24.4951L4.42383 21H6.28906L7.34375 22.9916C7.38607 23.073 7.42188 23.1446 7.45117 23.2064C7.48372 23.265 7.51628 23.335 7.54883 23.4163H7.56836C7.61393 23.3219 7.64974 23.2471 7.67578 23.1918C7.70508 23.1364 7.74414 23.0632 7.79297 22.9721L8.88672 21H10.6641L8.64258 24.4414L10.7227 28Z",fill:"white"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_103584_148835",x1:9.77778,y1:5,x2:11.9773,y2:27.3951,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EBEBEB"})),c.createElement("radialGradient",{id:"paint1_radial_103584_148835",cx:0,cy:0,r:1,gradientTransform:"matrix(14.7778 17.4167 -22.1667 6.53125 10.9444 10.7292)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.177083,stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EFEFEF"})),c.createElement("linearGradient",{id:"paint2_linear_103584_148835",x1:11.2188,y1:5.5,x2:13.4332,y2:26.8537,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#BBBBBB"}),c.createElement("stop",{offset:1,stopColor:"#888888"})),c.createElement("radialGradient",{id:"paint3_radial_103584_148835",cx:0,cy:0,r:1,gradientTransform:"matrix(-11.3333 -12.3333 9.54948 -8.77158 22 25)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.0647233,stopColor:"#379539"}),c.createElement("stop",{offset:.422149,stopColor:"#297C2D"}),c.createElement("stop",{offset:.703448,stopColor:"#15561C"})),c.createElement("radialGradient",{id:"paint4_radial_103584_148835",cx:0,cy:0,r:1,gradientTransform:"matrix(-4.79167 -4.79167 3.71016 -3.70864 13.6667 16.3333)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#073B10"}),c.createElement("stop",{offset:.992234,stopColor:"#084A13",stopOpacity:0})),c.createElement("linearGradient",{id:"paint5_linear_103584_148835",x1:8.0774,y1:19.6792,x2:15.7988,y2:19.6792,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#52D17C"}),c.createElement("stop",{offset:.328512,stopColor:"#4AA647"})),c.createElement("linearGradient",{id:"paint6_linear_103584_148835",x1:15.6393,y1:14,x2:15.6393,y2:21.8896,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#29852F"}),c.createElement("stop",{offset:.499968,stopColor:"#4AA647",stopOpacity:0})),c.createElement("linearGradient",{id:"paint7_linear_103584_148835",x1:10.2763,y1:17.7979,x2:19.2103,y2:12.4439,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#66D052"}),c.createElement("stop",{offset:1,stopColor:"#85E972"})),c.createElement("radialGradient",{id:"paint8_radial_103584_148835",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(17.23 13.6212) rotate(-180) scale(3.75784 11.5142)"},c.createElement("stop",{offset:.292495,stopColor:"#4EB43B"}),c.createElement("stop",{offset:1,stopColor:"#72CC61",stopOpacity:0})),c.createElement("linearGradient",{id:"paint9_linear_103584_148835",x1:13.3811,y1:14.0608,x2:10,y2:14.0608,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.183694,stopColor:"#C0E075",stopOpacity:0}),c.createElement("stop",{offset:1,stopColor:"#D1EB95"})),c.createElement("radialGradient",{id:"paint10_radial_103584_148835",cx:0,cy:0,r:1,gradientTransform:"matrix(-5.96857 -5.69975 4.89508 -6.9497 21.9686 14.6997)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.439983,stopColor:"#79E96D"}),c.createElement("stop",{offset:1,stopColor:"#D0EB76"})),c.createElement("radialGradient",{id:"paint11_radial_103584_148835",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(1 18) rotate(45) scale(18.3848 52.3364)"},c.createElement("stop",{stopColor:"#20A85E"}),c.createElement("stop",{offset:.94375,stopColor:"#09442A"})),c.createElement("radialGradient",{id:"paint12_radial_103584_148835",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7.5 25.8) rotate(90) scale(9.1 10.4813)"},c.createElement("stop",{offset:.580357,stopColor:"#33A662",stopOpacity:0}),c.createElement("stop",{offset:.973806,stopColor:"#98F0B0"})))),D1e=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M2 8C2 6.34315 3.34315 5 5 5H24C27.3137 5 30 7.68629 30 11V24C30 25.6569 28.6569 27 27 27H8C4.68629 27 2 24.3137 2 21V8Z",fill:"url(#paint0_linear_103584_157556)"}),c.createElement("path",{d:"M3 8C3 6.89543 3.89543 6 5 6H24C26.7614 6 29 8.23858 29 11V24C29 25.1046 28.1046 26 27 26H8C5.23858 26 3 23.7614 3 21V8Z",fill:"url(#paint1_linear_103584_157556)"}),c.createElement("path",{d:"M3 8C3 6.89543 3.89543 6 5 6H24C26.7614 6 29 8.23858 29 11V24C29 25.1046 28.1046 26 27 26H8C5.23858 26 3 23.7614 3 21V8Z",fill:"url(#paint2_radial_103584_157556)"}),c.createElement("path",{d:"M14.9 10.2C14.7709 10.0279 14.5461 9.95763 14.3419 10.0257C14.1377 10.0937 14 10.2848 14 10.5V14.5C14 14.7762 14.2239 15 14.5 15C14.7761 15 15 14.7762 15 14.5V12L15.6 12.8C15.6944 12.9259 15.8426 13 16 13C16.1574 13 16.3056 12.9259 16.4 12.8L17 12V14.5C17 14.7762 17.2239 15 17.5 15C17.7761 15 18 14.7762 18 14.5V10.5C18 10.2848 17.8623 10.0937 17.6581 10.0257C17.4539 9.95763 17.2291 10.0279 17.1 10.2L16 11.6667L14.9 10.2Z",fill:"url(#paint3_linear_103584_157556)"}),c.createElement("path",{d:"M8.5 18.0001C8.22386 18.0001 8 18.2239 8 18.5001C8 18.7762 8.22386 19.0001 8.5 19.0001H23.5C23.7761 19.0001 24 18.7762 24 18.5001C24 18.2239 23.7761 18.0001 23.5 18.0001H8.5Z",fill:"url(#paint4_linear_103584_157556)"}),c.createElement("path",{d:"M8.5 21.0001C8.22386 21.0001 8 21.2239 8 21.5001C8 21.7762 8.22386 22.0001 8.5 22.0001H23.5C23.7761 22.0001 24 21.7762 24 21.5001C24 21.2239 23.7761 21.0001 23.5 21.0001H8.5Z",fill:"url(#paint5_linear_103584_157556)"}),c.createElement("path",{d:"M19.5 10C19.7761 10 20 10.2239 20 10.5V14H21.5C21.7761 14 22 14.2239 22 14.5C22 14.7762 21.7761 15 21.5 15H19.5C19.2239 15 19 14.7762 19 14.5V10.5C19 10.2239 19.2239 10 19.5 10Z",fill:"url(#paint6_linear_103584_157556)"}),c.createElement("path",{d:"M10.9472 10.2765C10.8237 10.0296 10.5234 9.92945 10.2764 10.0529C10.0294 10.1764 9.92929 10.4768 10.0528 10.7238L10.941 12.5002L10.0528 14.2765C9.92929 14.5235 10.0294 14.8239 10.2764 14.9474C10.5234 15.0709 10.8237 14.9708 10.9472 14.7238L11.5 13.6182L12.0528 14.7238C12.1763 14.9708 12.4766 15.0709 12.7236 14.9474C12.9706 14.8239 13.0707 14.5235 12.9472 14.2765L12.059 12.5002L12.9472 10.7238C13.0707 10.4768 12.9706 10.1764 12.7236 10.0529C12.4766 9.92945 12.1763 10.0296 12.0528 10.2765L11.5 11.3821L10.9472 10.2765Z",fill:"url(#paint7_linear_103584_157556)"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_103584_157556",x1:11.0417,y1:5,x2:13.3847,y2:27.3656,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#BBBBBB"}),c.createElement("stop",{offset:1,stopColor:"#888888"})),c.createElement("linearGradient",{id:"paint1_linear_103584_157556",x1:10.2222,y1:6,x2:12.1806,y2:26.3672,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EBEBEB"})),c.createElement("radialGradient",{id:"paint2_radial_103584_157556",cx:0,cy:0,r:1,gradientTransform:"matrix(13.7222 15.8333 -20.5833 5.9375 11.3056 11.2083)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.177083,stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EFEFEF"})),c.createElement("linearGradient",{id:"paint3_linear_103584_157556",x1:9.5,y1:5.00003,x2:16.9411,y2:22.0001,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:1e-4,stopColor:"#597493"}),c.createElement("stop",{offset:1,stopColor:"#0F2F56"})),c.createElement("linearGradient",{id:"paint4_linear_103584_157556",x1:9.5,y1:5.00003,x2:16.9411,y2:22.0001,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:1e-4,stopColor:"#597493"}),c.createElement("stop",{offset:1,stopColor:"#0F2F56"})),c.createElement("linearGradient",{id:"paint5_linear_103584_157556",x1:9.5,y1:5.00003,x2:16.9411,y2:22.0001,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:1e-4,stopColor:"#597493"}),c.createElement("stop",{offset:1,stopColor:"#0F2F56"})),c.createElement("linearGradient",{id:"paint6_linear_103584_157556",x1:9.5,y1:5.00003,x2:16.9411,y2:22.0001,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:1e-4,stopColor:"#597493"}),c.createElement("stop",{offset:1,stopColor:"#0F2F56"})),c.createElement("linearGradient",{id:"paint7_linear_103584_157556",x1:9.5,y1:5.00003,x2:16.9411,y2:22.0001,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:1e-4,stopColor:"#597493"}),c.createElement("stop",{offset:1,stopColor:"#0F2F56"}))));function V3(e){const{fileType:t,className:n}=e;switch(t){case"application/pdf":return l.jsx(I1e,{className:n});case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":case"application/msword":case"application/vnd.ms-word.document.macroEnabled.12":return l.jsx(L1e,{className:n});case"application/vnd.openxmlformats-officedocument.wordprocessingml.template":case"application/vnd.ms-word.template.macroEnabled.12":return l.jsx(b1e,{className:n});case"text/plain":return l.jsx(P1e,{className:n});case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":case"application/vnd.ms-excel":case"application/vnd.ms-excel.sheet.binary.macroEnabled.12":case"application/vnd.ms-excel.sheet.macroEnabled.12":return l.jsx(x1e,{className:n});case"application/vnd.openxmlformats-officedocument.spreadsheetml.template":case"application/vnd.ms-excel.template.macroEnabled.12":return l.jsx(O1e,{className:n});case"text/csv":return l.jsx(y1e,{className:n});case"application/vnd.openxmlformats-officedocument.presentationml.presentation":case"application/vnd.ms-powerpoint":case"application/vnd.ms-powerpoint.presentation.macroEnabled.12":return l.jsx(k1e,{className:n});case"application/vnd.openxmlformats-officedocument.presentationml.template":case"application/vnd.ms-powerpoint.template.macroEnabled.12":return l.jsx(T1e,{className:n});case"application/vnd.openxmlformats-officedocument.presentationml.slideshow":case"application/vnd.ms-powerpoint.slideshow.macroEnabled.12":return l.jsx(A1e,{className:n});case"application/json":case"text/markdown":case"image/svg+xml":case"application/xml":case"application/x-sql":case"text/javascript":case"text/css":return l.jsx(C1e,{className:n});case"application/onenote":return l.jsx(w1e,{className:n});case"application/rtf":return l.jsx(N1e,{className:n});case"application/msonenote":return l.jsx(R1e,{className:n});case"text/html":return l.jsx(E1e,{className:n});case"text/xml":return l.jsx(D1e,{className:n});case"application/vnd.ms-project":return l.jsx(M1e,{className:n});case"image/png":case"image/jpeg":return l.jsx(_1e,{className:n});default:return l.jsx(S1e,{className:n})}}function j1e(e){const{portalContainerRef:t,selector:n,children:s}=e,o=c.useRef(null),[r,a]=c.useState(!1);c.useEffect(()=>{n&&(o.current=document.querySelector(n)??document.body),a(!0)},[n]);const i=(t==null?void 0:t.current)??o.current;return r&&i?Ad.createPortal(s,i):null}function ps(e){c.useEffect(()=>(window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}),[e])}function U1e(e){const{renderTrigger:t,renderSurface:n,containerClassNames:s,color:o="default",onOutsideEvent:r,placement:a="bottom",floatingOffset:i=10,portalContainerRef:u,role:d="dialog"}=e,m=Mre(),[f,h]=c.useState(!1),g=c.useRef(null),C=c.useRef(null),v=c.useCallback(I=>{I.stopPropagation(),I.preventDefault(),h(_=>!_)},[]),y=c.useCallback(()=>{h(!1),r==null||r()},[r]),{refs:b,floatingStyles:E,context:S}=Ol({nodeId:m,placement:a,strategy:"fixed",middleware:[va(i),Rl(),Ca()],whileElementsMounted:Na,open:f,onOpenChange:(I,_,T)=>{I?h(!0):T!=="ancestor-scroll"&&y()}});return hm(S,{outsidePressEvent:"pointerdown",ancestorScroll:!0,outsidePress:I=>{if(I.target instanceof Element){const _=I.target;if(_ instanceof Element&&_.closest("[data-outside-events-ignore]")!==null)return!1}return!0}}),ps(I=>{I.key==="Escape"&&f&&y()}),l.jsxs("div",{ref:b.setReference,className:F("relative",s==null?void 0:s.trigger),children:[t({openPopover:v,isOpen:f,ref:g}),l.jsx(Nre,{id:m,children:l.jsx(j1e,{...u?{portalContainerRef:u}:{selector:"#popoverPortal"},children:l.jsx(pt,{children:f&&l.jsx(th,{context:S,modal:d==="dialog",returnFocus:!0,initialFocus:C,children:l.jsx(ge.div,{ref:b.setFloating,className:F("rounded-2xl p-3 shadow-lg",o==="thin"?Jr:Js,s==null?void 0:s.surface,ct.modal),style:{...E,...bv},role:d,tabIndex:-1,initial:"initial",animate:"animate",exit:"exit",variants:{initial:Fe,animate:nt,exit:{...Fe,transition:{duration:es.default}}},transition:{duration:es.default,ease:"easeInOut"},children:l.jsx("div",{className:F("pointer-events-auto relative max-h-expanded-section overflow-visible",ct.modal),children:n({closePopover:y,isOpen:f,focusRef:C})})})})})})})]})}function Nm(e){const{renderTrigger:t,renderSurface:n,containerClassNames:s,color:o,onOutsideEvent:r,placement:a,floatingOffset:i,portalContainerRef:u,role:d}=e,m=tc(),f=l.jsx(U1e,{renderTrigger:t,renderSurface:n,containerClassNames:s,color:o,onOutsideEvent:r,placement:a,floatingOffset:i,portalContainerRef:u,role:d});return m===null?l.jsx(Rre,{children:f}):f}const F1e="PPTX";function B1e(e){const{filename:t,downloadHandler:n,copyHandler:s}=e,[o,r]=c.useState(!1),{t:a}=q(),i=c.useMemo(()=>[{icon:l.jsx(v1e,{className:"size-5"}),title:a("powerPointFilePreview.downloadTitle"),onClick:n},{icon:l.jsx(Sh,{className:"size-5"}),title:a("powerPointFilePreview.copyLinkLabel"),onClick:s}],[a,n,s]),u=d=>{(d.key==="Enter"||d.key===" ")&&d.stopPropagation()};return l.jsx(ge.div,{className:"flex max-w-full items-center gap-4 sm:gap-5",layout:"position",initial:Fe,animate:nt,exit:Fe,children:l.jsx("div",{className:"flex max-w-full gap-3 py-2",children:l.jsxs(ne,{title:a("powerPointFilePreview.downloadTitle"),color:"default",className:"max-w-full justify-start",onClick:()=>{o||n()},"aria-label":a("powerPointFilePreview.downloadTitle"),children:[l.jsx("div",{className:"grid aspect-square size-9 place-items-center self-start rounded-lg text-accent-600",children:l.jsx(V3,{fileType:"application/vnd.openxmlformats-officedocument.presentationml.presentation",className:"size-8"})}),l.jsx("div",{className:"w-4/5 max-w-[400px] text-start",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-ligatures-none truncate text-foreground-900 text-sm",children:t}),l.jsx("p",{className:"font-ligatures-none truncate text-foreground-600 text-sm",children:F1e})]})}),l.jsx(Nm,{containerClassNames:{surface:"p-1.5 z-10"},onOutsideEvent:()=>{r(!1)},renderTrigger:({openPopover:d,isOpen:m})=>{const f=a("discover.cardActions.seeMoreDropdownState",{state:a(m?"actions.screenReaderFriendlyStatus.expanded":"actions.screenReaderFriendlyStatus.collapsed")});return l.jsx(ne,{title:f,variant:"square",size:"36-sm",color:"subtle-dimmed-inverted",onClick:h=>{d(h),r(!0)},onKeyDown:u,role:"menu","aria-label":f,children:l.jsx(Mm,{width:20,height:20,className:"rotate-90"})})},renderSurface:({closePopover:d})=>l.jsx("div",{className:"flex flex-col border-none",children:i.map((m,f)=>l.jsx(ne,{title:m.title,variant:"rect",color:"subtle-dimmed-inverted",onClick:h=>{d(h),r(!1),m.onClick()},onKeyDown:u,size:"36-sm",alignment:"start",className:"gap-1 px-2 py-0",role:"menuitem","aria-label":m.title,children:l.jsxs("div",{className:"flex min-w-[100px] place-items-center gap-2 p-1",children:[m.icon,m.title]})},f))}),placement:"bottom-start",role:"menu"})]})})})}const V1e=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M12 8V2H6C4.89543 2 4 2.89543 4 4V20C4 21.1046 4.89543 22 6 22H18C19.1046 22 20 21.1046 20 20V10H14C12.8954 10 12 9.10457 12 8ZM8.25 11.5H15.75C16.1642 11.5 16.5 11.8358 16.5 12.25C16.5 12.6642 16.1642 13 15.75 13H8.25C7.83579 13 7.5 12.6642 7.5 12.25C7.5 11.8358 7.83579 11.5 8.25 11.5ZM8.25 14.25H15.75C16.1642 14.25 16.5 14.5858 16.5 15C16.5 15.4142 16.1642 15.75 15.75 15.75H8.25C7.83579 15.75 7.5 15.4142 7.5 15C7.5 14.5858 7.83579 14.25 8.25 14.25ZM8.25 17H15.75C16.1642 17 16.5 17.3358 16.5 17.75C16.5 18.1642 16.1642 18.5 15.75 18.5H8.25C7.83579 18.5 7.5 18.1642 7.5 17.75C7.5 17.3358 7.83579 17 8.25 17ZM13.5 8V2.5L19.5 8.5H14C13.7239 8.5 13.5 8.27614 13.5 8Z"})),H1e=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M12 2V8C12 9.10457 12.8954 10 14 10H20V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V4C4 2.89543 4.89543 2 6 2H12ZM13.5 2.5V8C13.5 8.27614 13.7239 8.5 14 8.5H19.5L13.5 2.5Z"})),z1e="/static/cmc/assets/pdf-CBlMXyWV.svg",G1e=e=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"none",...e},c.createElement("path",{d:"M3 2.5C3 2.22386 3.22386 2 3.5 2H11.5C11.7761 2 12 2.22386 12 2.5V4.5C12 4.77614 11.7761 5 11.5 5C11.2238 5 11 4.77614 11 4.5V3H7.99997L7.99998 13H9C9.27614 13 9.5 13.2239 9.5 13.5C9.5 13.7761 9.27614 14 9 14H6C5.72386 14 5.5 13.7761 5.5 13.5C5.5 13.2239 5.72386 13 6 13H6.99998L6.99997 3H4V4.5C4 4.77614 3.77614 5 3.5 5C3.22386 5 3 4.77614 3 4.5V2.5Z",fill:"currentColor"}));function W1e(e){const{fileType:t,className:n}=e;switch(t){case"application/pdf":return l.jsx(xt,{url:z1e,className:n});case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":case"application/msword":return l.jsx(V1e,{className:n});case"text/plain":return l.jsx(G1e,{className:n});case"application/json":case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":case"application/vnd.ms-excel":case"application/vnd.openxmlformats-officedocument.presentationml.presentation":case"application/vnd.ms-powerpoint":case"text/csv":case"text/markdown":default:return l.jsx(H1e,{className:n})}}function $1e(e){switch(e){case"application/pdf":return"bg-system-red-350";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":case"application/msword":return"bg-midnight-300";case"text/plain":return"bg-spot-blue-300";case"application/json":case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":case"application/vnd.ms-excel":case"application/vnd.openxmlformats-officedocument.presentationml.presentation":case"application/vnd.ms-powerpoint":case"text/csv":case"text/markdown":default:return"bg-neutral-300"}}function q1e(e){const{t}=q();switch(e){case"application/pdf":return t("fileUpload.fileTypeDisplayPdf");case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":case"application/msword":return t("fileUpload.fileTypeDisplayDoc");case"text/plain":return t("fileUpload.fileTypeDisplayTxt");case"application/json":return t("fileUpload.fileTypeDisplayJson");case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":case"application/vnd.ms-excel":return t("fileUpload.fileTypeDisplayXlsx");case"application/vnd.openxmlformats-officedocument.presentationml.presentation":case"application/vnd.ms-powerpoint":return t("fileUpload.fileTypeDisplayPptx");case"text/csv":return t("fileUpload.fileTypeDisplayCsv");case"text/markdown":return t("fileUpload.fileTypeDisplayMarkdown");default:return t("fileUpload.fileTypeDisplayDefault")}}const K1e=c.lazy(()=>B(()=>Promise.resolve().then(()=>P3),void 0));function H3(e){var y;const{onRemove:t,fileName:n,fileType:s,isUploading:o,role:r,ariaLabel:a,layout:i="grid"}=e,{t:u}=q(),d=$1e(s),m=q1e(s),f=i==="list",h=c.useCallback(()=>{t==null||t(),vo({msg:u("fileUpload.fileRemoved")})},[t,u]),g=G("file-upload-card-v2"),C=!!((y=ae.instance().config().composer)!=null&&y.smallAttachmentCard)||g,v=l.jsx(ln,{className:F("absolute inset-0 grid place-items-center ",{"bg-white/80 dark:bg-white/45":!f,"bg-transparent":f}),children:o?l.jsxs(l.Fragment,{children:[l.jsx(c.Suspense,{fallback:l.jsx("div",{"aria-hidden":!0}),children:l.jsx(K1e,{type:"spinnerThemed",className:f?"size-8":"size-11"})}),l.jsx(Pi,{msg:u("fileUpload.uploadingFile"),type:"polite"})]}):null});return l.jsxs(ge.div,{className:le("relative flex justify-center gap-2 overflow-hidden rounded-xl",{"mt-1 h-small-attachment w-auto flex-row items-center pe-8":C,"h-32 w-44 flex-col":!C,"w-full bg-transparent !pe-0":f,"border border-black/8 bg-acrylic-thin-fallback-light/60 p-3 dark:border-white/8 dark:bg-midnight-800/80 sm:w-56":!f}),layout:"position",initial:Fe,animate:nt,exit:Fe,role:r,"aria-label":a,children:[g?l.jsx("div",{className:F("relative",{"h-8 w-8":C&&f}),children:f&&o?v:l.jsx(V3,{fileType:s,className:"size-8"})}):l.jsx("div",{className:le("grid aspect-square size-8 place-items-center self-start rounded-full text-black",d),children:l.jsx(W1e,{fileType:s,className:"size-5"})}),l.jsxs("div",{className:le({"min-w-0 flex-1":C}),children:[l.jsx("p",{className:le("font-ligatures-none truncate text-sm",{"overflow-hidden whitespace-nowrap":C}),children:n}),l.jsx("p",{className:"line-clamp-1 text-foreground-600 text-xs",children:m})]}),t&&!o&&l.jsx("button",{type:"button",title:u("fileUpload.removeFileWithName",{name:n}),"aria-label":u("fileUpload.removeFileWithName",{name:n}),onClick:h,className:F("rounded-full  p-1 ",{"border border-black/20 text-foreground-850 dark:border-white/20":!g,"bg-transparent":g,"absolute end-0.5 top-0.5 m-1":!f}),children:l.jsx(an,{className:"size-3"})}),f?null:v]})}function Z1e(e){const{contentType:t,name:n,url:s}=e,{t:o}=q(),r=oe(Sn),a=M(je),i=c.useRef(!1);c.useEffect(()=>{if(i.current)return;i.current=!0;const f=t.startsWith("image/")?"image":"file";D.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionElement:f,eventInfo_conversationId:a,eventInfo_impressionScenario:"renderArtifact",eventInfo_customData:JSON.stringify({url:s}),eventInfo_fileType:t}})},[s,n,a,t]);const u=c.useCallback(()=>{const f={url:s,fileName:n};D.trackEvent({name:"system",data:{eventName:"copilotClick",eventInfo_clickScenario:"downloadArtifact",eventInfo_clickSource:"fileDownloadButton",eventInfo_conversationId:a,eventInfo_customData:JSON.stringify({url:s}),eventInfo_fileType:t}}),Fk(f).catch(h=>{const g=h instanceof Error?h.message:"unknown file card error";b5(g),g.includes("status: 404")?r({title:o("common.fileUnavailable"),subtitle:o("common.fileUnavailableDetails"),dismissAfter:3e3}):r({title:o("common.downloadFailed"),subtitle:o("common.downloadFailedDetails",{fileName:n}),dismissAfter:3e3})})},[s,n,o,r,a,t]),d=c.useCallback(async()=>{const f=dm(s)?s:new URL(yC()+s,window.location.origin).href;await navigator.clipboard.writeText(f),vo({msg:o("chat.copied"),type:"polite"})},[o,s]);return s?(()=>{switch(t){case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return l.jsx("div",{className:"flex w-fit max-w-full items-center gap-4 md:max-w-96",children:l.jsx(B1e,{filename:n,downloadHandler:u,copyHandler:d})});case"application/pdf":case"application/vnd.ms-excel":case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":case"application/msword":case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":case"text/plain":case"text/csv":case"application/json":case"application/xml":case"text/html":case"text/css":case"text/javascript":case"application/javascript":case"image/jpeg":case"image/png":case"image/gif":case"image/svg+xml":case"image/webp":case"audio/mpeg":case"audio/wav":case"audio/ogg":case"video/mp4":case"video/webm":case"video/ogg":case"application/zip":case"application/x-rar-compressed":case"application/x-7z-compressed":default:return l.jsxs("div",{className:"flex w-fit max-w-full items-center gap-4 md:max-w-96",children:[l.jsx(H3,{fileName:n,fileType:t}),l.jsx(ne,{title:o("common.download"),size:"36-sm",variant:"circle",color:"subtle-dimmed-inverted",onClick:u,"aria-label":o("common.download"),className:"shrink-0 border border-stroke-350",children:l.jsx(yd,{className:"size-5"})})]})}})():(b5("No URL provided"),null)}const Vk=.6,Y1e=new Set(["html"]);function Ar(e={},t={}){return{start:{...e,opacity:0},end:n=>({...t,opacity:1,transition:{delay:n,ease:"easeInOut",duration:Vk}})}}function ZAe(e,t){if(!Y1e.has(e))return!1;const n=t.trim();return!!(e==="html"&&/(<\/html>)(\n?```)?$/.test(n)&&n.match(/^(<!DOCTYPE html>|<html>|<!doctype html>)/))}const Q1e=Ar();function J1e(e){const{items:t,shouldAnimate:n,BlockRenderer:s,delay:o}=e;return l.jsx(ge.blockquote,{className:"flex flex-col gap-3 border-s-2 border-foreground-300 ps-3",variants:Q1e,initial:n?"start":"end",animate:"end",custom:o,children:l.jsx(s,{blocks:t,shouldAnimate:n})})}const Rm=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M12.0001 1.99805C17.5238 1.99805 22.0016 6.47589 22.0016 11.9996C22.0016 17.5233 17.5238 22.0011 12.0001 22.0011C6.47638 22.0011 1.99854 17.5233 1.99854 11.9996C1.99854 6.47589 6.47638 1.99805 12.0001 1.99805ZM14.939 16.4993H9.06118C9.71322 18.9135 10.8466 20.5011 12.0001 20.5011C13.1536 20.5011 14.2869 18.9135 14.939 16.4993ZM7.5084 16.4999L4.78591 16.4998C5.74425 18.0328 7.1777 19.2384 8.88008 19.9104C8.3578 19.0906 7.92681 18.0643 7.60981 16.8949L7.5084 16.4999ZM19.2143 16.4998L16.4918 16.4999C16.168 17.8337 15.7004 18.9995 15.119 19.9104C16.716 19.2804 18.0757 18.1814 19.0291 16.7833L19.2143 16.4998ZM7.09351 9.99895H3.7359L3.73115 10.0162C3.57906 10.6525 3.49854 11.3166 3.49854 11.9996C3.49854 13.0558 3.69112 14.0669 4.0431 14.9999L7.21626 14.9995C7.07396 14.0504 6.99854 13.0422 6.99854 11.9996C6.99854 11.3156 7.031 10.6464 7.09351 9.99895ZM15.397 9.99901H8.60316C8.53514 10.6393 8.49853 11.309 8.49853 11.9996C8.49853 13.0591 8.58468 14.0694 8.73827 14.9997H15.2619C15.4155 14.0694 15.5016 13.0591 15.5016 11.9996C15.5016 11.309 15.465 10.6393 15.397 9.99901ZM20.2647 9.99811L16.9067 9.99897C16.9692 10.6464 17.0016 11.3156 17.0016 11.9996C17.0016 13.0422 16.9262 14.0504 16.7839 14.9995L19.9571 14.9999C20.309 14.0669 20.5016 13.0558 20.5016 11.9996C20.5016 11.3102 20.4196 10.64 20.2647 9.99811ZM8.88114 4.08875L8.85823 4.09747C6.81092 4.91218 5.1549 6.49949 4.25023 8.49935L7.29835 8.49972C7.61171 6.74693 8.15855 5.221 8.88114 4.08875ZM12.0001 3.49805L11.8844 3.50335C10.619 3.6191 9.39651 5.62107 8.8288 8.4993H15.1714C14.6052 5.62914 13.388 3.63033 12.1264 3.50436L12.0001 3.49805ZM15.1201 4.08881L15.2269 4.2629C15.8961 5.37537 16.4043 6.83525 16.7018 8.49972L19.7499 8.49935C18.8853 6.58795 17.3343 5.05341 15.4113 4.21008L15.1201 4.08881Z"})),YAe=Object.freeze(Object.defineProperty({__proto__:null,default:Rm},Symbol.toStringTag,{value:"Module"})),Hk=c.createContext(null);function X1e(e){const{children:t,enabled:n}=e;return l.jsx(Hk.Provider,{value:n,children:t})}function ehe(){return c.useContext(Hk)===!0}function the(){const e=Zt("kill-rich-citations"),t=ehe();return!!(!e&&t)}const Pm=c.createContext(void 0);function zk(e,t,n){fI({source:e==="row"?"citationCardRowButton":"citationReferencePanelCard",scenario:"openLink",conversationId:t,destination:n})}function QAe(e){ye({source:"citationCardShowAllButton",scenario:"openPanel",conversationId:e})}function e9(e,t,n){fI({source:e==="inline"?"inlineCitationLink":"hoverCitationLink",scenario:"openLink",conversationId:t,destination:n})}function nhe(e,t){let n;e==="card"?n="citationCardRowButton":e==="inline"?n="inlineCitationButton":n="citations",un({page:"chat",element:n,scenario:"shown",customData:t})}const she=Ar(),ohe=150;function rhe(e){const{url:t,title:n,index:s,shouldAnimate:o,delay:r,onCitationClick:a,onCitationHover:i,onCitationHoverEnd:u,subCitations:d}=e,m=c.useContext(Pm),f=c.useId(),h=c.useId(),g=zC(),C=M(je),v=the(),y=fT(),b=G("passage-highlight")&&v,[E,S]=c.useState(!1),[I,_]=c.useState(!1),[T,A]=c.useState(!1),[k,R]=c.useState(0),P=c.useRef(null),V=c.useRef(null),U=c.useRef(null),K=c.useRef(null),Z=c.useRef(null),Y=c.useRef(null),Q=E||I||T,ee=c.useRef(!1),$=Be=>{U.current&&(clearTimeout(U.current),U.current=null),Be?_(!0):U.current=setTimeout(()=>{_(!1)},150)},{refs:te,floatingStyles:J}=YC({placement:"bottom",elements:{reference:P.current},middleware:v?[va(6),Ca()]:[va(6),Rl(),Ca()],strategy:v?"fixed":"absolute",whileElementsMounted:v?Na:void 0});Co({onOutsideEvent:()=>S(!1),elements:[te.floating,P],includeScroll:!1,invokeOnce:!0}),ps(Be=>{(Be.key==="Escape"||Be.key==="Control")&&S(Ce=>(Ce&&P.current&&P.current.focus(),!1))}),c.useEffect(()=>{v&&nhe("inline")},[v]),c.useEffect(()=>()=>{U.current&&clearTimeout(U.current),Y.current&&clearTimeout(Y.current)},[]);const W=()=>{if(v){if(d&&d.length>0){if(!d[0])return;if(y||d.length===1){const Be=uo(t);e9("inline",C,Be),Io(d[0].url),ee.current=!0,A(!1),_(!1)}if(!y){if(!m||!C)return;const Be=d.map(Ce=>Ce.url);if(Be.length<=1)return;Al({type:"citations",data:{conversationId:C,messageId:m,targetCitationIds:Be}})}}}else S(!0)},ie=()=>{$t({source:"citationLink",conversationId:C,messageId:m,destination:uo(t)}),S(!1),a&&a()},Se=()=>{const Be=uo(t);e9("hover",C,Be),a&&a()},me=c.useCallback(()=>{v&&y&&(_(!0),b&&(i==null||i()))},[_,v,y,b,i]),re=c.useCallback(()=>{v&&y&&(_(!1),b&&(u==null||u()))},[_,v,y,b,u]),xe=()=>{if(v){re();return}$(!1)},Ne=()=>{if(v){me();return}$(!0)},Oe=()=>{v&&y&&(ee.current?ee.current=!1:(A(!0),setTimeout(()=>{V.current&&P.current&&ahe(V.current,P.current,ct.composer)},ohe),b&&(i==null||i())))},se=Be=>{if(v){const Ce=Be.relatedTarget,ze=V.current;ze!=null&&ze.contains(Ce)||(A(!1),b&&(u==null||u()))}},ce=Be=>{if(v&&Q&&Be.key==="Tab"&&!Be.shiftKey){const Ce=V.current;if(Ce){const ze=t9(Ce);ze[0]&&(Be.preventDefault(),ze[0].focus())}}},X=Be=>{var Ce,ze,Ct,Me;if(Be.key==="Escape")T&&(A(!1),ee.current=!0,(Ce=P.current)==null||Ce.focus(),Be.preventDefault());else if(Be.key==="Tab"){const Ie=V.current;if(Ie){const Ze=Array.from(t9(Ie)).filter(Te=>!Te.hasAttribute("data-tabster-dummy")&&!Te.hasAttribute("disabled")),at=Array.from(Ze).indexOf(Be.target);at===-1||Be.shiftKey&&at===0||!Be.shiftKey&&at===Ze.length-1?(A(!1),ee.current=!0,(ze=P.current)==null||ze.focus(),Be.preventDefault()):Be.shiftKey?((Ct=Ze[at-1])==null||Ct.focus(),Be.preventDefault()):((Me=Ze[at+1])==null||Me.focus(),Be.preventDefault())}}},ve=Be=>Ce=>{if(Ce.preventDefault(),!(d!=null&&d.length))return;const ze=Be==="previous",Ct=ze?K:Z,Me=ze?Z:K,Ie=document.activeElement===Ct.current,Ze=ze?k===1:k===d.length-2;R(at=>{let Te;return ze?at>0?Te=at-1:Te=d.length-1:at<d.length-1?Te=at+1:Te=0,Ie&&Ze&&Me.current&&(Y.current&&clearTimeout(Y.current),Y.current=setTimeout(()=>{var dt;(dt=Me.current)==null||dt.focus(),Y.current=null},0)),Te})},Re=ve("previous"),qe=ve("next"),Xe=Is(t),et=d&&d[0],fe=c.useMemo(()=>(et==null?void 0:et.publisher)??$2(t),[et==null?void 0:et.publisher,t]),Ee=d&&d[k],Ae=c.useMemo(()=>(Ee==null?void 0:Ee.publisher)??$2((Ee==null?void 0:Ee.url)??t),[Ee==null?void 0:Ee.publisher,Ee==null?void 0:Ee.url,t]),Ye=d&&d.length>=2,De=v?`${fe} ${Ye?z("chat.groupedCitationButtonLabel",{subCitationCount:d.length-1}):""}`:s,Ke=z("chat.citationPopoverButtonLabel",{citationNumber:De});return l.jsxs(ge.span,{initial:o?"start":"end",animate:"end",variants:she,custom:r,className:F("group relative inline-block pb-1 align-middle",v?"mx-1 h-6":"mx-0.5 h-5 w-4"),"data-copy":"false","data-tabster":'{"uncontrolled": {}}',children:[l.jsx("button",{id:h,"aria-expanded":E||I||T,"aria-controls":f,"aria-label":Ke,ref:P,type:"button",className:F("flex size-full items-center justify-center rounded-md pt-px text-2xs [font-variation-settings:'opsz'_40,_'wght'_450] hover:bg-accent-250 focus:bg-accent-250 contrast-more:border",E&&"pointer-events-none",v?"px-1":"mx-px",v?"bg-black/5 text-foreground-750 dark:bg-white/5 hover:dark:bg-accent-250 focus:dark:bg-accent-250":"bg-accent-200 text-foreground-800 dark:bg-muted-300 hover:dark:bg-background-400 focus:dark:bg-background-400"),onClick:W,onPointerEnter:Ne,onPointerLeave:xe,onFocus:Oe,onBlur:se,onKeyDownCapture:ce,children:v?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:F(Ye&&"me-1","max-w-24 truncate"),children:fe}),Ye&&l.jsxs("span",{children:["+",d.length-1]})]}):s}),!v&&Q&&l.jsx("span",{id:f,role:"dialog","aria-labelledby":h,className:F("absolute w-screen px-4 max-sm:mb-2 sm:w-[350px] sm:px-0",ct.citations),style:J,ref:te.setFloating,onPointerEnter:()=>$(!0),onPointerLeave:()=>$(!1),children:l.jsx(ge.span,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{scale:{duration:.2},opacity:{duration:.15}},className:"origin-top-left",style:bv,children:l.jsx("a",{tabIndex:0,onClick:ie,className:"flex w-full rounded-2xl border border-stroke-100 bg-background-100 p-3 shadow-lg dark:bg-background-250",href:uo(t),target:"_blank",rel:g,children:l.jsxs("span",{className:"w-full flex-1 space-y-0.5",children:[l.jsx("span",{className:"line-clamp-1 text-sm-strong",children:n}),l.jsx("span",{className:"line-clamp-1 flex items-center gap-1.5 text-foreground-600 text-xs",children:Xe})]})})})}),v&&l.jsx(pt,{children:Q&&l.jsx(Ll,{children:l.jsx("span",{id:f,role:"dialog","aria-labelledby":h,className:F("absolute w-screen max-w-[350px] px-4 max-sm:mb-2 sm:px-0",ct.citationHoverCard),style:J,ref:Be=>{te.setFloating(Be),V.current=Be},"data-tabster":'{"uncontrolled": {}}',onPointerEnter:()=>_(!0),onPointerLeave:()=>_(!1),onKeyDownCapture:X,children:l.jsx(ge.span,{className:"block origin-top",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.15,delay:.15},children:l.jsx("span",{className:"flex w-full rounded-2xl border border-stroke-100 bg-background-100 p-3 shadow-lg dark:bg-background-250",children:l.jsxs("span",{className:"w-full flex-1 flex-col",children:[l.jsxs("a",{href:uo((Ee==null?void 0:Ee.url)??t),target:"_blank",rel:g,onClick:Se,className:"block",children:[l.jsxs("h2",{className:"flex w-full items-center gap-1.5",children:[l.jsx("span",{className:"inline-block size-3.5 rounded",children:Ee!=null&&Ee.iconUrl?l.jsx("img",{src:Ee.iconUrl,alt:z("citationCards.citationIcon"),className:"size-full rounded bg-white object-cover"}):l.jsx(Rm,{className:"size-3.5 text-foreground-700 dark:text-foreground-800"})}),l.jsx("span",{className:"line-clamp-1 text-sm",children:Ae})]}),l.jsx("span",{className:"mt-1 line-clamp-1 text-sm-medium",children:Ee==null?void 0:Ee.title}),l.jsx("span",{className:"mt-1 line-clamp-2 text-foreground-700 text-sm",children:Ee==null?void 0:Ee.snippet}),l.jsx("span",{className:"mt-1 line-clamp-1 truncate text-foreground-600 text-xs",children:Ee==null?void 0:Ee.url})]}),d&&d.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"my-2 h-px bg-stroke-700/12"}),l.jsxs("span",{className:"mt-2 flex justify-between",children:[l.jsxs("div",{className:"flex gap-1",children:[l.jsx(x5,{ref:K,onClick:Re,disabled:k===0,title:z("citationCards.previousCitation"),children:l.jsx(us,{className:"size-4 text-foreground-800 ltr:rotate-180"})}),l.jsx(x5,{ref:Z,onClick:qe,disabled:k===d.length-1,title:z("citationCards.nextCitation"),children:l.jsx(us,{className:"size-4 text-foreground-800 rtl:rotate-180"})})]}),l.jsxs("span",{className:"text-foreground-600 text-sm",children:[k+1," / ",d.length]})]})]})]})})})})})})]},"citation")}const ahe=(e,t,n)=>{const s=e.getBoundingClientRect(),o=2,r=e.style,a=r.pointerEvents;r.pointerEvents="none";try{const i=[[s.left+o,s.top+o],[s.right-o,s.top+o],[s.left+o,s.bottom-o],[s.right-o,s.bottom-o],[s.left+s.width/2,s.top+s.height/2]],u=new Set;for(const[d,m]of i){const f=document.elementFromPoint(d,m);!f||f===e||e.contains(f)||f.contains(e)||u.add(f)}for(const d of u)if(ihe(d,n)){t.scrollIntoView({behavior:"smooth",block:"center"});return}}finally{r.pointerEvents=a}};function ihe(e,t){const n=/^z-\[?(\d+)\]?$/.exec(t);if(!(n!=null&&n[1]))throw new Error(`Invalid z-index class: "${t}". Expected format: "z-{number}" or "z-[{number}]"`);const s=parseInt(n[1],10);let o=e;for(;o&&o!==document.body;){const r=Number(window.getComputedStyle(o).zIndex);if(!Number.isNaN(r)&&r===s)return!0;o=o.parentElement}return!1}function t9(e,t={}){const{includeDisabled:n}=t,s=n?'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])':'button:not([disabled]), [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';return e.querySelectorAll(s)}const x5=c.forwardRef((e,t)=>{const{title:n,onClick:s,disabled:o,children:r}=e;return l.jsx("button",{ref:t,type:"button",title:n,disabled:o,onClick:s,"aria-label":n,className:F("relative flex",o&&"opacity-20",!o&&"hover:opacity-90",gm),children:r})});x5.displayName="NavigationButton";const che=rhe,lhe=100,uhe=70,dhe=4,Li=$e(),S5=N(null),Gk=N("");let v0=null;function mhe(e){Li.set(Gk,e)}function n9(){return Li.get(Gk)}function Uc(e){Li.set(LC,e)}function Wk(){const e=Li.get(S5);e&&(e.abort(),Li.set(S5,null))}function fhe(){Wk();const e=new AbortController;return Li.set(S5,e),e}function phe(e,t){const n=new URL("https://www.bing.com/AS/Suggestions/V2?pt=page.chat"),s=Rt.resolvedLanguage,o=pe(Mn);return n.searchParams.set("setlang",(s==null?void 0:s.toLowerCase())??"en"),n.searchParams.set("cc",(o==null?void 0:o.toLowerCase())??"us"),n.searchParams.set("qry",e.toLowerCase()),n.searchParams.set("cvid",t),be("encacsc")&&n.searchParams.set("ascopilot1","1"),be("enblsuggrndmzn")&&n.searchParams.set("ascopilot2","1"),be("encpsrchdata")&&n.searchParams.set("ascopilot3","1"),be("zi-autosuggest")&&n.searchParams.set("ascopilot4","1"),n.toString()}async function hhe(e){const{query:t,conversationId:n,abortController:s}=e,o={query:t.toLowerCase()};return(await St(`/conversations/${n}/autosuggest`,FK,{query:o,options:{method:"GET",signal:s.signal}})).data}async function ghe(e){const{query:t,conversationId:n,abortController:s}=e,o=phe(t,n);return fetch(o,{signal:s.signal}).then(r=>r.json())}async function vhe(e){return be("autosuggest-picasso")?hhe(e):ghe(e)}function Che(e,t){const n=t.text??t.st??"",s=e.toLowerCase().split(/\s+/),o=n.toLowerCase().split(/\s+/);let r=0;for(let d=0;d<Math.min(s.length,o.length)&&s[d]===o[d];d+=1)r+=1;const a=n.split(/\s+/),i=a.slice(0,r).join(" "),u=a.slice(r).join(" ");return{original:n,sliced:u,prefill:i+(i?" ":"")}}async function yhe(e){var n;const t=pe(je);if(t)try{const s=fhe(),o=performance.now(),r=await vhe({query:e,conversationId:t,abortController:s});if(e===n9()){const a="suggestions"in r?r.suggestions:r.s;let i=e;if("qc"in r&&typeof r.qc.q=="string"&&(i=r.qc.q),!a.length){Uc(null),qt({feature:"fetchChatAutoComplete",errorType:"NoSuggestions",customData:JSON.stringify({conversationId:t})});return}const u=a.filter(d=>"text"in d&&"source"in d?typeof d.text=="string"&&typeof d.source=="string":"st"in d&&"t"in d?typeof d.st=="string"&&typeof d.t=="string":!1).map(d=>Che(i,d));if(!u.length){Uc(null),qt({feature:"fetchChatAutoComplete",errorType:"NoSuggestions",customData:JSON.stringify({conversationId:t})});return}Uc({prefill:((n=u[0])==null?void 0:n.prefill)??e,conversationId:t,type:"BCT",suggestions:u.slice(0,dhe)}),go({feature:"fetchChatAutoComplete",duration:performance.now()-o})}}catch(s){s instanceof DOMException&&s.name==="AbortError"||D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"autosuggest",eventInfo_errorMessage:`${s}`,eventInfo_details:"Autosuggest API error"}}),e===n9()&&Uc(null)}}function bhe(e){v0&&clearTimeout(v0),v0=setTimeout(()=>{yhe(e)},lhe)}function $k(e){var r;let t=(r=ae.instance().config().landingPage)==null?void 0:r.regexForAutoSuggest;be("zi-autosuggest")&&(t=/\S*/);const n=be("autosuggest")||be("edge-autosuggest"),s=pe(je);if(!n||!t||!t.test(e)||e.length>=uhe){Uc(null);return}mhe(e);const o=be("zi-autosuggest");!s||e===""&&!o?Uc(null):bhe(e)}function Wf(){Wk(),Li.set(LC,null)}function xhe(){const e=pe(Ta),t=pe(hn);return e.length===0&&!!(t!=null&&t.isNew)}function Eh(){return!pe(lC)}function She(){var i;const e=ut(),t=e==="/"?"center":"bottom",n=Eh(),{showShoppingCardInNewChat:s}=oc(),o=!gt({breakpoint:"sm"}),r=e==="/",a=!!((i=ae.instance().config().landingPage)!=null&&i.enableCentralComposer);return n&&!(s&&o)&&t==="center"&&r&&a}function Ehe(){var s;const e=Eh(),t=wr(),n=!!((s=ae.instance().config().landingPage)!=null&&s.enableStarterPrompts);return e&&t&&n}function qk(){var o;const e=Eh(),t=wr(),n=pe(Rce),s=!!((o=ae.instance().config().landingPage)!=null&&o.enableWidgets);return e&&n&&t&&s}function whe(){const e=Eh(),t=wr(),n=qk(),s=be("appr-home");return e&&t&&s&&!n}function Kk(){var r;const e=be("autosuggest"),t=be("edge-autosuggest"),n=wr(),s=e||t,o=!!((r=ae.instance().config().landingPage)!=null&&r.enableAutoSuggest);return s&&o&&n}function Ihe(){const{launchGreetingShown:e}=uA(),{hasInsightsSummary:t}=oc(),n=M(xle),s=JT(),o=xhe()||s==="/",r=Ak();return!t&&!n&&!e&&o&&!r}function Lm(){const e=whe(),t=She(),n=Ihe(),s=g3();return{isAutoSuggestEnabled:Kk(),isCentralComposerEnabled:t,isStarterPromptsEnabled:Ehe(),isWidgetSectionEnabled:qk(),isAppearanceOnHomeEnabled:e,isGreetingCentered:e||!s&&be("categorized-conversation-starter-widget"),showLaunchGreeting:n}}const Zk=$e(),z3=N(null),G3=N(null);function Yk(e){Zk.set(z3,e)}function Qk(e){Zk.set(G3,e)}function _he(e,t){var a;const n={eventInfo_inputLength:e.length};let s=n;const o=pe(z3);if(o){const{source:i,type:u,prompt:d}=o;i==="widgets"?s={...n,widget:u,widgetPromptLength:d.length}:i==="guideLink"?s={...n,guideLinkLength:d.length,guideLinkText:d}:s={...n,pill:u,pillPromptLength:d.length}}const r=pe(G3);return r&&(s={...s,autoCompleteLength:r.prompt.length}),(t==null?void 0:t.length)!==0&&((a=t==null?void 0:t[0])!=null&&a.scenario)&&(s={...s,uploadFileScenario:t[0].scenario}),JSON.stringify(s)}function The(e){const t=pe(z3),n=pe(G3),s=t==null?void 0:t.prompt.trim(),o=e.trim(),r=n==null?void 0:n.prompt.trim(),a=n==null?void 0:n.prefix.trim(),i=o.toLowerCase()===(r==null?void 0:r.toLowerCase());return!i&&!t?null:i?!s||!o.toLowerCase().includes(s.toLowerCase())?"autoComplete":a&&a.length>s.length?(t==null?void 0:t.source)==="widgets"?"widgetWithTextAndAutoComplete":"pillWithTextAndAutoComplete":(a==null?void 0:a.length)===s.length?(t==null?void 0:t.source)==="widgets"?"widgetWithAutoComplete":"pillWithAutoComplete":"autoComplete":!s||!o.toLowerCase().includes(s.toLowerCase())?null:o.length>s.length?(t==null?void 0:t.source)==="widgets"?"widgetWithText":(t==null?void 0:t.source)==="guideLink"?"guideLinkWithText":"pillWithText":(t==null?void 0:t.source)==="widgets"?"widget":(t==null?void 0:t.source)==="guideLink"?"guideLink":"pill"}function Ahe(){Yk(null),Qk(null)}const khe=$e();function Jk(e){const{text:t,attachments:n,inputMethod:s}=e,o=PX(),r=z2(),a=l1({breakpoint:"sm"}),i=xo(),u=pe(So),d=!It("kill-chat-message-preview"),m=i==="computerUse",f=be("long-term-memory"),h=be("conversation-drift-detection"),g=d&&($ie()&&i==="smart"||f||h)&&TS(),v=Kk()&&!u&&!m;if(t||Tu("starter-prompts"),Ja(o.length<=0||t.length===0),t_(!1),khe.set(V1,void 0),FX(s??"user"),r&&zA("typing"),a&&_le(),v&&$k(t),g)try{jn.sendMessagePreview({text:t,inputMethod:"text",filesWithAttachment:n??[]})}catch{}}function bd(e){const{prompt:t,prefillSource:n}=e;document.querySelector(`#${Fd}`)&&(Wf(),j2(t),Jk({text:t,inputMethod:n}),E5("end"))}function E5(e=null){const t=document.querySelector(`#${Fd}`);if(!t)return;requestAnimationFrame(()=>{if(t.focus(),e===null)return;const s=t.value.length;if(e==="selectAll"){t.setSelectionRange(0,s);return}let o;e==="start"?o=0:o=s,t.setSelectionRange(o,o)})}async function W3(e){const{actionType:t,id:n,prompt:s,source:o}=e;switch(t){case"prefillComposer":{if(s){n&&Yk({prompt:s,type:n,source:o});let r="starterPill";o==="widgets"?r="widget":o==="guideLink"&&(r="guideLink"),bd({prompt:s,prefillSource:r})}break}case"sendMessage":{if(s)try{Ep(!0),await Xs(),await jn.submitMessage({text:s,inputMethod:"text"})}finally{Ep(!1)}break}}}const Mhe=Ar(),Nhe="text-start text-base-medium underline-offset-4 underline decoration-dotted hover:decoration-solid hover:cursor-pointer";function Rhe(e){const{url:t,text:n,shouldAnimate:s,delay:o}=e,{t:r}=q(),a=G("guided-conversations-cocoa"),i=G("guided-conversations-caramel"),u=async()=>{const f=Fae(t)??r("guidedConversation.prefix",{topic:n});ye({source:"guidedConversationLink",scenario:"prefill",destination:"composer"}),await W3({actionType:"prefillComposer",source:"guideLink",prompt:f,id:`guide-${n.toLowerCase().replace(/\s+/g,"-")}`})},d=()=>F(Nhe,{"decoration-cocoa-350":a,"decoration-caramel-350":i});return s?l.jsx(ge.button,{className:d(),onClick:u,"data-url":t,initial:"start",animate:"end",variants:Mhe,custom:o,children:n}):l.jsx("button",{type:"button",className:d(),onClick:u,"data-url":t,children:n})}const Phe="https://#timestamp-",Lhe="https://#settings:privacy";function Xk(e){return e?e.startsWith(Phe)?"VideoCitation":e.startsWith(Lhe)?"PrivacySettings":"Unknown":"Unknown"}function Ohe(e){return Xk(e)!=="Unknown"}function Dhe(e){if(!/^\d{2}:\d{2}:\d{2}$/.test(e))return e;const[n,s,o]=e.split(":");return n==="00"?(s==null?void 0:s.charAt(0))==="0"?`${s.substring(1)}:${o}`:`${s}:${o}`:(n==null?void 0:n.charAt(0))==="0"?`${n.substring(1)}:${s}:${o}`:e}const jhe=Ar(),s9="font-bold text-accent-550 dark:text-accent-600 hover:underline text-start align-top";function Uhe(e){const{url:t,text:n,shouldAnimate:s,shouldHighlight:o,delay:r}=e,a=c.useContext(Pm),i=M(je),u=Xk(t),d=async()=>{switch(u){case"VideoCitation":await LJ.run({url:t});break;case"PrivacySettings":await FJ.run({url:t});break}D.trackEvent({name:"interaction",data:{eventName:"localCitationClick",eventInfo_messageId:a??"",eventInfo_conversationId:i??"",eventInfo_citationType:u}})};c.useEffect(()=>{D.trackEvent({name:"interaction",data:{eventName:"localCitationImpression",eventInfo_messageId:a??"",eventInfo_conversationId:i??"",eventInfo_citationType:u}})},[a,i,u]);const m=Dhe(n);return s?l.jsx(ge.button,{className:F(s9,o&&s5),onClick:d,"data-url":t,initial:"start",animate:"end",variants:jhe,custom:r,children:m}):l.jsx("button",{type:"button",className:F(s9,o&&s5),onClick:d,"data-url":t,children:m})}function Fhe(e){const[t,n]=c.useState(null),[s,o]=c.useState(null),r=(d,m)=>{if(!m)return;const f=d===t,h=s!==null&&d===s-1;return F(s5,f&&"rounded-s-md ps-0.5 -ms-0.5",h&&"rounded-e-md pe-0.5 -me-0.5")},a=c.useCallback(d=>{const m=Kae(e,d);o(d),n(m)},[e]),i=c.useCallback(()=>{n(null),o(null)},[]),u=c.useCallback(d=>Zae(d,t,s),[t,s]);return{handleCitationHover:a,handleCitationHoverEnd:i,isItemHighlighted:u,getHighlightClass:r}}const o9=Ar(),r9="font-bold text-accent-550 dark:text-accent-600 underline text-start cursor-pointer";function Ko(e){const{items:t,shouldAnimate:n,shouldHighlight:s,dangerouslyUseHtml:o,shouldTestForUrl:r=!0}=e,a=c.useContext(Pm),i=pe(je),u=oe(s_),d=oe(So),m=G("suppress-inline-link-nav-dialog")||(ae.instance().config().suppressInlineLinkNavConfirmationPopups??!1),{handleCitationHover:f,handleCitationHoverEnd:h,isItemHighlighted:g,getHighlightClass:C}=Fhe(t);return l.jsx(l.Fragment,{children:t.map((v,y)=>{var P;const b=!!s||g(y),E=C(y,b);if(v.type==="citation"){const{title:V,url:U,index:K,delay:Z,subCitations:Y}=v;return l.jsx(che,{title:V,url:U,index:K,shouldAnimate:n,delay:Z,subCitations:Y,onCitationHover:()=>f(y),onCitationHoverEnd:h},y)}if(v.type==="italic"||v.type==="bold"||v.type==="strikethrough"||v.type==="sup"||v.type==="sub"||v.type==="code"){const V=l.jsx(Ko,{items:v.items,shouldAnimate:n,dangerouslyUseHtml:o});return v.type==="italic"?l.jsx("em",{className:E,children:V},y):v.type==="bold"?l.jsx("strong",{className:E,children:V},y):v.type==="strikethrough"?l.jsx("del",{className:E,children:V},y):v.type==="sup"?l.jsx("sup",{className:E,children:V},y):v.type==="sub"?l.jsx("sub",{className:E,children:V},y):l.jsx(ge.code,{className:"font-ligatures-none mx-0.5 rounded-[4px] border border-stroke-300 bg-accent-200/60 px-1 py-px font-mono text-foreground-800 text-sm dark:bg-accent-200",initial:n?"start":"end",animate:"end",variants:o9,custom:v.delay,children:V},y)}if(v.type!=="word")return null;const{word:S,url:I,delay:_,format:T}=v,k=Bhe({word:S,url:I,testForUrl:!T&&r}),R={initial:"start",animate:"end",variants:o9,custom:_,...o===!0||T==="latexAsHtml"?{dangerouslySetInnerHTML:{__html:((P=window.copilotTrustedTypesPolicy)==null?void 0:P.createHTML(S))??""}}:{children:S}};if(k.url){if(Uae(k.url))return l.jsx(Rhe,{url:k.url,text:k.word,shouldAnimate:n,delay:_},y);if(Ohe(k.url))return l.jsx(Uhe,{url:k.url,text:k.word,shouldAnimate:n,shouldHighlight:b,delay:_},y);const V=()=>{if(m&&k.url){Io(k.url);return}u({url:k.url,messageId:a,conversationId:i}),d("confirm-link-navigation")};return l.jsxs(c.Fragment,{children:[n?l.jsx(ge.span,{className:F(r9,E),onClick:V,onKeyDown:U=>{(U.key==="Enter"||U.key===" ")&&(U.preventDefault(),V())},role:"button",tabIndex:0,"data-url":k.url,...R}):l.jsx("span",{className:F(r9,E),onClick:V,onKeyDown:U=>{(U.key==="Enter"||U.key===" ")&&(U.preventDefault(),V())},role:"button",tabIndex:0,"data-url":k.url,...R}),k.suffix&&k.suffix]},y)}return n?l.jsx(ge.span,{className:E,...R},y):o===!0||T==="latexAsHtml"?l.jsx("span",{className:E,...R},y):b?l.jsx("span",{className:E,children:S},y):l.jsx(c.Fragment,{children:S},y)})})}function Bhe({word:e,url:t,testForUrl:n}){return t?{url:t,word:e}:n?Wse(e):{word:e}}function Go(e){var t,n;return(n=(t=ae.instance().config().styleOverrides)==null?void 0:t.typography)==null?void 0:n[e]}function xd(e){var t,n;return(n=(t=ae.instance().config().styleOverrides)==null?void 0:t.padding)==null?void 0:n[e]}function Vhe(e){const{shouldAnimate:t,items:n,textSize:s}=e;return l.jsx("h1",{className:F(s??Go("h1")??"text-2xl-medium","[&:not(:first-child)]:pt-6"),children:l.jsx(Ko,{shouldAnimate:t,items:n})})}function Hhe(e){const{shouldAnimate:t,items:n,textSize:s}=e;return l.jsx("h2",{className:F(s??Go("h2")??"text-xl-medium","[&:not(:first-child)]:pt-3.5","pb-1"),children:l.jsx(Ko,{shouldAnimate:t,items:n})})}function zhe(e){const{shouldAnimate:t,items:n,textSize:s}=e;return l.jsx("h3",{className:F(s??Go("h3")??"text-lg-strong","pb-1","[&:not(:first-child)]:pt-3.5"),children:l.jsx(Ko,{shouldAnimate:t,items:n})})}function Ghe(e){const{shouldAnimate:t,items:n,textSize:s}=e;return l.jsx("h4",{className:F(s??Go("h4")??"text-md-strong"),children:l.jsx(Ko,{shouldAnimate:t,items:n})})}function Whe(e){const{shouldAnimate:t,items:n,textSize:s}=e;return l.jsx("h5",{className:F(s??Go("h5")??"text-base-strong"),children:l.jsx(Ko,{shouldAnimate:t,items:n})})}function $he(e){const{shouldAnimate:t,items:n,textSize:s}=e;return l.jsx("h6",{className:F(s??Go("h6")??"text-base-medium"),children:l.jsx(Ko,{shouldAnimate:t,items:n})})}const qhe=[Vhe,Hhe,zhe,Ghe,Whe,$he];function Khe(e){const{shouldAnimate:t,items:n,level:s,textSize:o}=e,r=qhe[s-1];return r?l.jsx(r,{shouldAnimate:t,items:n,textSize:o}):null}const Zhe=Ar(),a9="relative pb-6 w-full after:border-b after:border-stroke-300 after:w-full after:absolute after:mt-3";function Yhe(e){const{delay:t,shouldAnimate:n}=e;return n?l.jsx(ge.div,{className:a9,initial:"start",animate:"end",variants:Zhe,custom:t}):l.jsx("div",{className:a9})}const Qhe=Ar();function Jhe(e){const{content:t,shouldAnimate:n,delay:s,dangerouslyUseHtml:o}=e;return l.jsx(ge.div,{initial:n?"start":"end",animate:"end",custom:s,variants:Qhe,children:l.jsx("div",{className:"horizontal-scrollbar overflow-x-auto whitespace-pre pb-3 pt-4 text-center",children:l.jsx(Ko,{items:t,shouldAnimate:n,dangerouslyUseHtml:o})})})}const i9="relative list-outside marker:text-foreground-750 dark:marker:text-foreground-600 flex flex-col",Xhe=Ar();function ege(e){const{items:t,ordered:n,start:s,shouldAnimate:o,BlockRenderer:r}=e,a=t.map(({items:i,delay:u},d)=>l.jsx(ge.li,{initial:o?"start":"end",animate:"end",variants:Xhe,custom:u,className:"ps-2",children:l.jsx(r,{blocks:i,shouldAnimate:o})},d));return n?l.jsx("ol",{start:s,className:le(i9,"ms-5 marker:normal-nums marker:text-sm-strong"),children:a}):l.jsx("ul",{className:le(i9,"ms-4 px-1"),children:a})}const eM={shouldCollapseCode:!1},tM=c.createContext(eM);function tge(e){const{children:t,config:n={}}=e,s=c.useMemo(()=>({...eM,...n}),[n]);return l.jsx(tM.Provider,{value:s,children:t})}function nge(){return c.useContext(tM)}function sge(e){const{items:t,shouldAnimate:n}=e;return l.jsx("p",{children:l.jsx("span",{className:le("font-ligatures-none","whitespace-pre-wrap",Go("aiMessageDefault")),children:l.jsx(Ko,{items:t,shouldAnimate:n})})})}const oge=Ar();function rge(e){const{columns:t,data:n,shouldAnimate:s}=e;return l.jsxs("div",{className:"relative max-w-full",children:[l.jsx("div",{className:"my-6 max-w-full overflow-x-auto rounded-lg bg-white/25 dark:bg-black/25",children:l.jsxs("table",{className:"t-table",style:{borderSpacing:0},children:[l.jsx("thead",{children:l.jsx("tr",{children:t.map((o,r)=>l.jsx(c9,{type:"head",items:o,shouldAnimate:s},r))})}),l.jsx("tbody",{children:n.map((o,r)=>l.jsx("tr",{children:o.map((a,i)=>l.jsx(c9,{type:"data",items:a,shouldAnimate:s},i))},r))})]})}),l.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-lg border border-stroke-300 dark:border-stroke-450"})]})}function c9(e){var r;const{type:t,items:n,shouldAnimate:s}=e,o=t==="head"?ge.th:ge.td;return l.jsx(o,{variants:oge,initial:s?"start":"end",animate:"end",custom:((r=n[0])==null?void 0:r.delay)??0,children:l.jsx(Ko,{shouldAnimate:s,items:n})})}const age=c.lazy(()=>B(()=>import("./code-VTsgieMg.js"),__vite__mapDeps([355,1,356,357])));function Sd(e){const{blocks:t,shouldAnimate:n,codeAnalytics:s,headingTextSize:o}=e,{shouldCollapseCode:r}=nge();return l.jsx(l.Fragment,{children:t.map((a,i)=>{const u=`${a.type}-${i}`;switch(a.type){case"paragraph":return l.jsx(sge,{items:a.items,shouldAnimate:n},u);case"list":return l.jsx(ege,{ordered:a.ordered,start:a.start,items:a.items,BlockRenderer:Sd,shouldAnimate:n},u);case"heading":return l.jsx(Khe,{items:a.items,level:a.level,shouldAnimate:n,textSize:o},u);case"code":return l.jsx(age,{content:a.content,original:a.original,delay:a.delay,shouldAnimate:n,language:a.language,dangerouslyUseHtml:a.dangerouslyUseHtml,shouldCollapse:r,analytics:s},u);case"latex":return l.jsx(Jhe,{content:a.content,delay:a.delay,shouldAnimate:n,dangerouslyUseHtml:a.dangerouslyUseHtml},u);case"table":return l.jsx(rge,{columns:a.columns,data:a.data,shouldAnimate:n},u);case"blockquote":return l.jsx(J1e,{items:a.items,delay:a.delay,shouldAnimate:n,BlockRenderer:Sd},u);case"hr":return l.jsx(Yhe,{delay:a.delay,shouldAnimate:n},u);default:return null}})})}let zp=null,Cf=null;async function ige(e){zp||(Cf||(Cf=B(()=>import("./katex-CfZphoad.js"),[]).then(t=>{zp=t.default,Cf=null})),await Cf,e==null||e())}function nM(e,t,n){return zp?zp.renderToString(e,{output:"mathml",displayMode:t,throwOnError:!1}):(ige(n),e)}var $a={},hu={},qa={},l9;function sM(){if(l9)return qa;l9=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.Node=qa.NodeType=void 0;var e;(function(r){r[r.element=1]="element",r[r.text=3]="text"})(e||(qa.NodeType=e={}));class t{constructor({nodeType:a,namespace:i,selfCloseTag:u,text:d,nodeName:m,childNodes:f,parentNode:h,attributes:g}){this.namespace=i||null,this.nodeType=a,this.isSelfCloseTag=!!u,this.text=d||null,this.nodeName=a===e.element?m:"#text",this.childNodes=f||[],this.parentNode=h,this.attributes=g||[]}get firstChild(){return this.childNodes[0]||null}get lastChild(){return this.childNodes[this.childNodes.length-1]||null}get innerHTML(){return this.childNodes.reduce((a,i)=>a+(i.nodeType===e.text?i.text:i.outerHTML),"")}get outerHTML(){if(this.nodeType===e.text)return this.textContent;const a=o(this.attributes),i=`<${this.nodeName}${a.length?" ":""}${a}${this.isSelfCloseTag?"/":""}>`;if(this.isSelfCloseTag)return i;const u=this.childNodes.map(m=>m.outerHTML).join(""),d=`</${this.nodeName}>`;return[i,u,d].join("")}get textContent(){return this.nodeType===e.text?this.text:this.childNodes.map(a=>a.textContent).join("").replace(/\x20+/g," ")}getAttribute(a){const i=this.attributes.find(u=>u.name===a);return i?i.value:null}getElementsByTagName(a){return n(this,i=>i.nodeName.toUpperCase()===a.toUpperCase())}getElementsByClassName(a){const i=new RegExp(`^(.*?\\s)?${a}(\\s.*?)?$`);return n(this,u=>!!(u.attributes.length&&i.test(u.getAttribute("class")||"")))}getElementsByName(a){return n(this,i=>!!(i.attributes.length&&i.getAttribute("name")===a))}getElementById(a){return s(this,i=>!!(i.attributes.length&&i.getAttribute("id")===a))}}qa.Node=t,t.ELEMENT_NODE=e.element,t.TEXT_NODE=e.text;function n(r,a){return r.nodeType===e.text?[]:r.childNodes.reduce((i,u)=>u.nodeType!==e.text&&a(u)?[...i,u,...n(u,a)]:[...i,...n(u,a)],[])}function s(r,a){for(let i=0,u=r.childNodes.length;i<u;i++){const d=r.childNodes[i];if(a(d))return d;const m=s(d,a);if(m)return m}return null}function o(r){return r.map(a=>a.name+(a.value?`="${a.value}"`:"")).join(" ")}return qa}var gu={},u9;function cge(){if(u9)return gu;u9=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.NodeAttribute=void 0;let e=class{constructor({name:n,value:s}){this.name=n,this.value=s}};return gu.NodeAttribute=e,gu}var d9;function m9(){if(d9)return hu;d9=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.Dom=void 0;const e=sM(),t=cge(),n=/(<\/?(?:[a-z][a-z0-9]*:)?[a-z][a-z0-9-_.]*?[a-z0-9]*\s*(?:\s+[a-z0-9-_:]+(?:=(?:(?:'[\s\S]*?')|(?:"[\s\S]*?")))?)*\s*\/?>)|([^<]|<(?![a-z/]))*/gi,s=/\s[a-z0-9-_:]+\b(\s*=\s*('|")[\s\S]*?\2)?/gi,o=/(\s[a-z0-9-_:]+\b\s*)(?:=(\s*('|")[\s\S]*?\3))?/gi,r=/^<[a-z]/,a=/\/>$/,i=/^<\//,u=/^[^<]/,d=/<\/?((?:([a-z][a-z0-9]*):)?(?:[a-z](?:[a-z0-9-_.]*[a-z0-9])?))/i,m=/^('|")|('|")$/g,f=/^(?:area|base|br|col|command|embed|hr|img|input|link|meta|param|source)/i;let h=class{constructor(T){this.rawHTML=T}find(T,A){const k=g(this.rawHTML,T,A);return A?k[0]||null:k}getElementsByClassName(T){const A=new RegExp(`^(.*?\\s)?${T}(\\s.*?)?$`);return this.find(k=>!!(k.attributes.length&&A.test(k.getAttribute("class")||"")))}getElementsByTagName(T){return this.find(A=>A.nodeName.toUpperCase()===T.toUpperCase())}getElementById(T){return this.find(A=>A.getAttribute("id")===T,!0)}getElementsByName(T){return this.find(A=>A.getAttribute("name")===T)}getElementsByAttribute(T,A){return this.find(k=>k.getAttribute(T)===A)}};hu.Dom=h;function g(_,T,A=!1){const k=C(_),R=[];for(const P of k)if(P&&T(P)&&(R.push(P),A))return R;return R}function*C(_){const T=y(_);let A=null;for(let k=0,R=T.length;k<R;k++){const P=T[k];A=b(P,A)||A,v(A,P)&&(yield A,A=A.parentNode)}for(;A;)yield A,A=A.parentNode}function v(_,T){if(!T)return!1;const A=i.test(T),[,k]=T.match(d)||[];return A&&_.nodeName===k||_.isSelfCloseTag||_.nodeType===e.NodeType.text}function y(_){return _.match(n)||[]}function b(_,T){const A=u.test(_),k=r.test(_);return A?I(_,T):k?E(_,T):null}function E(_,T){var A;const[,k,R]=_.match(d)||[],P=a.test(_)||f.test(k),V=S(_),U=new e.Node({nodeType:e.NodeType.element,nodeName:k,namespace:R,attributes:V,childNodes:[],parentNode:T,selfCloseTag:P});return(A=T==null?void 0:T.childNodes)===null||A===void 0||A.push(U),U}function S(_){return(_.match(s)||[]).map(T=>{o.lastIndex=0;const A=o.exec(T)||[],[,k="",R=""]=A;return new t.NodeAttribute({name:k.trim(),value:R.trim().replace(m,"")})})}function I(_,T){var A;const k=new e.Node({nodeType:e.NodeType.text,nodeName:"#text",text:_,parentNode:T});return(A=T==null?void 0:T.childNodes)===null||A===void 0||A.push(k),k}return hu}var f9;function lge(){return f9||(f9=1,function(e){var t=$a&&$a.__createBinding||(Object.create?function(r,a,i,u){u===void 0&&(u=i);var d=Object.getOwnPropertyDescriptor(a,i);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,u,d)}:function(r,a,i,u){u===void 0&&(u=i),r[u]=a[i]}),n=$a&&$a.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.parseFromString=void 0;const s=m9();function o(r){return new s.Dom(r)}e.parseFromString=o,n(m9(),e),n(sM(),e)}($a)),$a}var p9=lge();function $3(e){const t=[];let n="",s=!1;for(const o of e)o===" "||o===`
`?s=!0:s&&(t.push(n),n="",s=!1),n+=o;return n.length>0&&t.push(n),t}function uge(e){const n=p9.parseFromString(`<html>${e}</html>`).getElementsByTagName("html")[0];let s=[];for(const o of n.childNodes)o.nodeType===p9.NodeType.text?o.textContent&&(s=s.concat($3(o.textContent))):s.push(o.outerHTML);return s}function dge(e){return e===" "||e===`
`||e==="	"}function oM(e,t,n={}){if(e.length<=t)return e;function s(i){const u=i.trim();return n.ellipsis?`${u}...`:u}const o=e.indexOf(`
`,0);if(o>=0&&o<t){const i=e.slice(0,o);return s(i)}let r=t;for(;r>0;){const i=e[r];if(i&&!dge(i))r-=1;else break}let a=e.slice(0,t);return r>0&&(a=e.slice(0,r)),s(a)}function mge(e){return!!(e&&e.trim().length>0)}function eke(e){return!mge(e)}let Uo=null;function rM(e){return Uo||(B(()=>import("./core-DUCJaWe1.js"),__vite__mapDeps([358,1])).then(t=>t.default).then(t=>{Uo=t,e==null||e()}),null)}async function fge(e){const[{ALIAS_TO_SUPPORTED_LANGUAGE:t},{loadLanguageModule:n}]=await Promise.all([B(()=>import("./language-constants-b8iPQnVN.js"),[]),B(()=>import("./language-loader-I_MF1Eud.js"),__vite__mapDeps([359,1]))]),s=t.get(e);if(!s)return!1;const o=await n(s);return o?Uo?(Uo.registerLanguage(e,o),!0):(rM(()=>{Uo==null||Uo.registerLanguage(e,o)}),!1):!1}const pge={jsx:["xml"],tsx:["xml"]};async function hge(e){const t=e.map(async s=>Uo?Uo.getLanguage(s)?!1:fge(s):!1);return(await Promise.allSettled(t)).some(s=>s.status==="fulfilled"&&s.value)}async function gge(e){const t=pge[e]??[];return hge([...t,e])}const Mc=.006;function h9(e){return{title:e.props.title,index:e.props.index,url:e.props.url,publisher:e.props.publisher,snippet:e.props.snippet,iconUrl:e.props.iconUrl}}function Ec({items:e,delay:t,isHtml:n,forceRender:s,richCitationsEnabled:o}){var a,i,u;const r=[];for(const d of e){if(d.type==="citation"){if(o&&r.length>0&&((a=r[r.length-1])==null?void 0:a.type)==="citation"){(i=r[r.length-1].subCitations)==null||i.push(h9(d));continue}const v=t.getValue();t.queueUpdate(Mc),r.push({type:"citation",delay:v,...d.props,subCitations:o?[h9(d)]:[]});continue}if(d.type==="latex"){const v=nM(d.props.content,!1,s),y=t.getValue();t.queueUpdate(Mc),r.push({type:"word",word:v,delay:y,format:"latexAsHtml"});continue}if(d.props.link){const v=d.props.text,{url:y}=d.props.link,b=t.getValue();t.queueUpdate(Mc),r.push({type:"word",word:v,delay:b,url:y});continue}let m=null,f=null;if(d.props.annotations){for(const v of["italic","bold","strikethrough","code","sub","sup"])if(d.props.annotations[v]){const b={type:v,items:[]};(v==="code"||v==="sup"||v==="sub")&&(b.delay=t.getValue(),t.queueUpdate(Mc)),f?(f.items.push(b),f=b):(m=b,f=b)}}const h=[],g=(u=d.props.annotations)==null?void 0:u.code;let C;n?C=uge(d.props.text):C=$3(d.props.text);for(let v=0;v<C.length;v+=1)h.push({type:"word",word:C[v],delay:t.getValue(),format:g?"code":void 0}),t.queueUpdate(Mc);f&&m?(f.items.push(...h),r.push(m)):r.push(...h)}return r}function Ed({contentBlocks:e,delay:t,forceRender:n,richCitationsEnabled:s}){const o=[];for(const r of e)switch(r.type){case"paragraph":{o.push({type:"paragraph",items:Ec({items:r.props.items,delay:t,forceRender:n,richCitationsEnabled:s})});continue}case"list":{o.push({type:"list",ordered:r.props.ordered,start:r.props.start,items:r.props.items.map(a=>({delay:t.getValue(),items:Ed({contentBlocks:a,delay:t,forceRender:n,richCitationsEnabled:s})}))});continue}case"heading":{o.push({type:"heading",level:r.props.level,items:Ec({items:r.props.items,delay:t,richCitationsEnabled:s})});continue}case"hr":{o.push({type:"hr",delay:t.getValue()}),t.queueUpdate(Mc);continue}case"code":{const{language:a,content:i}=r.props;if(i.type!=="text")continue;let u=i.props.text,d=!1;if(a){const f=rM(n);if(gge(a).then(h=>{h&&n()}),f!=null&&f.getLanguage(a)){const{value:h}=f.highlight(i.props.text,{language:a});h&&(u=h,d=!0)}}const m={...i,props:{...i.props,text:u}};o.push({type:"code",content:Ec({items:[m],delay:t,isHtml:d,richCitationsEnabled:s}),original:i.props.text,language:a,delay:t.getValue(),dangerouslyUseHtml:d});continue}case"latex":{const{content:a}=r.props;if(a.type!=="text")continue;a.props.text=nM(a.props.text,!0,n),o.push({type:"latex",content:Ec({items:[a],isHtml:!0,delay:t,richCitationsEnabled:s}),delay:t.getValue(),dangerouslyUseHtml:!0});continue}case"table":{o.push({type:"table",columns:r.props.columns.map(a=>Ec({items:a,delay:t,richCitationsEnabled:s})),data:r.props.data.map(a=>a.map(i=>Ec({items:i,delay:t,richCitationsEnabled:s})))});continue}case"blockquote":{o.push({type:"blockquote",delay:t.getValue(),items:Ed({contentBlocks:r.props.items,delay:t,forceRender:n,richCitationsEnabled:s})});continue}default:{console.log(`Unhandled block type: ${r.type}`);continue}}return o}const Rn={SingleDollar:"SingleDollar",DoubleDollar:"DoubleDollar",Bracket:"Bracket",Inline:"Inline"},js={[Rn.SingleDollar]:{start:"$",end:"$"},[Rn.DoubleDollar]:{start:"$$",end:"$$"},[Rn.Bracket]:{start:"\\[",end:"\\]"},[Rn.Inline]:{start:"\\(",end:"\\)"}};function vge(e){function t(s,o){const r=s.pos,a=s.posMax;let i=r,u=null;if(s.src.charAt(i)===js[Rn.SingleDollar].start&&!/[0-9a-zA-Z\\]/.test(s.src.charAt(i-1))&&!/[ \n$]/.test(s.src.charAt(i+1)))u=Rn.SingleDollar;else if(s.src.charAt(i)===js[Rn.Inline].start[0]&&s.src.charAt(i+1)===js[Rn.Inline].start[1])u=Rn.Inline;else return!1;i+=js[u].start.length;const d=s.src.slice(r,i);if(d.length>2)return!1;const m=i;let f=0;for(;i<a;){const h=s.src.charAt(i);let g=!1;if(u===Rn.SingleDollar?g=h===js[Rn.SingleDollar].end&&s.src.charAt(i-1)!==" "&&s.src.charAt(i-1)!=="\\"&&!/[0-9a-zA-Z]/.test(s.src.charAt(i+1)):g=h===js[Rn.Inline].end[0]&&s.src.charAt(i+1)===js[Rn.Inline].end[1],h==="{"&&(i===0||s.src.charAt(i-1)!=="\\"))f+=1;else if(h==="}"&&(i===0||s.src.charAt(i-1)!=="\\")){if(f-=1,f<0)return!1}else if(g&&f===0){const C=i,v=i+js[u].end.length;if(v-C===d.length){if(!o){const y=s.src.slice(m,C).replace(/[ \n]+/g," ").trim();s.push({type:"latex",content:y,block:!1,level:s.level})}return s.pos=v,!0}}i+=1}return o||(s.pending+=d),s.pos+=d.length,!0}function n(s,o,r,a){const i=s.tShift[o],u=s.bMarks[o]+i;let d=s.src.slice(u,s.eMarks[o]),m=null;if(d.startsWith(js[Rn.DoubleDollar].start)?m=js[Rn.DoubleDollar]:d.startsWith(js[Rn.Bracket].start)&&(m=js[Rn.Bracket]),!m)return!1;let f=o,h=!1;for(;f<=r;){const C=s.tShift[f],v=s.bMarks[f]+C;if(d=s.src.slice(v,s.eMarks[f]),d.endsWith(m.end)&&(f>o||d!==m.end)){h=!0;break}f+=1}if(!h)return!1;if(a)return!0;const g=s.src.slice(u+m.start.length,s.eMarks[f]-m.end.length);return s.tokens.push({type:"latex_block",content:g.trim(),lines:[o,f],level:s.level}),s.line=f+1,!0}e.inline.ruler.push("latex",t,{}),e.block.ruler.after("fences","latex_block",n,{})}function Cge(e){return e.replaceAll(/(\n\n\$\$.*?\$\$) *(\n\n)/g,"$1$2")}function yge(e){return[bge,It("kill-post-process-latex-double-dollar")?null:Cge].filter(n=>n!==null).reduce((n,s)=>s(n),e)}const C0="\\[",g9="\\]";function bge(e){return e.includes(C0)?e.replaceAll(C0,`

${C0}`).replaceAll(g9,`${g9}

`):e}const Om=new vO({breaks:!0});Om.use(vge);Om.inline.ruler.enable(["text","newline","emphasis","links","backticks","sup","sub","latex","del"],!0);Om.block.ruler.enable(["list","paragraph","heading","hr","fences","table","blockquote","latex_block"],!0);Om.core.ruler.enable(["block","inline","references"],!0);function xge(e){const[t="",...n]=e.replace(vm,"").split(hd);return{index:t,title:n.join(hd)}}function aM(e,t={}){const n=[];let s=null,o=!1,r=!1,a=!1;for(const i of e)switch(i.type){case"text":case"sup":case"sub":if("content"in i&&i.content){const u={},d=i.content.startsWith(vm)?{type:"citation",props:{index:"",title:"",url:"",iconUrl:null,publisher:null,snippet:null}}:{type:"text",props:{text:i.content}};if(d.type==="text"&&(s&&(d.props.link=s),o&&(u.bold=!0),r&&(u.italic=!0),a&&(u.strikethrough=!0),i.type==="text"&&(d.props.text=d.props.text.replaceAll("\\$","$")),i.type==="sup"&&(u.sup=!0),i.type==="sub"&&(u.sub=!0),Object.keys(u).length>0&&(d.props.annotations=u)),d.type==="citation"&&s){const{citations:m}=t,{index:f,title:h}=xge(i.content),g=m==null?void 0:m.find(C=>C.index===f);d.props={index:f,title:(g==null?void 0:g.title)??h,url:s.url,iconUrl:(g==null?void 0:g.iconUrl)??null,publisher:(g==null?void 0:g.publisher)??null,snippet:(g==null?void 0:g.snippet)??null}}n.push(d)}break;case"softbreak":case"hardbreak":n.push({type:"text",props:{text:`
`}});break;case"code":"content"in i&&n.push({type:"text",props:{text:i.content,annotations:{code:!0}}});break;case"latex":"content"in i&&n.push({type:"latex",props:{content:i.content}});break;case"strong_open":o=!0;break;case"strong_close":o=!1;break;case"em_open":r=!0;break;case"em_close":r=!1;break;case"del_open":a=!0;break;case"del_close":a=!1;break;case"link_open":s="href"in i?{url:ta(i.href)}:null;break;case"link_close":s=null;break}return n}function yf(e,t){return e!==void 0&&e.type==="inline"&&"children"in e?aM(Array.isArray(e.children)?e.children:[],t):null}function Sge(e,t){let n=0;function s(){var a;let r=e[n];if(!r)return null;if(r.type==="hr")return n+=1,r=e[n],{type:"hr"};if(r.type==="latex_block")return n+=1,"content"in r?{type:"latex",props:{content:{type:"text",props:{text:r.content}}}}:null;if(r.type==="paragraph_open"){n+=1,r=e[n],n+=1;const i=yf(r,t);return i?{type:"paragraph",props:{items:i}}:null}if(r.type==="blockquote_open"){const i={type:"blockquote",props:{items:[]}};for(n+=1,r=e[n];(r==null?void 0:r.type)!=="blockquote_close";){const u=s();u&&"type"in u&&i.props.items.push(u),r=e[n]}return n+=1,i}if(r.type==="ordered_list_open"||r.type==="bullet_list_open"){const i={type:"list",props:{items:[],ordered:r.type==="ordered_list_open"}};"order"in r&&(i.props.start=r.order);const u=r.type==="ordered_list_open"?"ordered_list_close":"bullet_list_close";for(n+=1,r=e[n];(r==null?void 0:r.type)!==u;){const d=s(),m=[];if(d&&Array.isArray(d)){for(const f of d)(f.type==="paragraph"||f.type==="list"||f.type==="code"||f.type==="heading"||f.type==="blockquote")&&m.push(f);i.props.items.push(m)}r=e[n]}return n+=1,i}if(r.type==="list_item_open"){const i=[];for(n+=1,r=e[n];(r==null?void 0:r.type)!=="list_item_close";){const u=s();if(u)for(const d of[u].flat())(d.type==="paragraph"||d.type==="list"||d.type==="code"||d.type==="heading"||d.type==="blockquote")&&i.push(d);r=e[n]}return n+=1,i}if(r.type==="heading_open"){const i="hLevel"in r?r.hLevel:1;n+=1,r=e[n],n+=1;const u=yf(r,t);return u?{type:"heading",props:{level:i,items:u}}:null}if(r.type==="fence"&&"content"in r){const i={type:"code",props:{content:{type:"text",props:{text:Gae(r.content)}},language:"params"in r?r.params:void 0}};return n+=1,i}if(r.type==="table_open"){const i=[],u=[];for(;(r==null?void 0:r.type)!=="table_close";){if((r==null?void 0:r.type)==="th_open"){n+=1,r=e[n];const d=yf(r,t);d&&i.push(d)}if((r==null?void 0:r.type)==="tr_open"&&!r.lines&&u.push([]),(r==null?void 0:r.type)==="td_open"){n+=1,r=e[n];const d=yf(r,t);d&&((a=u[u.length-1])==null||a.push(d))}n+=1,r=e[n]}return{type:"table",props:{columns:i,data:u}}}return r.type==="inline"&&"children"in r?(n+=1,aM(r.children??[])):(n+=1,null)}const o=[];for(;n<e.length;){const r=s();r&&!Array.isArray(r)&&o.push(r)}return o}function q3(e,t={}){const n=Om.parse(yge(e),{});return Sge(n,t)}const Ege={getValue:()=>0,queueUpdate:()=>{}};function wge(){}function Ige(e){const{text:t,codeAnalytics:n,excludeBlockTypes:s,headingTextSize:o}=e,r=q3(t).filter(i=>!(s!=null&&s.includes(i.type))),a=Ed({contentBlocks:r,delay:Ege,forceRender:wge});return l.jsx(Sd,{blocks:a,shouldAnimate:!1,codeAnalytics:n,headingTextSize:o})}function iM(e){const{artifact:t}=e;switch(t.type){case"code":{const{language:n,content:s}=t,o=`\`\`\`${n}
${s}
\`\`\``,r={click:{source:"copyCodeButton",scenario:"copyCode"},impression:{element:"code",scenario:"renderArtifact"}};return l.jsx(Ige,{text:o,codeAnalytics:r})}case"file":{const{contentType:n,name:s,url:o}=t;return l.jsx(Z1e,{name:s,contentType:n,url:o})}default:return null}}function _ge(e){const{activities:t}=e;return l.jsx("div",{className:"t-custom-scrollbar flex flex-col gap-4 overflow-y-auto",children:t.map((n,s)=>l.jsxs("div",{className:"flex flex-col gap-4 pt-3",children:[l.jsx("h3",{children:n.title}),n.artifacts.map((o,r)=>l.jsx(iM,{artifact:o},r))]},s))})}const Tge=N(void 0);function Age(){const[e,t]=Ue(Tge),n=!!e,s=()=>{t(void 0)};return!e||e.length===0?null:l.jsx(Ho,{className:"w-full max-w-[606px] p-4 pb-6",headerText:z("research.stepsDrawer.title"),isOpen:n,variant:"drawer",trapFocus:!0,onClose:s,children:l.jsx(_ge,{activities:e})})}function cM(e){const{onClose:t,children:n,className:s}=e,{t:o}=q(),r=c.useRef(null);return Co({onOutsideEvent:()=>{t(r)},elements:[r],invokeOnce:!1,includeScroll:!1,includeFocus:!1}),Ad.createPortal(l.jsx(ln,{mode:"sync",className:F("relative",ct.modal),children:l.jsx("div",{className:"fixed inset-0 flex items-end justify-center bg-black/20",children:l.jsxs("div",{className:"flex max-h-[90%] w-full shrink-0 flex-col rounded-t-4xl border border-white/100 bg-stone-150 backdrop-blur-xl dark:border-white/5 dark:bg-midnight-800","aria-label":o("common.bottomSheetDialog"),children:[l.jsx("div",{className:"relative flex w-full items-center justify-center py-3",children:l.jsx("div",{className:"h-[6px] w-12 rounded-full bg-black/25 dark:bg-white/25"})}),l.jsx("div",{className:F("no-scrollbar w-full overflow-y-auto px-4 pb-4",s),ref:r,children:n})]})})}),document.body)}function dn(e){const t=c.useRef(null),{isOpen:n,dialogName:s,headerText:o,headerIcon:r,headerTextClassName:a,fullBleed:i,children:u,onClose:d,className:m,bottomSheetClassName:f,closeButtonTestId:h,backdropOpacity:g="default",fadeInDuration:C=es.default,bottomSheetOnSmall:v,customScrollBar:y,"aria-labeledby":b,hideDismissButton:E=!1}=e,S=c.useRef(null),{t:I}=q(),_=gt({breakpoint:"sm"}),T=c.useId(),A=v&&_,k=g==="none"?"backdrop:bg-transparent":"backdrop:bg-background-850/30 dark:backdrop:bg-background-150/70",R=n&&!A&&d!==void 0;Co({onOutsideEvent:R?d:()=>{},elements:R?[S]:[],includeScroll:!1,includeFocus:!1});const{modalAttributes:P}=$1({trapFocus:!0,legacyTrapFocus:!0,alwaysFocusable:!0});if(c.useEffect(()=>{var V,U;n?(V=t.current)==null||V.showModal():(U=t.current)==null||U.close()},[n]),c.useEffect(()=>{const V=t.current;if(!V)return()=>{};const U=()=>{d==null||d()};return V.addEventListener("cancel",U),()=>{V.removeEventListener("cancel",U)}},[d]),A&&n){const V=!i&&o;return l.jsxs(cM,{onClose:d,className:f,children:[V&&l.jsx("h2",{id:T,className:"py-6 text-center text-foreground-850 text-2xl",children:o}),u]})}return l.jsx(ge.dialog,{className:F("fixed inset-0 m-auto rounded-4xl border border-white/10 bg-background-150 text-foreground-800 shadow-xl dark:bg-background-250",k,y&&"t-custom-scrollbar"),animate:n?"animate":"initial",initial:"initial",exit:"exit",variants:{initial:Fe,animate:nt},transition:{duration:C,ease:"easeInOut"},ref:t,role:"dialog","aria-modal":"true","aria-labelledby":o?T:b,"aria-label":o?void 0:s,...n?P:{},children:n&&l.jsxs("div",{"data-modal-overlay":"true",className:F("flex min-h-[150px] flex-col gap-3",!i&&"p-6",m),ref:S,children:[l.jsx(VA,{}),!i&&l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o&&l.jsxs("div",{children:[r,l.jsx("h2",{id:T,className:F("text-foreground-800 text-lg-strong",a),children:o})]}),d&&!E&&l.jsx(ne,{variant:"square",color:"subtle-dimmed-inverted",size:"32-xs",title:I("common.closeText"),"aria-label":I("common.closeText"),onClick:d,testId:h,children:l.jsx(an,{className:"size-5"})})]}),u]})})}const kge="XF86Back",Mge=461,Nge=8;function K3(e){return e.key===kge||e.keyCode===Mge||e.keyCode===Nge}function Rge(e){const{className:t,children:n}=e;return l.jsx("span",{className:le("inline-block h-4 min-w-4 rounded-md bg-accent-200 px-1 pt-px text-center leading-4 text-foreground-800 text-2xs dark:bg-accent-200",t),children:n})}const Pge={default:"border-black/10 dark:border-white/10",weak:"border-black/5 dark:border-white/5",accent:"border-stroke-300"};function ds(e){const{horizontalMargin:t=!0,verticalMargin:n=!0,color:s="default",className:o}=e;return l.jsx("div",{className:F("border-t-[1px]",t&&"mx-2",n&&"my-2",Pge[s],o)})}const Lge=c.lazy(()=>B(()=>import("./index-D0pMjP56.js").then(e=>e.i),__vite__mapDeps([360,1,319]))),Oge="focus-within:bg-neutral-50/5 before:pointer-events-none before:absolute before:inset-0 before:rounded-3xl before:border before:border-transparent focus-within:before:border-[1px] focus-within:before:border-[rgba(255,255,255,0.1)]";function Dge(){var f,h;const e=M(aY),[t,n]=Ue(Aw),s=c.useContext(Pm),o=M(je),r=zC(),a=((f=ae.instance().config().composer)==null?void 0:f.largeScreen)===!0&&((h=ae.instance().config().composer)==null?void 0:h.voiceOnly)===!0,i=ae.instance().config().canHandleBackButtonEvents===!0,u=()=>{n(null),ye({source:"citationOverflowModal",scenario:"close"})},{focusable:d}=Ra({isFocusBoundary:!0});ps(g=>{K3(g)&&(g.stopPropagation(),u())});const m=c.useMemo(()=>new Map((t??[]).map((g,C)=>[C,c.createRef()])),[t]);return l.jsx(dn,{isOpen:e,onClose:i?void 0:u,headerText:`${t==null?void 0:t.length} ${z("chat.references")}`,className:le(a?"max-h-[40vh]":"max-h-[80vh]",a?"w-[480px]":"w-[440px] max-w-[80vw]","mx-4 px-2"),children:l.jsx(rh.Provider,{value:d.focusKey??"",children:l.jsx("div",{className:le("flex flex-col gap-2 overflow-y-auto overflow-x-hidden pe-1.5",a?"no-scrollbar":"t-custom-scrollbar"),children:t==null?void 0:t.map((g,C)=>l.jsx(lM,{ref:m.get(C),index:C,citation:g,currentConversationId:o,messageId:s,isLargeScreenVoiceComposer:a,citationsModalData:t,rel:r,onClick:g.onClick},C))})})})}const lM=c.forwardRef(({index:e,citation:t,currentConversationId:n,messageId:s,citationsModalData:o,isLargeScreenVoiceComposer:r=!1,rel:a,onClick:i},u)=>{const{title:d,url:m,publisher:f,shouldTruncate:h}=t,{refCallback:g,focusable:C}=Ra({autoRestoreFocus:!0,forceFocus:!0,scrollIntoViewOnFocus:!0},u);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:le(r&&Oge,"group relative flex flex-row items-center gap-2 rounded-3xl p-2"),children:[l.jsxs("a",{rel:a,ref:g,className:le("flex flex-1 flex-col items-start gap-2 py-1",h&&"max-w-full"),"data-spatial-navigation-autofocus":!0,href:m,"data-spatial-focus-key":C.focusKey,target:"_blank",onClick:v=>{if(i){v.preventDefault(),i();return}if(r){v.preventDefault();return}ye({source:"citationModalLink",customData:JSON.stringify({destination:uo(m),conversationId:n,messageId:s})})},children:[l.jsxs("div",{className:le("flex items-center gap-1",h&&"max-w-full"),children:[l.jsx(Rge,{children:t.index}),l.jsx("div",{className:le("text-foreground-550 text-sm",h&&"max-w-full truncate"),title:f??Is(m),children:f??Is(m)})]}),l.jsx("div",{className:le(h&&"max-w-full truncate"),title:d,children:d}),l.jsx("div",{className:le("text-foreground-550 text-sm",h&&"max-w-full truncate"),title:Is(m),children:Is(m)})]}),r&&l.jsx(c.Suspense,{fallback:l.jsx("span",{}),children:l.jsx("div",{className:"flex size-28 items-center justify-center rounded-2xl bg-white opacity-0 group-focus-within:opacity-100",children:l.jsx(Lge,{value:m,size:86})})})]}),e<o.length-1&&l.jsx(ds,{horizontalMargin:!1,verticalMargin:!1,className:"my-4"})]})});lM.displayName="CitationItem";const jge=c.lazy(()=>B(()=>Promise.resolve().then(()=>P3),void 0));async function Uge(){if(!(await zn("/conversations/history",{options:{method:"DELETE"}})).ok)throw new Error("Failed to delete conversation history")}function Fge(){const{t:e}=q(),t=oe(kw),n=bl(vt),s=_r(),o=oe(Sn),a=ut().startsWith("/chats"),i=wr(),{mutate:u,isPending:d}=Di({mutationFn:Uge,onSuccess:async()=>{t(null),n(h=>{h.clear()}),(a||i)&&await s()},onError:()=>{o({title:e("common.somethingWrong"),dismissable:!1,dismissAfter:2e3})}}),m=()=>{u()},f=()=>{t(null)};return l.jsxs(dn,{isOpen:!0,onClose:f,headerText:e("settings.clearHistory.header"),className:"min-h-[328px] w-full max-w-[400px]",children:[l.jsx("p",{className:"text-start",children:e("settings.clearHistory.description")}),l.jsx(ne,{title:e("settings.clearHistory.confirm"),color:"default",size:"56-xl",variant:"rect",className:"mt-3 w-full text-system-red-550 dark:text-system-red-350",onClick:m,disabled:d,children:d?l.jsx(jge,{type:"spinnerThemed",className:"size-6"}):e("settings.clearHistory.confirm")}),l.jsx(ne,{title:e("common.cancel"),color:"strong",size:"56-xl",variant:"rect",className:"mt-3 w-full",onClick:f,children:e("common.cancel")})]})}function y0({Icon:e,title:t,description:n}){return l.jsxs("div",{className:"flex items-start gap-3 rounded-lg px-4 py-2",children:[l.jsx("div",{className:"shrink-0",children:l.jsx(e,{className:"size-5"})}),l.jsxs("div",{className:"flex flex-col ps-1",children:[l.jsx("h3",{className:"text-foreground-800 text-sm-strong",children:t}),l.jsx("p",{className:"pt-1 text-foreground-600 text-sm",children:n})]})]})}const uM=(e,t,n)=>{D.trackEvent({name:"interaction",data:{eventName:"connectorPlatformConnectionManagementImpression",eventInfo_connectorPlatformConnectorType:e,eventInfo_connectorPlatformConnectionStatus:t,eventInfo_connectorPlatformConnectionStartSource:n}})},Hu=(e,t,n,s)=>{D.trackEvent({name:"interaction",data:{eventName:"connectorPlatformConnectionManagementAction",eventInfo_connectorPlatformConnectorType:e,eventInfo_connectorPlatformConnectionStatus:t,eventInfo_connectorPlatformConnectionStartSource:n,eventInfo_connectorPlatformConnectionActionType:s}})},Bge=(e,t)=>{D.trackEvent({name:"interaction",data:{eventName:"connectorPlatformConnectionStartPageImpression",eventInfo_connectorPlatformConnectionStartSource:t,eventInfo_connectorPlatformConnectorType:e}})},Gp=(e,t,n)=>{D.trackEvent({name:"interaction",data:{eventName:"connectorPlatformConnectionStartPageAction",eventInfo_connectorPlatformConnectionStartSource:t,eventInfo_connectorPlatformConnectorType:e,eventInfo_connectorPlatformConnectionActionType:n}})},Vge=(e,t)=>{D.trackEvent({name:"interaction",data:{eventName:"connectorPlatformConnectionSetupFailureEvent",eventInfo_connectorPlatformConnectorType:e,eventInfo_connectorPlatformConnectorErrorType:t??"",eventInfo_source:"Component"}})},Hge=e=>{D.trackEvent({name:"interaction",data:{eventName:"connectorPlatformConnectionSetupSuccessEvent",eventInfo_connectorPlatformConnectorType:e,eventInfo_source:"Component"}})},Z3=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M23.3686 8.63379H8.63184V23.3704H23.3686V8.63379Z",fill:"white"}),c.createElement("path",{d:"M23.3688 30.0008L30.0004 23.3695L26.6846 22.8037L23.3688 23.3695L22.7637 26.4023L23.3688 30.0008Z",fill:"#EA4335"}),c.createElement("path",{d:"M2 23.3695V27.7904C2 29.0117 2.9892 30.0008 4.2105 30.0008H8.63152L9.31239 26.6851L8.63152 23.3695L5.01863 22.8037L2 23.3695Z",fill:"#188038"}),c.createElement("path",{d:"M30.0004 8.63147V4.21049C30.0004 2.98919 29.0112 2 27.7898 2H23.3688C22.9653 3.64452 22.7637 4.85476 22.7637 5.63073C22.7637 6.40668 22.9653 7.40691 23.3688 8.63147C24.8355 9.05145 25.9407 9.26145 26.6846 9.26145C27.4284 9.26145 28.5336 9.05145 30.0004 8.63147Z",fill:"#1967D2"}),c.createElement("path",{d:"M30.0007 8.63379H23.3691V23.3704H30.0007V8.63379Z",fill:"#FBBC04"}),c.createElement("path",{d:"M23.3686 23.3662H8.63184V29.9977H23.3686V23.3662Z",fill:"#34A853"}),c.createElement("path",{d:"M23.3681 2H4.2105C2.9892 2 2 2.98919 2 4.21049V23.3681H8.63152V8.63147H23.3681V2Z",fill:"#4285F4"}),c.createElement("path",{d:"M11.6544 20.0633C11.1036 19.6912 10.7223 19.1478 10.5142 18.4293L11.7926 17.9025C11.9086 18.3446 12.1112 18.6872 12.4005 18.9304C12.6878 19.1735 13.0378 19.2933 13.4468 19.2933C13.8649 19.2933 14.2241 19.1662 14.5244 18.912C14.8247 18.6578 14.9757 18.3335 14.9757 17.9412C14.9757 17.5396 14.8173 17.2117 14.5005 16.9575C14.1836 16.7033 13.7857 16.5762 13.3105 16.5762H12.5718V15.3107H13.2349C13.6438 15.3107 13.9884 15.2002 14.2684 14.9792C14.5484 14.7581 14.6884 14.456 14.6884 14.0711C14.6884 13.7284 14.563 13.4557 14.3126 13.2513C14.062 13.0467 13.7451 12.9436 13.3601 12.9436C12.9845 12.9436 12.686 13.0432 12.4649 13.244C12.244 13.4453 12.0779 13.6994 11.9823 13.9825L10.7168 13.4557C10.8844 12.9805 11.1921 12.5605 11.6434 12.1976C12.0947 11.8347 12.6712 11.6523 13.3713 11.6523C13.8888 11.6523 14.3549 11.7518 14.7676 11.9526C15.1801 12.1534 15.5044 12.4315 15.7384 12.7852C15.9723 13.1407 16.0884 13.5386 16.0884 13.9807C16.0884 14.4321 15.9796 14.8134 15.7623 15.1265C15.5449 15.4396 15.2778 15.6792 14.9609 15.8467V15.9223C15.37 16.0909 15.7255 16.3679 15.9888 16.7235C16.2559 17.0829 16.3905 17.512 16.3905 18.0131C16.3905 18.5141 16.2634 18.9616 16.009 19.3541C15.7549 19.7464 15.403 20.056 14.9573 20.2806C14.5097 20.5053 14.0068 20.6195 13.4486 20.6195C12.802 20.6214 12.2052 20.4353 11.6544 20.0633ZM19.5073 13.7192L18.1036 14.7342L17.4017 13.6694L19.9198 11.8531H20.885V20.4206H19.5073V13.7192Z",fill:"#4285F4"})),Y3=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M16.0038 11.0319L11.0706 2.48113C11.2344 2.31734 11.4229 2.20991 11.6113 2.1377C10.1566 2.60794 9.48907 4.21242 9.48907 4.21242L0.476883 19.8292C0.350075 20.3188 0.314848 20.7609 0.330699 21.1501H10.1671L16.0038 11.0319Z",fill:"#34A853"}),c.createElement("path",{d:"M16.0034 11.0319L21.8401 21.1501H31.6766C31.6924 20.7609 31.6572 20.3188 31.5304 19.8292L22.5182 4.21242C22.5182 4.21242 21.8489 2.60794 20.3959 2.1377C20.5826 2.20991 20.7728 2.31734 20.9366 2.48113L16.0034 11.0319Z",fill:"#FBBC05"}),c.createElement("path",{d:"M16.0035 11.0308L20.9367 2.48001C20.7729 2.31622 20.5827 2.20878 20.396 2.13657C20.1811 2.06789 19.9504 2.02209 19.7003 2.00977H19.4396H12.5674H12.3067C12.0584 2.02033 11.8259 2.06612 11.611 2.13657C11.4243 2.20878 11.2341 2.31622 11.0703 2.48001L16.0035 11.0308Z",fill:"#188038"}),c.createElement("path",{d:"M10.1687 21.1494L5.29186 29.6033C5.29186 29.6033 5.12982 29.5258 4.90967 29.3655C5.60183 29.8886 6.27462 29.9996 6.27462 29.9996H25.4279C26.4847 29.9996 26.7048 29.6033 26.7048 29.6033C26.7083 29.6015 26.7101 29.5998 26.7136 29.598L21.8403 21.1494H10.1687Z",fill:"#4285F4"}),c.createElement("path",{d:"M10.169 21.1494H0.33252C0.381834 22.2977 0.889067 22.9688 0.889067 22.9688L1.25893 23.5993C1.28534 23.6363 1.30119 23.6574 1.30119 23.6574L2.10607 25.0452L3.91309 28.1344C3.96592 28.2595 4.02757 28.374 4.09273 28.4832C4.11739 28.5201 4.14028 28.5606 4.1667 28.5959C4.17375 28.6064 4.18079 28.617 4.18784 28.6276C4.41151 28.9375 4.66161 29.1771 4.9117 29.3655C5.13186 29.5276 5.29389 29.6033 5.29389 29.6033L10.169 21.1494Z",fill:"#1967D2"}),c.createElement("path",{d:"M21.8403 21.1494H31.6768C31.6275 22.2977 31.1202 22.9688 31.1202 22.9688L30.7504 23.5993C30.7239 23.6363 30.7081 23.6574 30.7081 23.6574L29.9032 25.0452L28.0962 28.1344C28.0434 28.2595 27.9817 28.374 27.9166 28.4832C27.8919 28.5201 27.869 28.5606 27.8426 28.5959C27.8355 28.6064 27.8285 28.617 27.8214 28.6276C27.5978 28.9375 27.3477 29.1771 27.0976 29.3655C26.8774 29.5276 26.7154 29.6033 26.7154 29.6033L21.8403 21.1494Z",fill:"#EA4335"})),Q3=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M24.251 6.70996L16.087 12.9318L7.73633 6.70996V6.71164L7.74642 6.72005V15.4322L15.9928 21.7886L24.251 15.6778V6.70996Z",fill:"#EA4335"}),c.createElement("path",{d:"M26.3955 5.19615L24.2515 6.70956V15.6774L30.9979 10.6192V7.5722C30.9979 7.5722 30.179 3.22031 26.3955 5.19615Z",fill:"#FBBC05"}),c.createElement("path",{d:"M24.2515 15.6783V27.3097H29.4223C29.4223 27.3097 30.8936 27.1617 30.9996 25.5238V10.6201L24.2515 15.6783Z",fill:"#34A853"}),c.createElement("path",{d:"M7.74642 27.3192V15.4322L7.73633 15.4238L7.74642 27.3192Z",fill:"#C5221F"}),c.createElement("path",{d:"M7.73635 6.71107L5.60413 5.20607C1.8206 3.23023 1 7.58044 1 7.58044V10.6274L7.73635 15.4233V6.71107Z",fill:"#C5221F"}),c.createElement("path",{d:"M7.73633 6.71191V15.4241L7.74642 15.4325V6.72032L7.73633 6.71191Z",fill:"#C5221F"}),c.createElement("path",{d:"M1 10.6289V25.5326C1.10426 27.1721 2.57731 27.3184 2.57731 27.3184H7.74812L7.73635 15.423L1 10.6289Z",fill:"#4285F4"})),J3=N(null);function tke(e){return CS.includes(e)}const zge=e=>{switch(e){case"google-drive":return{title:z("connector.googleDrive.title"),icon:Y3};case"google-calendar":return{title:z("connector.googleCalendar.title"),icon:Z3};case"gmail":return{title:z("connector.googleMail.title"),icon:Q3};case"google-contacts":return{title:z("connector.googleContacts.title"),icon:Sm};default:return{title:"",icon:null}}},nke=async({connectorType:e,error:t})=>{const n=$e(),s=!t;if(s?Hge(e??"unknown"):Vge(e??"unknown",t),t==="insufficient_scopes"&&e){n.set(J3,{type:e});return}const o=Dn("connectorConsentFlowStartUrl"),{title:r,icon:a}=zge(e);if(!a||!r){await Ks({to:"/",from:window.location.href});return}n.set(Sn,{Icon:a,iconClassName:"size-10 shrink-0",intent:s?"info":"error",title:s?z("connector.connectSuccessTitle"):z("connector.connectUnsuccessfulTitle"),subtitle:s?z("connector.connectSuccessSubtitle",{title:r}):z("connector.connectUnsuccessfulSubtitle",{title:r}),dismissAfter:3e3}),window.setTimeout(async()=>Ks({to:o??"/",from:window.location.href}),0)},dM=async e=>(await St("/connections",ZK,{options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({redirectUrl:`${window.location.origin}/connector/callback?connectorType=${e}`,type:e})}})).data.loginUrl,X3=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M6.24992 4.5C5.28344 4.5 4.49996 5.2835 4.49996 6.25V17.75C4.49996 18.7165 5.28344 19.5 6.24992 19.5H17.7496C18.7161 19.5 19.4996 18.7165 19.4996 17.75V13.75C19.4996 13.3358 19.8354 13 20.2496 13C20.6638 13 20.9995 13.3358 20.9995 13.75V17.75C20.9995 19.5449 19.5445 21 17.7496 21H6.24992C4.45504 21 3 19.5449 3 17.75V6.25C3 4.45507 4.45504 3 6.24992 3H10.2498C10.664 3 10.9998 3.33579 10.9998 3.75C10.9998 4.16421 10.664 4.5 10.2498 4.5H6.24992ZM12.9997 3.75C12.9997 3.33579 13.3355 3 13.7497 3H20.25C20.6642 3 21 3.33579 21 3.75V10.25C21 10.6642 20.6642 11 20.25 11C19.8358 11 19.5 10.6642 19.5 10.25V5.56074L14.28 10.7804C13.9871 11.0732 13.5123 11.0732 13.2194 10.7803C12.9265 10.4874 12.9265 10.0125 13.2194 9.71964L18.4395 4.5H13.7497C13.3355 4.5 12.9997 4.16421 12.9997 3.75Z"})),ske=Object.freeze(Object.defineProperty({__proto__:null,default:X3},Symbol.toStringTag,{value:"Module"})),mM=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M9 7C9.55228 7 10 7.44772 10 8C10 8.51284 9.61396 8.93551 9.11662 8.99327L9 9H7C5.34315 9 4 10.3431 4 12C4 13.5977 5.24892 14.9037 6.82373 14.9949L7 15H9C9.55228 15 10 15.4477 10 16C10 16.5128 9.61396 16.9355 9.11662 16.9933L9 17H7C4.23858 17 2 14.7614 2 12C2 9.31125 4.12231 7.11818 6.78311 7.00462L7 7H9ZM17 7C19.7614 7 22 9.23858 22 12C22 14.6888 19.8777 16.8818 17.2169 16.9954L17 17H15C14.4477 17 14 16.5523 14 16C14 15.4872 14.386 15.0645 14.8834 15.0067L15 15H17C18.6569 15 20 13.6569 20 12C20 10.4023 18.7511 9.09634 17.1763 9.00509L17 9H15C14.4477 9 14 8.55228 14 8C14 7.48716 14.386 7.06449 14.8834 7.00673L15 7H17ZM7 11H17C17.5523 11 18 11.4477 18 12C18 12.5128 17.614 12.9355 17.1166 12.9933L17 13H7C6.44772 13 6 12.5523 6 12C6 11.4872 6.38604 11.0645 6.88338 11.0067L7 11H17H7Z"})),oke=Object.freeze(Object.defineProperty({__proto__:null,default:mM},Symbol.toStringTag,{value:"Module"})),ey=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M12 15.5C12.8284 15.5 13.5 14.8284 13.5 14C13.5 13.1716 12.8284 12.5 12 12.5C11.1716 12.5 10.5 13.1716 10.5 14C10.5 14.8284 11.1716 15.5 12 15.5ZM8 6C8 3.79086 9.79086 2 12 2C14.2091 2 16 3.79086 16 6V7H16.75C18.5449 7 20 8.45507 20 10.25V17.75C20 19.5449 18.5449 21 16.75 21H7.25C5.45507 21 4 19.5449 4 17.75V10.25C4 8.45507 5.45507 7 7.25 7H8V6ZM12 3.5C10.6193 3.5 9.5 4.61929 9.5 6V7H14.5V6C14.5 4.61929 13.3807 3.5 12 3.5ZM7.25 8.5C6.2835 8.5 5.5 9.2835 5.5 10.25V17.75C5.5 18.7165 6.2835 19.5 7.25 19.5H16.75C17.7165 19.5 18.5 18.7165 18.5 17.75V10.25C18.5 9.2835 17.7165 8.5 16.75 8.5H7.25Z"})),rke=Object.freeze(Object.defineProperty({__proto__:null,default:ey},Symbol.toStringTag,{value:"Module"})),wh=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M17.7545 14.0002C18.9966 14.0002 20.0034 15.007 20.0034 16.2491V16.8245C20.0034 17.7188 19.6838 18.5836 19.1023 19.263C17.5329 21.0965 15.1457 22.0013 12.0004 22.0013C8.8545 22.0013 6.46849 21.0962 4.90219 19.2619C4.32242 18.583 4.00391 17.7195 4.00391 16.8267V16.2491C4.00391 15.007 5.01076 14.0002 6.25278 14.0002H17.7545ZM17.7545 15.5002H6.25278C5.83919 15.5002 5.50391 15.8355 5.50391 16.2491V16.8267C5.50391 17.3624 5.69502 17.8805 6.04287 18.2878C7.29618 19.7555 9.26206 20.5013 12.0004 20.5013C14.7387 20.5013 16.7063 19.7555 17.9627 18.2876C18.3117 17.8799 18.5034 17.361 18.5034 16.8245V16.2491C18.5034 15.8355 18.1681 15.5002 17.7545 15.5002ZM12.0004 2.00488C14.7618 2.00488 17.0004 4.24346 17.0004 7.00488C17.0004 9.76631 14.7618 12.0049 12.0004 12.0049C9.23894 12.0049 7.00036 9.76631 7.00036 7.00488C7.00036 4.24346 9.23894 2.00488 12.0004 2.00488ZM12.0004 3.50488C10.0674 3.50488 8.50036 5.07189 8.50036 7.00488C8.50036 8.93788 10.0674 10.5049 12.0004 10.5049C13.9334 10.5049 15.5004 8.93788 15.5004 7.00488C15.5004 5.07189 13.9334 3.50488 12.0004 3.50488Z"})),ake=Object.freeze(Object.defineProperty({__proto__:null,default:wh},Symbol.toStringTag,{value:"Module"})),ty=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M16.7568 9.30287C17.0621 9.02298 17.0828 8.54855 16.8029 8.24321C16.523 7.93787 16.0485 7.91725 15.7432 8.19714L10.2726 13.2119L8.28033 11.2197C7.98744 10.9268 7.51256 10.9268 7.21967 11.2197C6.92678 11.5126 6.92678 11.9874 7.21967 12.2803L9.71967 14.7803C10.0036 15.0643 10.4608 15.0742 10.7568 14.8029L16.7568 9.30287ZM20.25 5C17.5866 5 14.992 4.05652 12.45 2.15C12.1833 1.95 11.8167 1.95 11.55 2.15C9.00797 4.05652 6.41341 5 3.75 5C3.33579 5 3 5.33579 3 5.75V11C3 16.0012 5.95756 19.6757 11.7251 21.9478C11.9018 22.0174 12.0982 22.0174 12.2749 21.9478C18.0424 19.6757 21 16.0012 21 11V5.75C21 5.33579 20.6642 5 20.25 5ZM4.5 6.47793C7.07735 6.32585 9.58084 5.38829 12 3.67782C14.4192 5.38829 16.9227 6.32585 19.5 6.47793V11C19.5 15.2556 17.0466 18.3789 12 20.4419C6.95337 18.3789 4.5 15.2556 4.5 11V6.47793Z"})),ike=Object.freeze(Object.defineProperty({__proto__:null,default:ty},Symbol.toStringTag,{value:"Module"})),Gge="https://policies.google.com/privacy";function Wge(){const{t:e}=q(),[t,n]=Ue(vC),[s,o]=c.useState(null),r=ut(),{type:a,title:i,IconComponent:u,visible:d,startSource:m}=t??{},f=()=>{n({visible:!1})};return c.useEffect(()=>(t!=null&&t.visible&&a&&m&&(Bge(a,m),dM(a).then(h=>o(h))),()=>{o(null)}),[t==null?void 0:t.visible,a,m,r]),!a||!i||!u||!d||!m?null:l.jsx(dn,{isOpen:d,className:"w-full max-w-[448px]",onClose:f,customScrollBar:!0,hideDismissButton:!0,children:l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"flex flex-col items-center justify-center gap-2.5 rounded-2xl border border-black/12 p-1 dark:border-white/12",children:l.jsx(u,{className:"size-12 p-1"})}),l.jsx("div",{className:"absolute -end-2 -top-1.5 flex size-5 items-center justify-center rounded-full bg-neutral-900 contrast-more:bg-neutral-100 contrast-more:outline",children:l.jsx(mM,{className:"size-4 text-foreground-100 contrast-more:text-foreground-600 dark:text-foreground-900"})})]}),l.jsx("h3",{className:"pt-4 text-center text-foreground-800 text-lg sm:text-2xl",children:e("connector.confirmModal.title",{title:i})}),l.jsxs("div",{className:"mt-6 flex flex-col rounded-3xl bg-black/5 py-3 dark:bg-black/20",children:[l.jsx(y0,{Icon:wh,title:e("connector.confirmModal.personalizedTitle"),description:e("connector.confirmModal.personalizedDescription",{title:i})}),l.jsx(ds,{color:"accent",horizontalMargin:!1}),l.jsx(y0,{Icon:ey,title:e("connector.confirmModal.anyAccountTitle"),description:e("connector.confirmModal.anyAccountDescription")}),l.jsx(ds,{color:"accent",horizontalMargin:!1}),l.jsx(y0,{Icon:ty,title:e("connector.confirmModal.control"),description:e("connector.confirmModal.controlDescription",{title:i})})]}),l.jsxs("div",{className:"mt-6 flex flex-col gap-2",children:[l.jsx(ne,{className:"h-14 w-full sm:w-96",color:"strong",size:"56-xl",title:e("connector.confirmModal.continue",{title:i}),disabled:!s,onClick:()=>{Gp(a,m,"continue"),s&&($s("connectorConsentFlowStartUrl",r),Dl(s))},children:s?l.jsxs("div",{className:"flex items-center gap-2",children:[e("connector.confirmModal.continue",{title:i}),l.jsx(X3,{className:"size-5"})]}):l.jsx(it,{className:"size-7"})}),l.jsx(ne,{className:"w-full sm:w-96",color:"subtle-dimmed-inverted",size:"56-xl",title:e("common.cancel"),onClick:()=>{f(),Gp(a,m,"cancel")},children:e("common.cancel")}),l.jsxs("div",{className:"my-3 flex flex-col items-center gap-3 text-center sm:w-96",children:[l.jsx("p",{className:"px-3 text-foreground-600 text-xs",children:l.jsx(mn,{i18nKey:"connector.confirmModal.disclaimer",components:{Terms:l.jsx(cs,{href:gl,title:e("connector.confirmModal.terms"),className:"underline text-xs",children:e("connector.confirmModal.terms")})},values:{title:i}})}),l.jsx("p",{className:"text-foreground-600 text-xs",children:l.jsx(mn,{i18nKey:"connector.confirmModal.policyLinks",components:{MicrosoftPrivacyStatement:l.jsx(cs,{href:Jn,title:e("connector.confirmModal.privacyStatement",{title:e("connector.developerMicrosoft")}),className:"underline",children:e("connector.confirmModal.privacyStatement",{title:e("connector.developerMicrosoft")})}),ConnectorPrivacyStatement:l.jsx(cs,{href:Gge,title:e("connector.confirmModal.privacyStatement",{title:i}),className:"underline",children:e("connector.confirmModal.privacyStatement",{title:i})})}})})]})]})]})})}const fM=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M20.051 16.8869C19.7881 17.0247 19.5135 17.148 19.2281 17.2552C18.3702 17.5775 17.4227 17.7602 16.4233 17.7602C12.7264 17.7602 9.50588 15.2171 9.50588 11.9537C9.50588 11.0361 10.0368 10.2407 10.7892 9.82178C7.44572 9.96193 6.58623 13.4468 6.58623 15.4882C6.58623 21.2596 11.9057 21.8453 13.052 21.8453C13.6696 21.8453 14.602 21.6654 15.1637 21.4892C15.198 21.4778 15.2321 21.4663 15.2661 21.4545C17.4348 20.7066 19.2653 19.2352 20.4685 17.328C20.641 17.0544 20.3375 16.7367 20.051 16.8869Z",fill:"url(#paint0_linear_11766_2366)"}),c.createElement("path",{d:"M10.2588 20.8619C9.56389 20.4312 8.96067 19.8633 8.48255 19.192C7.7427 18.1532 7.30039 16.8755 7.30039 15.4882C7.30039 13.4468 8.25099 11.6386 9.71629 10.4929C10.0491 10.2328 10.4752 9.97036 10.7892 9.82176C11.0329 9.70633 11.4499 9.49851 12.0036 9.50636C12.9218 9.51937 13.6154 9.98746 14.0103 10.519C14.3137 10.9275 14.5008 11.4307 14.507 11.9769C14.5072 11.9605 16.4183 5.75781 8.25313 5.75781C4.82396 5.75781 2 9.01327 2 11.8684C2 13.6795 2.42026 15.1255 2.94646 16.246C4.1184 18.7422 6.29164 20.6741 8.95009 21.5252C9.91281 21.8335 10.9384 22.0015 12.0036 22.0015C13.1084 22.0015 14.1701 21.8198 15.1637 21.4892C14.602 21.6654 14.0064 21.7619 13.3888 21.7619C12.2426 21.7619 11.1742 21.4295 10.2588 20.8619Z",fill:"url(#paint1_linear_11766_2366)"}),c.createElement("path",{d:"M13.9001 13.6309C13.8369 13.7129 13.6421 13.8261 13.6421 14.0734C13.6421 14.2769 13.7749 14.4732 14.0109 14.638C15.1345 15.422 17.2521 15.3164 17.2578 15.3164C18.132 15.3134 18.9184 15.073 19.6229 14.6611C19.9433 14.4737 20.24 14.2512 20.5074 13.997C21.4251 13.1249 21.9847 11.8959 22.0002 10.5303C22.0201 8.77913 21.3783 7.61489 21.1145 7.09937C19.4589 3.86354 15.8849 2.00134 11.9989 2.00134C6.52112 2.00134 2.07446 6.40343 2.00096 11.8608C2.03809 9.0059 4.87549 6.7005 8.24835 6.7005C8.52183 6.7005 10.0814 6.72717 11.53 7.4875C12.8061 8.15725 13.4752 8.96655 13.9402 9.76937C14.4231 10.603 14.509 11.6558 14.509 12.0756C14.509 12.4954 14.2973 13.1168 13.9001 13.6309Z",fill:"url(#paint2_linear_11766_2366)"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_11766_2366",x1:6.58623,y1:15.8336,x2:20.5188,y2:15.8336,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#094987"}),c.createElement("stop",{offset:.245021,stopColor:"#0C59A4"}),c.createElement("stop",{offset:1,stopColor:"#114A8B"})),c.createElement("linearGradient",{id:"paint1_linear_11766_2366",x1:8,y1:5.99998,x2:5.22878,y2:19.2687,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#117FBA"}),c.createElement("stop",{offset:.223416,stopColor:"#1797E0"}),c.createElement("stop",{offset:.947917,stopColor:"#0078D4"})),c.createElement("linearGradient",{id:"paint2_linear_11766_2366",x1:22,y1:10,x2:8,y2:5.50003,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#48D566"}),c.createElement("stop",{offset:1,stopColor:"#35C1F1"})))),Ih=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M9.29079 9.1001C4.70421 9.1002 1.2758 12.8547 1.0177 17.0373C1.17748 17.9385 1.70262 19.7181 2.52502 19.6268C3.553 19.5125 6.14201 19.6268 8.35029 15.6289C9.96344 12.7085 13.2818 9.10001 9.29079 9.1001Z",fill:"url(#paint0_radial_105551_302)"}),c.createElement("path",{d:"M8.23018 10.6611C6.68846 13.1022 4.61317 16.5999 3.91275 17.7006C3.08017 19.0089 0.875229 18.4531 1.05789 16.5777C1.03989 16.73 1.02606 16.8835 1.01652 17.038C0.714885 21.9171 4.58327 25.9691 9.39699 25.9691C14.7024 25.9691 27.3553 19.3586 26.0748 12.7352C24.7252 8.84183 20.9318 6.04932 16.6328 6.04932C12.3338 6.04932 9.57858 8.52613 8.23018 10.6611Z",fill:"url(#paint1_radial_105551_302)"}),c.createElement("path",{d:"M8.23018 10.6611C6.68846 13.1022 4.61317 16.5999 3.91275 17.7006C3.08017 19.0089 0.875229 18.4531 1.05789 16.5777C1.03989 16.73 1.02606 16.8835 1.01652 17.038C0.714885 21.9171 4.58327 25.9691 9.39699 25.9691C14.7024 25.9691 27.3553 19.3586 26.0748 12.7352C24.7252 8.84183 20.9318 6.04932 16.6328 6.04932C12.3338 6.04932 9.57858 8.52613 8.23018 10.6611Z",fill:"url(#paint2_radial_105551_302)",fillOpacity:.4}),c.createElement("path",{d:"M8.23018 10.6611C6.68846 13.1022 4.61317 16.5999 3.91275 17.7006C3.08017 19.0089 0.875229 18.4531 1.05789 16.5777C1.03989 16.73 1.02606 16.8835 1.01652 17.038C0.714885 21.9171 4.58327 25.9691 9.39699 25.9691C14.7024 25.9691 27.3553 19.3586 26.0748 12.7352C24.7252 8.84183 20.9318 6.04932 16.6328 6.04932C12.3338 6.04932 9.57858 8.52613 8.23018 10.6611Z",fill:"url(#paint3_radial_105551_302)"}),c.createElement("path",{d:"M8.23018 10.6611C6.68846 13.1022 4.61317 16.5999 3.91275 17.7006C3.08017 19.0089 0.875229 18.4531 1.05789 16.5777C1.03989 16.73 1.02606 16.8835 1.01652 17.038C0.714885 21.9171 4.58327 25.9691 9.39699 25.9691C14.7024 25.9691 27.3553 19.3586 26.0748 12.7352C24.7252 8.84183 20.9318 6.04932 16.6328 6.04932C12.3338 6.04932 9.57858 8.52613 8.23018 10.6611Z",fill:"url(#paint4_radial_105551_302)",fillOpacity:.6}),c.createElement("path",{d:"M8.23018 10.6611C6.68846 13.1022 4.61317 16.5999 3.91275 17.7006C3.08017 19.0089 0.875229 18.4531 1.05789 16.5777C1.03989 16.73 1.02606 16.8835 1.01652 17.038C0.714885 21.9171 4.58327 25.9691 9.39699 25.9691C14.7024 25.9691 27.3553 19.3586 26.0748 12.7352C24.7252 8.84183 20.9318 6.04932 16.6328 6.04932C12.3338 6.04932 9.57858 8.52613 8.23018 10.6611Z",fill:"url(#paint5_radial_105551_302)",fillOpacity:.9}),c.createElement("path",{d:"M9.31824 25.9703C9.31824 25.9703 21.986 25.9952 24.1347 25.9952C28.0342 25.9952 30.999 22.8115 30.9991 19.0966C30.9991 15.3817 27.9747 12.2173 24.1348 12.2173C20.2949 12.2173 18.0836 15.0901 16.4227 18.2259C14.4764 21.9005 11.9937 25.9262 9.31824 25.9703Z",fill:"url(#paint6_linear_105551_302)"}),c.createElement("path",{d:"M9.31824 25.9703C9.31824 25.9703 21.986 25.9952 24.1347 25.9952C28.0342 25.9952 30.999 22.8115 30.9991 19.0966C30.9991 15.3817 27.9747 12.2173 24.1348 12.2173C20.2949 12.2173 18.0836 15.0901 16.4227 18.2259C14.4764 21.9005 11.9937 25.9262 9.31824 25.9703Z",fill:"url(#paint7_radial_105551_302)",fillOpacity:.4}),c.createElement("path",{d:"M9.31824 25.9703C9.31824 25.9703 21.986 25.9952 24.1347 25.9952C28.0342 25.9952 30.999 22.8115 30.9991 19.0966C30.9991 15.3817 27.9747 12.2173 24.1348 12.2173C20.2949 12.2173 18.0836 15.0901 16.4227 18.2259C14.4764 21.9005 11.9937 25.9262 9.31824 25.9703Z",fill:"url(#paint8_radial_105551_302)",fillOpacity:.9}),c.createElement("defs",null,c.createElement("radialGradient",{id:"paint0_radial_105551_302",cx:0,cy:0,r:1,gradientTransform:"matrix(6.05863 7.25975 -10.1194 12.3526 1.58653 10.1963)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#4894FE"}),c.createElement("stop",{offset:.695072,stopColor:"#0934B3"})),c.createElement("radialGradient",{id:"paint1_radial_105551_302",cx:0,cy:0,r:1,gradientTransform:"matrix(-26.6342 30.7229 -23.4745 -18.9187 26.9705 -0.690804)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.165327,stopColor:"#23C0FE"}),c.createElement("stop",{offset:.534,stopColor:"#1C91FF"})),c.createElement("radialGradient",{id:"paint2_radial_105551_302",cx:0,cy:0,r:1,gradientTransform:"matrix(-6.33129 -5.31528 -11.8431 14.7663 7.72211 10.7344)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:.660528,stopColor:"#ADC0FF",stopOpacity:0})),c.createElement("radialGradient",{id:"paint3_radial_105551_302",cx:0,cy:0,r:1,gradientTransform:"matrix(-7.11293 -6.01877 9.14061 -10.8028 16.711 20.5051)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#033ACC"}),c.createElement("stop",{offset:1,stopColor:"#368EFF",stopOpacity:0})),c.createElement("radialGradient",{id:"paint4_radial_105551_302",cx:0,cy:0,r:1,gradientTransform:"matrix(8.12906 18.7598 -20.2526 8.77435 7.17496 5.4191)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.592618,stopColor:"#3464E3",stopOpacity:0}),c.createElement("stop",{offset:1,stopColor:"#033ACC"})),c.createElement("radialGradient",{id:"paint5_radial_105551_302",cx:0,cy:0,r:1,gradientTransform:"matrix(-21.2655 21.266 33.3159 33.3166 26.6427 1.43264)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#4BFDE8"}),c.createElement("stop",{offset:.543937,stopColor:"#4BFDE8",stopOpacity:0})),c.createElement("linearGradient",{id:"paint6_linear_105551_302",x1:20.1654,y1:25.9812,x2:20.1654,y2:12.3807,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#0086FF"}),c.createElement("stop",{offset:.49,stopColor:"#00BBFF"})),c.createElement("radialGradient",{id:"paint7_radial_105551_302",cx:0,cy:0,r:1,gradientTransform:"matrix(12.6678 5.02394 -16.0514 21.3963 13.0585 13.8376)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:.785262,stopColor:"white",stopOpacity:0})),c.createElement("radialGradient",{id:"paint8_radial_105551_302",cx:0,cy:0,r:1,gradientTransform:"matrix(-14.1522 12.1976 -16.7761 -10.2898 30.5753 11.1494)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#4BFDE8"}),c.createElement("stop",{offset:.584724,stopColor:"#4BFDE8",stopOpacity:0})))),pM=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M21.0063 5.41416L4.42759 15.9228L3.00183 13.6735V11.7353C3.00183 11.0297 3.35909 10.372 3.95105 9.98784L13.5882 3.73443C15.0565 2.78169 16.9478 2.78155 18.4162 3.73406L21.0063 5.41416Z",fill:"url(#paint0_linear_105551_397)"}),c.createElement("path",{d:"M18.2683 3.64233C18.3181 3.67198 18.3676 3.70268 18.4165 3.73444L25.9378 8.61321L7.28914 20.4339L4.42749 15.9193L18.1138 7.22729C19.4101 6.40398 19.4669 4.55187 18.2683 3.64233Z",fill:"url(#paint1_linear_105551_397)"}),c.createElement("path",{d:"M18.2683 3.64233C18.3181 3.67198 18.3676 3.70268 18.4165 3.73444L25.9378 8.61321L7.28914 20.4339L4.42749 15.9193L18.1138 7.22729C19.4101 6.40398 19.4669 4.55187 18.2683 3.64233Z",fill:"url(#paint2_linear_105551_397)",fillOpacity:.2}),c.createElement("path",{d:"M14.7293 22.6909L7.28894 20.4338L23.1079 10.4064C24.4401 9.5619 24.4367 7.61694 23.1014 6.77722L23.0302 6.73242L23.2353 6.86006L28.0498 9.98306C28.6419 10.3672 28.9993 11.0249 28.9993 11.7307V13.6066L14.7293 22.6909Z",fill:"url(#paint3_linear_105551_397)"}),c.createElement("path",{d:"M14.7293 22.6909L7.28894 20.4338L23.1079 10.4064C24.4401 9.5619 24.4367 7.61694 23.1014 6.77722L23.0302 6.73242L23.2353 6.86006L28.0498 9.98306C28.6419 10.3672 28.9993 11.0249 28.9993 11.7307V13.6066L14.7293 22.6909Z",fill:"url(#paint4_linear_105551_397)",fillOpacity:.2}),c.createElement("path",{d:"M18.4162 3.73406C16.9478 2.78155 15.0565 2.78169 13.5882 3.73443L3.95105 9.98784C3.35909 10.372 3.00183 11.0297 3.00183 11.7353V11.8301C3.02507 12.5385 3.39786 13.1914 3.99995 13.571L15.9829 21.1256L27.996 13.5825C28.6198 13.1907 28.9985 12.5058 28.9985 11.7691V13.6068L28.9988 11.7307C28.9988 11.025 28.6414 10.3672 28.0493 9.98309L18.4162 3.73406Z",fill:"url(#paint5_radial_105551_397)"}),c.createElement("path",{d:"M13.8709 29.0012H24.4983C26.9836 29.0012 28.9983 26.9865 28.9983 24.5012L28.9983 11.6782C28.9983 12.4715 28.5905 13.2092 27.9186 13.631L12.2086 23.4955C11.357 24.0302 10.8401 24.9652 10.8402 25.9707C10.8404 27.6444 12.1972 29.0012 13.8709 29.0012Z",fill:"url(#paint6_linear_105551_397)"}),c.createElement("path",{d:"M13.8709 29.0012H24.4983C26.9836 29.0012 28.9983 26.9865 28.9983 24.5012L28.9983 11.6782C28.9983 12.4715 28.5905 13.2092 27.9186 13.631L12.2086 23.4955C11.357 24.0302 10.8401 24.9652 10.8402 25.9707C10.8404 27.6444 12.1972 29.0012 13.8709 29.0012Z",fill:"url(#paint7_radial_105551_397)",fillOpacity:.4}),c.createElement("path",{d:"M13.8709 29.0012H24.4983C26.9836 29.0012 28.9983 26.9865 28.9983 24.5012L28.9983 11.6782C28.9983 12.4715 28.5905 13.2092 27.9186 13.631L12.2086 23.4955C11.357 24.0302 10.8401 24.9652 10.8402 25.9707C10.8404 27.6444 12.1972 29.0012 13.8709 29.0012Z",fill:"url(#paint8_radial_105551_397)",fillOpacity:.5}),c.createElement("path",{d:"M18.1862 29.0003H7.5004C5.01512 29.0003 3.0004 26.9856 3.0004 24.5003V11.7129C3.0004 12.4774 3.3927 13.1885 4.03946 13.5963L19.7712 23.5142C20.6346 24.0586 21.1583 25.0079 21.1582 26.0286C21.158 27.6699 19.8274 29.0003 18.1862 29.0003Z",fill:"url(#paint9_radial_105551_397)"}),c.createElement("path",{d:"M18.1862 29.0003H7.5004C5.01512 29.0003 3.0004 26.9856 3.0004 24.5003V11.7129C3.0004 12.4774 3.3927 13.1885 4.03946 13.5963L19.7712 23.5142C20.6346 24.0586 21.1583 25.0079 21.1582 26.0286C21.158 27.6699 19.8274 29.0003 18.1862 29.0003Z",fill:"url(#paint10_linear_105551_397)"}),c.createElement("rect",{x:2,y:14,width:12,height:12,rx:2.75,fill:"url(#paint11_radial_105551_397)"}),c.createElement("rect",{x:2,y:14,width:12,height:12,rx:2.75,fill:"url(#paint12_radial_105551_397)",fillOpacity:.5}),c.createElement("path",{d:"M7.96826 23.3589C7.0318 23.3589 6.263 23.0568 5.66185 22.4526C5.0607 21.8485 4.76013 21.06 4.76013 20.0873C4.76013 19.0602 5.06524 18.2295 5.67544 17.5951C6.28565 16.9607 7.08466 16.6436 8.07248 16.6436C9.00591 16.6436 9.76565 16.9471 10.3517 17.5543C10.9408 18.1615 11.2353 18.962 11.2353 19.9559C11.2353 20.9769 10.9302 21.8001 10.32 22.4254C9.71279 23.0477 8.92888 23.3589 7.96826 23.3589ZM7.99544 22.0765C8.50597 22.0765 8.9168 21.8968 9.22794 21.5373C9.53909 21.1778 9.69466 20.6779 9.69466 20.0375C9.69466 19.3699 9.54362 18.8503 9.24154 18.4787C8.93945 18.1071 8.53617 17.9214 8.03169 17.9214C7.51211 17.9214 7.09373 18.1132 6.77654 18.4968C6.45935 18.8775 6.30076 19.3819 6.30076 20.0103C6.30076 20.6477 6.45935 21.1521 6.77654 21.5237C7.09373 21.8923 7.50003 22.0765 7.99544 22.0765Z",fill:"white"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_105551_397",x1:5.88149,y1:14.8183,x2:21.0063,y2:5.43718,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#20A7FA"}),c.createElement("stop",{offset:.4,stopColor:"#3BD5FF"}),c.createElement("stop",{offset:1,stopColor:"#C4B0FF"})),c.createElement("linearGradient",{id:"paint1_linear_105551_397",x1:11.0876,y1:18.0175,x2:19.5075,y2:4.53529,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#165AD9"}),c.createElement("stop",{offset:.5008,stopColor:"#1880E5"}),c.createElement("stop",{offset:1,stopColor:"#8587FF"})),c.createElement("linearGradient",{id:"paint2_linear_105551_397",x1:17.2286,y1:18.2009,x2:7.88049,y2:10.584,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.236946,stopColor:"#448AFF",stopOpacity:0}),c.createElement("stop",{offset:.792113,stopColor:"#0032B1"})),c.createElement("linearGradient",{id:"paint3_linear_105551_397",x1:16.0387,y1:21.1339,x2:30.8121,y2:11.6789,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#1A43A6"}),c.createElement("stop",{offset:.492267,stopColor:"#2052CB"}),c.createElement("stop",{offset:1,stopColor:"#5F20CB"})),c.createElement("linearGradient",{id:"paint4_linear_105551_397",x1:20.2091,y1:20.5687,x2:11.2319,y2:12.8005,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#0045B9",stopOpacity:0}),c.createElement("stop",{offset:.669859,stopColor:"#0D1F69"})),c.createElement("radialGradient",{id:"paint5_radial_105551_397",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(16.0012 3.59051) rotate(-90) scale(19.5009 21.1067)"},c.createElement("stop",{offset:.568182,stopColor:"#275FF0",stopOpacity:0}),c.createElement("stop",{offset:.992424,stopColor:"#002177"})),c.createElement("linearGradient",{id:"paint6_linear_105551_397",x1:28.9983,y1:20.2914,x2:15.8933,y2:20.2914,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#4DC4FF"}),c.createElement("stop",{offset:.196145,stopColor:"#0FAFFF"})),c.createElement("radialGradient",{id:"paint7_radial_105551_397",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.9562 26.0462) rotate(-45) scale(8.35708)"},c.createElement("stop",{offset:.259477,stopColor:"#0060D1"}),c.createElement("stop",{offset:.908166,stopColor:"#0383F1",stopOpacity:0})),c.createElement("radialGradient",{id:"paint8_radial_105551_397",cx:0,cy:0,r:1,gradientTransform:"matrix(17.2076 -22.5536 15.8577 21.5059 6.34585 32.2282)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.732317,stopColor:"#F4A7F7",stopOpacity:0}),c.createElement("stop",{offset:1,stopColor:"#F4A7F7"})),c.createElement("radialGradient",{id:"paint9_radial_105551_397",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(12.0794 18.5501) rotate(123.339) scale(14.9678 38.8433)"},c.createElement("stop",{stopColor:"#49DEFF"}),c.createElement("stop",{offset:.724349,stopColor:"#29C3FF"})),c.createElement("linearGradient",{id:"paint10_linear_105551_397",x1:1.16485,y1:26.0177,x2:13.7825,y2:26.0086,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.205882,stopColor:"#6CE0FF"}),c.createElement("stop",{offset:.535,stopColor:"#50D5FF",stopOpacity:0})),c.createElement("radialGradient",{id:"paint11_radial_105551_397",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(1.95718 14.4615) rotate(46.9242) scale(15.7964)"},c.createElement("stop",{offset:.038877,stopColor:"#0091FF"}),c.createElement("stop",{offset:.919119,stopColor:"#183DAD"})),c.createElement("radialGradient",{id:"paint12_radial_105551_397",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(8 21.3079) rotate(90) scale(8.4 9.68913)"},c.createElement("stop",{offset:.557796,stopColor:"#0FA5F7",stopOpacity:0}),c.createElement("stop",{offset:1,stopColor:"#74C6FF"})))),hM=()=>{const e=M(rd);return Qt()&&e.length>0};function $l(){const e=M(rd),t=oe(rd),n=oe(vC),{t:s}=q(),o=n1(),r=hM(),a=c.useCallback(v=>{switch(v){case"google-drive":return{type:"google-drive",title:s("connector.googleDrive.title"),description:s("connector.googleDrive.description"),details:s("connector.googleDrive.details"),websiteLink:"https://drive.google.com",privacyLink:Jn,developer:s("connector.developerMicrosoft"),category:s("connector.productivity"),IconComponent:Y3};case"one-drive":return{type:"one-drive",title:s("connector.oneDrive.title"),description:s("connector.oneDrive.description"),details:s("connector.oneDrive.details"),websiteLink:"https://onedrive.com",privacyLink:Jn,developer:s("connector.developerMicrosoft"),category:s("connector.productivity"),IconComponent:Ih};case"outlook":return{type:"outlook",title:s("outlook.title"),description:s("outlook.description"),details:s("connector.outlook.details"),websiteLink:"https://outlook.com",privacyLink:Jn,developer:s("connector.developerMicrosoft"),category:s("connector.productivity"),IconComponent:pM};case"google-calendar":return{type:"google-calendar",title:s("connector.googleCalendar.title"),description:s("connector.googleCalendar.description"),details:s("connector.googleCalendar.details"),websiteLink:"https://calendar.google.com",privacyLink:Jn,developer:s("connector.developerMicrosoft"),category:s("connector.productivity"),IconComponent:Z3};case"gmail":return{type:"gmail",title:s("connector.googleMail.title"),description:s("connector.googleMail.description"),details:s("connector.googleMail.details"),websiteLink:"https://mail.google.com",privacyLink:Jn,developer:s("connector.developerMicrosoft"),category:s("connector.productivity"),IconComponent:Q3};case"google-contacts":return{type:"google-contacts",title:s("connector.googleContacts.title"),description:s("connector.googleContacts.description"),details:s("connector.googleContacts.details"),websiteLink:"https://contacts.google.com",privacyLink:Jn,developer:s("connector.developerMicrosoft"),category:s("connector.productivity"),IconComponent:Sm};case"edge-browser":return{type:"edge-browser",title:s("connector.edgeBrowser.title"),description:s("connector.edgeBrowser.description"),details:s("connector.edgeBrowser.details"),websiteLink:"https://microsoft.com/edge",privacyLink:Jn,developer:s("connector.developerMicrosoft"),category:s("connector.productivity"),IconComponent:fM};default:return null}},[s]),i=c.useCallback(v=>{if(!v)return null;const y=e.find(E=>E.type===v);if(!y)return null;const b=a(v);return b?{id:y.id,status:y.status,...b}:null},[e,a]),u=(v,y)=>{const b=a(v);n({type:v,title:b==null?void 0:b.title,IconComponent:b==null?void 0:b.IconComponent,visible:!0,startSource:y})},d=async v=>{if(!v)return;const y=await kn({path:`/connections/${v}`,args:{options:{method:"DELETE"},body:{}}});y.ok&&y.status===204&&(t(e.map(b=>b.id===v?{...b,status:"disconnected"}:b)),await o.invalidateQueries({queryKey:[Bx]}))},m=async(v,y)=>{const b=e.find(I=>I.id===v);if(!v||!b)return;const E=I=>{t(_=>_.map(T=>T.id===v?{...T,status:I}:T))};E(y),(await kn({path:`/connections/${v}/${y==="ready"?"enable":"disable"}`,args:{options:{method:"POST"},body:{connectionStatus:y}}})).ok?await o.invalidateQueries({queryKey:[Bx]}):E(b.status)},f=c.useCallback(()=>e.filter(y=>y.status==="ready").length,[e]),h=c.useCallback(v=>v==="one-drive"||v==="outlook"||v==="edge-browser",[]),g=(v,y)=>{const b=v.status==="ready"||v.status==="disabled",E=y.status==="ready"||y.status==="disabled";return b&&!E?-1:!b&&E?1:0},C=c.useCallback(()=>{const v=[],y=[];for(const S of e)h(S.type)?v.push(S):y.push(S);y.sort(g);const b=y.filter(S=>S.status==="ready"||S.status==="disabled");b.unshift(...v);const E=y.filter(S=>S.status==="disconnected"||S.status==="sign-in-required");return[b,E]},[e,h]);return{isConnectorsAvailable:r,getConnectorAppInfo:i,getSortedConnectors:C,isFirstParty:h,handleConnect:u,handleDisconnect:d,handleToggle:m,getAvailableConnectorsCount:f}}function $ge({data:e}){const{t}=q(),n=oe(J3),s=ut(),{getConnectorAppInfo:o}=$l(),{type:r}=e,{IconComponent:a}=o(r)??{},i=async()=>{Gp(r,"insufficient_scope_modal","cancel"),n(null);const u=Dn("connectorConsentFlowStartUrl");await Ks({to:u??"/",from:s})};return a?l.jsx(dn,{isOpen:!0,className:"w-full max-w-[448px]",onClose:i,customScrollBar:!0,hideDismissButton:!0,children:l.jsxs("div",{className:"flex w-full flex-col items-center gap-2 p-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"flex flex-col items-center justify-center gap-2.5 rounded-2xl border border-black/12 p-1 dark:border-white/12",children:l.jsx(a,{className:"size-12 p-1"})}),l.jsx("div",{className:"absolute -end-2 -top-1.5 flex size-5 items-center justify-center rounded-full bg-system-red-550 contrast-more:bg-neutral-100 contrast-more:outline",children:l.jsx(an,{className:"size-4 text-foreground-100 contrast-more:text-foreground-600 dark:text-foreground-900"})})]}),l.jsx("h3",{className:"pt-4 text-center text-foreground-800 text-lg sm:text-2xl",children:t("connector.connectUnsuccessfulTitle")}),l.jsx("p",{className:"mt-4",children:t("connector.insufficientScopeErrorDescription")}),l.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[l.jsx(ne,{className:"w-full sm:w-96",color:"strong",size:"56-xl",title:t("common.retry"),onClick:async()=>{n(null),Gp(r,"insufficient_scope_modal","retry");const u=await dM(r);u&&($s("connectorConsentFlowStartUrl",s),Dl(u))},children:t("common.retry")}),l.jsx(ne,{className:"w-full sm:w-96",color:"subtle-dimmed-inverted",size:"56-xl",title:t("common.cancel"),onClick:i,children:t("common.cancel")})]})]})}):null}const b0="relative size-full rounded-full aspect-square",v9="flex items-center justify-center uppercase",x0="after:absolute after:-inset-px after:rounded-full after:border-[0.5px] after:border-black/10 dark:after:border-white/20";function ny(e){const{firstName:t,imgSrc:n,nameSizeClass:s,altText:o,style:r,showTwoCharacters:a=!1,showBorder:i=!0}=e;if(n)return l.jsx("img",{className:F("overflow-hidden object-cover",b0,i&&x0),src:n,alt:o??z("common.profileImage")});if(t){let u=t[0];if(a){const d=t.trim().split(/\s+/).filter(Boolean);d.length>=2&&(u=d.slice(0,2).map(m=>m[0]).join(""))}return l.jsx("div",{className:F(b0,v9,i&&x0,s??"text-lg"),style:r??{},children:l.jsx("div",{children:u})})}return l.jsx("div",{className:F(b0,v9,i&&x0),style:r??{},children:l.jsx(wh,{className:F("size-6 fill-foreground-800",xae),"alt-text":o??z("common.profileImage")})})}const C9=5e3;function qge(){const e=G("aad-student"),t=M(yQ),{t:n}=q(),[s,o]=c.useState(!1),r=e&&t&&!s,a=M(uS),i=M(Ui),u=ut(),d=e&&t===void 0&&a&&i,m=d&&!s;c.useEffect(()=>{if(d&&!s){const I=setTimeout(()=>{o(!0),DQ(new Error(`Student status check timed out after ${C9}ms`))},C9);return()=>clearTimeout(I)}},[d,s]);const f=n(r?"entraRedirect.guestTitle":"entraRedirect.workTitle"),h=n(r?"entraRedirect.guestDescription":"entraRedirect.workDescription"),g=()=>n(r?"aadStudent.title":"entraRedirect.pageTitle"),C=I=>r?n("aadStudent.subtitle",{email:I}):void 0,v=I=>r?n("aadStudent.continueAsGuestButtonText"):n("entraRedirect.goToWorkButton",{redirectUrl:I}),y=r?"mb-6 sm:mb-10":"mb-8 sm:mb-14",b=r?"Student":"Enterprise",E=sue()&&["/e/so","/e/sol"].includes(u),S=n(E?"entraRedirect.studentOffer.personalDescription":"entraRedirect.personalDescription");return{isStudentEnabled:r,isLoadingEnabled:m,isStudentOffer:E,workTitle:f,workDescription:h,titleGapClass:y,eventInfoScenario:b,personalDescription:S,getPageTitle:g,getPageSubTitle:C,getWorkButtonText:v}}function Kge(){var Se;const e=M(uS),t=M(Ui),n=M(Yt),[s,o]=c.useState(void 0),r=G("aad-login-removal"),a=Vl(),i=Eo(),{isStudentEnabled:u,isLoadingEnabled:d,isStudentOffer:m,workTitle:f,workDescription:h,titleGapClass:g,eventInfoScenario:C,personalDescription:v,getPageTitle:y,getPageSubTitle:b,getWorkButtonText:E}=qge(),S=c.useId(),I=!u&&(n==null?void 0:n.email);c.useEffect(()=>{e&&An(n2,JSON.stringify(e))},[e]);let _=!1;try{_=JSON.parse(rn(n2)??"false")}catch(me){console.error("Failed to parse authentication status:",me),_=!1}const T=e?t:!_&&!!((Se=window.cwcRedirect)!=null&&Se.cwcRedirectUrl),[A,k]=c.useState(T),[R,P]=c.useState(),{t:V}=q(),{login:U,logout:K}=rc();c.useEffect(()=>{async function me(){const re=await X4();o(re),r&&(n!=null&&n.email)&&qJ()}me()},[n,r]);const Z=(me,re,xe)=>ta(`${me}?fromCode=cmcv2&redirectId=${re}${xe?`&login_hint=${xe}`:""}`),Y=async()=>{let me=crypto.randomUUID().replace(/-/g,"").toUpperCase(),re=gg,xe="AadUnknown";t&&s?re=Z(gg,me,s.username):window.cwcRedirect&&(re=window.cwcRedirect.cwcRedirectUrl,me=window.cwcRedirect.redirectId,xe=window.cwcRedirect.chatEligibility),ae.instance().config().entraRedirectModalBehaviour==="new-tab"?Io(ta(re)):Dl(ta(re)),D.trackEvent({name:"interaction",data:{eventName:"copilotEnterpriseRedirect",...R,eventInfo_traceId:me,eventInfo_redirectUrl:re,eventInfo_chatEligibility:xe}})},Q=async()=>{D.trackEvent({name:"interaction",data:{eventName:"copilotStudentRedirectSignOut",...R}}),await K()},ee=async()=>{D.trackEvent({name:"interaction",data:{eventName:"copilotEnterpriseRedirectSwitchAccount",eventInfo_scenario:C,...R}}),k(!1),a?(await K(!1),await i({from:"/",to:m?"/e/sol":"/login"})):await U({provider:"microsoft"})},$=async()=>{D.trackEvent({name:"interaction",data:{eventName:e?"copilotEnterpriseRedirectSignOut":"copilotEnterpriseRedirectContinueSignedOut",...R}}),e?await K():k(!1)},te=async()=>{s3("/")};if(c.useEffect(()=>{k(T),T&&(async()=>{var xe;let re={};if(t){const Ne=await X4();re={userAadId:(xe=Ne==null?void 0:Ne.idTokenClaims)==null?void 0:xe.oid,userAadTenantId:Ne==null?void 0:Ne.tenantId}}else window.cwcRedirect&&(re={userAadId:window.cwcRedirect.userId,userAadTenantId:window.cwcRedirect.tenantId});D.trackEvent({name:"system",data:{eventName:"copilotEnterpriseRedirectImpression",eventInfo_redirectReason:t?"AAD":"CWC",eventInfo_scenario:C,...re}}),P(re)})().catch(console.error)},[t,T,C]),!A)return null;const J=!_&&window.cwcRedirect?new URL(window.cwcRedirect.cwcRedirectUrl).hostname:gg,W=b(n==null?void 0:n.email),ie=()=>u?null:r?l.jsx("div",{className:"mt-8 sm:mt-12",children:l.jsx(mn,{i18nKey:"entraRedirect.playAroundFirst",components:{entraContinue:l.jsx("button",{role:"link",type:"button",className:"underline",onClick:te,children:V("entraRedirect.playAroundFirst")})}})}):l.jsx("div",{className:"mt-8 sm:mt-12",children:l.jsx(mn,{i18nKey:e?"entraRedirect.signOut":"entraRedirect.continueSignedOut",components:{[e?"entraSignOut":"entraContinue"]:l.jsx("button",{type:"button",className:"underline",onClick:$,children:V(e?"entraRedirect.signOut":"entraRedirect.continueSignedOut")})}})});return l.jsxs(dn,{fadeInDuration:0,className:le("fixed inset-0",ct.modal),isOpen:!0,headerText:S,children:[l.jsx(ac,{forceGradient:!0}),l.jsx("main",{className:"relative m-auto flex size-full max-w-chat flex-col items-center justify-center overflow-y-auto p-4 pb-8 pt-20 sm:py-4",children:d?l.jsx(it,{className:"size-8"}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-9",children:l.jsx(km,{className:"size-12"})}),l.jsx("h1",{id:S,className:le("mb-8 w-full whitespace-pre-wrap break-words px-4 text-center text-4xl sm:mb-14",g),children:y()}),u&&W&&l.jsx("p",{className:"mb-10 w-full whitespace-pre-wrap break-words px-4 text-center text-base sm:mb-16",children:W}),l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 md:gap-16",children:[l.jsx(y9,{title:f,description:h,onClick:u?Q:Y,children:l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{children:E(J)}),I&&l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("div",{className:"relative size-5",children:l.jsx(ny,{firstName:n.firstName??n.givenName??void 0,imgSrc:n.imgSrc,nameSizeClass:"text-sm"})}),l.jsx("p",{className:"text-sm",children:n.email})]})]})}),l.jsx(y9,{title:V("entraRedirect.personalTitle"),description:v,onClick:ee,children:l.jsx("p",{className:"text-sm",children:V("entraRedirect.switchToPersonalButton")})})]}),ie()]})})]})}function y9({title:e,onClick:t,description:n,children:s}){return l.jsxs("div",{className:"flex flex-col justify-between rounded-4xl bg-white/70 p-4 dark:bg-background-300/70 md:p-6 md:pb-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"mb-2.5 text-xl",children:e}),l.jsx("p",{className:"mb-6 text-sm",children:n})]}),l.jsx(ne,{color:"default",variant:"rect",title:e,onClick:t,children:s})]})}const Zge=c.lazy(()=>B(()=>import("./index-D0pMjP56.js").then(e=>e.i),__vite__mapDeps([360,1,319])));function Yge(e){const{onClose:t,interceptedLink:n}=e,{t:s}=q(),o=c.useRef(null);return Ji(o),ps(r=>{(r.key==="Escape"||r.key==="Control")&&t()}),l.jsxs("div",{className:"flex w-[400px] max-w-[80vw] flex-col items-center p-4 text-center",children:[l.jsx("div",{className:"bg-white p-2",children:l.jsx(c.Suspense,{fallback:l.jsx("span",{}),children:l.jsx(Zge,{value:n,size:96,"aria-label":s("composer.interceptedLink.qrcode_alt_text")})})}),l.jsx("h1",{className:"py-3 text-xl",children:s("composer.interceptedLink.title")}),l.jsx("p",{className:"w-full pb-7",children:l.jsx(mn,{i18nKey:"composer.interceptedLink.description",components:{span:l.jsx("span",{className:"break-words underline"})},values:{link:n}})}),l.jsx(ne,{ref:o,onClick:t,title:"close",variant:"pill",size:"48-lg",className:"w-full",children:s("common.closeText")})]})}const gM=N(null);function Qge(e){const{t}=q(),{options:n,onClose:s}=e,o=M(cn),r=oe(k1),a=oe(gC),i=M(Ki),u=M(wQ),{allowUpsell:d,payflowEntryPoint:m,upsellReason:f}=n,h=n.allowUpsell?"":n.disabledReason,g=n.dismissButton??t("common.dismiss"),{handleSubscription:C,payflowType:v}=y3({payflowEntryPoint:n.payflowEntryPoint,upsellReason:n.upsellReason,entryStyle:"Button",upsellEligibleSubscription:n.subscriptions,enableDimePreload:d}),y=(o==null?void 0:o.accountType)??"None";c.useEffect(()=>{d?Gce({upsellEntryStyle:"Button",actionButton:"Upgrade",payflowEntryPoint:m,upsellReason:f,loginProvider:y,payflowType:v,curatedSubscription:u}):zce({payflowEntryPoint:m,upsellReason:f,loginProvider:y,disabledReason:h,curatedSubscription:u})},[h,d,m,f,y,u,v,o==null?void 0:o.accountType]);const b=c.useCallback(()=>{(o==null?void 0:o.provider)==="auth0"?(s(),r({source:"Composer"})):(i==null?void 0:i.channel)==="google"||(i==null?void 0:i.channel)==="apple"?(s(),a({source:i.channel,entryStyle:"Button",upsellReason:"DailyLimit",payflowEntryPoint:n.payflowEntryPoint})):(s(),C())},[o==null?void 0:o.provider,i==null?void 0:i.channel,s,r,a,n.payflowEntryPoint,C]);return l.jsx(dn,{isOpen:!0,className:"h-auto max-w-md !gap-0 !p-0",onClose:s,fullBleed:!0,children:l.jsxs("div",{className:"flex w-full flex-col p-8",children:[l.jsx("h1",{className:"mt-4 w-full items-center text-center text-2xl",children:n.title}),l.jsx("p",{className:"mt-6 w-full",children:n.subtitle}),l.jsxs("div",{className:"mt-8 flex flex-col gap-3",children:[n.allowUpsell&&l.jsx(ne,{className:"w-full rounded-4xl",color:"strong",title:n.confirmButton,onClick:b,children:n.confirmButton}),l.jsx(ne,{className:"w-full rounded-4xl",color:n.allowUpsell?"default":"strong",title:g,onClick:s,children:g})]})]})})}function Jge(e){const{t}=q(),{config:n,onClose:s}=e,o=M(Ki),r=M(cn),a=nA(),i=n.source==="apple"?BY:VY,u=t("subscriptionManage.redirectMobileStoreTitle",{store:i}),d=t("subscriptionManage.redirectMobileStoreContent",{store:i});return c.useEffect(()=>{D.trackEvent({name:"interaction",data:{eventName:"payflowBlockDialogShown",eventInfo_upsellEntryStyle:n.entryStyle,eventInfo_payflowEntryPoint:n.payflowEntryPoint,eventInfo_upsellReason:n.upsellReason,eventInfo_loginProvider:(r==null?void 0:r.accountType)??"None",eventInfo_payflowType:"DIME",eventInfo_curatedSubscription:(o==null?void 0:o.tier)??sA,eventInfo_disabledReason:"3pPurchase"}})},[n,o==null?void 0:o.tier,a,r==null?void 0:r.accountType]),l.jsx("div",{className:F("fixed inset-0 h-screen w-screen",ct.modal),"data-outside-events-ignore":!0,onClick:s,children:l.jsx(dn,{isOpen:!0,className:"h-auto max-w-md gap-0 p-0",children:l.jsxs("div",{className:"flex w-full flex-col p-8",children:[l.jsx("h1",{className:"mt-4 w-full items-center text-center text-2xl",children:u}),l.jsx("p",{className:"mt-6 w-full",children:d}),l.jsx(ne,{className:"mt-6 w-full rounded-4xl",color:"strong",title:t("subscriptionManage.upgradeButton"),onClick:s,children:t("subscriptionManage.redirectMobileStoreDismiss")})]})})})}function Xge(e){const{t}=q(),{config:n,onClose:s}=e,o=M(Yt),{logout:r,login:a}=rc(),i=c.useRef((o==null?void 0:o.email)??"");c.useEffect(()=>{(async()=>{if(o!=null&&o.email)o.email!==i.current&&(i.current=o.email);else{const h=await GI();h!=null&&h.username&&h.username!==i.current?i.current=h.username:h!=null&&h.username||lr({scenario:"missingUsernameForUserMismatched",...$r(new Error("Missing username for user mismatched"))})}})()},[o==null?void 0:o.email]),c.useEffect(()=>{oA({correlationId:n.correlationId,payflowInstanceId:n.payflowInstanceId})},[n.correlationId,n.payflowInstanceId]);const u=c.useCallback(async()=>{await r(),$s("shouldStartSubscription",!0),a({provider:"microsoft"})},[r,a]),{handleSubscription:d}=y3({payflowEntryPoint:n.payflowEntryPoint,upsellReason:void 0,entryStyle:"Button",enableDimePreload:!0}),m=c.useCallback(()=>{na("payflowAuthHint"),s(),d()},[s,d]);return l.jsx(dn,{isOpen:!0,className:"h-auto max-w-md",fullBleed:!0,onClose:s,children:l.jsxs("div",{className:"flex w-full flex-col p-8",children:[l.jsx("h1",{className:"mt-4 w-full items-center text-center text-2xl",children:t("proSubscription.modal.userMismatched.title")}),l.jsx("p",{className:"mt-6 w-full",children:t("proSubscription.modal.userMismatched.content",{userName:i.current})}),l.jsx(ne,{className:"mt-8 min-h-12 w-full rounded-4xl",color:"strong",title:t("proSubscription.modal.userMismatched.actionButtonText"),onClick:u,children:t("proSubscription.modal.userMismatched.actionButtonText")}),l.jsx(ne,{className:"mt-6 min-h-12 w-full rounded-4xl",color:"default",title:t("proSubscription.modal.userMismatched.cancelButtonText",{userName:i.current}),onClick:m,children:t("proSubscription.modal.userMismatched.cancelButtonText",{userName:i.current})})]})})}function e0e(){const{t:e}=q(),t=M(hn),n=M(v_),s=M(em),[o,r]=Ue(nte),[a,i]=c.useState(!1),u=c.useCallback(()=>{r(!1)},[r]),d=c.useCallback(async()=>{!n||!t||(i(!0),wp.includes(n.status)||(await ks()).stop({conversationId:t.id,taskId:n.id}))},[t,n]);c.useEffect(()=>{n!=null&&n.status&&wp.includes(n.status)&&(r(!1),i(!1))},[n==null?void 0:n.status,r]);const m=s!==null?e("research.cancel.limitAnnouncement",{limit:s+1}):"";return l.jsxs(Ho,{isOpen:o,headerText:e("research.cancel.title"),className:"max-w-96 gap-4",trapFocus:!0,children:[`${e("research.cancel.description")}${` ${m}`}`,l.jsx(ne,{title:e("research.cancel.cancelButton"),onClick:d,className:"mt-auto text-system-red-550 dark:text-system-red-350",color:"default",size:"56-xl",disabled:a,children:a?l.jsx(it,{className:"size-8"}):e("research.cancel.cancelButton")}),l.jsx(ne,{title:e("common.keep"),color:"strong",size:"56-xl",onClick:u,children:e("common.keep")})]})}const vM=70;function t0e(e){var t;return(t=e.contents)!=null&&t.length?e.status==="completed"?"done":e.partialOutput&&e.partialOutput.length>0?"writing":"browsing":"planning"}const sy=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M15.1017 16.1624C13.717 17.3101 11.9391 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 11.9391 17.3101 13.717 16.1624 15.1018L20.7803 19.7197C21.0732 20.0126 21.0732 20.4874 20.7803 20.7803C20.4874 21.0732 20.0125 21.0732 19.7196 20.7803L15.1017 16.1624ZM16.5 10C16.5 6.41015 13.5899 3.5 10 3.5C6.41015 3.5 3.5 6.41015 3.5 10C3.5 13.5899 6.41015 16.5 10 16.5C13.5899 16.5 16.5 13.5899 16.5 10Z"})),cke=Object.freeze(Object.defineProperty({__proto__:null,default:sy},Symbol.toStringTag,{value:"Module"}));function n0e(e){const{text:t,isInDrawer:n=!1,isPreview:s}=e,{t:o}=q(),r=s?oM(t,vM,{ellipsis:!0}):t;return n?l.jsxs("div",{children:[l.jsx("strong",{className:"me-2",children:o("research.searched")}),l.jsx("span",{className:"text-foreground-800",children:r})]}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-foreground-700",children:o("research.searched")}),l.jsxs("div",{className:"flex items-center gap-1 rounded-full bg-black/[0.06] px-2 py-1 text-foreground-450",children:[l.jsx(sy,{className:"size-4"}),l.jsx("span",{className:"text-foreground-800 text-sm",children:t})]})]})}function s0e(e){let{url:t}=e;t=uo(t);const{title:n,decoration:s,source:o,iconUrl:r,mode:a,onClick:i}=e,u=c.useContext(Pm),d=M(je),m=()=>{i&&i(e),$t({source:o,conversationId:d,messageId:u,destination:t})};return l.jsxs(ne,{onClick:m,color:"default",variant:"pill",size:"28-xxs",title:n,href:t,children:[s,r&&l.jsx("img",{src:r,alt:n,className:"size-4 rounded-md border-[0.5px] border-neutral-300 bg-white/90 dark:border-neutral-600"}),l.jsx("span",{className:"me-0.5",children:a==="research"?Is(t):n})]})}function o0e(e){const{url:t,isInDrawer:n=!1,isPreview:s=!1}=e,{t:o}=q();return l.jsxs("div",{className:"flex items-center gap-2",children:[n?l.jsx("strong",{children:o("research.read")}):l.jsx("span",{className:"text-foreground-700",children:o("research.read")}),s?l.jsx("span",{className:"text-foreground-800",children:Is(t)}):l.jsx(s0e,{title:Is(t),url:t,source:"researchCitationLink"})]})}function b9(e){let t=0;for(const n of e)t+=n;return t}function r0e(e,t,n){let s=0,o=null,r=[],a=0;return{getValue:()=>{if(!n)return 0;if(!o){o=Math.floor(performance.now());const u=e[e.length-1];if(!u)a=0;else{const d=u+b9(r)*1e3;d>o?(a=(d-o)/1e3,r=[]):(a=0,r=[])}}const i=e[s];return i?(s+=1,r=[],Math.max((i-o)/1e3,0)):(a=Number((a+b9(r)).toFixed(3)),r=[],t(s,o,a),s+=1,a)},queueUpdate:i=>{r.push(i)}}}function CM(e){const t=c.useRef([]);return c.useCallback(()=>r0e(t.current,(n,s,o)=>{t.current[n]=s+o*1e3},e),[e])}function a0e(e){const{text:t,shouldAnimate:n,isPreview:s}=e,o=CM(!1),[r,a]=c.useState(0),i=c.useMemo(()=>{const u=o(),d=s?oM(t,vM,{ellipsis:!0}):t,m=q3(d);return Ed({contentBlocks:m,delay:u,forceRender:()=>{a(r+1)}})},[o,r,s,t]);return l.jsx("div",{className:F("flex gap-2 text-foreground-700",s?"items-center":"flex-col items-start"),children:l.jsx(Sd,{blocks:i,shouldAnimate:n})})}function i0e(e){const{item:t,shouldAnimate:n=!1,isPreview:s=!1,isInDrawer:o=!1}=e;switch(t.type){case"citation":return l.jsx(o0e,{url:t.url,isInDrawer:o,isPreview:s});case"chainOfThought":return l.jsx(a0e,{text:t.text,shouldAnimate:n,isPreview:s});case"query":return l.jsx(n0e,{text:t.text,isInDrawer:o,isPreview:s});default:return null}}function c0e(e){const{progress:t}=e,{t:n}=q(),s=(()=>{switch(t){case"planning":return n("research.steps.browse.future");case"writing":return n("research.steps.write.present");case"done":return n("research.stepsDrawer.reportReady");default:return""}})();return l.jsx("div",{children:l.jsx("strong",{children:s})})}function bf(e){const{progress:t,contentItem:n,shouldAnimate:s,isPreview:o=!1}=e;return t!=="browsing"?l.jsx(c0e,{progress:t}):n?l.jsx(i0e,{item:n,shouldAnimate:s,isPreview:o,isInDrawer:!0}):null}const Dm=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2ZM15.2197 8.96967L10.75 13.4393L8.78033 11.4697C8.48744 11.1768 8.01256 11.1768 7.71967 11.4697C7.42678 11.7626 7.42678 12.2374 7.71967 12.5303L10.2197 15.0303C10.5126 15.3232 10.9874 15.3232 11.2803 15.0303L16.2803 10.0303C16.5732 9.73744 16.5732 9.26256 16.2803 8.96967C15.9874 8.67678 15.5126 8.67678 15.2197 8.96967Z"})),lke=Object.freeze(Object.defineProperty({__proto__:null,default:Dm},Symbol.toStringTag,{value:"Module"}));function xf(e){const{isFinal:t=!1,isLast:n=!1,shouldAnimate:s=!1,children:o}=e;let r=null;return t?r=l.jsx(Dm,{className:"relative bottom-1.5 size-4 text-background-900"}):n?r=l.jsx(it,{className:"relative bottom-2.5 size-6"}):r=l.jsx("div",{className:"relative bottom-0.5 size-[9px] rounded-full bg-foreground-800"}),l.jsxs(ge.div,{className:"relative grid grid-cols-[auto,1fr] items-start gap-4",initial:s?"start":"end",animate:"end",variants:{start:Fe,end:a=>({...nt,transition:{delay:a,ease:"easeInOut",duration:1.2}})},children:[l.jsxs("div",{className:"relative mt-2 flex h-full w-2 flex-col items-center",children:[r,!t&&!n&&l.jsx("div",{className:"absolute bottom-0 top-4 w-px bg-neutral-300 contrast-more:bg-foreground-900"})]}),o]})}function l0e(e){var m,f;const{task:t,onGoToReport:n}=e,{t:s}=q(),o=c.useRef(null),[r,a]=c.useState(!1);Ek({onScrollEnd:()=>{if(!o.current)return;const{scrollTop:h,scrollHeight:g,clientHeight:C}=o.current,v=h+C>=g-50;a(!v)},scrollRefs:[o]}),c.useEffect(()=>{o.current&&!r&&o.current.scrollTo({top:o.current.scrollHeight,behavior:"smooth"})},[t,r]);const u=t0e(t),d=((m=t.contents)==null?void 0:m.length)??0;return l.jsxs("div",{className:"flex h-full flex-col overflow-y-auto",children:[l.jsxs("div",{ref:o,className:"vertical-scrollbar scroll-fade relative space-y-4 overflow-y-auto scroll-smooth px-2 pb-2 text-sm [scrollbar-gutter:stable_both-edges;]",children:[l.jsx(xf,{isLast:u==="planning",shouldAnimate:u==="planning",children:l.jsx(bf,{progress:"planning"})}),(f=t.contents)==null?void 0:f.map((h,g)=>{const C=u==="browsing"&&g===d-1;return l.jsx(xf,{isLast:C,shouldAnimate:u!=="done"&&C,children:l.jsx(bf,{progress:"browsing",contentItem:h})},g)}),(u==="writing"||u==="done")&&l.jsx(xf,{isLast:u==="writing",shouldAnimate:u==="writing",children:l.jsx(bf,{progress:"writing"})}),u==="done"&&l.jsx(xf,{isFinal:!0,shouldAnimate:!0,children:l.jsx(bf,{progress:"done"})})]}),u==="done"&&l.jsx(ne,{title:s("research.stepsDrawer.goToReport"),onClick:n,color:"strong",variant:"pill",size:"40-base",className:"mx-4 mt-8",children:s("research.stepsDrawer.goToReport")})]})}function u0e(){const{t:e}=q(),t=M(v_),[n,s]=Ue(tte),o=()=>{s(!1)},r=()=>{o()};return ps(a=>{a.key==="Escape"&&o()}),l.jsx(Ho,{isOpen:n,onClose:o,headerText:e("research.stepsDrawer.title"),className:"max-w-full p-4 sm:w-2/3 sm:min-w-96 sm:max-w-[600px]",headerClassName:"pb-12",headerTextClassName:"relative top-12 start-4",variant:"drawer",children:t&&l.jsx(l0e,{task:t,onGoToReport:r})})}function d0e(){const e=new Map;function t({root:n,rootMargin:s,threshold:o}){let r=e.get(n);r||(r=new Map,e.set(n,r));const a=JSON.stringify({rootMargin:s,threshold:o});let i=r.get(a);if(!i){const u=new Map;i={observer:new IntersectionObserver(m=>{m.forEach(f=>{const h=u.get(f.target);h==null||h(f)})},{root:n,rootMargin:s,threshold:o}),entryCallbacks:u},r.set(a,i)}return{observe:(u,d)=>{i.entryCallbacks.set(u,d),i.observer.observe(u)},unobserve:u=>{i.entryCallbacks.delete(u),i.observer.unobserve(u)}}}return{getObserver:t}}var m0e="0px",f0e=[0],p0e=d0e();function h0e(e){const t=(e==null?void 0:e.rootMargin)??m0e,n=(e==null?void 0:e.threshold)??f0e,s=c.useRef(null),o=c.useRef(null),r=c.useRef(null),[a,i]=c.useState(),u=c.useCallback(()=>{function f(){const g=r.current,C=s.current;C&&(g==null||g.unobserve(C),i(void 0)),r.current=null}function h(){const g=s.current;if(!g)return;const C=p0e.getObserver({root:o.current,rootMargin:t,threshold:n});C.observe(g,v=>{i(v)}),r.current=C}f(),h()},[t,n]),d=c.useCallback(f=>(s.current=f,u(),()=>{s.current=null,u()}),[u]),m=c.useCallback(f=>(o.current=f,u(),()=>{o.current=null,u()}),[u]);return[d,{entry:a,rootRef:m}]}var g0e=h0e;function v0e(e){var u;const{once:t,...n}=e??{},[s,o]=g0e(n),r=!!((u=o.entry)!=null&&u.isIntersecting),[a,i]=c.useState(r);return t&&r&&!a&&i(!0),[s,{...o,isVisible:t?a:r}]}var C0e=v0e,y0e=100;function b0e({loading:e,hasNextPage:t,onLoadMore:n,rootMargin:s,disabled:o,delayInMs:r=y0e}){const a=c.useRef(n),[i,{rootRef:u,isVisible:d}]=C0e({rootMargin:s});c.useEffect(()=>{a.current=n},[n]);const m=!o&&!e&&d&&t;return c.useEffect(()=>{if(m){const f=setTimeout(()=>{a.current()},r);return()=>{clearTimeout(f)}}},[m,r]),[i,{rootRef:u}]}var oy=b0e;const ry="mt-1 rounded-2xl border border-black/5 bg-white/25 p-4 dark:border-white/5 dark:bg-black/25",yM=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M10 5H14C14 3.89543 13.1046 3 12 3C10.8954 3 10 3.89543 10 5ZM8.5 5C8.5 3.067 10.067 1.5 12 1.5C13.933 1.5 15.5 3.067 15.5 5H21.25C21.6642 5 22 5.33579 22 5.75C22 6.16421 21.6642 6.5 21.25 6.5H19.9309L18.7589 18.6112C18.5729 20.5334 16.9575 22 15.0263 22H8.97369C7.04254 22 5.42715 20.5334 5.24113 18.6112L4.06908 6.5H2.75C2.33579 6.5 2 6.16421 2 5.75C2 5.33579 2.33579 5 2.75 5H8.5ZM10.5 9.75C10.5 9.33579 10.1642 9 9.75 9C9.33579 9 9 9.33579 9 9.75V17.25C9 17.6642 9.33579 18 9.75 18C10.1642 18 10.5 17.6642 10.5 17.25V9.75ZM14.25 9C14.6642 9 15 9.33579 15 9.75V17.25C15 17.6642 14.6642 18 14.25 18C13.8358 18 13.5 17.6642 13.5 17.25V9.75C13.5 9.33579 13.8358 9 14.25 9ZM6.73416 18.4667C6.84577 19.62 7.815 20.5 8.97369 20.5H15.0263C16.185 20.5 17.1542 19.62 17.2658 18.4667L18.4239 6.5H5.57608L6.73416 18.4667Z"})),uke=Object.freeze(Object.defineProperty({__proto__:null,default:yM},Symbol.toStringTag,{value:"Module"}));function _h(e){const{source:t,pageName:n,customData:s}=e;D.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:t,eventInfo_pageName:n,eventInfo_customData:s?JSON.stringify(s):void 0}})}function x0e(e){const{impressionElement:t,entryPoint:n,customData:s}=e;D.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionElement:t,eventInfo_entryPoint:n,eventInfo_customData:s?JSON.stringify(s):void 0}})}function x9(e){const{scenario:t,source:n,pageName:s,customData:o}=e;D.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickScenario:t,eventInfo_clickSource:n,eventInfo_pageName:s,eventInfo_customData:o?JSON.stringify(o):void 0}})}function S9(e){const{scenario:t,errorType:n,errorMessage:s,customData:o}=e;qt({feature:"memory-management",errorType:n,scenario:t,errorMessage:s,customData:o?JSON.stringify(o):void 0})}function S0e(e){const{onDelete:t,isDeleting:n,ariaLabel:s,setButtonRef:o}=e,{t:r}=q(),[a,i]=c.useState(!1),u=c.useRef(null),d=yT(u,o);Co({onOutsideEvent:()=>{i(!1),x9({scenario:"deleteSingleMemory",source:"cancel",pageName:"singleDurableFact"})},elements:[u],shouldAttachListeners:a});const m=()=>{a?(t(),i(!1),x9({scenario:"deleteSingleMemory",source:"deleteSingleDurableFact",pageName:"singleDurableFact"})):(i(!0),_h({source:"durableFactDeleteButton",pageName:"memoryManagementPage"}))};return n?l.jsx("div",{className:"flex size-9 items-center justify-center",children:l.jsx(it,{className:"size-5"})}):l.jsx(ge.div,{layout:!0,children:l.jsxs(ne,{ref:d,variant:a?"rect":"square",size:"36-sm",color:a?"default":"subtle-dimmed-inverted",title:r(a?"settings.memory.management.confirmDelete":"settings.memory.delete"),"aria-label":s,"aria-expanded":a,onClick:m,children:[l.jsx(ge.div,{layout:"preserve-aspect",children:l.jsx(yM,{className:F("size-4 fill-foreground-800",a&&"fill-system-red-550 dark:fill-system-red-350"),"aria-hidden":!0})}),a&&l.jsx(ge.span,{className:"text-system-red-550 dark:text-system-red-350","aria-hidden":!0,initial:Fe,animate:nt,children:r("common.delete")})]})})}function E0e(e){const{fact:t,isLast:n,onDelete:s,isDeleting:o,ariaLabel:r,setButtonRef:a}=e;return l.jsxs(ge.li,{className:"list-none",layout:!0,initial:nt,animate:nt,exit:Fe,transition:{duration:es.default},children:[l.jsxs("div",{className:F("flex items-center gap-1.5 p-2 sm:gap-6",n&&"mb-2"),children:[l.jsx("p",{className:"flex-1 text-foreground-800 text-sm",children:t.text}),l.jsx(S0e,{onDelete:s,isDeleting:o,ariaLabel:r,setButtonRef:a})]}),!n&&l.jsx(ds,{})]})}function w0e(e){const{durableFacts:t,hasNextPage:n,showInitialLoadingState:s,infiniteRef:o,onDeleteFact:r,isDeletingFact:a,hasError:i,setButtonRef:u}=e,{t:d}=q();return l.jsxs("div",{className:F(ry,"t-custom-scrollbar flex size-full min-h-0 flex-col gap-0 overflow-y-auto",s&&"justify-center"),children:[s&&l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(it,{className:"size-12"})}),l.jsx("ul",{className:"m-0 flex w-full flex-col gap-0",role:"list",children:l.jsx(pt,{children:t.map((m,f)=>l.jsx(E0e,{fact:m,isLast:f===t.length-1,onDelete:()=>r(m.id,f),isDeleting:a(m.id),ariaLabel:d("settings.memory.management.memoryItemLabel",{text:m.text,index:f+1,total:t.length}),setButtonRef:h=>u(f,h)},m.id))})}),n&&!s&&!i&&l.jsx("div",{className:"flex justify-center py-8",ref:o,children:l.jsx(it,{className:"size-12"})})]})}const I0e="/static/cmc/assets/durable-facts-empty-dark-DDJyBbNr.png",_0e="/static/cmc/assets/durable-facts-empty-light-XQy6HH2o.png";function bM(e){const{closeModal:t=!0}={},{t:n}=q(),s=oe(CC),o=_r();return async()=>{t&&s(!1),await o(),bd({prompt:n("settings.memory.management.rememberPrompt")})}}function T0e(e){const{buttonRef:t}=e,{t:n}=q(),s=M(Wo)==="dark",o=bM(),r=()=>{o(),_h({source:"memoryManagementZeroStateButton",pageName:"memoryManagementPage"})};return l.jsx("div",{className:F(ry,"t-custom-scrollbar flex size-full flex-col items-center justify-around overflow-y-auto"),children:l.jsxs("div",{className:"flex max-w-96 flex-col items-center gap-8",children:[l.jsx("img",{src:s?I0e:_0e,alt:"","aria-hidden":"true",loading:"lazy",className:"w-full select-none"}),l.jsxs("div",{className:"flex w-full flex-col items-center gap-3",children:[l.jsx("h3",{className:"text-center text-foreground-800 text-lg",children:n("settings.memory.management.emptyMemoryStateTitle")}),l.jsx("p",{className:"text-center text-foreground-550 text-sm",children:n("settings.memory.management.emptyMemoryStateSubtitle")})]}),l.jsx(ne,{color:"strong",variant:"rect",size:"36-sm",title:n("settings.memory.createAction"),className:"w-fit",onClick:r,ref:t,children:n("settings.memory.createAction")})]})})}function A0e(){const{t:e}=q();return l.jsxs("div",{className:F(ry,"flex size-full min-h-fit flex-col items-center justify-center gap-8 text-center text-foreground-800"),children:[l.jsx("h3",{className:"max-w-96 text-lg",children:e("common.somethingWrong")}),l.jsx("p",{className:"max-w-96 text-sm",children:e("common.somethingWrongDescription")})]})}const S0="/memory/durable-facts",E9=["memory","durable-facts"];function k0e(e){const{onDeleteSuccess:t,onDeleteError:n}=e??{},s=n1(),[o,r]=c.useState(new Set),a=c.useCallback(async f=>{const{pageParam:h}=f,{url:g,args:C}=h;return await St(g,$$,{query:C}).then(y=>y.data)},[]),i=c.useCallback(f=>f.next?{url:S0,args:{cursor:f.next}}:null,[]),{mutate:u}=Di({mutationFn:async({factId:f})=>{if(!(await zn(`${S0}/${f}`,{options:{method:"DELETE"}})).ok)throw new Error(`Failed to delete durable fact: ${f}`)},onMutate:({factId:f})=>{r(h=>new Set([...h,f]))},onSuccess:(f,{factId:h,index:g})=>{s.setQueryData(E9,C=>C&&{...C,pages:C.pages.map(v=>({...v,results:v.results.filter(y=>y.id!==h)}))}),t==null||t(g)},onError:(f,{factId:h,index:g})=>{n==null||n(f,h,g)},onSettled:(f,h,{factId:g})=>{r(C=>{const v=new Set(C);return v.delete(g),v})}}),d=c.useCallback(f=>o.has(f),[o]);return{...wm({queryKey:E9,queryFn:a,initialPageParam:{url:S0},getNextPageParam:i,staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0}),deletion:{deleteDurableFact:u,isDeletingFact:d}}}function M0e(){var E;const{t:e}=q(),t=oe(Sn),n=c.useRef(!1),{loader:s,deletion:o}=k0e({onDeleteSuccess:S=>{t({title:e("settings.memory.management.deleted"),dismissable:!1,dismissAfter:3e3}),h(S<v.length-1?S:S-1)},onDeleteError:(S,I,_)=>{t({title:e("common.somethingWrong"),subtitle:e("common.somethingWrongDescription"),dismissable:!1,dismissAfter:3e3}),S9({scenario:"deleteDurableFact",errorType:"requestFailure",errorMessage:S.message}),h(_)}}),{deleteDurableFact:r,isDeletingFact:a}=o,[i]=oy({...s,disabled:!!s.error}),u=bM(),d=c.useRef(!1),m=c.useRef(null),f=c.useRef(new Map),h=S=>{S<0?requestAnimationFrame(()=>{var I;(I=m.current)==null||I.focus()}):requestAnimationFrame(()=>{var I;(I=f.current.get(S))==null||I.focus()})},g=(S,I)=>{f.current.set(S,I)},C=()=>{u(),_h({source:"memoryManagementAddButton",pageName:"memoryManagementPage"})},v=((E=s.data)==null?void 0:E.flatMap(S=>S.results))??[],y=v.length===0&&!s.loading&&!s.error,b=s.loading&&v.length===0;return c.useEffect(()=>{!b&&!d.current&&(x0e({impressionElement:"memoryManagementPage",customData:{state:y?"zeroState":"available"}}),d.current=!0)},[b,y]),c.useEffect(()=>{s.error&&!n.current&&(n.current=!0,t({title:e("common.somethingWrong"),subtitle:e("common.somethingWrongDescription"),dismissable:!1,dismissAfter:3e3}),S9({scenario:`loadDurableFacts${s.hasNextPage?"NextPage":""}`,errorType:"requestFailure",errorMessage:s.error.message}))},[s.hasNextPage,s.error,t,e]),s.error&&!s.loading&&v.length===0?l.jsx(A0e,{}):y?l.jsx(T0e,{buttonRef:m}):l.jsxs(l.Fragment,{children:[l.jsx(w0e,{durableFacts:v,showInitialLoadingState:b,hasNextPage:s.hasNextPage,infiniteRef:i,onDeleteFact:(S,I)=>{r({factId:S,index:I})},isDeletingFact:a,hasError:!!s.error,setButtonRef:g}),l.jsx(ne,{variant:"rect",size:"36-sm",title:e("settings.memory.management.add"),className:"mt-3 w-fit shrink-0",onClick:C,children:e("settings.memory.management.add")})]})}function N0e(){const[e,t]=Ue(CC),{t:n}=q(),s=()=>{t(!1),_h({source:"memoryManagementDismissButton",pageName:"memoryManagementPage"})};return l.jsx(dn,{isOpen:e,onClose:s,headerText:n("settings.memory.management.title"),className:"h-[70vh] max-h-[780px] w-[88vw] max-w-[760px] bg-background-200",children:l.jsx(M0e,{})})}const xM=e=>c.createElement("svg",{viewBox:"0 0 12 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M2.21967 4.46967C2.51256 4.17678 2.98744 4.17678 3.28033 4.46967L6 7.18934L8.71967 4.46967C9.01256 4.17678 9.48744 4.17678 9.78033 4.46967C10.0732 4.76256 10.0732 5.23744 9.78033 5.53033L6.53033 8.78033C6.23744 9.07322 5.76256 9.07322 5.46967 8.78033L2.21967 5.53033C1.92678 5.23744 1.92678 4.76256 2.21967 4.46967Z"})),dke=Object.freeze(Object.defineProperty({__proto__:null,default:xM},Symbol.toStringTag,{value:"Module"})),vu={conversation:"share.shareManagement.conversation",imagePart:"share.shareManagement.imagePart",page:"share.shareManagement.page",podcast:"share.shareManagement.podcast","3dGeneration":"share.shareManagement.3dGeneration",task:"share.shareManagement.task"};function R0e(e){const{category:t,onCategoryChange:n,containerRef:s}=e,{t:o}=q(),r=G("share-image-gen");return l.jsx("div",{className:"flex min-h-14 w-full flex-row pe-3",children:l.jsx("div",{className:"flex items-center",children:l.jsx(Tm,{className:"bg-acrylic-default-tint-light p-2 bg-blend-saturation shadow-md backdrop-blur-[60px] dark:bg-acrylic-default-tint-dark",options:{placement:"bottom-start",hideOnMenuClick:!0,roleType:"menu",rootRef:s,offset:{crossAxis:-8}},renderTrigger:a=>{const{onClick:i,ref:u}=a;return l.jsx(ne,{color:"subtle-dimmed-inverted",onClick:i,ref:u,title:o(vu[t]),children:l.jsxs("div",{className:"flex flex-row items-center gap-4.5",children:[l.jsx("div",{className:"truncate text-sm",children:o(vu[t])}),l.jsx(xM,{className:"size-3"})]})})},children:l.jsx("div",{className:"flex flex-col gap-1.5",children:Object.keys(vu).map(a=>a!=="imagePart"||r?l.jsx(ne,{alignment:"start",color:"subtle-dimmed-inverted",onClick:()=>n(a),title:o(vu[a]),className:"shrink-0",children:o(vu[a])},a):null)})})})})}const SM=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M5.5028 4.62704L5.5 6.75V17.2542C5.5 19.0491 6.95507 20.5042 8.75 20.5042L17.3663 20.5045C17.0573 21.3782 16.224 22.0042 15.2444 22.0042H8.75C6.12665 22.0042 4 19.8776 4 17.2542V6.75C4 5.76929 4.62745 4.93512 5.5028 4.62704ZM17.75 2C18.9926 2 20 3.00736 20 4.25V17.25C20 18.4926 18.9926 19.5 17.75 19.5H8.75C7.50736 19.5 6.5 18.4926 6.5 17.25V4.25C6.5 3.00736 7.50736 2 8.75 2H17.75Z"})),mke=Object.freeze(Object.defineProperty({__proto__:null,default:SM},Symbol.toStringTag,{value:"Module"}));function EM(){const e=pe(Mn);return A3(Rt.resolvedLanguage,e)}function wM(){const{i18n:e}=q(),t=M(Mn);return A3(e.resolvedLanguage,t)}const P0e={year:"numeric",month:"long",day:"numeric"};function L0e(e){const{item:t,isSmallScreen:n,onRevokeItem:s}=e,{sharedAt:o}=t,r="shareLink"in t?t.shareLink:t.url,a="title"in t&&t.title?t.title:"",i="thumbnailUrl"in t?t.thumbnailUrl:void 0,{t:u}=q(),[d,m]=c.useState(!1),f=c.useRef(null),[h,g]=c.useState(!1),C=wM(),v=a===""?r:a,y=async()=>{try{await navigator.clipboard.writeText(r),g(!0),vo({msg:u("share.copied"),type:"polite"}),setTimeout(()=>g(!1),xS)}catch(E){Yme({details:"Error copying shared conversation url.",errorMessage:E instanceof Error?E.message:""})}};Co({onOutsideEvent:()=>m(!1),elements:[f],includeScroll:!0,invokeOnce:!0});const b=async()=>{d?(Zme(t.shareId),await s(t),m(!1)):m(!0)};return l.jsxs("div",{className:"flex h-10 w-full flex-row items-center",children:[i&&l.jsx(Uu,{src:i,alt:u("share.shareManagement.thumbnailAlt"),className:"me-3 size-10 min-h-10 min-w-10 rounded-xl object-cover object-center backdrop-blur",draggable:"false",loading:"lazy"}),l.jsx("div",{className:"w-full truncate pe-6",children:l.jsx(cs,{href:r,title:v,className:"text-foreground-800 underline sm:text-foreground-900 sm:text-sm",children:v})}),!n&&l.jsx("div",{className:"shrink-0 whitespace-nowrap text-foreground-550 text-xs",children:new Date(o).toLocaleDateString(C,P0e)}),l.jsxs("div",{className:"flex min-w-[104px] shrink-0 flex-row justify-end",children:[!d&&l.jsx(ne,{size:"32-xs",color:"subtle-dimmed-inverted",onClick:y,title:u("share.copy"),children:h?l.jsx(SM,{className:"absolute size-6 sm:size-5"}):l.jsx(Sh,{className:"absolute size-6 sm:size-5"})}),l.jsx(ne,{size:"32-xs",color:d?"default":"subtle-dimmed-inverted",onClick:b,title:u(d?"share.shareManagement.confirmRevoke":"share.shareManagement.revoke"),ref:f,children:l.jsxs("div",{className:F("flex flex-row",!d&&"absolute"),children:[l.jsx(an,{className:F("size-6 sm:size-5",d&&"text-system-red-450")}),d&&l.jsx("div",{className:"px-1 text-system-red-450 sm:text-sm",children:u("share.shareManagement.revokeButton")})]})})]})]})}function O0e(e){const{items:t,onRevokeItem:n,loading:s}=e,{t:o}=q(),r=gt({breakpoint:"sm"}),a=t.length>0;return s?l.jsx("div",{className:"flex size-full items-center justify-center",children:l.jsx(it,{className:"size-10"})}):a?l.jsx("div",{className:"w-full sm:px-3 sm:pt-2",children:l.jsx(pt,{initial:!1,children:t.map(i=>l.jsx(ge.div,{animate:nt,exit:Fe,children:l.jsx(L0e,{item:i,isSmallScreen:r,onRevokeItem:n},i.shareId)},i.shareId))})}):l.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-6 px-2 pb-6 pt-0.5 text-center text-foreground-550 sm:px-7 sm:py-0",children:[l.jsx("h3",{className:"text-xl-medium",children:o("share.shareManagement.emptySharedLinksTitle")}),l.jsx("p",{className:"text-base",children:o("share.shareManagement.emptySharedLinksSubtitle")})]})}const D0e=ke(["3dGeneration","podcast","pages","task"]),fke=x({id:p(),url:p()});x({type:D0e,id:p().min(1)});const IM=x({shareId:p(),url:_t(),title:p(),sharedAt:p()}),j0e=x({cursor:p().optional()});x({results:L(IM),next:p().nullable()});const jm=ke(["page","podcast","3dGeneration","imagePart","task"]),Um=x({shareId:p(),shareLink:_t(),sharedAt:p()}),U0e=Um.extend({type:w(jm.enum.page),title:p().nullable()}),F0e=Um.extend({type:w(jm.enum.podcast),title:p().nullable()}),B0e=Um.extend({type:w(jm.enum["3dGeneration"])}),V0e=Um.extend({type:w(jm.enum.imagePart),thumbnailUrl:_t(),prompt:p()}),H0e=Um.extend({type:w(jm.enum.task),title:p().nullable()}),z0e=Pe([U0e,F0e,B0e,V0e,H0e,IM]);j0e.extend({types:p().optional()});const G0e=x({results:L(z0e),next:p().nullable()});x({conversationTitle:p()});const W0e="/conversations/shares",$0e="/sharing",q0e="sharedLinks";function K0e({type:e}){const t=e==="conversation",n=t?W0e:$0e,s=[q0e,e],o=c.useCallback(async u=>{const{pageParam:d}=u,{url:m,args:f}=d;return await St(m,G0e,{query:f,analytics:{anonymousPath:n},parseOptions:{safe:!0}}).then(g=>g.data)},[n]),r=c.useCallback(u=>u.next?{url:n,args:t?{cursor:u.next}:{cursor:u.next,types:e}}:null,[t,n,e]),a=wm({queryKey:s,queryFn:o,initialPageParam:{url:n,args:t?void 0:{types:e}},getNextPageParam:r,staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0}),i=Z0e({path:n,queryKey:s});return{...a,deleteSharedLink:i}}function Z0e({path:e,queryKey:t}){const n=n1();return Di({mutationFn:async o=>{await zn(`${e}/${o}`,{options:{method:"DELETE"},analytics:{anonymousPath:`${e}/*`}})},onMutate:async o=>{await n.cancelQueries({queryKey:t}),n.setQueryData(t,r=>r&&{...r,pages:r.pages.map(a=>({...a,results:a.results.filter(i=>i.shareId!==o)}))})}}).mutateAsync}function Y0e(e){var m;const{showCategoryHeader:t,containerRef:n}=e,[s,o]=c.useState("conversation"),{loader:r,deleteSharedLink:a}=K0e({type:s}),[i]=oy({...r,disabled:!!r.error}),u=((m=r.data)==null?void 0:m.flatMap(f=>f.results))??[],d=async f=>{await a(f.shareId)};return l.jsxs("div",{className:"flex size-full flex-col overflow-y-auto sm:p-2",children:[t&&l.jsxs("div",{children:[l.jsx(R0e,{category:s,onCategoryChange:f=>{o(f)},containerRef:n}),l.jsx(ds,{color:"accent",horizontalMargin:!1,className:"mx-2"})]}),l.jsxs("div",{className:"t-custom-scrollbar flex size-full flex-col overflow-y-auto",children:[l.jsx(O0e,{items:u,onRevokeItem:d,loading:r.loading&&u.length===0}),r.hasNextPage&&l.jsx("div",{ref:i})]})]})}const Q0e=N(!1);function J0e(){const{t:e}=q(),[t,n]=Ue(Q0e),s=gt({breakpoint:"sm"}),o=G("artifact-sharemanagement"),r=o?"h-[584px]":"h-[512px]",a=c.useRef(null),i=()=>{n(!1)};return l.jsxs(dn,{isOpen:t,headerText:e("share.shareManagement.sharedLinksTitle"),className:F(r,"w-[640px]"),bottomSheetOnSmall:!0,bottomSheetClassName:"w-full rounded-t-4xl rounded-b-6xl",onClose:i,children:[l.jsx("div",{className:"size-full overflow-y-auto",ref:a,children:l.jsx(Y0e,{showCategoryHeader:o,containerRef:a})}),!s&&l.jsx("div",{className:"mt-2 flex h-14 flex-col items-center pe-3.5 ps-3.5",children:l.jsx(ne,{color:"subtle-dimmed-inverted",title:e("common.cancel"),onClick:i,className:"size-full text-base",children:e("common.cancel")})})]})}function X0e(){const e=G("share-to-social-media-v1"),t=G("social-media-with-copy");return e||t}function pke(){return G("social-media-with-copy")}const w9={translateY:"100%"},e2e={translateY:0};function t2e(e){const{children:t,id:n,className:s}=e,o=c.useRef(null),{modalAttributes:r}=$1({trapFocus:!0,legacyTrapFocus:!0,alwaysFocusable:!0});return l.jsxs(l.Fragment,{children:[l.jsx(ge.div,{initial:Fe,animate:nt,exit:Fe,transition:W2,className:"fixed inset-0 bg-black/50",...r}),l.jsx(ge.div,{id:n,initial:w9,animate:e2e,exit:w9,transition:W2,className:le("absolute bottom-0 max-h-expanded-section w-full overflow-y-hidden rounded-4xl",ct.modal,s),ref:o,children:l.jsx("div",{className:"flex h-full flex-col items-start gap-4 overflow-y-auto bg-background-100 p-6",children:t})})]})}function n2e(e){var i;const{children:t,id:n,className:s}=e,o=Ns(),r=(i=ae.instance().config().uiOverrides)==null?void 0:i.disableConversationsModalWrapper,{modalAttributes:a}=$1({trapFocus:!0,legacyTrapFocus:!0,alwaysFocusable:!0});return o||r?l.jsx("div",{className:"flex max-w-96 flex-col items-start gap-4 p-2",...a,children:t}):l.jsx(t2e,{id:n,className:s,children:t})}function s2e(){const[e,t]=c.useState(!1),n=bl(vt),s=_r(),o=c.useCallback(async r=>{if(!r)return;const a=_te(r);$t({source:"deleteConversation",conversationId:r,scenario:a?"actions":void 0}),t(!0);try{a?await zn(`/tasks/${a}`,{options:{method:"DELETE"},analytics:{anonymousPath:"/tasks/*"}}):await zn(`/conversations/${r}`,{options:{method:"DELETE"},analytics:{anonymousPath:"/conversations/*"}}),pe(je)===r&&await s(),n(i=>{i.delete(r)})}catch(i){i instanceof Error&&qt({feature:"deleteConversation",errorType:i.name,errorMessage:i.message,exception:i.stack})}finally{t(!1)}},[n,s]);return{loading:e,deleteConversation:o}}function o2e(e){var v;const{conversationId:t,onClose:n}=e,s=c.useId(),{t:o}=q(),[r,a]=c.useState(!1),i=c.useRef(null),{loading:u,deleteConversation:d}=s2e();c.useEffect(()=>{requestAnimationFrame(()=>{var y;(y=i.current)==null||y.focus()})},[]);const m=()=>{r&&An(BF,"true"),n()},f=async()=>{await d(t),m(),Ge.emit("composer:focus-input")},h=Ns(),C=!((v=ae.instance().config().uiOverrides)==null?void 0:v.disableDeleteConfirmationCheckbox)&&!h;return ps(y=>{y.key==="Escape"&&(y.stopPropagation(),y.preventDefault(),n())}),l.jsxs(n2e,{id:s,className:"h-96",children:[l.jsx("h2",{className:"text-xl",children:o("composer.deleteConversation.header")}),l.jsx("p",{children:o("composer.deleteConversation.description")}),C&&l.jsx(k3,{disabled:u,checked:r,label:o("composer.deleteConversation.dontRemindMeCheck"),setChecked:a,className:"flex-1"}),l.jsx(ne,{ref:i,title:o("common.delete"),color:"default",size:"56-xl",variant:"rect",className:"mt-auto w-full text-system-red-550 dark:text-system-red-350",disabled:u,onClick:f,children:u?l.jsx(it,{className:"size-8"}):o("common.delete")}),l.jsx(ne,{title:o("common.keep"),color:"strong",size:"56-xl",variant:"rect",className:"w-full",disabled:u,onClick:m,children:o("common.keep")})]})}const _M=N(void 0),TM=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M14.7227 16.2211C14.43 16.5142 14.4303 16.9891 14.7234 17.2818C15.0165 17.5745 15.4914 17.5742 15.7841 17.2811L20.7807 12.2776C21.0732 11.9847 21.0731 11.5101 20.7804 11.2174L15.7838 6.21972C15.4909 5.9268 15.016 5.92675 14.7231 6.21962C14.4302 6.51248 14.4301 6.98735 14.723 7.28028L18.443 11H10.6012C9.00642 11 7.79015 11.242 6.71218 11.7645L6.46576 11.89C5.35728 12.4829 4.48286 13.3573 3.89004 14.4658C3.28062 15.6053 3 16.8837 3 18.6012C3 19.0154 3.33579 19.3512 3.75 19.3512C4.16421 19.3512 4.5 19.0154 4.5 18.6012C4.5 17.1174 4.72765 16.0802 5.21276 15.1732C5.66578 14.3261 6.32609 13.6658 7.17316 13.2128C8.01046 12.765 8.95858 12.5365 10.2666 12.5041L10.6012 12.5H18.438L14.7227 16.2211Z"})),hke=Object.freeze(Object.defineProperty({__proto__:null,default:TM},Symbol.toStringTag,{value:"Module"})),AM=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M12.5303 2.21967C12.2374 1.92678 11.7626 1.92678 11.4697 2.21967L6.21967 7.46967C5.92678 7.76256 5.92678 8.23744 6.21967 8.53033C6.51256 8.82322 6.98744 8.82322 7.28033 8.53033L11.25 4.56066V15.25C11.25 15.6642 11.5858 16 12 16C12.4142 16 12.75 15.6642 12.75 15.25V4.56066L16.7197 8.53033C17.0126 8.82322 17.4874 8.82322 17.7803 8.53033C18.0732 8.23744 18.0732 7.76256 17.7803 7.46967L12.5303 2.21967ZM3.75 11C4.16421 11 4.5 11.3358 4.5 11.75V17.75C4.5 18.7165 5.2835 19.5 6.25 19.5H17.75C18.7165 19.5 19.5 18.7165 19.5 17.75V11.75C19.5 11.3358 19.8358 11 20.25 11C20.6642 11 21 11.3358 21 11.75V17.75C21 19.5449 19.5449 21 17.75 21H6.25C4.45507 21 3 19.5449 3 17.75V11.75C3 11.3358 3.33579 11 3.75 11Z"})),gke=Object.freeze(Object.defineProperty({__proto__:null,default:AM},Symbol.toStringTag,{value:"Module"}));function r2e(e){const t=M(Yt),n=M(vt),s=e?n.get(e):void 0,o=!!(s!=null&&s.group),r=c.useMemo(()=>{var f;if(!((f=s==null?void 0:s.group)!=null&&f.participants)||!t)return[];const{owner:i,participants:u}=s.group;return(i?u.filter(h=>h.userId!==i.userId):u).concat(i?[i]:[]).map(({userId:h,userDisplayName:g})=>({userId:h,userDisplayName:g??h,isYou:h===t.id,isOwner:(i==null?void 0:i.userId)===h})).sort((h,g)=>Number(g.isYou)-Number(h.isYou))},[s,t]),a=c.useMemo(()=>r.find(i=>i.isYou&&i.isOwner)!==void 0,[r]);return{members:r,isGroupOwner:a,isGroupConversation:o}}function a2e(e){const{conversationId:t,onShare:n,onInvite:s,onRemove:o,isCreating:r,inviteLink:a}=e,{t:i}=q(),{isGroupConversation:u,isGroupOwner:d}=r2e(t),m=(f,h)=>{(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),h.stopPropagation(),f==="invite"?s():n())};return l.jsxs("div",{className:"flex flex-col justify-center gap-3",role:"region","aria-label":i("share.invite.title"),children:[l.jsxs("div",{className:"flex w-full cursor-pointer flex-row items-center justify-start gap-3 rounded-2xl bg-background-800 px-2 py-2.5 text-foreground-200 shadow-sm hover:bg-background-700 focus:bg-background-700 focus:outline-none focus:ring-2 focus:ring-foreground-600 dark:bg-background-800",role:"button",tabIndex:0,"aria-label":i("share.invite.subtitle"),"aria-expanded":"false",onClick:s,onKeyDown:f=>m("invite",f),children:[l.jsx("div",{className:"ms-3 flex size-10 items-center justify-center rounded-xl bg-foreground-100 fill-foreground-250 dark:bg-muted-550","aria-hidden":"true",tabIndex:-1,title:i("share.invite.subtitle"),children:l.jsx(AM,{className:"size-6 text-foreground-800","aria-hidden":"true"})}),l.jsx("div",{className:"m-auto ms-0 flex flex-col truncate text-start text-base",children:l.jsx("span",{className:"truncate",children:i(r?"common.loading":"share.invite.subtitle")})}),l.jsx(us,{className:"me-2 size-5 transition-transform","aria-hidden":"true"})]}),a?l.jsxs("div",{className:"flex w-full flex-row items-center justify-center gap-1",children:[l.jsx("span",{className:"text-foreground-550 text-sm dark:text-foreground-800",children:i("share.invite.permission")}),d&&l.jsx("button",{type:"button",className:"text-foreground-550 underline text-sm hover:text-foreground-800 focus:outline-none focus:ring-2 focus:ring-foreground-600 dark:text-foreground-800 dark:hover:text-foreground-600",onClick:o,title:i("share.invite.remove"),children:i("share.invite.remove")})]}):l.jsx("div",{className:"px-3 text-center text-foreground-550 text-sm dark:text-foreground-800",children:i("share.invite.inviteLinkDescription")}),l.jsx(ds,{}),(!u||d)&&l.jsxs("div",{className:"flex w-full cursor-pointer flex-row items-center justify-start gap-3 rounded-2xl px-2 py-2.5 hover:bg-background-200 focus:bg-background-200 focus:outline-none focus:ring-2 focus:ring-foreground-600 dark:hover:bg-muted-400 dark:focus:bg-muted-400",role:"button",tabIndex:0,"aria-label":i("share.invite.subtitle"),"aria-expanded":"false",onClick:n,onKeyDown:f=>m("share",f),children:[l.jsx("div",{className:"ms-3 flex size-10 items-center justify-center rounded-xl bg-foreground-100 fill-foreground-250 shadow-sm dark:bg-muted-550","aria-hidden":"true",tabIndex:-1,title:i("share.invite.subtitle"),children:l.jsx(TM,{className:"size-6 text-foreground-800","aria-hidden":"true"})}),l.jsx("div",{className:"m-auto ms-0 flex flex-col truncate text-start text-base",children:l.jsx("span",{className:"truncate",children:i("share.invite.copy")})}),l.jsx(us,{className:"me-2 size-5 transition-transform","aria-hidden":"true"})]}),l.jsx("p",{className:"px-3 text-foreground-550 text-xs dark:text-foreground-800",role:"note",children:i("share.invite.disclaimer")})]})}function i2e(e){const{conversationId:t,inviteLink:n,isCreating:s,onShare:o,onInvite:r,onRemove:a}=e;return l.jsx(a2e,{conversationId:t,inviteLink:n,isCreating:s,onShare:o,onInvite:r,onRemove:a})}function c2e(e){const{successMessage:t,errorMessage:n,analyticsDetails:s="Clipboard copy failed",announcePoliteness:o="polite",enableToast:r=!0,enableAnnounce:a=!0,trackError:i=!0,trackCopyClick:u}=e,d=oe(Sn),[m,f]=c.useState(!1);return{copy:c.useCallback(async g=>{if(!g)return!1;f(!0);try{return u==null||u(),await navigator.clipboard.writeText(g),a&&vo({msg:t,type:o}),r&&d({title:t,dismissAfter:3e3}),!0}catch(C){return i&&D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"CopyError",eventInfo_details:s,eventInfo_errorMessage:C instanceof Error?C.message:""}}),r&&d({title:n,dismissAfter:3e3,intent:"error"}),!1}finally{f(!1)}},[t,n,s,o,r,a,i,d,u]),isCopying:m}}async function l2e(e){return(await St(e,k$,{options:{method:"POST"},parseOptions:{safe:!0},analytics:{anonymousPath:"/conversations/*/join-link"}})).data}function u2e(e){const t=Di({mutationKey:["createInviteLink",e],mutationFn:async()=>{const s=`/conversations/${e}/join-link`;return l2e(s)},onSuccess:()=>{T_(e)}}),n=async()=>{try{return{success:!0,url:(await t.mutateAsync()).url}}catch{return{success:!1}}};return{isCreating:t.isPending,error:t.error,create:n}}async function d2e(e){const t=`/conversations/${e}/join-link`;try{return(await zn(t,{options:{method:"DELETE"},analytics:{anonymousPath:"/conversations/*/join-link"}})).ok}catch{return!1}}function m2e(e){const t=Di({mutationKey:["deleteInviteLink",e],mutationFn:()=>d2e(e)}),n=async()=>{try{return await t.mutateAsync()}catch{return!1}};return{isDeleting:t.isPending,error:t.error,remove:n}}async function f2e(e){return(await St(e,M$,{options:{method:"GET"},parseOptions:{safe:!0},analytics:{anonymousPath:"/conversations/*/join-link"}})).data}function p2e({conversationId:e,enabled:t=!1}){const{data:n,error:s,refetch:o,isPending:r}=Ms({queryKey:["getInviteLink",e],queryFn:async()=>f2e(`/conversations/${e}/join-link`),enabled:t});return{isPending:r,error:s,link:(n==null?void 0:n.url)??void 0,getLink:o}}function h2e(){return G("allowanonymoususershare")}function ay({conversationId:e,messageId:t,scenario:n,trackShareClick:s=()=>{}}){const o=M(je),r=e??o,a=h2e(),i=oe(_M),u=c.useRef(null),d=c.useCallback(()=>{if(!r){$me({conversationId:"",messageId:t,errorName:"conversationNotFound",errorMessage:"Conversation ID is missing"});return}i({conversationId:r,action:"share",messageId:t,scenario:n,onClose:()=>{setTimeout(()=>{var h;(h=u.current)==null||h.focus()},0)}}),s()},[r,t,n,i,s]),m=rk({callback:d,onShowSignIn:s,signInScenario:"loggedOutSharing",signInReason:"shareMessage"});return{shareClickHandler:c.useMemo(()=>a?d:m,[a,d,m]),shareRef:u}}function g2e(e){const{conversationId:t,close:n}=e,{t:s}=q(),{isCreating:o,create:r}=u2e(t),{link:a,getLink:i}=p2e({conversationId:t,enabled:!0}),{remove:u}=m2e(t),d=oe(Sn),{shareClickHandler:m}=ay({scenario:"chatPage",trackShareClick:()=>ye({scenario:"inviteModal",source:"copy"})}),{copy:f}=c2e({successMessage:s("share.copied"),errorMessage:s("share.copiedFailed"),analyticsDetails:"Error copying group chat invite link."}),h=()=>{m(),ye({scenario:"inviteModal",source:"copy"})},g=async()=>{if(ye({scenario:"inviteModal",source:"inviteByLink"}),a){f(a);return}const{success:v,url:y}=await r();v&&y?(await i(),f(y)):d({title:s("share.invite.createFail"),dismissAfter:3e3}),ye({scenario:"inviteModal",source:"create"})},C=async()=>{await u()?await i():d({title:s("share.invite.removeFail"),dismissAfter:3e3}),ye({scenario:"inviteModal",source:"remove"})};return l.jsx(dn,{isOpen:!0,onClose:n,headerText:s("share.invite.title"),headerTextClassName:"m-auto",className:"w-full max-w-[516px]",children:l.jsx(i2e,{conversationId:t,inviteLink:a,isCreating:o,onShare:h,onInvite:g,onRemove:C})})}const kM=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M9.25 7C9.66421 7 10 7.33579 10 7.75C10 8.12656 9.72249 8.4383 9.36083 8.49187L9.25 8.5H7C5.067 8.5 3.5 10.067 3.5 12C3.5 13.864 4.95707 15.3876 6.79435 15.4941L7 15.5H9.25C9.66421 15.5 10 15.8358 10 16.25C10 16.6266 9.72249 16.9383 9.36083 16.9919L9.25 17H7C4.23858 17 2 14.7614 2 12C2 9.32226 4.10496 7.13615 6.75045 7.00612L7 7H9.25ZM17 7C19.7614 7 22 9.23858 22 12C22 14.6777 19.895 16.8638 17.2495 16.9939L17 17H14.75C14.3358 17 14 16.6642 14 16.25C14 15.8734 14.2775 15.5617 14.6392 15.5081L14.75 15.5H17C18.933 15.5 20.5 13.933 20.5 12C20.5 10.136 19.0429 8.6124 17.2057 8.50594L17 8.5H14.75C14.3358 8.5 14 8.16421 14 7.75C14 7.37344 14.2775 7.0617 14.6392 7.00813L14.75 7H17ZM7 11.25H17C17.4142 11.25 17.75 11.5858 17.75 12C17.75 12.3797 17.4678 12.6935 17.1018 12.7432L17 12.75H7C6.58579 12.75 6.25 12.4142 6.25 12C6.25 11.6203 6.53215 11.3065 6.89823 11.2568L7 11.25H17H7Z"})),vke=Object.freeze(Object.defineProperty({__proto__:null,default:kM},Symbol.toStringTag,{value:"Module"}));async function Wp(e){const{url:t,scenario:n="conversation"}=e;try{return await navigator.clipboard.writeText(t),!0}catch(s){return D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"CopyError",eventInfo_details:`Error copying shared ${n} url.`,eventInfo_errorMessage:s instanceof Error?s.message:""}}),!1}}function v2e({url:e,disableAutoCopy:t=!1,buttonColor:n="strong",onCopyClick:s}){const{t:o}=q(),r=o("share.copied"),a=o("share.copy"),i=o("share.copying"),[u,d]=c.useState(""),[m,f]=c.useState(!1),h=c.useRef(null),g=c.useRef(null),C=c.useCallback(()=>{h.current=window.setTimeout(()=>{d(a)},xS)},[a]),v=c.useCallback(()=>{h.current&&clearTimeout(h.current)},[]);c.useEffect(()=>t?(d(a),v):(f(!0),d(i),h.current=window.setTimeout(()=>{Wp({url:e}).then(b=>{var E;f(!1),d(b?r:a),(E=g.current)==null||E.focus(),s==null||s(),b&&C()})},MB),v),[C,v,e,r,a,i,t,s]);const y=async()=>{await Wp({url:e}),d(r),v(),C(),s==null||s()};return l.jsx(ne,{ref:g,title:u,color:n,size:"56-xl",className:"w-full",onClick:y,disabled:m,"aria-live":"polite","aria-label":u,children:m?l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(it,{type:"spinnerThemed",className:"size-6"}),u]}):u})}function Cke({url:e,urlGenerator:t,className:n,disabled:s,isLoading:o=!1,onClick:r,buttonRef:a}){const{t:i}=q(),u=oe(Sn),[d,m]=c.useState(!1),f=i("chat.copy"),h=c.useCallback(async()=>{if(!e&&!t){D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"CopyError",eventInfo_details:"No URL or URL generator provided for copy button.",eventInfo_errorMessage:"Missing url and onGenerateShareUrl props"}});return}try{m(!0);const C=e??await t(),v=await Wp({url:C});r(C),u(v?{title:i("podcasts.shareToastMessage"),dismissable:!1,dismissAfter:6e3}:{title:i("share.unhandledErrorTitle"),dismissable:!1,dismissAfter:6e3})}catch(C){D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"CopyError",eventInfo_details:"Error copying shared url from social media copy button.",eventInfo_errorMessage:C instanceof Error?C.message:""}}),u({title:i("share.unhandledErrorTitle"),dismissable:!1,dismissAfter:6e3})}finally{m(!1)}},[e,t,r,i,u]),g=l.jsx("div",{className:"size-8 p-0.5",children:o&&d?l.jsx(it,{className:"size-8"}):l.jsx(kM,{})});return l.jsxs(ne,{ref:a,size:"56-xl",color:"subtle-dimmed-inverted",title:f,className:F("flex flex-1 flex-col gap-1 py-2",n),onClick:h,"aria-label":f,disabled:s,children:[g,l.jsx("span",{className:"font-medium text-foreground-650 text-2xs",children:f})]})}function C2e(e){const{onClose:t,shareUrl:n,imagePath:s,title:o}=e,[r,a]=c.useState(!0),{t:i}=q(),u=()=>{t(!1)};return l.jsxs(dn,{isOpen:!0,onClose:u,headerText:i("podcasts.share"),className:"w-full max-w-[640px]",children:[l.jsxs("div",{className:"mt-3 flex flex-col gap-6",children:[l.jsxs("div",{className:"mx-2 flex flex-col items-center gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(g_,{alt:"",path:s,onLoad:()=>a(!1),className:"rounded-2xl"}),l.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-podcast-share-modal-light dark:bg-gradient-podcast-share-modal-dark"}),!r&&l.jsx("h1",{className:"absolute bottom-8 mx-8 inline text-foreground-800 text-2xl",role:"presentation",children:o})]}),r&&l.jsx("div",{className:"flex h-[328px] items-center justify-center",children:l.jsx(it,{type:"spinnerThemed",className:"size-6"})})]}),l.jsx("div",{className:"py-4",children:l.jsx(v2e,{url:n,disableAutoCopy:!0})})]}),l.jsx("div",{className:"m-auto mb-3 max-w-[484px] text-center text-foreground-600 text-xs",children:i("podcasts.sharePodcastsDisclaimer")})]})}const y2e=c.lazy(()=>B(()=>import("./sender-share-conversation-modal-MROmDfXa.js"),__vite__mapDeps([361,1,336,337,362])).then(e=>({default:e.ShareConversationModal})));function b2e(){const[e,t]=Ue(_M),{t:n}=q(),s=X0e(),o=G("share-image-continue"),r=c.useMemo(()=>e?document.activeElement:null,[e]),a=()=>{var i;r instanceof HTMLElement&&setTimeout(()=>{r.focus()},0),t(void 0),(e==null?void 0:e.action)==="share"&&((i=e.onClose)==null||i.call(e))};switch(e==null?void 0:e.action){case"delete":return l.jsx(Ho,{isOpen:!0,className:"w-3/4 max-w-fit",trapFocus:!0,disableCloseOutside:!0,children:l.jsx(o2e,{onClose:a,conversationId:e.conversationId})});case"share":{let i;return s||o?i=n("common.share"):e.messageId?i=n("share.shareModalHeaderOneTurn"):i=n("share.shareModalHeader"),l.jsx(Ho,{trapFocus:!0,isOpen:!!e.conversationId,disableCloseOutside:!0,onClose:a,headerText:i,headerTextClassName:F("text-xl",s&&"text-2xl"),className:F("relative max-h-full w-3/4 max-w-[640px] gap-3 overflow-y-auto",s&&"gap-4 p-8"),children:l.jsx(c.Suspense,{fallback:l.jsx(ne,{color:"strong",size:"56-xl",className:"w-full",title:n("common.loading"),disabled:!0,children:l.jsx(it,{className:"size-8"})}),children:l.jsx(y2e,{conversationId:e.conversationId,scenario:e.scenario,messageId:e.messageId})})})}case"share-podcast":return l.jsx(C2e,{onClose:a,shareUrl:e.shareUrl,imagePath:e.imagePath,title:e.title});case"share-invite":return l.jsx(g2e,{close:a,conversationId:e.conversationId});default:return null}}const x2e="/static/cmc/assets/turn-limit-dark-CEuF11Ih.jpg",S2e="/static/cmc/assets/turn-limit-light-BSlP2HSn.jpg";function E2e(){const[e,t]=Ue(k1),{dismiss:n,source:s,beforeContinue:o}=e,{t:r}=q(),{login:a}=rc(),i=r("common.notNow"),u=r("signInPrompt.continueWithMicrosoft"),d=M(Wo),m=ut();c.useEffect(()=>{un({page:m,scenario:`UpsellProForAuth0AccountFrom${s}`})},[m,s]);const f=()=>{ye({source:`UpsellProForAuth0AccountFrom${s}`,scenario:"ProUpsellForAuth0AccountLinkWithMSA",destination:"MicrosoftLoginPage"}),o==null||o(),sessionStorage.setItem(R2,`${new Date().getTime().toString()}-link`),a({provider:"microsoft"})},h=async()=>{ye({source:`UpsellProForAuth0AccountFrom${s}`,scenario:"dismissProUpsellForAuth0Account",destination:m}),await(n==null?void 0:n()),t(null)};return l.jsx(dn,{isOpen:!0,className:"max-w-md gap-0 py-6",children:l.jsxs("div",{className:"flex flex-col items-center p-2 text-center",children:[l.jsx("img",{src:d==="dark"?x2e:S2e,alt:r("images.birds"),className:"h-52 w-full rounded-3xl object-cover"}),l.jsx("h1",{className:"pb-5 pt-8 text-center text-2xl",children:r("logIn.m365UpsellHeader")}),l.jsx("p",{className:"max-w-[95%] break-words pb-8 text-left",children:r("logIn.m365UpsellDescription")}),l.jsxs(ne,{onClick:f,title:u,variant:"pill",size:"56-xl",className:"w-full",color:"strong",testId:"prompt-sign-in-msft-composer-action",children:[l.jsx(T3,{className:"size-6"}),u]}),l.jsx(ne,{onClick:h,title:i,variant:"pill",size:"56-xl",color:"overlay-bright",className:"mt-3 w-full",testId:"not-now-button-composer-action",children:i})]})})}function w2e(){const e=G("ceo-thinkdeeper"),t=G("ceo-smart-mode"),n=G("ceo"),s=G("webretrieval"),o=G("webcontent"),r=G("browser-actions");return e||t||n||s||o||r}function I2e(){const e=G("memory-management-v2"),t=Qt(),n=M(O1),s=M(EC);return e&&t&&!n&&!s}function _2e(){const e=G("sharemanagement"),t=Qt();return e&&t}const MM=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M3 5.75C3 4.23122 4.23122 3 5.75 3H15.7145C16.5764 3 17.4031 3.34241 18.0126 3.9519L20.0481 5.98744C20.6576 6.59693 21 7.42358 21 8.28553V18.25C21 19.7688 19.7688 21 18.25 21H5.75C4.23122 21 3 19.7688 3 18.25V5.75ZM5.75 4.5C5.05964 4.5 4.5 5.05964 4.5 5.75V18.25C4.5 18.9404 5.05964 19.5 5.75 19.5H6V14.25C6 13.0074 7.00736 12 8.25 12H15.75C16.9926 12 18 13.0074 18 14.25V19.5H18.25C18.9404 19.5 19.5 18.9404 19.5 18.25V8.28553C19.5 7.8214 19.3156 7.37629 18.9874 7.0481L16.9519 5.01256C16.6918 4.75246 16.3582 4.58269 16 4.52344V7.25C16 8.49264 14.9926 9.5 13.75 9.5H9.25C8.00736 9.5 7 8.49264 7 7.25V4.5H5.75ZM16.5 19.5V14.25C16.5 13.8358 16.1642 13.5 15.75 13.5H8.25C7.83579 13.5 7.5 13.8358 7.5 14.25V19.5H16.5ZM8.5 4.5V7.25C8.5 7.66421 8.83579 8 9.25 8H13.75C14.1642 8 14.5 7.66421 14.5 7.25V4.5H8.5Z"})),yke=Object.freeze(Object.defineProperty({__proto__:null,default:MM},Symbol.toStringTag,{value:"Module"})),NM=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 16.6944 7.30558 20.5 12 20.5C16.6944 20.5 20.5 16.6944 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM8 9.5C8 8.67157 8.67157 8 9.5 8H14.5C15.3284 8 16 8.67157 16 9.5V14.5C16 15.3284 15.3284 16 14.5 16H9.5C8.67157 16 8 15.3284 8 14.5V9.5Z"})),bke=Object.freeze(Object.defineProperty({__proto__:null,default:NM},Symbol.toStringTag,{value:"Module"})),T2e=N(void 0),A2e=N(null);function k2e(){const{t:e}=q(),[t,n]=Ue(T2e),s=M(Yt),o=oe(sI),r=()=>{o(!1),n(void 0)},a=async i=>{await a3({allowBrowserActions:i}),jn.regenerateMessage({messageId:t??"",mode:"retry"}),o(i),n(void 0)};return l.jsx(dn,{isOpen:t!==void 0,headerIcon:l.jsxs("div",{className:"flex justify-center pb-7",children:[l.jsx("div",{className:"size-11 shrink-0 translate-x-1.5 rounded-full border-2 border-black/12 dark:border-white/15",children:l.jsx(ny,{imgSrc:s==null?void 0:s.imgSrc})}),l.jsx("div",{className:"flex size-11 -translate-x-1.5 items-center justify-center rounded-full border-2 border-black/12 bg-white dark:border-white/15",children:l.jsx(km,{className:"size-7"})})]}),headerText:e("browserActions.consent.title"),className:"w-[360px] max-w-[95vw] gap-4 p-8",headerTextClassName:"text-xl text-center",children:l.jsxs("div",{className:"flex flex-col gap-4 text-sm",children:[l.jsx("p",{className:"mt-1 text-base",children:e("browserActions.consent.description")}),l.jsx(E0,{icon:l.jsx(NM,{className:"size-6"}),title:e("browserActions.consent.inControlSectionTitle"),description:l.jsx("span",{children:l.jsx(mn,{i18nKey:"browserActions.consent.inControlSectionDescription",components:{settingsLink:l.jsx(Bl,{pages:["menu","account","privacy"],className:"text-accent-450",clickSource:"browserActionsConsentSettingsLink",onClick:r,pushPagesDelay:100})}})})}),l.jsx(E0,{icon:l.jsx(MM,{className:"size-6"}),title:e("browserActions.consent.yourPrivacySectionTitle"),description:l.jsx("span",{children:e("browserActions.consent.yourPrivacySectionDescription")})}),l.jsx(E0,{icon:l.jsx(wh,{className:"size-6"}),title:e("browserActions.consent.yourEdgeProfileSectionTitle"),description:l.jsx("span",{children:e("browserActions.consent.yourEdgeProfileSectionDescription")})}),l.jsxs("div",{className:"mt-4 flex flex-col gap-3",children:[l.jsx(ne,{title:e("browserActions.consent.confirmButton"),color:"default",size:"56-xl",variant:"rect",className:"w-full",onClick:()=>a(!0),children:e("browserActions.consent.confirmButton")}),l.jsx(ne,{title:e("browserActions.consent.cancelButton"),color:"default",size:"56-xl",variant:"rect",className:"mt-auto w-full text-system-red-550 dark:text-system-red-350",onClick:()=>a(!1),children:e("browserActions.consent.cancelButton")})]})]})})}function E0(e){const{icon:t,title:n,description:s}=e;return l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{children:t}),l.jsxs("div",{className:"flex flex-col text-sm",children:[l.jsx("span",{className:"text-sm-strong",children:n}),s]})]})}const RM=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M18.2493 6.99982C18.2493 7.69017 17.6896 8.24982 16.9993 8.24982C16.3089 8.24982 15.7493 7.69017 15.7493 6.99982C15.7493 6.30946 16.3089 5.74982 16.9993 5.74982C17.6896 5.74982 18.2493 6.30946 18.2493 6.99982ZM15.4992 2.0498C11.885 2.0498 8.94922 4.98559 8.94922 8.5998C8.94922 8.98701 8.99939 9.36017 9.05968 9.70382C9.07749 9.80529 9.04493 9.89344 8.99046 9.94791L2.75467 16.1837C2.23895 16.6994 1.94922 17.3989 1.94922 18.1282V20.2998C1.94922 21.2663 2.73272 22.0498 3.69922 22.0498H6.19922C7.16572 22.0498 7.94922 21.2663 7.94922 20.2998V19.0498H9.69922C10.3896 19.0498 10.9492 18.4902 10.9492 17.7998V16.0498H12.6992C13.3741 16.0498 13.9241 15.515 13.9484 14.846C14.4451 14.9738 14.9689 15.0498 15.4992 15.0498C19.1134 15.0498 22.0492 12.114 22.0492 8.4998C22.0492 4.86866 19.0963 2.0498 15.4992 2.0498ZM10.4492 8.5998C10.4492 5.81402 12.7134 3.5498 15.4992 3.5498C18.3021 3.5498 20.5492 5.73095 20.5492 8.4998C20.5492 11.2856 18.285 13.5498 15.4992 13.5498C14.8199 13.5498 14.1206 13.3787 13.4947 13.1104C13.2629 13.0111 12.9968 13.0349 12.7864 13.1737C12.5759 13.3125 12.4492 13.5477 12.4492 13.7998V14.5498H10.6992C10.0089 14.5498 9.44922 15.1094 9.44922 15.7998V17.5498H7.69922C7.00886 17.5498 6.44922 18.1094 6.44922 18.7998V20.2998C6.44922 20.4379 6.33729 20.5498 6.19922 20.5498H3.69922C3.56115 20.5498 3.44922 20.4379 3.44922 20.2998V18.1282C3.44922 17.7967 3.58091 17.4788 3.81534 17.2443L10.0511 11.0086C10.4695 10.5902 10.6349 10.0018 10.5371 9.44461C10.4834 9.13865 10.4492 8.8622 10.4492 8.5998Z"})),xke=Object.freeze(Object.defineProperty({__proto__:null,default:RM},Symbol.toStringTag,{value:"Module"})),w0="size-5";function I0(e){const{icon:t,title:n,description:s}=e;return l.jsxs("div",{className:"flex gap-4 px-4 py-3",children:[l.jsx("div",{children:t}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("h3",{className:"text-sm-strong",children:n}),l.jsx("span",{className:"text-foreground-600 text-sm",children:s})]})]})}function M2e(){const{t:e}=q();return l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsx("p",{className:"mt-1 text-base",children:e("actions.consent.step1.description")}),l.jsxs("div",{className:"rounded-3xl bg-black/5 py-2",children:[l.jsx(I0,{icon:l.jsx(RM,{className:w0}),title:e("actions.consent.step1.inControlSectionTitle"),description:e("actions.consent.step1.inControlSectionDescription")}),l.jsx(ds,{color:"accent",horizontalMargin:!1,verticalMargin:!1}),l.jsx(I0,{icon:l.jsx(ey,{className:w0}),title:e("actions.consent.step1.alertsSectionTitle"),description:e("actions.consent.step1.alertsSectionDescription")}),l.jsx(ds,{color:"accent",horizontalMargin:!1,verticalMargin:!1}),l.jsx(I0,{icon:l.jsx(ty,{className:w0}),title:e("actions.consent.step1.yourPrivacySectionTitle"),description:e("actions.consent.step1.yourPrivacySectionDescription")})]})]})}function N2e(){const e=Qt(),t=M(tI),n=M(SC),s=M(O1),o=M(_a),r=M(xQ),a=!!M(SQ),i=!!M(EQ),u=!!(Vp({key:"shouldShowTextModelTrainingSettings",default:!0})&&a),d=!!(Vp({key:"shouldShowVoiceModelTrainingSettings",default:!0})&&i),m=G("view-settings-disclaimer"),f=u||d,h=!f||t&&!n,g=NT(),[C,v]=Ue(lI),[y,b]=c.useState(!1);c.useEffect(()=>{if((f||r)&&e&&!o){if(C){b(!0),v(!1);return}if(g<b2){b(!0);return}let I;try{I=Lie()}catch{I=new Date}const _=UA(I,6),T=new Date;T>_&&(b(!0),An(cl,T.toISOString()))}},[e,f,o,g,r,C,v]);const E=()=>h===void 0||s===void 0||r===void 0?null:o||!e?"chat.unauthenticatedDisclaimer":!r||!y?"chat.firstTurnDisclaimerBase":!h&&!s?m?"chat.firstTurnDisclaimerPersonalizationTrainingViewSettings":"chat.firstTurnDisclaimerPersonalizationTraining":h&&!s?m?"chat.firstTurnPersonalizationDisclaimerViewSettings":"chat.firstTurnPersonalizationDisclaimer":s&&!h?m?"chat.firstTurnTrainingDisclaimerViewSettings":"chat.firstTurnTrainingDisclaimer":"chat.firstTurnDisclaimerBase";return(()=>{var _,T,A;let I=E();return I?(_=ae.instance().config().uiOverrides)!=null&&_.hideTrainingDisclaimer?"chat.firstTurnDisclaimerBase":(I=((A=(T=ae.instance().config()).textOverrides)==null?void 0:A.call(T,I))??I,I):null})()}const iy="text-foreground-450 text-sm dark:text-foreground-600",R2e="underline",I9={settingsLink:l.jsx(Bl,{pages:["menu","account","privacy"],className:F(iy,R2e),clickSource:"disclaimerSettingsLink"}),learnMoreLink:l.jsx(Cl,{link:Up})},Sf={termsLink:l.jsx(Cl,{link:gl}),privacyLink:l.jsx(Cl,{link:Jn})},P2e={settingsLink:l.jsx(Bl,{pages:["menu","account","privacy"],className:iy,disableLink:!0})};function w5(e){const{forceVisible:t,disableDisclaimerSettingsLink:n,className:s,testId:o,shouldUpdateNewConversationCount:r}=e,a=N2e(),i=M(hn),u=i==null?void 0:i.id,m=((i==null?void 0:i.isNew)??t)&&a;if(c.useEffect(()=>{!r||!m||!u||jie(u)},[r,m,u]),!m)return null;const f=h=>{switch(h){case"chat.unauthenticatedDisclaimer":return l.jsxs(l.Fragment,{children:[l.jsx(mn,{i18nKey:"chat.firstTurnDisclaimerBase"})," ",l.jsx(mn,{i18nKey:h,components:{termsLink:Sf.termsLink,privacyLink:Sf.privacyLink}})]});case"chat.firstTurnTrainingDisclaimer":case"chat.firstTurnPersonalizationDisclaimer":case"chat.firstTurnDisclaimerPersonalizationTraining":case"chat.firstTurnTrainingDisclaimerViewSettings":case"chat.firstTurnPersonalizationDisclaimerViewSettings":case"chat.firstTurnDisclaimerPersonalizationTrainingViewSettings":return l.jsxs(l.Fragment,{children:[l.jsx(mn,{i18nKey:"chat.firstTurnPersonalizationDisclaimerBase"})," ",l.jsx(mn,{i18nKey:h,components:{settingsLink:n?P2e.settingsLink:I9.settingsLink}})]});case"chat.edge.firstTurnPersonalizationDisclaimer":case"chat.edge.firstTurnPersonalizationSettingsDisclaimer":return l.jsxs(l.Fragment,{children:[l.jsx(mn,{i18nKey:"chat.firstTurnPersonalizationDisclaimerBase"})," ",l.jsx(mn,{i18nKey:h,components:{learnMoreLink:I9.learnMoreLink,bold:l.jsx("strong",{})}})]});case"chat.firstTurnDisclaimerBase":case"chat.firstTurnPersonalizationDisclaimerBase":case"chat.tv.firstTurnDisclaimer":return l.jsx(mn,{i18nKey:h});case"chat.livingPortraitDisclaimer":return l.jsx(mn,{i18nKey:h,components:{termsLink:Sf.termsLink,privacyLink:Sf.privacyLink}});default:return null}};return l.jsx(ln,{id:a,mode:"wait",className:F("space-y-8 pb-8",iy,s),"data-testid":o,children:f(a)})}function Cl(e){const{children:t,link:n,className:s}=e;return l.jsx(cs,{className:F("underline",s),href:n,title:"",children:t})}const _0="underline text-accent-450";function L2e(e){const{onDismiss:t}=e,{t:n}=q();return l.jsxs("div",{className:"flex flex-col gap-5 text-foreground-700 text-base",children:[l.jsx("p",{children:n("actions.consent.step2.description1")}),l.jsx("p",{children:n("actions.consent.step2.description2")}),l.jsx("p",{children:l.jsx(mn,{i18nKey:"actions.consent.step2.description3",components:{SettingsLink:l.jsx(Bl,{pages:["menu","account","privacy"],className:_0,clickSource:"browserActionsConsentSettingsLink",onClick:t,pushPagesDelay:100}),FAQLink:l.jsx(Cl,{className:_0,link:yte}),PrivacyLink:l.jsx(Cl,{className:_0,link:Jn})}})})]})}function O2e(e){const{stepIndex:t,stepIndexText:n,stepHeaderText:s}=e;return l.jsxs("div",{className:"mb-5 flex flex-col",children:[l.jsxs("div",{className:"flex gap-1 px-4",children:[l.jsx("div",{className:"h-1 flex-1 rounded-sm bg-foreground-800"}),l.jsx("div",{className:F("h-1 flex-1 rounded-sm",t===2?"bg-foreground-800":"bg-black/15")})]}),l.jsx("div",{className:"pb-5 pt-2 text-center text-foreground-450 text-base",children:n}),l.jsx("h2",{className:"text-center text-foreground-850 text-2xl",children:s})]})}const D2e=2;function j2e(){const{t:e}=q(),[t,n]=Ue(A2e),s=oe(oI),o=M(je),[r,a]=c.useState(1),i=c.useCallback(()=>{if(t){const{messageId:h,partId:g}=t;jn.updateCardMessageCommand({messageId:h,partId:g}),o&&cte(o,h,g,C=>{C.type==="card"&&C.card.type==="consent"&&(C.card.status="rejected")})}a(1),n(null)},[t,o,n]);ps(h=>{h.key==="Escape"&&(h.stopPropagation(),i())});const u=c.useCallback(async h=>{await a3({allowComputerUseActions:h}),jn.regenerateMessage({messageId:(t==null?void 0:t.messageId)??"",mode:"retry",allowedConsents:[gs.ComputerUseActions]}),s(h),n(null)},[t==null?void 0:t.messageId,s,n]),d={1:{title:e("actions.consent.step1.title"),content:l.jsx(M2e,{}),primaryButton:{text:e("common.nextText"),color:"strong",action:()=>a(2)},secondaryButton:{text:e("common.cancel"),color:"subtle-dimmed",action:()=>u(!1)}},2:{title:e("actions.consent.step2.title"),content:l.jsx(L2e,{onDismiss:i}),primaryButton:{text:e("actions.consent.agreeButton"),color:"default",action:()=>u(!0)},secondaryButton:{text:e("actions.consent.disagreeButton"),color:"default",action:()=>u(!1)}}},m=e("actions.consent.stepIndexHeader",{index:r,total:D2e}),f=d[r];return l.jsxs(dn,{isOpen:t!==null,className:"max-h-[80vh] max-w-[448px] overflow-y-auto",dialogName:e("actions.consent.step1.title"),customScrollBar:!0,children:[l.jsx(O2e,{stepIndex:r,stepIndexText:m,stepHeaderText:f.title}),f.content,l.jsxs("div",{className:"mt-5 flex flex-col gap-2",children:[l.jsx(ne,{title:f.primaryButton.text,color:f.primaryButton.color,size:"56-xl",variant:"rect",className:"w-full",onClick:f.primaryButton.action,children:f.primaryButton.text}),l.jsx(ne,{title:f.secondaryButton.text,color:f.secondaryButton.color,size:"56-xl",variant:"rect",className:"w-full",onClick:f.secondaryButton.action,children:f.secondaryButton.text})]})]})}const Th=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M10.25 3.00011C10.6642 3.00011 10.9999 3.33596 11 3.75011C11 4.16432 10.6642 4.50011 10.25 4.50011H6.75C5.50741 4.50011 4.50008 5.50753 4.5 6.75011V17.2501L4.51172 17.4806C4.62714 18.6149 5.58517 19.5001 6.75 19.5001H17.25C18.4926 19.5001 19.5 18.4927 19.5 17.2501V15.2501C19.5001 14.836 19.8358 14.5001 20.25 14.5001C20.6642 14.5001 20.9999 14.836 21 15.2501V17.2501C21 19.3212 19.3211 21.0001 17.25 21.0001H6.75C4.74378 21.0001 3.10551 19.4247 3.00488 17.4435L3 17.2501V6.75011C3.00008 4.6791 4.67898 3.00011 6.75 3.00011H10.25ZM14.9365 2.06847C15.2026 1.94614 15.5159 1.99023 15.7383 2.18077L22.7383 8.18077C22.8986 8.31823 22.9938 8.51756 23 8.72862C23.006 8.9396 22.9224 9.14361 22.7705 9.29015L15.7705 16.0401C15.554 16.2488 15.2338 16.308 14.957 16.1905C14.6802 16.0729 14.5 15.801 14.5 15.5001V12.5245C13.4857 12.5881 12.5295 12.7973 11.5605 13.2931C10.4241 13.8745 9.21642 14.8746 7.87109 16.5958L7.59961 16.9503C7.40588 17.2083 7.06883 17.3141 6.7627 17.212C6.45646 17.1099 6.25 16.8229 6.25 16.5001C6.25002 13.6428 6.93659 10.911 8.41797 8.87218C9.7938 6.97888 11.8288 5.72554 14.5 5.52843V2.75011L14.5078 2.64171C14.5441 2.39296 14.7037 2.17553 14.9365 2.06847ZM16 6.25011C16 6.66432 15.6642 7.00011 15.25 7.00011C12.6933 7.00011 10.855 8.07008 9.63184 9.75304C8.75387 10.9612 8.17794 12.5102 7.91504 14.2462C8.91534 13.1988 9.89198 12.4611 10.877 11.9571C12.3601 11.1983 13.801 11.0001 15.25 11.0001C15.4489 11.0001 15.6396 11.0792 15.7803 11.2198C15.9209 11.3605 16 11.5512 16 11.7501V13.7345L21.1348 8.78233L16 4.37999V6.25011Z"})),Ske=Object.freeze(Object.defineProperty({__proto__:null,default:Th},Symbol.toStringTag,{value:"Module"})),cy=N(null),PM=N(e=>!!e(cy));function xa(e){const t=Ft(e);return t.setHours(0,0,0,0),t}function _9(e){const t=Ft(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Zc(e,t){const n=xa(e),s=xa(t),o=+n-_9(n),r=+s-_9(s);return Math.round((o-r)/fie)}function Ah(e,t){const n=xa(e),s=xa(t);return+n==+s}function Eke(e){const t={"one-drive":[],"google-drive":[],"outlook-calendar":[],"google-calendar":[],"google-contacts":[],gmail:[],outlook:[],"edge-browser":[],windows:[]};for(const n of e)n.source==="outlook-calendar"?t.outlook.push(n):t[n.source].push(n);return Object.entries(t).filter(([,n])=>n.length>0)}function U2e(e,t){if(e.length===0)return[];const n=e.map(()=>[]);let s=0;for(;s<t;){let o=0;for(let r=0;r<e.length&&s<t;r+=1){const a=e[r],i=n[r];if(a&&i){const u=i.length;if(u<a.length){const d=a[u];d!==void 0&&(i.push(d),s+=1,o+=1)}}}if(o===0)break}return n}function wke(e,t){if(e.length===0)return[];const n=e.map(([,o])=>o),s=U2e(n,t);return e.map(([o],r)=>[o,s[r]??[]])}function LM(e,t){const n=`/attachments/onedrive/${e}/thumbnail`;return t?`${n}?type=large`:n}function F2e(e,t){const n=EM();if(!Ah(new Date(e),new Date(t)))return`${Xn(e,"yyyy-MM-dd, h:mm aa",n)} - ${Xn(t,"yyyy-MM-dd, h:mm aa",n)}`;const o=xa(new Date(e)),r=xa(new Date),a=Zc(o,r);let i="";a===-1?i=z("dates.yesterday"):a===0?i=z("dates.today"):a===1?i=z("dates.tomorrow"):i=Xn(o,"EEEE",n);const u=Xn(e,"h:mm a",n),d=Xn(t,"h:mm a",n);return`${i}, ${u} - ${d}`}function T0(e){const t=EM(),n=xa(new Date(e)),s=xa(new Date),o=Zc(n,s),r=Xn(e,"h:mm aa",t);return o===-1?`${z("dates.yesterdayInLowercase")}, ${r}`:o===0?`${z("dates.todayInLowercase")}, ${r}`:Xn(e,"yyyy-MM-dd, h:mm aa",t)}function OM(){const e=c.useId(),{t}=q(),n=oe(Sn),{openMediaViewer:s}=Pa(),o=M(PM),r=oe(cy);return(a,i)=>{const u=a.type==="image"&&a.source==="one-drive";switch(i){case"open":return{id:`${e}-open`,type:"open",label:t("common.open"),icon:X3,deferUntilAfterClose:u,source:a.source,artifactType:a.type,hidden:(a.type==="document"||a.type==="image"||a.type==="event"||a.type==="contact"||a.type==="webPage")&&!a.url,sectionName:"body",onClick:()=>{u?(o&&r(null),s({currentMediaIndex:0,media:[{type:"image",url:LM(a.id,!0),altText:a.fileName}]})):a.url&&(a.type==="document"||a.type==="image"||a.type==="event"||a.type==="email"||a.type==="webPage")&&Io(a.url)}};case"download":return{id:`${e}-download`,type:"download",label:t("common.download"),icon:yd,source:a.source,artifactType:a.type,sectionName:"body",onClick:()=>{}};case"share":return{id:`${e}-share`,type:"share",label:t("common.share"),icon:Th,source:a.source,artifactType:a.type,sectionName:"body",onClick:()=>{}};case"copy":return{id:`${e}-copy`,type:"copy",label:t("connector.search.copyLinkButton"),icon:Sh,hidden:!a.url,source:a.source,artifactType:a.type,sectionName:"copy",onClick:async()=>{a.url&&(a.type==="image"||a.type==="document"||a.type==="event"||a.type==="email"||a.type==="webPage")&&(await Wp({url:a.url}),n({title:t("connector.search.copyFileLinkSuccessToast"),dismissAfter:3e3}))}};default:throw new Error(`Unhandled action type: ${i}`)}}}const B2e=["open","download","share","copy"];function V2e(e){const{artifact:t,enabledActions:n=B2e}=e,s=OM();return n.map(o=>s(t,o))}function ly(e){const t=pe(je);D.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_cardType:e.CardType,eventInfo_sectionName:e.sectionName,eventInfo_clickSource:e.source??"",eventInfo_clickScenario:e.scenario??"",eventInfo_conversationId:t,eventInfo_customData:e.customData,eventInfo_messageId:e.messageId??""}})}function Ike(e){const t=pe(je);D.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:e.page,eventInfo_impressionElement:e.element,eventInfo_impressionScenario:e.scenario??"",eventInfo_cardType:e.cardType,eventInfo_conversationId:t,eventInfo_customData:e.customData}})}function H2e(e){const{artifact:t,portalContainerRef:n,messageId:s}=e,{t:o}=q(),a=V2e({artifact:t,enabledActions:["open","copy"]}).filter(i=>!i.hidden);return a.length===0?null:l.jsx(Nm,{portalContainerRef:n,renderTrigger:({openPopover:i,isOpen:u})=>{const d=o("connector.search.seeMoreDropdownState",{state:o(u?"actions.screenReaderFriendlyStatus.expanded":"actions.screenReaderFriendlyStatus.collapsed")});return l.jsx(ne,{variant:"square",color:u?"overlay-dimmed":"subtle-dimmed",size:"36-sm",title:d,onClick:i,"aria-label":d,children:l.jsx(Mm,{className:"size-5"})})},renderSurface:({closePopover:i})=>l.jsx("div",{className:"flex flex-col",children:a.map(u=>l.jsxs(ne,{title:u.label,variant:"rect",color:"subtle-dimmed-inverted",onClick:d=>{i(d),ly({CardType:"personalArtifactsCard",sectionName:u.sectionName,source:u.source,scenario:u.artifactType,messageId:s}),setTimeout(()=>{u.onClick()},0)},size:"36-sm",alignment:"start",className:"min-w-36 gap-2",role:"menuitem",children:[l.jsx(u.icon,{className:"size-4"}),l.jsx("span",{className:"truncate",children:u.label})]},u.id))}),containerClassNames:{surface:"p-1.5",trigger:"py-0.5"},placement:"bottom-start",floatingOffset:{mainAxis:2}})}const DM=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M17.75 3C19.5449 3 21 4.45507 21 6.25V17.75C21 19.5449 19.5449 21 17.75 21H6.25C4.45507 21 3 19.5449 3 17.75V6.25C3 4.45507 4.45507 3 6.25 3H17.75ZM19.5 8.5H4.5V17.75C4.5 18.7165 5.2835 19.5 6.25 19.5H17.75C18.7165 19.5 19.5 18.7165 19.5 17.75V8.5ZM7.75 14.5C8.44036 14.5 9 15.0596 9 15.75C9 16.4404 8.44036 17 7.75 17C7.05964 17 6.5 16.4404 6.5 15.75C6.5 15.0596 7.05964 14.5 7.75 14.5ZM12 14.5C12.6904 14.5 13.25 15.0596 13.25 15.75C13.25 16.4404 12.6904 17 12 17C11.3096 17 10.75 16.4404 10.75 15.75C10.75 15.0596 11.3096 14.5 12 14.5ZM7.75 10.5C8.44036 10.5 9 11.0596 9 11.75C9 12.4404 8.44036 13 7.75 13C7.05964 13 6.5 12.4404 6.5 11.75C6.5 11.0596 7.05964 10.5 7.75 10.5ZM12 10.5C12.6904 10.5 13.25 11.0596 13.25 11.75C13.25 12.4404 12.6904 13 12 13C11.3096 13 10.75 12.4404 10.75 11.75C10.75 11.0596 11.3096 10.5 12 10.5ZM16.25 10.5C16.9404 10.5 17.5 11.0596 17.5 11.75C17.5 12.4404 16.9404 13 16.25 13C15.5596 13 15 12.4404 15 11.75C15 11.0596 15.5596 10.5 16.25 10.5ZM17.75 4.5H6.25C5.2835 4.5 4.5 5.2835 4.5 6.25V7H19.5V6.25C19.5 5.2835 18.7165 4.5 17.75 4.5Z"})),_ke=Object.freeze(Object.defineProperty({__proto__:null,default:DM},Symbol.toStringTag,{value:"Module"})),kh=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M17.75 3C19.5449 3 21 4.45507 21 6.25V17.75C21 19.5449 19.5449 21 17.75 21H6.25C4.45507 21 3 19.5449 3 17.75V6.25C3 4.45507 4.45507 3 6.25 3H17.75ZM18.3305 19.4014L12.5247 13.7148C12.2596 13.4553 11.8501 13.4316 11.5588 13.644L11.4752 13.7148L5.66845 19.4011C5.8504 19.4651 6.04613 19.5 6.25 19.5H17.75C17.9535 19.5 18.1489 19.4653 18.3305 19.4014L12.5247 13.7148L18.3305 19.4014ZM17.75 4.5H6.25C5.2835 4.5 4.5 5.2835 4.5 6.25V17.75C4.5 17.9584 4.53643 18.1583 4.60326 18.3437L10.4258 12.643C11.2589 11.8273 12.5675 11.7885 13.4458 12.5266L13.5742 12.6431L19.3964 18.3447C19.4634 18.159 19.5 17.9588 19.5 17.75V6.25C19.5 5.2835 18.7165 4.5 17.75 4.5ZM15.2521 6.5C16.4959 6.5 17.5042 7.50831 17.5042 8.75212C17.5042 9.99592 16.4959 11.0042 15.2521 11.0042C14.0083 11.0042 13 9.99592 13 8.75212C13 7.50831 14.0083 6.5 15.2521 6.5ZM15.2521 8C14.8367 8 14.5 8.33673 14.5 8.75212C14.5 9.1675 14.8367 9.50423 15.2521 9.50423C15.6675 9.50423 16.0042 9.1675 16.0042 8.75212C16.0042 8.33673 15.6675 8 15.2521 8Z"})),Tke=Object.freeze(Object.defineProperty({__proto__:null,default:kh},Symbol.toStringTag,{value:"Module"}));function z2e(){return l.jsx(G1,{size:"md",className:"h-[176px] max-w-[360px]",children:l.jsx(h_,{})})}function jM(e){const t=pe(je);D.trackEvent({name:"system",data:{eventName:"clientImageError",eventInfo_url:e,eventInfo_conversationId:t}})}const I5=N({}),_5=$e();async function G2e(e){const t=_5.get(I5),n=t[e];if(n)return n;try{let s;if(e.includes("?")){const[r=e,a=""]=e.split("?",2),i=new URLSearchParams(a),u={};for(const[d,m]of i.entries())u[d]=m;s=await zn(r,{query:u})}else s=await zn(e);const o=URL.createObjectURL(await s.blob());return _5.set(I5,{...t,[e]:o}),o}catch{jM(e);return}}function W2e(e){const{originalUrl:t,children:n}=e,[s,o]=c.useState(void 0),[r,a]=c.useState(void 0),[i,u]=c.useState(!1);if(c.useEffect(()=>{let C=!1;return u(!1),o(void 0),a(void 0),G2e(t).then(v=>{C||(o(v),a(t))}).catch(()=>{C||u(!0),jM(t)}),()=>{C=!0}},[t]),i)return l.jsx(z2e,{});const m=r!==t?void 0:s,f=t.startsWith("blob:"),h=f?Object.values(_5.get(I5)).includes(t):!1;return!!m&&!(f&&!h)?l.jsx(l.Fragment,{children:n(m)}):null}const Ef="flex size-8 items-center justify-center rounded-lg border",wf="size-6 text-foreground-700";function $2e(e){const{artifact:t}=e,{source:n,type:s}=t;switch(s){case"contact":return l.jsx("div",{className:F("size-8 rounded-full",!t.thumbnailUrl&&"bg-caramel-250 text-stone-800"),children:l.jsx(ny,{firstName:t.displayName.trim(),imgSrc:t.thumbnailUrl??void 0,showTwoCharacters:!1})});case"email":return l.jsx("div",{className:F(Ef,Ga,Oc),children:l.jsx(R3,{className:wf})});case"event":return l.jsx("div",{className:F(Ef,Ga,Oc),children:l.jsx(DM,{className:wf})});case"document":return l.jsx(V3,{fileType:t.contentType,className:"size-8"});case"image":{const o=t.fileName,r="size-9 rounded-sm",a="size-8 rounded-lg border text-foreground-700";return t.thumbnailUrl?l.jsx(Uu,{className:r,errorClass:F(a,Ga),src:t.thumbnailUrl,alt:o,loading:"lazy"}):n==="one-drive"&&t.id?l.jsx(W2e,{originalUrl:LM(t.id),children:i=>l.jsx(Uu,{className:r,errorClass:F(a,Ga),src:i,alt:o,loading:"lazy"})}):l.jsx("div",{className:F(Ef,Ga,Oc),children:l.jsx(kh,{className:wf})})}case"webPage":return t.iconUrl?l.jsx(Uu,{errorClass:F("size-8 rounded-lg border text-foreground-700",Ga),src:t.iconUrl,alt:t.title,loading:"lazy"}):l.jsx("div",{className:F(Ef,Ga,Oc),children:l.jsx(Rm,{className:wf})});default:return null}}function q2e(e,t,n={}){const s=new Date(e);return new Intl.DateTimeFormat(t,n).format(s)}const K2e="flex h-full w-[80px] flex-col items-center justify-center rounded-[16px] bg-background-200",Z2e="font-semibold text-2xl",Y2e="text-[17px] font-medium uppercase";function Q2e(e){const{startsAt:t,containerClassName:n,dayClassName:s,monthClassName:o}=e,r=wM(),a=q2e(t,r,{month:"short"}),i=new Date(t).getDate().toString().padStart(2,"0");return l.jsxs("div",{className:n??K2e,children:[l.jsx("span",{className:s??Z2e,children:i}),l.jsx("span",{className:o??Y2e,children:a})]})}function UM(e){const{artifact:t,showActions:n,portalContainerRef:s,className:o,messageId:r}=e,{t:a}=q(),i=OM(),{hidden:u,onClick:d,sectionName:m,source:f,artifactType:h}=i(t,"open"),g=c.useMemo(()=>{switch(t.type){case"image":case"document":return t.fileName;case"event":case"email":return t.subject??a("connector.eventWithoutSubjectTitle");case"contact":return t.displayName;case"webPage":return t.title;default:return""}},[t,a]),C=c.useMemo(()=>{var v;switch(t.type){case"image":case"document":return t.modifiedAt?a("connector.lastModifiedAt",{datetime:T0(t.modifiedAt)}):"";case"event":return F2e(t.startsAt,t.endsAt);case"email":return t.receivedAt?a("connector.receivedAt",{datetime:T0(t.receivedAt)}):"";case"contact":return((v=t.emailAddresses)==null?void 0:v.map(y=>y.trim()).filter(y=>y.length>0).join("  "))??"";case"webPage":return t.visitedAt?`${Is(t.url)}  ${T0(t.visitedAt)}`:"";default:return""}},[t,a]);return l.jsxs("div",{className:F("flex gap-1 py-1.5 pe-2 ps-2.5",o),children:[l.jsxs("button",{type:"button",className:"flex min-w-0 flex-1 items-center gap-2",onClick:()=>{u||(ly({CardType:"personalArtifactsCard",sectionName:m,source:f,scenario:h,messageId:r}),d())},children:[t.type==="event"?l.jsx(Q2e,{startsAt:t.startsAt,containerClassName:"flex w-[32px] h-[38px] flex-col items-center justify-around rounded-[8px] py-[4px] bg-background-200",dayClassName:"font-medium text-[14px] leading-none",monthClassName:"text-[9px] font-[450] uppercase leading-none"}):l.jsx("div",{className:"flex size-9 items-center justify-center",children:l.jsx($2e,{artifact:t})}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-0 px-0.5",children:[l.jsx("p",{className:"truncate text-start text-foreground-900 text-sm",children:g}),C&&l.jsx("p",{className:"truncate py-0.5 text-start text-foreground-600 text-xs",children:C})]})]}),t.type==="event"&&t.calendarName&&l.jsx("div",{className:"flex items-center",children:l.jsx("span",{className:"flex h-4 items-center rounded border border-stone-250 px-1 text-[10px] text-foreground-600",children:t.calendarName})}),n&&l.jsx(H2e,{artifact:t,portalContainerRef:s,messageId:r})]})}function J2e(e){const{t}=q();switch(e){case"one-drive":return{source:e,title:t("oneDrive.title"),websiteLink:"https://onedrive.com",IconComponent:Ih};case"google-drive":return{source:e,title:t("connector.googleDrive.title"),websiteLink:"https://drive.google.com",IconComponent:Y3};case"outlook-calendar":case"outlook":return{source:e,title:t("outlook.title"),websiteLink:"https://outlook.com",IconComponent:pM};case"google-calendar":return{source:e,title:t("connector.googleCalendar.title"),websiteLink:"https://calendar.google.com",IconComponent:Z3};case"gmail":return{source:e,title:t("connector.googleMail.title"),websiteLink:"https://mail.google.com",IconComponent:Q3};case"google-contacts":return{source:e,title:t("connector.googleContacts.title"),websiteLink:"https://contacts.google.com",IconComponent:Sm};case"edge-browser":return{source:e,title:t("connector.edgeBrowser.title"),websiteLink:null,IconComponent:fM};default:return null}}const FM=e=>c.createElement("svg",{viewBox:"0 0 12 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M2.49999 1C1.67157 1 0.999995 1.67157 0.999995 2.5V9.5C0.999995 10.3284 1.67157 11 2.49999 11H9.49996C10.3284 11 10.9999 10.3284 10.9999 9.5V7.26923C10.9999 6.99309 11.2238 6.76923 11.4999 6.76923C11.7761 6.76923 11.9999 6.99309 11.9999 7.26923V9.5C11.9999 10.8807 10.8807 12 9.49996 12H2.49999C1.11928 12 0 10.8807 0 9.5V2.5C0 1.11929 1.11928 0 2.49999 0H4.73075C5.00689 0 5.23074 0.223858 5.23074 0.5C5.23074 0.776142 5.00689 1 4.73075 1H2.49999ZM6.76926 0.5C6.76926 0.223858 6.99311 0 7.26925 0H11.5C11.7761 0 12 0.223858 12 0.5V4.73077C12 5.00691 11.7761 5.23077 11.5 5.23077C11.2239 5.23077 11 5.00691 11 4.73077V1.70711L7.6228 5.08433C7.42754 5.27959 7.11096 5.27959 6.9157 5.08433C6.72044 4.88906 6.72044 4.57248 6.9157 4.37722L10.2929 1H7.26925C6.99311 1 6.76926 0.776142 6.76926 0.5Z"})),Ake=Object.freeze(Object.defineProperty({__proto__:null,default:FM},Symbol.toStringTag,{value:"Module"})),X2e="flex items-center gap-2 text-foreground-750 text-xs-medium",e5e="size-4";function BM(e){const{source:t,messageId:n,iconClass:s,sourceTitle:o,wrapperClass:r}=e,a=J2e(t);if(!a)return null;const{websiteLink:i,title:u,IconComponent:d}=a;return l.jsxs("div",{className:F(r,"flex w-full items-center justify-between"),children:[l.jsxs("div",{className:X2e,children:[l.jsx(d,{className:s??e5e}),o??u]}),i&&l.jsx(cs,{href:i,title:z("common.open"),className:"text-[12px] font-normal",onClick:()=>{ly({CardType:"personalArtifactsCard",sectionName:"header",source:t,messageId:n})},children:l.jsxs("div",{className:"flex flex-row items-center gap-1",children:[l.jsx("span",{children:z("common.open")}),l.jsx(FM,{className:"size-3"})]})})]})}function t5e({messageId:e}){var f,h;const t=M(PM),n=c.useId(),[s,o]=Ue(cy),r=c.useRef(null),{t:a}=q(),i=((f=ae.instance().config().composer)==null?void 0:f.largeScreen)===!0&&((h=ae.instance().config().composer)==null?void 0:h.voiceOnly)===!0,u=()=>{o(null)},{focusable:d}=Ra({isFocusBoundary:!0});if(ps(g=>{K3(g)&&(g.stopPropagation(),u())}),!s)return null;const m=s;return l.jsx(dn,{isOpen:t,onClose:i?void 0:u,headerText:a("connector.search.title",{resultsCount:m.reduce((g,[,C])=>g+C.length,0)}),headerTextClassName:"ps-4",className:F(i?"max-h-[40vh]":"max-h-[80vh]",i?"w-[480px]":"w-[440px]","mx-4 px-0"),children:l.jsx(rh.Provider,{value:d.focusKey??"",children:l.jsx("div",{className:F("flex flex-col gap-2 overflow-y-auto px-4",i?"no-scrollbar":"t-custom-scrollbar"),ref:r,children:m.map(([g,C],v)=>{const y=`${n}-source-${v}`;return l.jsxs("section",{className:"mb-4","aria-labelledby":y,children:[l.jsx("div",{id:y,className:"mb-4 font-semibold text-foreground-600 text-sm",children:l.jsx(BM,{source:g,messageId:e})}),l.jsx("ul",{"aria-labelledby":y,role:"list",className:"m-0 flex list-none flex-col gap-3 p-0",children:C.map(b=>l.jsx("li",{children:l.jsx(UM,{artifact:b,portalContainerRef:r,showActions:!0,className:"rounded-xl border border-black/10 dark:border-white/10",messageId:e})},b.id))})]},`${g}-${v}`)})})})})}const n5e=c.lazy(()=>B(()=>import("./subscription-promo-strategy-modal-BVnI5DLZ.js"),__vite__mapDeps([363,1,364,365,366,367,368,353,317,318,319,308,369])).then(e=>({default:e.SubscriptionPromoStrategyModal})));function s5e(e){const{config:{upsellEntryStyle:t,payflowInstanceId:n,upgradeToPremium:s}}=e;return l.jsx(c.Suspense,{fallback:null,children:l.jsx(n5e,{upsellEntryStyle:t,payflowInstanceId:n,upgradeToPremium:s})})}function o5e(){const e=aA(),t=w2e(),n=M(Yr),s=M(kw),[o,r]=Ue(A1),a=M(k1),i=ae.instance().config().entraRedirectModalBehaviour!=="skip",u=G("ds-new-progress"),[d,m]=Ue(gC),f=M(mY),[h,g]=Ue(Lw),[C,v]=Ue(gM),y=I2e(),b=_2e(),E=M(vC),S=M(J3),I=G("search-personal-data");return l.jsxs(l.Fragment,{children:[n&&l.jsx(jA,{accountActionRequired:n}),e&&o&&l.jsx(Ho,{isOpen:!0,trapFocus:!0,children:l.jsx(Yge,{interceptedLink:o,onClose:()=>{r(void 0)}})}),l.jsx(b2e,{}),s&&l.jsx(Fge,{}),a&&l.jsx(E2e,{}),l.jsxs(Q7,{children:[i&&l.jsx(Kge,{}),l.jsx(Dge,{}),l.jsx(k2e,{})]}),l.jsx(Eae,{}),l.jsx(j2e,{}),t&&l.jsx(Age,{}),u&&l.jsxs(l.Fragment,{children:[l.jsx(u0e,{}),l.jsx(e0e,{})]}),d&&l.jsx(Jge,{config:d,onClose:()=>m(null)}),f&&l.jsx(s5e,{config:f}),h&&l.jsx(Xge,{config:h,onClose:()=>g(null)}),C!==null&&l.jsx(Qge,{options:C,onClose:()=>v(null)}),y&&l.jsx(N0e,{}),b&&l.jsx(J0e,{}),E&&E.visible&&l.jsx(Wge,{}),S&&l.jsx($ge,{data:S}),I&&l.jsx(t5e,{})]})}const r5e=e=>c.createElement("svg",{width:96,height:93,viewBox:"0 0 96 93",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("mask",{id:"mask0_140_39981",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:96,height:93},c.createElement("mask",{id:"path-1-outside-1_140_39981",maskUnits:"userSpaceOnUse",x:0,y:0,width:96,height:93,fill:"black"},c.createElement("rect",{fill:"white",width:96,height:93}),c.createElement("path",{d:"M4 46.5C4 23.0279 23.0279 4 46.5 4H49.5C72.9721 4 92 23.0279 92 46.5V46.5C92 69.9721 72.9721 89 49.5 89H46.5C23.0279 89 4 69.9721 4 46.5V46.5Z"})),c.createElement("path",{d:"M46.5 4V8H49.5V4V0H46.5V4ZM49.5 89V85H46.5V89V93H49.5V89ZM46.5 89V85C25.237 85 8 67.763 8 46.5H4H0C0 72.1812 20.8188 93 46.5 93V89ZM92 46.5H88C88 67.763 70.763 85 49.5 85V89V93C75.1812 93 96 72.1812 96 46.5H92ZM49.5 4V8C70.763 8 88 25.237 88 46.5H92H96C96 20.8188 75.1812 0 49.5 0V4ZM46.5 4V0C20.8188 0 0 20.8188 0 46.5H4H8C8 25.237 25.237 8 46.5 8V4Z",fill:"url(#paint0_linear_140_39981)",fillOpacity:.8,mask:"url(#path-1-outside-1_140_39981)"}),c.createElement("g",{clipPath:"url(#paint1_angular_140_39981_clip_path)","data-figma-skip-parse":"true",mask:"url(#path-1-outside-1_140_39981)"},c.createElement("g",{transform:"matrix(0 -0.0425 0.0556447 0 48 46.5)"},c.createElement("foreignObject",{x:-1094.12,y:-1094.12,width:2188.24,height:2188.24},c.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",style:{background:"conic-gradient(from 90deg,rgba(214, 147, 237, 1) 0deg,rgba(250, 176, 198, 1) 60.2401deg,rgba(244, 185, 234, 1) 85.1532deg,rgba(141, 152, 255, 1) 126.663deg,rgba(170, 110, 238, 1) 209.329deg,rgba(255, 103, 119, 1) 250.911deg,rgba(255, 186, 113, 1) 291.415deg,rgba(198, 134, 255, 1) 332.659deg,rgba(214, 147, 237, 1) 360deg)",height:"100%",width:"100%",opacity:1}})))),c.createElement("path",{d:"M46.5 4V8H49.5V4V0H46.5V4ZM49.5 89V85H46.5V89V93H49.5V89ZM46.5 89V85C25.237 85 8 67.763 8 46.5H4H0C0 72.1812 20.8188 93 46.5 93V89ZM92 46.5H88C88 67.763 70.763 85 49.5 85V89V93C75.1812 93 96 72.1812 96 46.5H92ZM49.5 4V8C70.763 8 88 25.237 88 46.5H92H96C96 20.8188 75.1812 0 49.5 0V4ZM46.5 4V0C20.8188 0 0 20.8188 0 46.5H4H8C8 25.237 25.237 8 46.5 8V4Z",mask:"url(#path-1-outside-1_140_39981)"})),c.createElement("g",{mask:"url(#mask0_140_39981)"},c.createElement("g",{clipPath:"url(#paint2_angular_140_39981_clip_path)","data-figma-skip-parse":"true"},c.createElement("g",{transform:"matrix(0 -0.071 0.0897903 0 48 47.0001)"},c.createElement("foreignObject",{x:-1014.09,y:-1014.09,width:2028.17,height:2028.17},c.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",style:{background:"conic-gradient(from 90deg,rgba(0, 0, 0, 1) 0deg,rgba(255, 255, 255, 1) 52.2deg,rgba(197, 197, 197, 1) 122.4deg,rgba(0, 0, 0, 1) 147.6deg,rgba(255, 255, 255, 1) 171deg,rgba(174, 174, 174, 1) 235.8deg,rgba(0, 0, 0, 1) 250.911deg,rgba(217, 238, 247, 1) 266.4deg,rgba(255, 255, 255, 1) 332.659deg,rgba(0, 0, 0, 1) 360deg)",height:"100%",width:"100%",opacity:1}})))),c.createElement("rect",{x:-23,y:-24,width:142,height:142})),c.createElement("defs",null,c.createElement("clipPath",{id:"paint1_angular_140_39981_clip_path"},c.createElement("path",{d:"M46.5 4V8H49.5V4V0H46.5V4ZM49.5 89V85H46.5V89V93H49.5V89ZM46.5 89V85C25.237 85 8 67.763 8 46.5H4H0C0 72.1812 20.8188 93 46.5 93V89ZM92 46.5H88C88 67.763 70.763 85 49.5 85V89V93C75.1812 93 96 72.1812 96 46.5H92ZM49.5 4V8C70.763 8 88 25.237 88 46.5H92H96C96 20.8188 75.1812 0 49.5 0V4ZM46.5 4V0C20.8188 0 0 20.8188 0 46.5H4H8C8 25.237 25.237 8 46.5 8V4Z",mask:"url(#path-1-outside-1_140_39981)"})),c.createElement("clipPath",{id:"paint2_angular_140_39981_clip_path"},c.createElement("rect",{x:-23,y:-24,width:142,height:142})),c.createElement("linearGradient",{id:"paint0_linear_140_39981",x1:4,y1:89,x2:101.93,y2:75.3765,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#FFAB4E"}),c.createElement("stop",{offset:1,stopColor:"#FF7791"})))),VM=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M20.2899 16.4358C20.6074 15.5282 20.78 14.5526 20.78 13.5366V9.5241C20.78 9.10859 20.4432 8.77175 20.0277 8.77175C19.6122 8.77175 19.2753 9.10859 19.2753 9.5241V13.5366C19.2753 14.1176 19.2072 14.6827 19.0785 15.2244L20.2899 16.4358Z",fill:"currentColor"}),c.createElement("path",{d:"M15.263 11.1575V6.51431C15.263 4.71377 13.8034 3.25414 12.0028 3.25414C10.7464 3.25414 9.65599 3.96485 9.11167 5.00618L8.01336 3.90787C8.86428 2.60809 10.3333 1.74944 12.0028 1.74944C14.6344 1.74944 16.7677 3.88274 16.7677 6.51431V12.6622L15.263 11.1575Z",fill:"currentColor"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0026 20.8093C7.986 20.8093 4.7299 17.5532 4.7299 13.5366L4.7299 9.5241C4.7299 9.10859 4.39306 8.77175 3.97755 8.77175C3.56204 8.77175 3.2252 9.10859 3.2252 9.5241L3.2252 13.5366C3.2252 18.3843 7.15498 22.314 12.0026 22.314C14.6664 22.314 17.053 21.1274 18.6628 19.2539L21.0006 21.5917C21.2944 21.8855 21.7707 21.8855 22.0645 21.5917C22.3584 21.2979 22.3584 20.8215 22.0645 20.5277L3.00504 1.46823C2.71123 1.17442 2.23487 1.17442 1.94106 1.46823C1.64725 1.76204 1.64725 2.2384 1.94106 2.53221L7.23793 7.82908V13.5362C7.23793 16.1678 9.37124 18.3011 12.0028 18.3011C13.5589 18.3011 14.9407 17.5552 15.8103 16.4015L17.5951 18.1862C16.261 19.7891 14.251 20.8093 12.0026 20.8093ZM8.74263 13.5362C8.74263 15.3368 10.2023 16.7964 12.0028 16.7964C13.1441 16.7964 14.1484 16.21 14.7308 15.322L8.74263 9.33378L8.74263 13.5362Z",fill:"currentColor"})),kke=Object.freeze(Object.defineProperty({__proto__:null,default:VM},Symbol.toStringTag,{value:"Module"})),$p=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.7673 6.54284C16.7673 3.91128 14.634 1.77799 12.0024 1.77799C9.37089 1.77799 7.2376 3.91129 7.2376 6.54284L7.2376 13.5647C7.2376 16.1963 9.37089 18.3296 12.0024 18.3296C14.634 18.3296 16.7673 16.1963 16.7673 13.5647L16.7673 6.54284ZM12.0024 3.28268C13.803 3.28268 15.2626 4.7423 15.2626 6.54284L15.2626 13.5647C15.2626 15.3652 13.803 16.8249 12.0024 16.8249C10.2019 16.8249 8.74229 15.3652 8.74229 13.5647L8.74229 6.54284C8.74229 4.7423 10.2019 3.28268 12.0024 3.28268Z",fill:"currentColor"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.0274 8.79987C19.6119 8.79987 19.2751 9.1367 19.2751 9.55221V13.5647C19.2751 17.5813 16.019 20.8374 12.0024 20.8374C7.98587 20.8374 4.72979 17.5813 4.72979 13.5647L4.72979 9.55221C4.72979 9.1367 4.39295 8.79987 3.97744 8.79987C3.56193 8.79987 3.2251 9.1367 3.2251 9.55221L3.2251 13.5647C3.2251 18.4123 7.15485 22.3421 12.0024 22.3421C16.85 22.3421 20.7798 18.4123 20.7798 13.5647V9.55221C20.7798 9.1367 20.443 8.79987 20.0274 8.79987Z",fill:"currentColor"})),Mke=Object.freeze(Object.defineProperty({__proto__:null,default:$p},Symbol.toStringTag,{value:"Module"})),HM=e=>c.createElement("svg",{width:63,height:73,viewBox:"0 0 63 73",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("g",{filter:"url(#filter0_d_3118_29179)"},c.createElement("path",{d:"M39.7952 28.3892L42.2422 41.8194C43.061 46.313 43.4704 48.5598 42.1865 49.4826C40.9025 50.4053 38.9035 49.3009 34.9054 47.0922L22.9563 40.491C16.2962 36.8117 12.9661 34.972 13.4372 33.1039C13.9083 31.2359 17.7474 31.1951 25.4255 31.1136C27.1365 31.0955 27.992 31.0864 28.6339 30.625C29.2759 30.1637 29.5572 29.3557 30.12 27.7398C32.6452 20.4884 33.9078 16.8627 35.8285 17.0117C37.7493 17.1608 38.4313 20.9036 39.7952 28.3892Z",fill:"white",fillOpacity:.8,shapeRendering:"crispEdges"}),c.createElement("path",{d:"M39.7952 28.3892L42.2422 41.8194C43.061 46.313 43.4704 48.5598 42.1865 49.4826C40.9025 50.4053 38.9035 49.3009 34.9054 47.0922L22.9563 40.491C16.2962 36.8117 12.9661 34.972 13.4372 33.1039C13.9083 31.2359 17.7474 31.1951 25.4255 31.1136C27.1365 31.0955 27.992 31.0864 28.6339 30.625C29.2759 30.1637 29.5572 29.3557 30.12 27.7398C32.6452 20.4884 33.9078 16.8627 35.8285 17.0117C37.7493 17.1608 38.4313 20.9036 39.7952 28.3892Z",stroke:"white",strokeWidth:1.5,shapeRendering:"crispEdges"})),c.createElement("path",{d:"M43.06 50.7014C44.3479 49.7757 44.5485 48.2871 44.5004 46.9375L44.469 46.4069C44.397 45.4896 44.2259 44.4068 44.0083 43.1722L43.7279 41.6191L43.7271 41.6113L43.7263 41.6119L41.2578 28.06L40.7794 25.455C40.3207 22.9993 39.9105 20.9984 39.4527 19.5092L39.3346 19.1407C39.0928 18.4125 38.8119 17.7441 38.4599 17.1874L38.2786 16.9184C37.7807 16.2335 37.0781 15.6722 36.1346 15.5382L35.9428 15.5173C35.0273 15.4462 34.264 15.7987 33.6613 16.3187L33.4134 16.551C32.8862 17.0835 32.4355 17.7951 32.024 18.597L31.8493 18.9462C31.1633 20.3587 30.4435 22.2885 29.6039 24.6656L28.7214 27.1892L28.7014 27.2468C28.4821 27.8767 28.3253 28.323 28.1864 28.662L28.0522 28.9689C27.8919 29.3038 27.7981 29.3776 27.7565 29.4075C27.7254 29.4298 27.6614 29.4719 27.4758 29.5106L27.2465 29.5479C27.0436 29.5728 26.806 29.587 26.5081 29.5964L25.4073 29.6142L25.3455 29.6153C22.0505 29.6503 19.3668 29.6775 17.3562 29.8624L16.5355 29.9519C15.6246 30.0688 14.7765 30.2424 14.0635 30.5367L13.7674 30.6702C13.0061 31.0434 12.328 31.6403 12.0348 32.5515L11.9812 32.738C11.7577 33.624 11.971 34.4332 12.3786 35.1149L12.5645 35.3986C13.059 36.0947 13.7998 36.7301 14.6458 37.3375L15.3198 37.8019C16.9879 38.9103 19.3175 40.1961 22.1748 41.7746L34.238 48.4394L35.6206 49.2003C36.9417 49.9202 38.0776 50.5066 39.0333 50.8666L39.516 51.0344C40.6626 51.3952 41.933 51.5114 43.06 50.7014Z",stroke:"black",strokeWidth:1.5}),c.createElement("defs",null,c.createElement("filter",{id:"filter0_d_3118_29179",x:2.64307,y:6.25732,width:51.1152,height:66.3022,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},c.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),c.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),c.createElement("feMorphology",{radius:2,operator:"erode",in:"SourceAlpha",result:"effect1_dropShadow_3118_29179"}),c.createElement("feOffset",{dy:16}),c.createElement("feGaussianBlur",{stdDeviation:4}),c.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),c.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"}),c.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_3118_29179"}),c.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_3118_29179",result:"shape"})))),Nke=Object.freeze(Object.defineProperty({__proto__:null,default:HM},Symbol.toStringTag,{value:"Module"}));function a5e(e){const{renderFocusedElement:t,children:n,className:s,options:o={},isOpen:r}=e,{offset:a=1,placement:i="bottom-end",adjustArrowPosition:u=E=>E}=o,d=c.useRef(null),{state:m,setState:f}=N3({controlledValue:r,defaultValue:!1}),{y:h=0}=u({x:0,y:0})??{},{refs:g,context:C,floatingStyles:v,middlewareData:y}=Ol({open:m,placement:i,onOpenChange:f,middleware:[va(a),Ca(),nT({element:d,padding:{right:-38,bottom:h}})],whileElementsMounted:Na}),b=u(y.arrow);return l.jsxs(l.Fragment,{children:[t==null?void 0:t({ref:g.setReference},m),m&&l.jsx(Ll,{children:l.jsx(th,{context:C,modal:!1,children:l.jsxs("div",{ref:g.setFloating,style:v,className:F("flex outline-none",ct.coachmark),children:[l.jsx("div",{className:F("start-0 flex rounded-ee-md rounded-es-3xl rounded-se-3xl rounded-ss-3xl border border-background-200 border-white shadow-sm",s),children:n}),l.jsx("div",{ref:d,style:{position:"absolute",left:b==null?void 0:b.x,top:(b==null?void 0:b.y)??h},className:"pointer-events-none",children:l.jsx(HM,{className:"my-5 size-14"})})]})})})]})}const If="absolute inset-0 rounded-full",T9="relative size-6 transition-colors",A9=2,i5e=50,c5e=20,zM=.6,l5e=3,u5e=.55,d5e=1,m5e={opacity:0,scale:zM},f5e={opacity:1,scale:1,transition:{...M_,delay:R_}};function p5e(e){const{t}=q(),{status:n,inputVolume:s,isOutputPlaying:o,enableSpinAnimation:r=!0,className:a,coachUserUnmute:i=!1,onClick:u}=e,d=n==="muted",m=n==="disabled",f=n==="active",h=!o&&f,[g,C]=c.useState(!1),v=gt({breakpoint:"sm"});c.useEffect(()=>{let _;return i&&(_=setTimeout(()=>C(!0),600)),()=>clearTimeout(_)},[i]);const y=z7(s,k_),b=al(y,[A9,i5e],[zM,l5e]),E=al(y,[A9,c5e],[u5e,d5e]),{focusable:S,refCallback:I}=Ra({autoRestoreFocus:!0,forceFocus:!0});return l.jsx(a5e,{className:"max-w-72 border-white bg-black/90 p-2 dark:bg-white",isOpen:g,options:{placement:"top-end",offset:v?{mainAxis:27,crossAxis:10}:{mainAxis:15,crossAxis:-55},adjustArrowPosition:_=>v?{x:_!=null&&_.x?_.x-20:void 0,y:12}:_},renderFocusedElement:_=>l.jsxs(l.Fragment,{children:[g?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute start-1/2 -my-4 size-fit -translate-x-1/2",children:l.jsx(ln,{duration:.6,exitDelay:4.5,exitDuration:.5,children:l.jsx(ge.div,{animate:{rotate:360},transition:{duration:2.5,repeat:1,ease:"linear"},children:l.jsx(r5e,{className:"size-20"})})})}),l.jsx("div",{className:"absolute start-1/2 -my-4 size-fit -translate-x-1/2",children:l.jsx(ge.div,{className:"size-[80px] rounded-full border-4 border-solid border-black/80 shadow-sm dark:border-white",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:4.5,ease:"linear"}})})]}):null,l.jsx(ge.button,{..._,title:t(m?"composer.microphoneDisabled":d?"composer.unmuteMicrophone":"composer.muteMicrophone"),className:le("size-12 rounded-full",fd,gm,a),layout:!i,initial:"initial",animate:"enter",variants:{initial:m5e,enter:f5e},onClick:u,ref:T=>{_.ref(T),I(T)},"data-spatial-focus-key":S.focusKey,disabled:m,children:l.jsxs(ge.span,{className:le("flex items-center justify-center overflow-hidden border",f?"border-white bg-white/50 hover:bg-white/80 dark:border-white/12 dark:bg-black/40":"border-transparent bg-black/8 dark:bg-white/5",h&&"text-spot-blue-450 dark:text-midnight-300",If),layout:!i,children:[l.jsx(pt,{children:h&&l.jsx(ge.div,{className:le("flex items-center justify-center overflow-hidden rounded-full blur-[6px]",If),layout:!0,initial:Fe,animate:nt,exit:Fe,style:{scale:b},children:l.jsx(ge.div,{className:le(If),layout:!0,style:{opacity:E},children:l.jsx(ge.div,{className:le(r&&"animate-spin-slow","bg-gradient-audio-input-light dark:bg-gradient-audio-input-dark",If)})})})}),f?l.jsx($p,{className:T9,"aria-hidden":!0}):l.jsx(VM,{className:T9,"aria-hidden":!0})]})})]}),children:l.jsx("div",{className:"flex p-0 px-3 text-white text-sm dark:text-foreground-300",children:t("voice.v2.waitingInteractionUnmuteSubheader")})})}function h5e(e,t){const{children:n,className:s,margins:o,data:r,size:a="regular",onButtonRef:i}=e,u=r.isDisabled?"":r.title,d=a==="small";return l.jsx(ge.div,{className:F("relative shrink-0",o??"my-1",d?"h-9":"h-10",r.isVisible&&!d&&"size-10",r.isVisible&&d&&"size-9",!r.isVisible&&"overflow-hidden"),layout:!0,initial:!1,ref:t,children:l.jsx(ge.button,{type:"button",className:F("absolute flex items-center justify-center rounded-xl fill-foreground-750",d?"size-9 p-1":"size-10 p-2",Ri["subtle-dimmed"],"disabled:active:bg-transparent disabled:active:bg-none",s),layout:"position",disabled:!r.isVisible||r.isDisabled,"aria-hidden":!r.isVisible,"aria-label":u,title:u,onClick:r.onClick,"data-testid":r.testId,"aria-expanded":typeof r.ariaExpanded=="boolean"?r.ariaExpanded:void 0,ref:i,children:n})})}const zs=c.forwardRef(h5e);function $f(e){const{children:t,className:n}=e;return l.jsx(ge.div,{className:n,initial:Fe,animate:nt,exit:Fe,transition:{delay:N_},children:t})}function GM(){const e=h3(),t=G("appearance-first-run-experience"),[n,s]=Ue(pk),[o,r]=Ue(Nfe),a=e&&t&&!n;return{hasNeverSeenAppearanceFirstRunAnimation:a,setHasSeenFirstRunExperienceAnimation:s,isAppearanceFirstRunExperienceAnimationPlaying:o,setIsAppearanceFirstRunExperienceAnimationPlaying:r,isAppearanceFirstRunExperienceComplete:!a&&!o}}function g5e(e){const{isInputMuted:t}=e,{isAppearanceFirstRunExperienceAnimationPlaying:n}=GM();return n?"disabled":t?"muted":"active"}function WM(){const e=Cm(),t=G("appearance-discoverability"),n=M(bo),s=M(fk);return e&&t&&!n&&s}function ku(e){const t=$e(),s={...t.get(N2),[e]:new Date().toISOString()};t.set(N2,s)}function Zo(e){const n=!!M(N2)[e],s=c.useCallback(()=>{ku(e)},[e]);return{alreadyShown:n,dismissCoachmark:s}}const $M="appearanceColorShuffler",qM="appearanceSetting",v5e="appearanceVoiceCustomization",Fm="smartmode",Rke="pagesEditThisResponse",Pke="pageSourcesFirstRun",Lke="pageSourcesFirstAdd",Oke="galleryDetailPrompt",Dke="GalleryComposerFileUpload",KM="vision",jke="audioExpressionModeSelector",C5e="studyLive",y5e="inlineBrowsingPreviousConversations",Uke="inviteTooltip";function b5e(){const e=h3(),t=G("appearance-customization-function-call"),n=lh(),{isAppearanceFirstRunExperienceComplete:s}=GM(),o=M(Rfe),{alreadyShown:r}=Zo($M),a=o||r,i=M(hk);return e&&t&&a&&s&&!i&&!n}function Bm(e){const{renderReferenceElement:t,children:n,className:s,placement:o,offset:r,isOpen:a=!0,portalId:i,withArrow:u=!1,arrowClassName:d="dark:fill-black fill-white",animation:m="none",onOutsideEvent:f,onInsideEvent:h,invokeOnce:g=!0}=e,C=c.useRef(null),{refs:v,x:y,y:b,strategy:E,context:S,placement:I}=Ol({open:a,placement:o??"right",middleware:[va(r??1),Rl({fallbackAxisSideDirection:"end"}),Ca(),nT({element:C})],whileElementsMounted:Na});Co({onOutsideEvent:()=>{f==null||f()},invokeOnce:g,elements:[v.floating]});const _=JC(S),T=hm(S),A=oh(S),k=Xi(),{getReferenceProps:R,getFloatingProps:P}=nh([_,T,A]),V=M(Wo),U=x5e(m,I);return l.jsxs(l.Fragment,{children:[t==null?void 0:t({ref:v.setReference,...R()},a),a&&l.jsx(Ll,{id:i,children:l.jsxs(ge.div,{ref:v.setFloating,style:{position:E,top:`${b}px`,[k?"insetInlineEnd":"insetInlineStart"]:`${y}px`,boxShadow:V==="dark"?"0px 0px 0px 1px rgba(255, 255, 255, 0.08) inset":void 0},...U,...P({}),className:le("flex rounded-2xl p-4 shadow-xl",ct.coachmark,Fee,u&&"!overflow-visible",s),onClick:h,children:[n,u?l.jsx(kre,{ref:C,context:S,tipRadius:3,strokeWidth:2,className:d}):null]})})]})}function x5e(e,t){switch(e){case"bounce":return S5e(t);case"none":return{};default:return{}}}function S5e(e){const n=e.startsWith("top")||e.startsWith("bottom"),s=e.startsWith("top")||e.startsWith("left")?-1:1;return n?{animate:{y:`${s*10}px`,transition:E6}}:{animate:{x:`${s*10}px`,transition:E6}}}const E5e=10;function w5e(e){const{triggerComponent:t,offset:n=E5e,onInsideEvent:s}=e,{t:o}=q(),{alreadyShown:r,dismissCoachmark:a}=Zo(qM);return ps(i=>{(i.key==="Escape"||i.key==="Control")&&(i.stopPropagation(),a())}),l.jsx(Bm,{className:"max-w-48 cursor-pointer bg-black dark:bg-background-850",arrowClassName:"dark:fill-background-850 fill-black",isOpen:!r,placement:"top",offset:n,withArrow:!0,renderReferenceElement:i=>l.jsx(ge.div,{ref:i.ref,className:"relative",children:t}),portalId:"composer-container",onInsideEvent:()=>{s==null||s(),a()},children:l.jsx("div",{className:"flex max-w-[160px] flex-col gap-0.5 bg-black text-white dark:bg-background-850 dark:text-black",children:l.jsx("div",{className:"text-xs",children:o("settings.appearanceSettingCoachmarkText")})})})}const I5e="/static/cmc/assets/settings-cwFubbTV.svg",_5e=10;function T5e(e){const{triggerComponent:t,offset:n=_5e,onInsideEvent:s,placement:o}=e,{t:r}=q(),{alreadyShown:a,dismissCoachmark:i}=Zo(v5e),u=oe(Lfe);return c.useEffect(()=>(u(!0),()=>{u(!1)}),[u]),ps(d=>{(d.key==="Escape"||d.key==="Control")&&(d.stopPropagation(),i())}),l.jsx(Bm,{className:"max-w-52 cursor-pointer bg-black dark:bg-background-850",arrowClassName:"dark:fill-background-850 fill-black",isOpen:!a,placement:o,offset:n,withArrow:!0,renderReferenceElement:d=>l.jsx(ge.div,{ref:d.ref,className:"relative",children:t}),portalId:"appearance-voice-customization",onInsideEvent:()=>{s==null||s(),i()},children:l.jsxs("div",{className:"flex max-w-52 flex-col gap-0.5 bg-black text-white dark:bg-background-850 dark:text-black",children:[l.jsx("span",{className:"text-center text-xs",children:r("settings.appearanceVoiceCustomizationCoachmarkTitle")}),l.jsx("span",{className:"text-center text-xs",children:r("settings.appearanceVoiceCustomizationCoachmarkText")})]})})}const k9=3e3,A5e=4,k5e=28;function M5e(e){const{expandedSection:t,settingsIconClassName:n,dismissCallButton:s,onAudioSettingsClick:o,DismissAudioSettings:r,audioInputProps:a}=e,{t:i}=q(),[u,d]=c.useState(!1),m=g5e({isInputMuted:a.isInputMuted}),f=WM();c.useEffect(()=>{const b=setTimeout(()=>{d(f)},k9);return()=>clearTimeout(b)},[f]);const h=b5e(),[g,C]=c.useState(!1);c.useEffect(()=>{const b=setTimeout(()=>{C(h)},k9);return()=>clearTimeout(b)},[h]);const v=l.jsx(zs,{className:"start-0",data:{title:i("composer.voiceSettings"),isVisible:!0,onClick:o},children:l.jsx(xt,{url:I5e,className:n,"aria-hidden":!0})}),y=l.jsx(p5e,{className:a.className,inputVolume:a.inputVolume,status:m,isOutputPlaying:a.isOutputPlaying,coachUserUnmute:a.coachUserUnmute,onClick:a.onInputClick});return l.jsx(ge.div,{className:F(t!=="audioSettings"&&"flex"),children:t==="audioSettings"?l.jsx(zs,{className:"end-0",data:r,children:r.icon}):l.jsxs(l.Fragment,{children:[s,g?l.jsx(T5e,{triggerComponent:y,offset:k5e,placement:"top"}):y,l.jsx($f,{children:u?l.jsx(w5e,{"aria-label":i("settings.appearanceSettingCoachmarkText"),triggerComponent:v,offset:A5e}):v})]})})}class ZM{constructor(){O(this,"audioContext");O(this,"audioAnalyser")}get isInitialized(){return this.audioContext!==void 0&&this.audioContext.state!=="closed"}async initialize({sampleRate:t}){this.audioContext&&await this.cleanup();try{this.audioContext=new AudioContext({sampleRate:t}),this.audioAnalyser=this.audioContext.createAnalyser()}catch(n){const s=n instanceof Error?n.message:String(n);throw new Error(`Failed to initialize audio context: ${s}`)}}async cleanup(){if(this.audioContext&&this.audioContext.state!=="closed")try{await this.audioContext.close()}catch(t){t instanceof DOMException&&t.name==="InvalidStateError"||qt({feature:"AudioContextManager",scenario:"cleanup",errorType:"AudioContextCloseError",errorMessage:t instanceof Error?t.message:String(t)})}this.audioContext=void 0,this.audioAnalyser=void 0}}function Fke(e){}class N5e{constructor(){O(this,"ENERGY_THRESHOLD_MULTIPLIER",3);O(this,"SILENCE_DURATION",500);O(this,"MIN_SPEECH_DURATION",300);O(this,"ZERO_CROSSING_MIN",.01);O(this,"ZERO_CROSSING_MAX",.5);O(this,"MAX_VALID_LATENCY_MS",2e3);O(this,"AUDIO_SAMPLE_OFFSET",128);O(this,"audioAnalyser");O(this,"voiceDetectionRaf",-1);O(this,"voiceDetectionActive",!1);O(this,"energyHistory",[]);O(this,"noiseFloor",.01);O(this,"isSpeaking",!1);O(this,"silenceStartTime",0);O(this,"lastVoiceDetectionTime",0);O(this,"lastClientSideVoiceEndTime",null);O(this,"serverVADLatencyMeasurements",[]);O(this,"onClientSideVoiceStartDetected");O(this,"onClientSideVoiceEndDetected")}startVoiceDetection(t){this.voiceDetectionActive&&this.stopVoiceDetection(),!(typeof window>"u")&&(this.audioAnalyser=t,this.voiceDetectionActive=!0,this.energyHistory=[],this.noiseFloor=.01,this.isSpeaking=!1,this.silenceStartTime=0,this.lastVoiceDetectionTime=Date.now(),this.lastClientSideVoiceEndTime=null,this.serverVADLatencyMeasurements=[],this.performVoiceDetection())}stopVoiceDetection(){this.voiceDetectionRaf!==-1&&(cancelAnimationFrame(this.voiceDetectionRaf),this.voiceDetectionRaf=-1),this.voiceDetectionActive=!1,this.audioAnalyser=void 0,this.displayServerVADLatencyStatistics()}setOnClientSideVoiceStartDetected(t){this.onClientSideVoiceStartDetected=t}setOnClientSideVoiceEndDetected(t){this.onClientSideVoiceEndDetected=t}getLastClientVoiceEndTime(){return this.lastClientSideVoiceEndTime?this.lastClientSideVoiceEndTime-this.SILENCE_DURATION:null}onServerSpeechEndDetected(){if(`${this.lastClientSideVoiceEndTime}`,`${this.voiceDetectionActive}${this.isSpeaking}`,!this.lastClientSideVoiceEndTime)return null;const t=Date.now(),n=this.lastClientSideVoiceEndTime-this.SILENCE_DURATION,s=t-n;return`${t}${this.lastClientSideVoiceEndTime}${n}${s}`,s>=0&&s<=this.MAX_VALID_LATENCY_MS?(this.serverVADLatencyMeasurements.push(s),s):null}getLastServerVADLatency(){return this.serverVADLatencyMeasurements[this.serverVADLatencyMeasurements.length-1]??null}performVoiceDetection(){var t,n;if(!this.voiceDetectionActive||!this.audioAnalyser){`${this.voiceDetectionActive}`,this.audioAnalyser;return}try{const s=this.audioAnalyser.frequencyBinCount,o=new Uint8Array(s);this.audioAnalyser.getByteTimeDomainData(o);const r=new Float32Array(s);for(let u=0;u<s;u+=1){const d=o[u];d!==void 0&&(r[u]=(d-this.AUDIO_SAMPLE_OFFSET)/this.AUDIO_SAMPLE_OFFSET)}const a=this.advancedVoiceDetection(r),i=Date.now();a?(this.isSpeaking||i-this.lastVoiceDetectionTime>this.MIN_SPEECH_DURATION&&(this.isSpeaking=!0,(t=this.onClientSideVoiceStartDetected)==null||t.call(this)),this.silenceStartTime=0,this.lastVoiceDetectionTime=i):this.isSpeaking&&(this.silenceStartTime===0?this.silenceStartTime=i:i-this.silenceStartTime>this.SILENCE_DURATION&&(this.isSpeaking=!1,this.lastClientSideVoiceEndTime=i,(n=this.onClientSideVoiceEndDetected)==null||n.call(this)))}catch{}this.voiceDetectionRaf=requestAnimationFrame(()=>{this.performVoiceDetection()})}advancedVoiceDetection(t){let n=0,s=0;for(let m=0;m<t.length;m+=1){const f=t[m];if(f!==void 0&&(n+=f*f,m>0)){const h=t[m-1];h!==void 0&&h>=0!=f>=0&&(s+=1)}}n=Math.sqrt(n/t.length);const o=s/t.length;if(this.energyHistory.push(n),this.energyHistory.length>100){this.energyHistory.shift();const m=[...this.energyHistory].sort((h,g)=>h-g),f=m[Math.floor(m.length*.1)];f!==void 0&&(this.noiseFloor=f)}const r=this.noiseFloor*this.ENERGY_THRESHOLD_MULTIPLIER,i=n-this.noiseFloor>r,u=o>this.ZERO_CROSSING_MIN&&o<this.ZERO_CROSSING_MAX;return i&&u}displayServerVADLatencyStatistics(){if(this.serverVADLatencyMeasurements.length===0)return;const t=this.serverVADLatencyMeasurements,n=t.length,s=t.reduce((o,r)=>o+r,0)/n;[...t].sort((o,r)=>o-r),Math.min(...t),Math.max(...t),`${s.toFixed(1)}`,`${t.join(", ")}`}}const T5=24e3,YM=24e3,R5e=1;function P5e(e){const t=atob(e),n=t.length,s=new Uint8Array(n);for(let o=0;o<n;o+=1)s[o]=t.charCodeAt(o);return s.buffer}function L5e(e){let t="";const n=new Uint8Array(e),s=n.byteLength;for(let o=0;o<s;o+=1){const r=n[o];typeof r=="number"&&(t+=String.fromCharCode(r))}return btoa(t)}function O5e(e){const t=P5e(e),n=new Int16Array(t),s=new Float32Array(n.length);for(let o=0;o<n.length;o+=1)s[o]=n[o]/32768;return s}function D5e(e){const t=e<0?e*32768:e*32767;return Math.max(-32768,Math.min(32767,t))}function j5e(e){let t=0;for(const n of e){const s=n-128;t+=s*s}return Math.sqrt(t/e.length)}function QM(e){return e/Ud}function Bke(e){return`${QM(e)}x`}function Vke(e,t){const n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}function Hke(e){const t=Math.floor(e/60),n=e%60;return`${t}:${n.toString().padStart(2,"0")}`}function M9(e,t){Ge.emit(`voice:audio-${t}-volume-changed`,e)}function U5e(e,t,n){if(t===n)return e;const s=e.length,o=t/n,r=Math.ceil(s/o),a=new Float32Array(r);for(let i=0;i<r;i+=1){const u=i*o,d=Math.floor(u),m=d+1,f=e[d]??0,h=e[m]??0,g=u-d;a[i]=f*(1-g)+h*g}return a}class JM{constructor(t){O(this,"mode");O(this,"volumeUpdateRaf",-1);O(this,"audioAnalyser");O(this,"volume",Rc(0));this.mode=t}startTracking(t){this.audioAnalyser&&this.stopTracking(),this.audioAnalyser=t,this.trackVolume()}trackVolume(){if(!this.audioAnalyser){this.stopTracking();return}const t=new Uint8Array(this.audioAnalyser.frequencyBinCount);this.audioAnalyser.getByteTimeDomainData(t);const n=j5e(t);Math.abs(n-this.volume.get())>R5e&&(this.volume.set(n),M9(n,this.mode)),this.volumeUpdateRaf=requestAnimationFrame(()=>{this.trackVolume()})}stopTracking(){this.volumeUpdateRaf!==-1&&(cancelAnimationFrame(this.volumeUpdateRaf),this.volumeUpdateRaf=-1),this.audioAnalyser=void 0,this.volume.set(0),M9(0,this.mode)}}const F5e="/static/cmc/assets/call_ending-BxIIadI4.mp3",B5e="/static/cmc/assets/call_opening-CKuCznU5.mp3";function V5e(){const e=Qs(),t=G("use-appearance-component-package"),n=n3(["study-mode-lumi","study-mode-summary"],"any"),s=G("tv-new-lumi");return t||e==="study"&&n||s}function H5e(){return pd(["use-appearance-component-package","tv-new-lumi"],"any")||xo()==="study"&&pd(["study-mode-lumi","study-mode-summary"],"any")}function A5(){return/firefox/i.test(navigator.userAgent)}function z5e(e,t){const n=typeof e=="string"?O5e(e):e,s=t.createBuffer(1,n.length,YM);s.getChannelData(0).set(n);const o=t.createBufferSource();return o.buffer=s,o}async function G5e(e,t,n,s,o){const r=s&&await s();let a=8192;be("audio-buffer-size-4096")?a=4096:be("audio-buffer-size-2048")&&(a=2048);const i=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,voiceIsolation:!0,autoGainControl:!0,sampleRate:A5()?void 0:T5,...r}}),u=i.getAudioTracks()[0];u&&(u.onended=f=>{o==null||o(f)});const d=t.createMediaStreamSource(i),m=t.createScriptProcessor(a,1,1);return d.connect(n),n.connect(m),m.connect(t.destination),m.onaudioprocess=f=>{let h=f.inputBuffer.getChannelData(0);A5()&&(h=U5e(h,t.sampleRate,T5));const g=new Int16Array(h.length);for(let v=0;v<h.length;v+=1){const y=h[v];typeof y=="number"&&(g[v]=D5e(y))}const C=L5e(g.buffer);e(C)},i}async function N9(e,t){const n=await Promise.race([sm(t),new Promise(s=>{try{const o=new Audio(e);o.addEventListener("ended",()=>s(o),{once:!0}),o.play()}catch{}})]);n==null||n.remove()}function W5e(e,t){switch(t){case"time-expired":return{title:e("voice.v2.timeExpiredProHeading"),subtitle:e("voice.v2.timeExpiredProSubheading")};case"throttled":return{title:e("voice.v2.throttledHeadingV2"),subtitle:e("voice.v2.throttledSubheadingV2")};case"error":default:return{title:e("voice.v2.errorHeading"),subtitle:e("voice.v2.errorSubheading")}}}function $5e(e){if(!e)return!0;switch(e.type){case"server-terminated":return!["time-expired","throttled","inactivity"].includes(e.reason);default:return!0}}const zke={lmks_rest:"lmksRest",frames:"frames",expr:"expr",neck_pose:"neckPose",jaw_pose:"jawPose",eyes_pose:"eyesPose",eyes_open_ratio:"eyesOpenRatio",rotation:"rotation",translation:"translation",lmks:"lmks"};class q5e{constructor(t,n){O(this,"lmksRest");O(this,"frames");this.lmksRest=t,this.frames=n}}class K5e{constructor(t,n){O(this,"exp");O(this,"pose");this.exp=t,this.pose=n}isValid(){return this.exp.dtype!==""&&this.exp.data.length>0||this.pose.dtype!==""&&this.pose.data.length>0}}const{EPSILON:k5}=Number,Z5e=["Viseme_Neutral","Viseme_AI","Viseme_E","Viseme_U","Viseme_CDG","Viseme_WQ","Viseme_O","Viseme_L","Viseme_ShCh","Viseme_FV","Viseme_MBP"],Y5e=[0,1,1,6,2,3,4,5,6,1,6,1,2,5,7,4,8,7,9,4,4,10],ea={enablePose:!1,enableNeck:!1,enableEye:!1,enableEyebrow:!1};function Gke(e){ea.enablePose=e,ea.enableNeck=e,ea.enableEye=e,ea.enableEyebrow=e}function Q5e(e,t=null){const{Quaternion:n,Vector3:s}=Zs.getCore(),o=.3,r=.5,a=30/360*Math.PI,i=1,u=.01,d=["eye_BlinkUp","eye_Squint","eye_RSquare"],m=[.5,.2,.2],f=.5,h=.3,g=n.RotationAxis(s.Right(),Math.PI/4),C=g.conjugate(),v=new s(i,i,i),y=new s(-1,-1,-1),b={pose:{translation:new s(0,0,0),rotation:n.Identity()},expression:{eyes_open_ratio:0,eye_BlinkUp:0,eye_Squint:0,eye_RSquare:0,eyebrow_value:0,eyebrow_height:0,eyebrow_bend:0,viseme:new Array(11).fill(0),viseme22_idx:0,viseme11_idx:0},offset:e.offset??null};if(ea.enablePose){let S=R9(e.rotation);if(ea.enableNeck){const A=R9(e.neckPose);S.multiplyInPlace(A)}S=g.multiplyToRef(S,S).multiplyToRef(C,S);let[I,_]=X5e(S);_>a&&(_=a),b.pose.rotation=n.RotationAxis(I,_);const T=s.FromArray(e.translation);s.ClampToRef(T,y,v,T),b.pose.translation=T}const E=e.eyesOpenRatio[0]??0;if(b.expression.eyes_open_ratio=E,ea.enableEye&&t!==null){let S=0,I=0,_=0;if(t.expression.eye_BlinkUp>0)E<.9&&(S=1,I=0,_=0);else if(t.expression.eye_Squint>0)E<.9&&(S=0,I=f,_=0);else if(t.expression.eye_RSquare>0)E>1.1&&(S=0,I=0,_=h);else{const T=t.expression.eyes_open_ratio;E<.75&&T<.8?(S=1,I=0,_=0):E<.8&&T<.85?(S=0,I=f,_=0):E>1.1&&(S=0,I=0,_=h)}b.expression.eye_BlinkUp=S,b.expression.eye_Squint=I,b.expression.eye_RSquare=_}if(ea.enableEyebrow){const S=e.viseme.slice(1,4);b.expression.eyebrow_value=e.viseme[2]??0,b.expression.eyebrow_height=Wx(((S[1]??0)-0)*2)*u,b.expression.eyebrow_bend=Wx((0-(S[1]??0))*3)}{const S=Math.round(e.viseme[0]??0),I=Y5e[S]??0;b.expression.viseme[I]=1,t!==null&&t.expression.viseme22_idx!==S&&(b.expression.viseme[I]=.9),b.expression.viseme22_idx=S,b.expression.viseme11_idx=I}if(t!==null){for(const[k,R]of d.entries()){const P=m[k]??0;b.expression[R]=P9(t.expression[R],b.expression[R],0,P)}const S=b.expression.viseme,I=t.expression.viseme;if((S[10]??0)<1e-6)for(let k=0;k<Z5e.length;k+=1)S[k]=P9(I[k]??0,S[k]??0,0,o);const T=b.pose.translation,A=t.pose.translation;b.pose.translation=new s(T.x*r+A.x*(1-r),T.y*r+A.y*(1-r),T.z*r+A.z*(1-r))}return b}function J5e(e){const{TmpVectors:t,Vector3:n}=Zs.getCore(),s=t.Vector3[0];s.fromArray(e);const o=s.length();return o<k5?[n.Up(),0]:[s.scale(1/o),o]}function R9(e){const{Quaternion:t}=Zs.getCore(),[n,s]=J5e(e);return t.RotationAxis(n,s)}function X5e(e){const{Vector3:t}=Zs.getCore(),n=e.lengthSquared();Math.abs(n-1)>k5&&e.normalize();const s=Math.acos(e.w),o=s*2,r=Math.sin(s),a=Math.abs(r)<5e-4?1:r,i=new t(e.x/a,e.y/a,e.z/a);return i.lengthSquared()<k5&&(i.y=1),[i,o]}function P9(e,t,n,s){return Math.abs(t-e)<n?e:e<t?Math.min(e+s,t):Math.max(e-s,t)}function eve(e,t,n){const{Vector3:s,Quaternion:o}=Zs.getCore(),{Lerp:r}=Zs.getMath();return{pose:{translation:s.Lerp(e.pose.translation,t.pose.translation,n),rotation:o.Slerp(e.pose.rotation,t.pose.rotation,n)},expression:{eyes_open_ratio:0,eye_BlinkUp:r(e.expression.eye_BlinkUp,t.expression.eye_BlinkUp,n),eye_Squint:r(e.expression.eye_Squint,t.expression.eye_Squint,n),eye_RSquare:r(e.expression.eye_RSquare,t.expression.eye_RSquare,n),eyebrow_value:0,eyebrow_height:r(e.expression.eyebrow_height,t.expression.eyebrow_height,n),eyebrow_bend:r(e.expression.eyebrow_bend,t.expression.eyebrow_bend,n),viseme:new Array(11).fill(0).map((i,u)=>r(e.expression.viseme[u]??0,t.expression.viseme[u]??0,n)),viseme22_idx:0,viseme11_idx:0}}}const tve=3.141592653589793,L9="System.Single, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089";function nve(e){const t=[],n=[],s=(i,u)=>{if(u>=i.length)throw new Error("index out of range");return i[u]===void 0?0:i[u]};for(const{frame:i,offset:u}of e){if(i.length<97)return console.log("Invalid frame length"),null;const d=new Array(28).fill(0);d[12]=s(i,78),d[16]=s(i,43),d[17]=s(i,43),d[21]=s(i,72),d[23]=.5*s(i,52)+.5*s(i,53),d[24]=.75*s(i,76),d[26]=.75*s(i,76),t.push({exp:d,offset:u});const m=[[-1*s(i,88)+tve,-1*s(i,89),s(i,90)],[0,s(i,92),-1*s(i,91)],[0,s(i,95),-1*s(i,94)]];n.push(m)}const o={dtype:L9,shape:[t.length,16],data:t,isColumnMajor:!1},r={dtype:L9,shape:[n.length,3,3],data:n,isColumnMajor:!1};return new K5e(o,r)}class sve{constructor(t){O(this,"activeModel",null);O(this,"a2eAnimationData",null);O(this,"vasaAnimationData",null);O(this,"vasaExpFrames",[]);O(this,"frameOffsetTimeAvailable",!1);O(this,"currentFrameIndex",0);this.getPlayTime=t}get fps(){return this.activeModel==="spda2e"?UZ:this.activeModel==="vasa"?FZ:25}get frameCount(){return this.activeModel==="spda2e"&&this.a2eAnimationData?this.a2eAnimationData.exp.data.length:this.activeModel==="vasa"&&this.vasaAnimationData?this.vasaAnimationData.frames.length:0}get playbackTime(){return this.getPlayTime()}reset(){this.activeModel=null,this.a2eAnimationData=null,this.vasaAnimationData=null,this.vasaExpFrames=[],this.frameOffsetTimeAvailable=!1,this.currentFrameIndex=0}setFrameData({frame:t,offsetInMilliseconds:n}){t&&(this.activeModel=t.model,t.model==="spda2e"&&this.setA2EFrame(t.poseDiffusion,n),t.model==="vasa"&&this.setVasaFrameData(t,n))}setA2EFrame(t,n){if(!(t!=null&&t.length))return;const s=nve([{frame:t,offset:n}]);if(s){if(!this.a2eAnimationData){this.a2eAnimationData=s;return}this.a2eAnimationData.exp.data.push(...s.exp.data),this.a2eAnimationData.pose.data.push(...s.pose.data),this.frameOffsetTimeAvailable=this.a2eAnimationData.exp.data.every(({offset:o})=>!Number.isNaN(o))}}setVasaFrameData(t,n){if(!t)return;const s={...t,offset:n};if(!this.vasaAnimationData){this.vasaAnimationData=new q5e([],[s]);return}this.vasaExpFrames.push(Q5e(s,this.vasaExpFrames.at(-1))),this.vasaAnimationData.frames.push(s),this.frameOffsetTimeAvailable=this.vasaAnimationData.frames.every(({offset:o})=>!Number.isNaN(o))}getCurrentFrameIndex(t){if(this.frameOffsetTimeAvailable){let n=this.currentFrameIndex;for(;n<t.length;n+=1){this.currentFrameIndex=n;const s=t[n];if((s==null?void 0:s.offset)!==void 0&&s.offset!==null&&s.offset/1e3>=this.playbackTime)break}return n}return Math.round(this.playbackTime/(1/this.fps))}getCurrentA2EFrame(){if(!this.a2eAnimationData)return null;const t=this.a2eAnimationData.exp.data;return this.currentFrameIndex=this.getCurrentFrameIndex(t),t[this.currentFrameIndex]??null}getCurrentVasaFrame(){if(!this.vasaAnimationData)return null;const{frames:t,lmksRest:n}=this.vasaAnimationData;this.currentFrameIndex=this.getCurrentFrameIndex(t);const s=t[this.currentFrameIndex];return s?{frame:s,lmksRest:n}:null}getCurrentVasaExpFrame(){if(!this.vasaAnimationData)return null;this.currentFrameIndex=this.getCurrentFrameIndex(this.vasaExpFrames);const t=this.vasaExpFrames[this.currentFrameIndex-1],n=this.vasaExpFrames[this.currentFrameIndex];if(t&&n&&this.playbackTime<(n.offset??1/0)/1e3){const s=this.playbackTime-(t.offset??0)/1e3;return eve(t,n,s)}return n??null}}const O9={SUMMARY:"summary",ADAPTIVE_UI:"adaptiveUI"};var hi;let XM=(hi=class{constructor(){O(this,"readyTime",0);O(this,"startCallTime",0);O(this,"startMessageTime",0);O(this,"firstTokenTime",0);O(this,"mostRecentTokenTime",0);O(this,"interruptAudioTime",0);O(this,"speechEndTime",0);O(this,"audioStutterTime",0);O(this,"audioStutterDurations",[]);O(this,"audioChunkStamps",[]);O(this,"animationStutterTime",0);O(this,"animationStutterDurations",[]);O(this,"animationChunkStamps",[]);O(this,"currentConversationId","");O(this,"currentCallId","");O(this,"currentMessageId","");O(this,"serverTurnCounter",1);O(this,"latestTurnDetails",null);O(this,"messagesTurnDetails",{});O(this,"introComplete",!1);O(this,"isTurnRunning",!1);O(this,"receivedTranscript",!1);O(this,"receivedText",!1);O(this,"receivedAudio",!1);O(this,"receivedFirstToken",!1);O(this,"receivedLastToken",!1);O(this,"receivedFirstAnimation",!1);O(this,"hasAnimationTimeout",!1);O(this,"hasAudioStarted",!1);O(this,"hasAudioPlaybackError",!1);O(this,"scenario");O(this,"messageStatus","idle");O(this,"audioTranscriptLength",0);O(this,"isFirstStartVoiceCallLogged",!1)}static getInstance(){return this.instance||(this.instance=new hi),this.instance}onBeforeStartCall(t,n){this.readyTime=performance.now(),n?this.scenario="portrait":t?this.scenario="appearance":this.scenario=void 0}onStartCall(t,n){this.interruptAudioTime=0,this.speechEndTime=0,this.introComplete=!1,this.serverTurnCounter=1,this.startCallTime=performance.now(),this.currentConversationId=t,this.currentCallId=crypto.randomUUID(),this.messageStatus="idle",this.latestTurnDetails=null,this.messagesTurnDetails={},this.audioTranscriptLength=0,D.trackEvent({name:"interaction",data:{eventName:"copilotCompose",eventInfo_conversationId:this.currentConversationId,eventInfo_inputMethod:"voice",eventInfo_landingPage:D.getLandingPage(),eventInfo_scenario:this.scenario,eventInfo_mode:n}}),D.trackEvent({name:"interaction",data:{eventName:"audioStartSent",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_duration:this.startCallTime-this.readyTime,eventInfo_scenario:this.scenario,eventInfo_mode:n}})}onStartMessage(t){var n,s;this.receivedTranscript=!1,this.receivedText=!1,this.receivedAudio=!1,this.receivedFirstToken=!1,this.receivedLastToken=!1,this.receivedFirstAnimation=!1,this.hasAnimationTimeout=!1,this.isTurnRunning=!0,this.hasAudioStarted=!1,this.hasAudioPlaybackError=!1,this.currentMessageId=t,this.messagesTurnDetails[t]=this.latestTurnDetails,this.latestTurnDetails=null,this.startMessageTime=performance.now(),this.audioStutterTime=0,this.audioStutterDurations=[],this.audioChunkStamps=[],this.animationStutterTime=0,this.animationStutterDurations=[],this.animationChunkStamps=[],this.messageStatus="streaming",vl.onStartMessage(t,this.startMessageTime,this.serverTurnCounter),this.speechEndTime&&D.trackEvent({name:"system",data:{eventName:"copilotAudioReqtoResp",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_messageId:this.currentMessageId,eventInfo_duration:this.startMessageTime-this.speechEndTime,eventInfo_scenario:this.scenario,eventInfo_customData:JSON.stringify({turnId:(n=this.messagesTurnDetails[t])==null?void 0:n.turnId})}}),D.trackEvent({name:"system",data:{eventName:"copilotAudioStartMessage",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_messageId:this.currentMessageId,eventInfo_scenario:this.scenario,eventInfo_firstTurn:!this.introComplete,eventInfo_customData:JSON.stringify({turnId:(s=this.messagesTurnDetails[t])==null?void 0:s.turnId})}})}onTranscriptReceived(t){this.receivedTranscript=!0,this.audioTranscriptLength=t}onTextReceived(t){t===this.currentMessageId&&(this.receivedText=!0)}onAudioInterrupt(t){this.interruptAudioTime=performance.now(),this.messageStatus==="streaming"&&(this.messageStatus="interrupted"),this.mostRecentTokenTime&&D.trackEvent({name:"system",data:{eventName:"copilotAudioInterrupt",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_messageId:this.currentMessageId,eventInfo_duration:this.interruptAudioTime-this.mostRecentTokenTime,eventInfo_scenario:this.scenario,eventInfo_mode:t}}),this.latestTurnDetails||(this.latestTurnDetails={turnId:crypto.randomUUID(),detectedBy:"server"}),this.latestTurnDetails.speechStartTime=this.interruptAudioTime,this.onTurnEnd()}onAudioReceived(t){if(this.receivedAudio=!0,this.audioChunkStamps.push(Math.round(performance.now()-this.startMessageTime)),!this.introComplete||!this.currentMessageId)return;this.mostRecentTokenTime=performance.now();const n=this.messagesTurnDetails[this.currentMessageId];this.receivedFirstToken||(this.receivedFirstToken=!0,this.firstTokenTime=this.mostRecentTokenTime,this.startMessageTime&&D.trackEvent({name:"system",data:{eventName:"copilotAudioResptoReceived",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_messageId:this.currentMessageId,eventInfo_duration:this.mostRecentTokenTime-this.startMessageTime,eventInfo_scenario:this.scenario,eventInfo_mode:t,eventInfo_customData:JSON.stringify({turnId:n==null?void 0:n.turnId})}}),this.speechEndTime&&D.trackEvent({name:"system",data:{eventName:"copilotAudioFirstTokenReceived",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_messageId:this.currentMessageId,eventInfo_duration:this.mostRecentTokenTime-this.speechEndTime,eventInfo_scenario:this.scenario,eventInfo_serverTurnCounter:this.serverTurnCounter,eventInfo_mode:t,eventInfo_customData:JSON.stringify({turnId:n==null?void 0:n.turnId})}}))}onClientSpeechStartDetected(){this.latestTurnDetails||(this.latestTurnDetails={turnId:crypto.randomUUID(),detectedBy:"client"});const{clientSpeechStartTime:t,clientTurnCounter:n,speechStartTime:s}=this.latestTurnDetails;this.latestTurnDetails.clientTurnCounter=t&&!s&&n?n+1:1,this.latestTurnDetails.clientSpeechStartTime=performance.now()}onClientSpeechEndDetected(t){if(this.latestTurnDetails&&this.latestTurnDetails.clientSpeechStartTime){const n=t-performance.timeOrigin;this.latestTurnDetails.clientSpeechEndTime=n,D.trackEvent({name:"system",data:{eventName:"copilotAudioClientInput",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_duration:n-this.latestTurnDetails.clientSpeechStartTime,eventInfo_scenario:this.scenario,eventInfo_customData:JSON.stringify({turnId:this.latestTurnDetails.turnId,isServerVADStarted:!!this.latestTurnDetails.speechStartTime,clientTurnCounter:this.latestTurnDetails.clientTurnCounter})}})}}onSpeechEndDetected(t){var n;this.speechEndTime=performance.now(),this.serverTurnCounter+=1,this.latestTurnDetails&&(this.latestTurnDetails.speechEndTime=this.speechEndTime),vl.onSpeechEndDetected(this.speechEndTime),this.interruptAudioTime&&D.trackEvent({name:"system",data:{eventName:"copilotAudioInput",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_duration:this.speechEndTime-this.interruptAudioTime,eventInfo_scenario:this.scenario,eventInfo_mode:t,eventInfo_customData:JSON.stringify({turnId:(n=this.latestTurnDetails)==null?void 0:n.turnId})}})}onServerVADLatencyMeasured(t){var n;D.trackEvent({name:"system",data:{eventName:"copilotAudioSpeechEndDetected",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_duration:t,eventInfo_scenario:this.scenario,eventInfo_serverTurnCounter:this.serverTurnCounter,eventInfo_customData:JSON.stringify({turnId:(n=this.latestTurnDetails)==null?void 0:n.turnId})}})}onCallUIEventReceived(t){const n=performance.now(),s=this.speechEndTime?n-this.speechEndTime:void 0,o=t==="study"?O9.SUMMARY:O9.ADAPTIVE_UI;D.trackEvent({name:"system",data:{eventName:"callUIEventReceived",eventInfo_scenario:o,eventInfo_conversationId:this.currentConversationId,eventInfo_duration:s,eventInfo_mode:t}})}onCharacterAnimationReceived(){this.animationChunkStamps.push(Math.round(performance.now()-this.startMessageTime)),this.receivedFirstAnimation||(this.receivedFirstAnimation=!0,D.trackEvent({name:"system",data:{eventName:"copilotAudioCharacterAnimationReceived",eventInfo_conversationId:this.currentConversationId,eventInfo_duration:performance.now()-this.speechEndTime,eventInfo_messageId:this.currentMessageId,eventInfo_callId:this.currentCallId,eventInfo_scenario:this.scenario,eventInfo_serverTurnCounter:this.serverTurnCounter}}))}onCharacterAnimationEnd(){D.trackEvent({name:"system",data:{eventName:"copilotAudioCharacterAnimationEnd",eventInfo_conversationId:this.currentConversationId,eventInfo_duration:performance.now()-this.speechEndTime,eventInfo_messageId:this.currentMessageId,eventInfo_callId:this.currentCallId,eventInfo_scenario:this.scenario}})}onCharacterAnimationTimeout(){this.hasAnimationTimeout=!0}onCharacterAnimationMissedInCache(){this.animationStutterTime||(this.animationStutterTime=performance.now())}onCharacterAnimationResume(){this.stampAnimationStutterDuration()}stampAnimationStutterDuration(){if(this.animationStutterTime){const t=performance.now()-this.animationStutterTime;this.animationStutterDurations.push(Math.round(t)),this.animationStutterTime=0}}onCharacterEmotionReceived(t,n){D.trackEvent({name:"system",data:{eventName:"copilotCharacterEmotionReaction",eventInfo_conversationId:this.currentConversationId,eventInfo_messageId:this.currentMessageId,eventInfo_duration:performance.now()-this.speechEndTime,eventInfo_emotion:t,eventInfo_bodyReaction:n}})}onCharacterAppearanceReceived(t){D.trackEvent({name:"system",data:{eventName:"copilotCharacterAppearanceEvent",eventInfo_conversationId:this.currentConversationId,eventInfo_messageId:this.currentMessageId,eventInfo_duration:performance.now()-this.speechEndTime,eventInfo_customData:JSON.stringify(t)}})}onMessageDone(t){const{messageId:n,voiceType:s,audioChatMode:o}=t;let r={transcriptLength:this.audioTranscriptLength};this.messageStatus==="interrupted"&&(r.interruptedAtMs=this.interruptAudioTime-this.startMessageTime);const a=this.messagesTurnDetails[n];if(a){const{turnId:i,detectedBy:u,clientSpeechStartTime:d=0,clientSpeechEndTime:m=0,speechStartTime:f=0,speechEndTime:h=0}=a;r={...r,turnId:i,turnDetectedBy:u,clientSpeechDuration:m-d,clientSpeechStartAt:d-f,clientSpeechEndAt:m-f,timeToSpeechEnd:h-f,timeToStartMessage:this.startMessageTime-f,timeToFirstAudio:this.firstTokenTime-f,timeToLastAudio:this.mostRecentTokenTime-f,timeToDone:performance.now()-f}}if(D.trackEvent({name:"system",data:{eventName:"copilotAudioMessageDone",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_messageId:n,eventInfo_scenario:this.scenario,eventInfo_firstTurn:!this.introComplete,eventInfo_transcriptReceived:this.receivedTranscript,eventInfo_textReceived:this.receivedText,eventInfo_audioReceived:this.receivedAudio,eventInfo_customData:JSON.stringify(r)}}),this.messageStatus="idle",delete this.messagesTurnDetails[n],!this.introComplete){this.introComplete=!0,D.trackEvent({name:"system",data:{eventName:"copilotAudioCallSetUp",eventInfo_duration:performance.now()-this.readyTime,eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_responseVoiceType:s,eventInfo_scenario:this.scenario,eventInfo_mode:o}});return}!this.receivedLastToken&&n===this.currentMessageId&&(this.receivedLastToken=!0,this.speechEndTime&&D.trackEvent({name:"system",data:{eventName:"copilotAudioLastTokenReceived",eventInfo_conversationId:this.currentConversationId,eventInfo_messageId:n,eventInfo_callId:this.currentCallId,eventInfo_duration:this.mostRecentTokenTime-this.speechEndTime,eventInfo_scenario:this.scenario,eventInfo_mode:o}}),D.trackEvent({name:"system",data:{eventName:"copilotResponseRender",eventInfo_inputMethod:"voice",eventInfo_responseMethod:"voice",eventInfo_conversationId:this.currentConversationId,eventInfo_messageId:this.currentMessageId,eventInfo_responseVoiceType:s,eventInfo_landingPage:D.getLandingPage(),eventInfo_scenario:this.scenario,eventInfo_mode:o}}))}onEndCall(t,n){const s=performance.now()-this.startCallTime;this.onTurnEnd(),D.trackEvent({name:"system",data:{eventName:"copilotAudioCallEnd",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_duration:s,eventInfo_numMessages:t,eventInfo_scenario:this.scenario,eventInfo_mode:n}}),this.currentCallId=""}onAudioStartFailed(t,n){D.trackEvent({name:"system",data:{eventName:"copilotAudioStartFailed",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_duration:performance.now()-this.startCallTime,eventInfo_reason:t,reason:t,eventInfo_scenario:this.scenario,eventInfo_mode:n}})}onAudioStartTimeout(t){D.trackEvent({name:"system",data:{eventName:"copilotAudioStartTimeout",eventInfo_conversationId:this.currentConversationId,eventInfo_duration:t,eventInfo_scenario:this.scenario}})}onTerminated(t,n){D.trackEvent({name:"system",data:{eventName:"copilotAudioTerminated",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_duration:performance.now()-this.startCallTime,eventInfo_reason:t,reason:t,eventInfo_scenario:this.scenario,eventInfo_mode:n}})}onError(t,n){D.trackEvent({name:"system",data:{eventName:"copilotAudioError",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_duration:performance.now()-this.startCallTime,eventInfo_errorCode:t,eventInfo_scenario:this.scenario,eventInfo_mode:n}})}onAudioStart(){if(!this.hasAudioStarted){this.hasAudioStarted=!0;const t=Math.round(performance.now()-(this.speechEndTime||this.startMessageTime));D.trackEvent({name:"system",data:{eventName:"copilotAudioStart",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_messageId:this.currentMessageId,eventInfo_duration:t,eventInfo_scenario:this.scenario,eventInfo_serverTurnCounter:this.serverTurnCounter}})}}onAudioEnd(){this.onTurnEnd()}onAudioSuspend(){this.audioStutterTime||(this.audioStutterTime=performance.now())}onAudioResume(){this.stampAudioStutterDuration()}stampAudioStutterDuration(){if(this.audioStutterTime){const t=performance.now()-this.audioStutterTime;this.audioStutterDurations.push(Math.round(t)),this.audioStutterTime=0}}onAudioError(){this.hasAudioPlaybackError=!0}onTurnEnd(){if(this.isTurnRunning){this.isTurnRunning=!1,this.stampAudioStutterDuration(),this.stampAnimationStutterDuration();const t=this.audioStutterDurations.length,n=this.animationStutterDurations.length;if(D.trackEvent({name:"system",data:{eventName:"copilotAnimationSummary",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_messageId:this.currentMessageId,eventInfo_scenario:this.scenario,eventInfo_audioReceived:this.receivedAudio,eventInfo_animationReceived:this.receivedFirstAnimation,eventInfo_timeout:this.hasAnimationTimeout,eventInfo_audioPlayed:this.hasAudioStarted,eventInfo_audioPlayError:this.hasAudioPlaybackError,eventInfo_animationMissedInCache:n>0,eventInfo_audioMissedInCache:t>0}}),t>0||n>0){const s=Math.max(...this.audioStutterDurations,0),o=this.audioStutterDurations.reduce((i,u)=>i+u,0),r=Math.max(...this.animationStutterDurations,0),a=this.animationStutterDurations.reduce((i,u)=>i+u,0);D.trackEvent({name:"system",data:{eventName:"copilotAudioStutter",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_messageId:this.currentMessageId,eventInfo_scenario:this.scenario,eventInfo_audioStutterCount:t,eventInfo_audioStutterDurationMax:s,eventInfo_audioStutterDurationTotal:o,eventInfo_audioChunkStamps:this.audioChunkStamps,eventInfo_animationStutterCount:n,eventInfo_animationStutterDurationMax:r,eventInfo_animationStutterDurationTotal:a,eventInfo_animationChunkStamps:this.animationChunkStamps}})}}}trackAudioPermission(t,n,s){this.trackStartVoiceCallEvent(t,n,s)}trackStartVoiceCall(t,n,s){switch(t){case"start":this.isFirstStartVoiceCallLogged=!0,this.trackStartVoiceCallEvent(t);break;case"success":case"fail":this.isFirstStartVoiceCallLogged&&(this.trackStartVoiceCallEvent(t,n,s),this.isFirstStartVoiceCallLogged=!1);break;case"end":this.isFirstStartVoiceCallLogged=!1;break}}trackStartVoiceCallEvent(t,n,s){D.trackEvent({name:"system",data:{eventName:"copilotStartVoiceCall",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_scenario:this.scenario,eventInfo_errorCode:n,eventInfo_errorDescription:s,eventInfo_customData:JSON.stringify({isFirst:!0,isConnected:navigator.onLine,node:t})}})}},O(hi,"instance"),hi);const fi=XM.getInstance();class ove extends EventTarget{constructor(){super(...arguments);O(this,"audioContextManager",new ZM);O(this,"volumeTracker",new JM("input"));O(this,"clientVADTracker",new N5e);O(this,"audioStream",null);O(this,"isMuted",!1)}get volume(){return this.volumeTracker.volume}get audioContext(){return this.audioContextManager.audioContext}startVoiceDetection(){if(!be("enable-vad-latency-measure"))return;const n=this.audioContextManager.audioAnalyser;n&&this.clientVADTracker.startVoiceDetection(n)}stopVoiceDetection(){be("enable-vad-latency-measure")&&this.clientVADTracker.stopVoiceDetection()}setOnClientSideVoiceStartDetected(n){be("enable-vad-latency-measure")&&this.clientVADTracker.setOnClientSideVoiceStartDetected(n)}setOnClientSideVoiceEndDetected(n){be("enable-vad-latency-measure")&&this.clientVADTracker.setOnClientSideVoiceEndDetected(n)}onServerSpeechEndDetected(){return be("enable-vad-latency-measure")?this.clientVADTracker.onServerSpeechEndDetected():null}getLastClientVoiceEndTime(){return be("enable-vad-latency-measure")?this.clientVADTracker.getLastClientVoiceEndTime():null}getLastServerVADLatency(){return be("enable-vad-latency-measure")?this.clientVADTracker.getLastServerVADLatency():null}get isInputMuted(){return this.isMuted}set isInputMuted(n){this.toggleMute(n)}async startAudioCapture(n){this.audioContextManager.isInitialized&&this.stopAudioCapture();try{await this.audioContextManager.initialize({sampleRate:A5()?void 0:T5})}catch(i){throw this.dispatchEvent(new CustomEvent("error",{detail:i})),i}const s=()=>{this.stopAudioCapture(),this.dispatchEvent(new CustomEvent("audioTrackEnded"))},o=i=>{this.dispatchEvent(new CustomEvent("audioData",{detail:i}))},{audioContext:r,audioAnalyser:a}=this.audioContextManager;r&&a&&(this.audioStream=await G5e(o,r,a,n,s),this.isInputMuted&&this.toggleMute(!0),this.volumeTracker.startTracking(a),this.startVoiceDetection())}stopAudioCapture(){if(this.audioStream){for(const n of this.audioStream.getTracks())n.stop();this.audioStream=null}this.volumeTracker.stopTracking(),this.stopVoiceDetection(),this.audioContextManager.cleanup()}toggleMute(n=!this.isMuted){if(this.audioStream)for(const s of this.audioStream.getTracks())s.enabled=!n;this.isMuted!==n&&(this.isMuted=n,this.dispatchEvent(new CustomEvent("muteStateChanged",{detail:n})))}}class rve extends EventTarget{constructor(){super(...arguments);O(this,"audioContextManager",new ZM);O(this,"volumeTracker",new JM("output"));O(this,"outputGainNode",null);O(this,"outputSourceNodes",new Set);O(this,"audioDuration",0);O(this,"nextBufferTime",0);O(this,"audioOffset",0);O(this,"currentPlaybackRate",1);O(this,"startJinglePromise");O(this,"animationSyncPromise");O(this,"audioDelayPromise");O(this,"audioStarted",!1);O(this,"audioChunksLoadDone",!1)}get audioContext(){return this.audioContextManager.audioContext}get audioPlaying(){var n;return((n=this.audioContext)==null?void 0:n.state)==="running"}get audioEnded(){return this.audioChunksLoadDone&&this.outputSourceNodes.size===0}get playbackTime(){if(!this.audioContext||this.audioContext.state==="closed")return 1/0;const{currentTime:n,outputLatency:s}=this.audioContext;return(n-(s||0)-this.audioOffset)*this.currentPlaybackRate}get volume(){return this.volumeTracker.volume}async initialize(n=Ud){var s;this.audioContextManager.isInitialized&&this.stopAudioPlayback(),this.currentPlaybackRate=QM(n);try{await this.audioContextManager.initialize({sampleRate:YM}),(s=this.audioContext)==null||s.suspend()}catch(o){throw this.dispatchEvent(new CustomEvent("error",{detail:o})),fi.onAudioError(),o}this.audioDuration=0,this.nextBufferTime=0,this.audioOffset=0,this.audioStarted=!1,this.audioChunksLoadDone=!1,this.animationSyncPromise=void 0,this.setUpOutputVolumeTracking()}setUpOutputVolumeTracking(){const{audioContext:n,audioAnalyser:s}=this.audioContextManager;!n||!s||(this.outputGainNode=n.createGain(),this.outputGainNode.connect(s),s.connect(n.destination),this.volumeTracker.startTracking(s))}appendAudioData(n){if(!this.audioContext||!this.outputGainNode)return;const s=z5e(n,this.audioContext);this.appendAudioSource(s)}appendAudioSource(n){var r;if(!this.audioContext||!this.outputGainNode||!n.buffer)return;this.outputSourceNodes.add(n),n.connect(this.outputGainNode),n.addEventListener("ended",()=>{var a;this.outputSourceNodes.delete(n),this.outputSourceNodes.size===0&&(this.audioChunksLoadDone?this.stopAudioPlayback():((a=this.audioContext)==null||a.suspend(),fi.onAudioSuspend()))}),this.nextBufferTime<this.audioContext.currentTime&&(this.audioOffset+=this.audioContext.currentTime-this.nextBufferTime,this.nextBufferTime=this.audioContext.currentTime),n.start(this.nextBufferTime);const s=n.buffer.length/n.buffer.sampleRate;this.nextBufferTime+=s,this.audioDuration+=s;const{Animation:o}=ht;!this.audioStarted&&!this.animationSyncPromise&&(this.animationSyncPromise=(r=o.getAnimationSyncPromise())==null?void 0:r.finally(()=>{this.animationSyncPromise=void 0})),this.startPlayback()}async startPlayback(){if(this.startJinglePromise??this.animationSyncPromise??this.audioDelayPromise){const n=ht.currentTurnIndex,s=Promise.all([this.startJinglePromise,this.animationSyncPromise,this.audioDelayPromise]);try{await s}catch(o){o instanceof Error&&(`${o.message}`,void 0)}if(n!==ht.currentTurnIndex)return}if(this.audioContext&&this.audioContext.state!=="closed")try{await this.audioContext.resume(),this.audioStarted||(this.audioStarted=!0,this.dispatchEvent(new CustomEvent("audioStart")),void 0),fi.onAudioResume()}catch(n){this.dispatchEvent(new CustomEvent("error",{detail:n})),fi.onAudioError()}}setAudioDone(){this.audioChunksLoadDone=!0}stopAudioPlayback(){for(const n of this.outputSourceNodes)n.stop();this.outputSourceNodes.clear(),this.setAudioDone(),this.volumeTracker.stopTracking(),this.audioContextManager.cleanup(),this.audioStarted&&(this.audioStarted=!1,this.dispatchEvent(new CustomEvent("audioEnd")))}async playCallStartJingle(){this.startJinglePromise||(this.startJinglePromise=N9(B5e,3e3).finally(()=>{this.startJinglePromise=void 0})),await this.startJinglePromise}async playCallEndJingle(){await N9(F5e,3e3)}setAudioDelayPromise(n){this.audioDelayPromise=sm(n).finally(()=>{this.audioDelayPromise=void 0})}}class ave extends EventTarget{constructor(){super(...arguments);O(this,"isAnimationEnabled",!1);O(this,"frameManager",new sve(()=>ht.AudioOut.playbackTime));O(this,"syncHandler");O(this,"isUseAppearanceComponent",!1);O(this,"animationSyncDeferred");O(this,"appearanceReady",!1);O(this,"emotionData",null);O(this,"characterAppearance",null)}get currentA2EFrame(){return this.shouldAnimationPlay?this.frameManager.getCurrentA2EFrame():null}get currentVasaFrame(){return this.shouldAnimationPlay?this.frameManager.getCurrentVasaFrame():null}get currentVasaExpFrame(){return this.shouldAnimationPlay?this.frameManager.getCurrentVasaExpFrame():null}get animationEnded(){return ht.AudioOut.audioEnded}get shouldAnimationPlay(){return this.isAnimationEnabled&&!this.animationEnded&&ht.AudioOut.audioStarted}async initSyncHandler(){if(this.isUseAppearanceComponent=H5e(),!!this.isUseAppearanceComponent&&!this.syncHandler){const{AudioAnimationSyncHandler:n}=await B(async()=>{const{AudioAnimationSyncHandler:s}=await import("./dist-esm-index-CtQH_2Mm.js");return{AudioAnimationSyncHandler:s}},__vite__mapDeps([370,371,1,8,9,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,19,13,30,20,49,17,18,21,22,23,24,10,11,12,25,26,27,28,29,31,16,47,48,187,208,65,66,152,151,178,186,140,137,138,146,144,159,161,164,166,195,68,183,259,253,254,255,124,280]));this.syncHandler=new n("spda2e","volume-based"),this.syncHandler.setAudioInfoProvider({getCurrentTime:()=>ht.AudioOut.playbackTime,getOutputVolume:()=>ht.AudioOut.volume.get()}),this.syncHandler.onFrameMissedInCache(()=>{fi.onCharacterAnimationMissedInCache()}),this.syncHandler.onResume(()=>{fi.onCharacterAnimationResume()})}}async initialize(n=!1){var s;this.stopAnimation(),this.isAnimationEnabled=n,this.isUseAppearanceComponent&&((s=this.syncHandler)==null||s.startTurn())}stopAnimation(){var n;if(this.isUseAppearanceComponent){(n=this.syncHandler)==null||n.interruptTurn();return}this.frameManager.reset(),this.emotionData=null,this.isAnimationEnabled=!1,this.animationSyncDeferred&&this.animationSyncDeferred.reject()}getAnimationSyncPromise(){var n,s;if(this.isAnimationEnabled)return this.isUseAppearanceComponent?(n=this.syncHandler)==null?void 0:n.getAnimationPreparedPromise().then(o=>{o==="timeout"&&fi.onCharacterAnimationTimeout()}):(this.animationSyncDeferred||(this.initializeAnimationSync(),this.checkAnimationSyncPromise()),(s=this.animationSyncDeferred)==null?void 0:s.promise)}initializeAnimationSync(){let n,s;const o=new Promise((i,u)=>{n=i,s=u}),r=sm(BZ),a=Promise.race([o,r]).finally(()=>{this.animationSyncDeferred=void 0});this.animationSyncDeferred={promise:a,resolve:n,reject:s}}checkAnimationSyncPromise(){var n;this.appearanceReady&&this.frameManager.frameCount>VZ&&((n=this.animationSyncDeferred)==null||n.resolve())}setAnimationDone(){var n,s;this.isUseAppearanceComponent?(n=this.syncHandler)==null||n.finishTurn():this.appearanceReady&&((s=this.animationSyncDeferred)==null||s.resolve())}setAppearanceReady(){this.appearanceReady=!0,this.checkAnimationSyncPromise()}setFrameData(n){var s;!this.isAnimationEnabled||!n.frame||(this.isUseAppearanceComponent?(s=this.syncHandler)==null||s.addFrame(n):(this.frameManager.setFrameData(n),this.checkAnimationSyncPromise()))}setEmotionData(n){this.isUseAppearanceComponent?this.dispatchEvent(new CustomEvent("set-emotion",{detail:n})):this.emotionData=n}setCharacterAppearance(n){this.characterAppearance=n,this.dispatchEvent(new CustomEvent("set-character-appearance"))}}const di=class di{constructor(){O(this,"AudioIn",new ove);O(this,"AudioOut",new rve);O(this,"Animation",new ave);O(this,"currentTurnIndex",0)}static getInstance(){return di.instance||(di.instance=new di),di.instance}};O(di,"instance",null);let M5=di;const ht=M5.getInstance(),D9=48,j9=50;function U9(e){const{isNested:t}=e,[n,s]=c.useState(1),[o,r]=c.useState(1),a=c.useRef(void 0),i=c.useRef(void 0),u=Tr(g=>{a.current=g.width,i.current=g.height,s((a.current+D9)/a.current),r((i.current+D9)/i.current)},{initialize:!0}),{volume:d}=ht.AudioOut,m=z7(d,k_),f=al(m,[0,j9],[1,n]),h=al(m,[0,j9],[1,o]);return l.jsx(ge.div,{className:"absolute inset-0",ref:u,initial:Fe,animate:{...nt,transition:{delay:R_}},exit:Fe,children:l.jsx(ge.div,{className:le("absolute inset-0 flex items-center justify-center overflow-hidden rounded-6xl",t?"-scale-x-100 rounded-5xl blur-lg":"bg-background-100/30 bg-blend-luminosity backdrop-blur-xl after:absolute after:inset-px after:rounded-6xl after:border after:border-transparent dark:bg-background-200/30"),layout:!0,style:{scaleX:f,scaleY:h},children:l.jsx(ge.div,{className:le("absolute -inset-16 aspect-square bg-gradient-audio-output-light bg-blend-saturation saturate-150 dark:bg-gradient-audio-output-dark dark:saturate-100",t?"animate-spin-slower opacity-20 dark:opacity-30":"animate-spin-slow opacity-40 dark:opacity-50")})})})}function ive(e){const{dynamicHeight:t}=e;return l.jsx(ge.div,{className:le("t-bottom-fade absolute bottom-0 mx-4 box-content w-bottom-fade rounded-lg pt-bottom-fade",t?"h-bottom-fade":"h-composer"),initial:Fe,animate:nt,exit:Fe,transition:HC,children:l.jsx(ac,{isBottomFade:!0})})}function cve(){return M(dC).map(t=>t.id)}const lve=c.lazy(()=>B(()=>import("./character-DSuN51RI.js"),__vite__mapDeps([372,1,373])).then(e=>({default:e.Character})));function uve(){const[e,t]=Ue(Xd),{createConversation:n}=ym(),[s,o]=c.useState(!1),r=oe(Ew),a=oe(bi),i=cve(),u=c.useRef(null),d=M(Ta);c.useEffect(()=>{if(u.current===null){const v=Hde(i);v&&(u.current=v)}},[i]);const{t:m}=q();c.useEffect(()=>{s&&u.current&&D.trackEvent({name:"system",data:{eventName:"characterPromotionShown",eventInfo_characterId:u.current}})},[s]),c.useEffect(()=>{const v=localStorage.getItem(HF);o(!v&&d.length>=10&&d.length<14)},[e,d.length]);function f(v){switch(v){case"mica":return"mica-head";case"aqua":return"aqua-head";case"erin":return"erin-head";default:return"mica-head"}}async function h(){u.current&&(a("clicking"),D.trackEvent({name:"interaction",data:{eventName:"characterPromotionClicked",eventInfo_characterId:u.current}}),r(!0),RQ({settingName:"characterId",oldValue:"",newValue:u.current}),D.setSettings({userSettingCharacterId:u.current}),await Promise.all([kn({path:"/user/settings",args:{options:{method:"PATCH"},body:{preferredCharacter:u.current}}})]))}const g=c.useCallback(async()=>{o(!1)},[]),C=c.useCallback(async()=>{u.current&&(o(!1),r(!0),t(u.current),await n())},[r,t,n]);return s?l.jsx("div",{className:"pointer-events-auto absolute -top-40 end-4 size-56 pb-2",onClick:h,onKeyDown:async v=>{v.key==="Enter"&&await h()},role:"button",tabIndex:0,"aria-label":m("characterAnimation.characterOptInAriaLabelText"),children:l.jsx(lve,{className:"outline-none",characterId:f(u.current),onCharacterDismissed:g,onCharacterClicked:C})}):null}const eN="0px 0px 0px 1px rgb(255, 255, 255) inset",tN="0px 0px 0px 1px rgba(255, 255, 255, 0.08) inset",dve="0px 10px 24px 0px rgba(0, 0, 0, 0.18)",mve="0px 42px 30px 0px rgba(0, 0, 0, 0.06)",fve="0px 16px 48px 0 rgba(248, 188, 140, 0.18)",pve="0px 16px 48px 0 rgba(0, 0, 0, 0.12)",hve="0px 16px 24px 0 rgba(0, 0, 0, 0.08)",gve="0px 16px 24px 0 rgba(0, 0, 0, 0.16)",vve=28,Cve=32,yve=24,bve=26,xve="relative flex grow flex-col overflow-hidden before:absolute before:inset-0 before:rounded-3xl before:border-2 before:border-stroke-350",Wke="bg-white/90 dark:bg-background-100/80",Sve="w-auto rounded-3xl contrast-more:border-2",Eve="bg-gradient-to-b from-white/90 to-white/0 dark:from-black/30 dark:to-background-200/10",wve="bg-white/90 dark:bg-background-100/45";function nN(e){const{title:t,onClick:n,appearDelay:s=NB,appearDuration:o=es.audio.unavailable,className:r}=e;return l.jsx(ge.div,{layout:"position",initial:"initial",animate:"animate",className:"relative flex h-12 shrink-0 items-center",variants:{initial:{...Fe,scale:.9},animate:{...nt,scale:1,transition:{...M_,delay:s,duration:o}}},children:l.jsx("button",{type:"button",onClick:n,title:t,className:le("min-w-44",fd,Ri.strong,XC["40-base"],e3["40-base"],gm,"rounded-2xl before:rounded-2xl",r),children:t})})}const Ive={initial:Fe,animate:nt};function _ve(e){const{titleKey:t,textKey:n,buttonTextKey:s,button:o,cancelButton:r,onClick:a,closeDialogCallback:i}=e,{t:u}=q(),d=u(t),m=u(o.textKey),f=c.useRef(null);return Ji(f),l.jsxs(l.Fragment,{children:[l.jsx(ge.div,{ref:f,layout:!0,variants:Ive,initial:"initial",animate:"animate",role:"dialog","aria-label":d,tabIndex:-1,children:l.jsxs("div",{className:"m-3 text-center text-foreground-800",children:[l.jsx("h2",{className:"py-3",children:d}),l.jsx("p",{className:"text-sm",children:u(n)}),s&&l.jsx("div",{className:"mx-auto flex w-full max-w-xs justify-around px-5 py-3 text-accent-600",children:l.jsx("button",{onClick:a,type:"button",className:"text-sm",children:u(s)})})]})}),l.jsxs(ge.div,{className:"relative mx-0.5 my-1 flex w-full items-center justify-center gap-2 px-2 align-middle",children:[r&&l.jsx(ne,{variant:"rect",title:u(r.textKey),className:"relative my-3 flex h-10 max-w-40 items-center justify-center py-3 dark:bg-black/40 dark:hover:bg-black/40",onClick:()=>{i(),r.onClick()},children:u(r.textKey)}),l.jsx(ne,{variant:"rect",title:m,className:"relative my-3 flex h-10 max-w-40 items-center justify-center py-3 dark:bg-black/40 dark:hover:bg-black/40",onClick:()=>{i(),o.onClick()},children:m})]})]})}const Tve=1e3,F9=2;function Ave(){const e=lh(),{alreadyShown:t,dismissCoachmark:n}=Zo(C5e),[s,o]=Ue(lfe),[r,a]=c.useState(!1),i=c.useRef(null),u=e&&!t&&s<F9,d=c.useCallback(()=>{s>=F9&&n(),i.current=setTimeout(()=>{a(!1),i.current=null},Tve)},[n,s]);return c.useEffect(()=>()=>{i.current&&(clearTimeout(i.current),i.current=null)},[]),c.useEffect(()=>{u&&(o(m=>m+1),setTimeout(()=>{a(!0)},1e3))},[u,o]),{showStudyLiveCoachmark:r,dismissStudyLiveCoachmark:d}}function kve(){const e=Ul(),{alreadyShown:t}=Zo(Fm),n=G("smart-mode-default"),s=G("smart-mode-coachmark");return{isSmartModeCoachmarkVisible:e&&s&&!t&&!n}}function Mve(){const e=G("vision-coachmark"),{alreadyShown:t,dismissCoachmark:n}=Zo(KM),{isSmartModeCoachmarkVisible:s}=kve();if(!e)return{shouldShowVisionCoachmark:!1,dismissVisionCoachmark:()=>{}};const o=wt(JF,j()),r=24*60*60*1e3*60,a=!o||Date.now()-o>r;return{shouldShowVisionCoachmark:!t&&a&&!s,dismissVisionCoachmark:n}}function Nve({triggerComponent:e}){const{t}=q(),{isOpen:n,title:s,description:o,dismiss:r}=Rve(),a=i=>{i.stopPropagation(),r()};return l.jsx(Bm,{className:"max-w-48 cursor-pointer bg-black dark:bg-background-850",arrowClassName:"dark:fill-background-850 fill-black",isOpen:n,placement:"top-end",withArrow:!0,renderReferenceElement:i=>l.jsx("div",{ref:i.ref,className:"relative",children:e}),portalId:"composer-container",onInsideEvent:()=>{r()},onOutsideEvent:r,children:l.jsxs("div",{className:"flex max-w-[160px] flex-col gap-0.5 bg-black text-white dark:bg-background-850 dark:text-black",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-xs-strong",children:s}),l.jsx("button",{onClick:a,type:"button","aria-label":t("common.dismiss"),children:l.jsx(an,{className:"size-4"})})]}),l.jsx("div",{className:"text-xs",children:o})]})})}function Rve(){const{t:e}=q(),{shouldShowVisionCoachmark:t,dismissVisionCoachmark:n}=Mve(),{showStudyLiveCoachmark:s,dismissStudyLiveCoachmark:o}=Ave();return t?{isOpen:!0,title:e("composer.chatModes.vision.coachmarkTitle"),description:e("composer.chatModes.vision.description"),dismiss:n}:s?{isOpen:!0,title:e("composer.chatModes.study.live.coachmarkTitle"),description:e("composer.chatModes.study.live.coachmarkDescription"),dismiss:o}:{isOpen:!1,title:"",description:"",dismiss:()=>{}}}function Mh(){const e=G("composer-v4");return!Zt("kill-composer-v4")&&e}function Pve(e){const{onClick:t}=e;if(!kl())return l.jsx(Nve,{triggerComponent:l.jsx(Lve,{onClick:t})})}function Lve(e){const{onClick:t}=e,{t:n}=q();return Mh()?l.jsx(ne,{title:n("composer.startAudioCall"),"aria-label":n("composer.startAudioCall"),variant:"rect",size:"36-sm",color:"subtle-dimmed",className:F("h-9 select-none gap-1 rounded-2xl p-0"),onClick:t,testId:"audio-call-button",children:l.jsx($p,{className:"size-6","aria-hidden":!0})}):l.jsx(zs,{data:{title:n("composer.startAudioCall"),testId:"audio-call-button",onClick:t,isVisible:!0},className:Ri["subtle-dimmed-inverted"],size:"regular",margins:"my-1",children:l.jsx($p,{className:"size-6","aria-hidden":!0})})}function B9({config:e}){const{t}=q(),n=Mh();if(e)switch(e.mode){case"stop":return l.jsx(ne,{testId:"stop-button",color:"accent",variant:"circle",size:n?"36-sm":"40-base",className:n?"":"my-1","aria-label":t("composer.stopButton"),title:t("composer.stopButton"),onClick:e.onClick,children:l.jsx("div",{className:"size-3.5 rounded bg-accent-550 contrast-more:border-2 dark:bg-accent-150"})});case"submit":return l.jsx(ne,{testId:"submit-button",color:"strong",variant:"square",size:n?"36-sm":"40-base",className:F(n?"rounded-2xl":"my-1 rounded-submitButton"),"aria-label":t("userInput.submitButtonText"),title:t("userInput.submitButtonText"),onClick:e.onClick,disabled:e.disabled,children:l.jsx(Ml,{className:"size-6"})});case"microphone":return l.jsx(Pve,{onClick:e.onClick});default:return}}const sN="/static/cmc/assets/checklist-CMKFk-Bk.svg",oN="/static/cmc/assets/coco-BiXU4q_c.svg",rN="/static/cmc/assets/quick-DbAdyS8q.svg",aN="/static/cmc/assets/research-DLTQx7hg.svg",iN="/static/cmc/assets/smart-nS7kuhS0.svg",cN="/static/cmc/assets/study-BpnC_q84.svg",lN="/static/cmc/assets/think-wWCa40yF.svg",uN="/static/cmc/assets/search-BjOz_Dmt.svg",Ove=["chat","reasoning","research"],$ke=["copy","regenerate"];function dN(){const e=G("deep-research"),t=G("deep-research-nano"),n=Qt(),s=M(U1);return e&&(s||!1||!s&&n&&t)&&!ae.instance().config().disableDeepResearch}function mN(){const e=M(U1),t=be("kill-composer-reasoning-button");return!e&&t}function Dve({containerRef:e,items:t,itemRefs:n,initialFocusedId:s,onEscape:o,onEnter:r}){const[a,i]=c.useState(s);return ps(u=>{var h,g;const{current:d}=e;if(!d||!d.contains(document.activeElement))return;const m=t.findIndex(({id:C})=>C===a);let f=m;switch(u.key){case"Escape":o==null||o(),u.preventDefault();break;case"ArrowDown":f=Math.min(m+1,t.length-1),u.preventDefault();break;case"ArrowUp":f=Math.max(m-1,0),u.preventDefault();break;case"Enter":a&&(r==null||r(a));break}if(f!==m){const C=(h=t[f])==null?void 0:h.id;C&&(i(C),(g=n.current[C])==null||g.focus())}}),{focusedItemId:a,setFocusedItemId:i}}const jve=[];function Uve(){const e=Qs(),t=l3(),{t:n}=q(),{dismissCoachmark:s}=Zo(Fm),o=G("smart-mode-default"),r=S=>{ye({source:"composerChatModeMenu",customData:JSON.stringify({currentMode:e,newMode:S})}),Kt(S),vo({msg:n("actions.screenReaderSwitchPrefix",{chatMode:gd(S)})}),S==="smart"&&s()},a=dN(),i=Ul(),u=G("study-mode"),d=u3(),m=kl(),f=mN(),h=d3();let g=jve.concat(i&&o?["smart"]:[],["chat"],d?["coco"]:[],f?[]:["reasoning"],i&&!o?["smart"]:[],u?["study"]:[],a?["research"]:[],t?["computerUse"]:[],h?["search"]:[]);m&&(g=g.filter(S=>Ove.includes(S)));const C=c.useRef(null),v=c.useRef({}),y=g.map(S=>({id:S})),{focusedItemId:b,setFocusedItemId:E}=Dve({containerRef:C,items:y,itemRefs:v,initialFocusedId:e,onEnter:S=>r(S)});return l.jsx("div",{className:"pointer-events-auto relative flex flex-col gap-1 rounded-2xl text-sm contrast-more:border-2","data-testid":"composer-mode-menu",role:"radiogroup",ref:C,tabIndex:-1,children:g.map(S=>l.jsx(Hve,{chatMode:S,isSelected:e===S,onSelect:r,focusedItemId:b,setFocusedItemId:E,itemRefs:v},S))})}const Fve={chat:l.jsx(xt,{url:rN,className:"size-5"}),reasoning:l.jsx(xt,{url:lN,className:"size-5"}),research:l.jsx(xt,{url:aN,className:"size-5"}),computerUse:l.jsx(xt,{url:sN,className:"size-5"}),smart:l.jsx(xt,{url:iN,className:"size-5"}),study:l.jsx(xt,{url:cN,className:"size-5"}),search:l.jsx(xt,{url:uN,className:"size-5"}),coco:l.jsx(xt,{url:oN,className:"size-5"})},Bve=["coco"],Vve=["chat","reasoning","research","computerUse"];function Hve(e){const{chatMode:t,isSelected:n,onSelect:s,focusedItemId:o,setFocusedItemId:r,itemRefs:a}=e,{t:i}=q(),u=c.useRef(null);c.useEffect(()=>{a.current[t]=u.current},[t,a]);const d=Bve.includes(t),m=Vve.includes(t);return l.jsxs("button",{type:"button",ref:u,title:gd(t),onClick:()=>s(t),className:le("flex items-center justify-between gap-4 rounded-xl py-2 pe-4 ps-3.5",Ri["subtle-dimmed"]),"data-testid":`${t}-mode-option`,role:"radio","aria-checked":n,tabIndex:t===o?0:-1,onFocus:()=>r(t),children:[l.jsxs("div",{className:"flex items-center gap-3.5",children:[l.jsx("div",{className:"flex size-6 items-center justify-around",children:Fve[t]}),l.jsxs("div",{className:"pe-4 text-left",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsxs("div",{children:[" ",gd(t)," "]}),d&&l.jsx(Vu,{color:"accent",children:l.jsx("span",{children:i("common.new")})}),t==="computerUse"&&l.jsx(Vu,{color:"accent",children:l.jsx("span",{children:i("settings.labs.title")})}),m&&l.jsx(Vu,{children:l.jsx("span",{children:i(`composer.chatModes.${t}.latency`)})})]}),l.jsx("div",{className:"text-foreground-600 text-xs dark:text-foreground-700",children:lce(t)})]})]}),l.jsx(zve,{isSelected:n})]})}function zve(e){const{isSelected:t}=e;return l.jsx("div",{className:le("flex size-5 items-center justify-center rounded-full border-2",t?"border-foreground-800":"border-foreground-450"),children:t&&l.jsx("div",{className:"size-2.5 rounded-full bg-foreground-800 contrast-more:border-2"})})}function Gve(e){const{isChatModeMenuOpen:t,onRef:n,onClick:s,disableChatModeSwitcher:o}=e,{t:r}=q(),a=Qs(),i=u=>{ye({source:"composerChatModeSwitcher",customData:JSON.stringify({currentMode:a,isOpen:t})}),s(u)};return l.jsx(ge.div,{layout:"position",initial:!1,children:l.jsxs(ne,{testId:"chat-mode-switcher",title:r(t?"composer.chatModes.closeModeMenu":"composer.chatModes.openModeMenu"),onClick:i,color:"subtle-dimmed",ref:n,className:"my-1 border border-black/8",disabled:!o,"aria-haspopup":"menu","aria-expanded":t,children:[l.jsx("span",{className:"text-sm",children:gd(a)}),l.jsx(us,{className:le("size-4",t?"-rotate-90":"rotate-90")})]})})}function fN({triggerComponent:e,offset:t=10,onInsideEvent:n}){const{t:s}=q(),o=Xi(),{alreadyShown:r,dismissCoachmark:a}=Zo(Fm),i=BT(),u=d=>{d.stopPropagation(),a()};return l.jsx(Bm,{className:"max-w-48 cursor-pointer bg-black dark:bg-background-850",arrowClassName:"dark:fill-background-850 fill-black",isOpen:!r,placement:o?"left":"right",offset:t,withArrow:!0,renderReferenceElement:d=>l.jsx(ge.div,{ref:d.ref,className:"relative",children:e}),portalId:"composer-container",onInsideEvent:()=>{n==null||n(),a()},children:l.jsxs("div",{className:"flex max-w-[160px] flex-col gap-0.5 bg-black text-white dark:bg-background-850 dark:text-black",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-xs-strong",children:s("composer.chatModes.smart.coachmarkTitle")}),l.jsx("button",{onClick:u,type:"button",children:l.jsx(an,{className:"size-4"})})]}),l.jsx("div",{className:"text-xs",children:i.coachmarkDescription})]})})}function Wve({disableChatModeSwitcher:e}){const[t,n]=Ue(z1),s=Ul(),o=G("smart-mode-default"),r=G("smart-mode-coachmark"),{captureFocus:a,restoreFocus:i}=P_(),u=c.useCallback(d=>{n(m=>d?(a(),"chatMode"):m==="chatMode"?(setTimeout(()=>{i()},0),null):m)},[n,a,i]);return l.jsx(Tm,{isOpen:t==="chatMode",onIsOpenChange:u,renderTrigger:(d,m)=>{const f=l.jsx(Gve,{isChatModeMenuOpen:m,onRef:d.ref,onClick:d.onClick,disableChatModeSwitcher:e});return s&&r&&!o?l.jsx(fN,{triggerComponent:f,offset:10,onInsideEvent:()=>{u(!0)}}):f},options:{placement:"top-start",offset:{mainAxis:10,crossAxis:-12},hideOnMenuClick:!0,roleType:"menu"},className:F(Js,"p-2"),children:l.jsx(Uve,{})})}function $ve({state:e}){const{t}=q(),n=ut(),s=Eo(),o=oe(So),r=oe(Il),a=oe(V1),i=oe(xk),u=Mh();return l.jsx(zs,{data:{title:t("composer.goToHome"),testId:"home-button",onClick:async()=>{o(null),r(!1),a(void 0),i(O3.COMPOSER),$t({source:"homeButton"}),await s({to:"/discover",from:n})},isVisible:e!=="hidden",isDisabled:e==="disabled"},size:u?"small":"regular",children:l.jsx(km,{className:"size-6","aria-hidden":!0})})}const pN=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2ZM12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 16.6944 7.30558 20.5 12 20.5C16.6944 20.5 20.5 16.6944 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5ZM12 7C12.4142 7 12.75 7.33579 12.75 7.75V11.25H16.25C16.6642 11.25 17 11.5858 17 12C17 12.4142 16.6642 12.75 16.25 12.75H12.75V16.25C12.75 16.6642 12.4142 17 12 17C11.5858 17 11.25 16.6642 11.25 16.25V12.75H7.75C7.33579 12.75 7 12.4142 7 12C7 11.5858 7.33579 11.25 7.75 11.25H11.25V7.75C11.25 7.33579 11.5858 7 12 7Z"})),qke=Object.freeze(Object.defineProperty({__proto__:null,default:pN},Symbol.toStringTag,{value:"Module"}));function hN(e){return c.useCallback(t=>{if(t.key==="Enter"&&!t.shiftKey||t.key===" "){t.preventDefault();try{const n=e(t);n instanceof Promise&&n.catch(console.error)}catch(n){console.error("Error in useEnterOrSpaceKeyDown:",n)}}},[e])}const gN=(e={})=>{const{circular:t,axis:n,memorizeCurrent:s=!0,tabbable:o,ignoreDefaultKeydown:r,unstable_hasDefault:a}=e;return W1(CO),Ip({mover:{cyclic:!!t,direction:qve(n??"vertical"),memorizeCurrent:s,tabbable:o,hasDefault:a},...r&&{focusable:{ignoreKeydown:r}}})};function qve(e){switch(e){case"horizontal":return iu.Horizontal;case"grid":return iu.Grid;case"grid-linear":return iu.GridLinear;case"both":return iu.Both;case"vertical":default:return iu.Vertical}}function Kve(e){const t=e.children[0];return t instanceof HTMLElement?t:null}function Zve(e,t=!0){c.useEffect(()=>{if(t&&e.current){const n=Kve(e.current);n&&n.focus()}},[e,t])}const kr=e=>l.jsx(Qve,{...e});kr.Motion=c.forwardRef(Yve);function Yve(e,t){const{children:n,axis:s="vertical",circular:o=!0,tabbable:r,autoFocus:a=!1,...i}=e,u=gN({axis:s,circular:o,tabbable:r}),d=c.useRef(null);return c.useImperativeHandle(t,()=>d.current,[]),Ji(d,a),G("a11y-keyboard-navigation")?l.jsx(ge.div,{ref:d,...u,...i,children:n}):l.jsx(ge.div,{ref:d,...i,children:n})}function Qve(e){const{children:t,axis:n="vertical",circular:s,tabbable:o,autoFocus:r=!1,...a}=e,i=gN({axis:n,circular:s,tabbable:o}),u=c.useRef(null);return Zve(u,r),G("a11y-keyboard-navigation")?l.jsx("div",{ref:u,...i,...a,children:t}):l.jsx("div",{ref:u,...a,children:t})}const V9="ms-auto me-[2px] size-6 flex-none";function Jve(e,t){const{tab:n,onClick:s,showHighlight:o,showActionIcon:r=!0,onFocus:a,className:i,fallbackIcon:u,titleExtra:d,testId:m}=e,[f,h]=c.useState(!1),{t:g}=q(),C=c.useCallback(()=>{s==null||s({...n,addedToTabSelection:!n.addedToTabSelection})},[s,n]),v=hN(C),y=f||!n.favIconUrl,b=u??kh;return l.jsxs(kr.Motion,{className:F(" box-border flex w-full cursor-pointer flex-row items-center rounded-lg p-1.5 active:bg-black/3 safe-hover:bg-black/5 dark:active:bg-white/5 dark:safe-hover:bg-black/30",o&&"bg-black/5 dark:bg-white/8","forced-colors:focus:outline forced-colors:focus:outline-2 forced-colors:focus:outline-black dark:forced-colors:focus:outline-white","contrast-more:focus:outline contrast-more:focus:outline-2 contrast-more:focus:outline-black dark:contrast-more:focus:outline-white",i),onClick:C,tabIndex:0,onKeyDown:v,ref:t,onFocus:a,role:"checkbox","aria-checked":n.addedToTabSelection?"true":"false",tabbable:!0,"aria-label":n.title,"data-testid":m,children:[l.jsx("div",{className:"relative flex size-4 flex-none flex-row items-center rounded-lg bg-black/5",children:y?l.jsx(b,{className:"size-full"}):l.jsx("img",{src:n.favIconUrl,alt:g("composer.multiTabs.tabFavIconAltText"),className:"size-full rounded-[1px] object-cover",onError:()=>{h(!0)}})}),l.jsxs("span",{className:"font-ligatures-none me-7 ms-2 max-h-full truncate text-foreground-850 text-sm",children:[d??n.title,l.jsx("span",{})]}),r&&(n.addedToTabSelection?l.jsx(Dm,{className:V9}):l.jsx(pN,{className:V9}))]})}const Xve=c.forwardRef(Jve);function eCe(e,t){const{groupTitle:n,tab:s,onClick:o,showHighlight:r,showActionIcon:a,onFocus:i,className:u,fallbackIcon:d,titleExtra:m,testId:f}=e;return l.jsxs(l.Fragment,{children:[n?l.jsx("span",{className:"font-semibold text-foreground-850 text-sm",children:n}):null,l.jsx(Xve,{ref:t,tab:s,onClick:o,showHighlight:r,showActionIcon:a,onFocus:i,className:u,fallbackIcon:d,titleExtra:m,testId:f})]})}const tCe=c.forwardRef(eCe),vN=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M2 9.25C2 5.24594 5.24594 2 9.25 2H12.75C14.102 2 15.2611 2.82552 15.7509 4L13.9747 4C13.6591 3.6907 13.2268 3.5 12.75 3.5H9.25C6.07436 3.5 3.5 6.07436 3.5 9.25V12.75C3.5 13.2268 3.6907 13.6591 4 13.9747V15.75C2.82552 15.2602 2 14.102 2 12.75V9.25ZM5 10.25C5 7.35051 7.35051 5 10.25 5H15.75C17.102 5 18.2611 5.82552 18.7509 7L16.9747 7C16.6591 6.6907 16.2268 6.5 15.75 6.5H10.25C8.17893 6.5 6.5 8.17893 6.5 10.25V15.75C6.5 16.2268 6.6907 16.6591 7 16.9747V18.75C5.82552 18.2602 5 17.102 5 15.75V10.25ZM11.25 8C9.45507 8 8 9.45507 8 11.25V18.75C8 20.5449 9.45507 22 11.25 22H18.75C20.5449 22 22 20.5449 22 18.75V11.25C22 9.45507 20.5449 8 18.75 8H11.25ZM9.5 11.25C9.5 10.2835 10.2835 9.5 11.25 9.5H18.75C19.7165 9.5 20.5 10.2835 20.5 11.25V18.75C20.5 19.7165 19.7165 20.5 18.75 20.5H11.25C10.2835 20.5 9.5 19.7165 9.5 18.75V11.25Z"})),Kke=Object.freeze(Object.defineProperty({__proto__:null,default:vN},Symbol.toStringTag,{value:"Module"})),CN=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M12 4.5C16.1421 4.5 19.5 7.85786 19.5 12C19.5 16.1421 16.1421 19.5 12 19.5C7.85786 19.5 4.5 16.1421 4.5 12C4.5 11.6236 4.52772 11.2538 4.58123 10.8923C4.64845 10.4382 4.31609 10 3.85708 10C3.48623 10 3.161 10.2562 3.10471 10.6228C3.03576 11.0718 3 11.5317 3 12C3 16.9706 7.02944 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C9.69494 3 7.59227 3.86656 6 5.29168V4.25C6 3.83579 5.66421 3.5 5.25 3.5C4.83579 3.5 4.5 3.83579 4.5 4.25V7.25C4.5 7.66421 4.83579 8 5.25 8H8.25C8.66421 8 9 7.66421 9 7.25C9 6.83579 8.66421 6.5 8.25 6.5H6.90093C8.23907 5.25883 10.0309 4.5 12 4.5ZM12.5 7.75C12.5 7.33579 12.1642 7 11.75 7C11.3358 7 11 7.33579 11 7.75V12.25C11 12.6642 11.3358 13 11.75 13H14.75C15.1642 13 15.5 12.6642 15.5 12.25C15.5 11.8358 15.1642 11.5 14.75 11.5H12.5V7.75Z"})),Zke=Object.freeze(Object.defineProperty({__proto__:null,default:CN},Symbol.toStringTag,{value:"Module"}));function Vm(){const e=M(nee),t=G("edge-multi-tabs-history");return e&&t}const nCe=4,sCe=10,oCe=20,wd={ADD:"add"};function uy(e){return e.sourceType==="history"}function dy(e){return e.sourceType==="opened"}function yo(e){return dy(e)?(e.id??0).toString():e.url??""}function my(e){return e.sourceType===void 0||e.sourceType===null}function yN(e,t){const n=new Set(e.map(o=>o.id)),s=new Set(t.map(o=>o.id));if(n.size!==s.size)return!0;for(const o of n)if(!s.has(o))return!0;return!1}function bN(e,t=""){const n=t.trim().toLocaleLowerCase();return n===""||!e.title||e.title.toLocaleLowerCase().includes(n)}function xN(e,t=new Map){return t.has(yo(e))}function SN(e,t){const{selectedTabsSnapshot:n,keyword:s=""}=t??{};return{...e,isInSearchResult:bN(e,s),addedToTabSelection:xN(e,n)}}async function EN(e){const{tabs:t}=await zJ.run(e);return(t==null?void 0:t.map(n=>({...n,sourceType:"history",isInSearchResult:!0})))??[]}async function wN(){const e={maxResults:sCe,states:[Qr.RECENT],queries:[]};return(await EN(e)).slice(0,nCe)}async function rCe(){const{tabs:e}=await UI.run({});return(e==null?void 0:e.map(t=>({...t,sourceType:"opened",isInSearchResult:!0})))??[]}async function aCe({isEdgeHistoryEnabled:e=!1,triggeredByMention:t=!1,setUserOpenedTabs:n,setUserHistoryTabs:s,initialSelectedTabsSnapshot:o=new Map}){const[r,a]=await Promise.all([rCe(),e?wN():Promise.resolve([])]);n==null||n(r.map(d=>SN(d,{selectedTabsSnapshot:o})));const i=r.length===0,u=i?a:[];return s==null||s(u),t&&i}function iCe(e){return new Map(e.map(n=>[yo(n),{...n,addedToTabSelection:!0}]))}function IN(e,t){const n=iCe(e);return Array.from(t.values()).reduce((s,o)=>{const r=yo(o);return s.set(r,{...s.get(r),...o}),s},new Map(n))}async function cCe(e,t){let n=[];return e===""?n=t?await wN():[]:n=await EN({queries:[e],states:[Qr.RECENT,Qr.HISTORY],maxResults:oCe}),n}async function lCe(e,t){let n=[];const s=e.trim(),o=s==="";t.historyTabs&&t.historyTabs.length>0&&(n=t.historyTabs.map(i=>({...i,isInSearchResult:!0,addedToTabSelection:xN(i,t.userAddedTabs)})));const r=new Map([...t.userAddedTabs.values()].map(i=>[yo(i),{...i,isInSearchResult:bN(i,s)}])),a=t.userOpenedTabs.map(i=>SN(i,{selectedTabsSnapshot:t.userAddedTabs,keyword:s}));return{userAddedTabsFiltered:r,userOpenedTabsFiltered:a,historyTabsFiltered:n,isEmptyKeyword:o}}function uCe(e,t){switch(t.type){case"SET_DRAFT_SELECTED_TABS":return{...e,userDraftSelectedTabs:t.payload};case"SET_TABS_INITIALIZED":return{...e,isTabsInitialized:t.payload};case"SET_USE_RECENT_HISTORY":return{...e,isUseRecentHistoryEnabled:t.payload};case"MERGE_DRAFT_SELECTION":return{...e,userDraftSelectedTabs:IN(t.payload,e.userDraftSelectedTabs)};default:return e}}function dCe(e){const{text:t}=e;return t?l.jsx("span",{className:"-ms-0.5 h-8 leading-8 text-foreground-850 text-sm",role:"status",children:t}):null}function mCe(e){if(my(e))return vN;if(uy(e))return CN}function H9(e,t=!1){const n=z("composer.multiTabs.openTabs");if(uy(e)){const s=z("composer.multiTabs.recentlyClosedTabs"),o=z("composer.multiTabs.historyTabs");return t?s:o}return dy(e)?n:""}function fCe(e,t){let n=!1,s=!1;return o=>{if(e){if(uy(o)&&!n)return n=!0,H9(o,t);if(dy(o)&&!s)return s=!0,H9(o,t)}}}function pCe(e){const{tabs:t,onItemClick:n,highlightedIndex:s,activeMenuItemRef:o,onItemFocus:r,emptyStateText:a,isUseRecentHistoryEnabled:i=!1}=e,u=Vm(),d=M(Yi);if(t.length===0)return l.jsx(dCe,{text:a});const m=fCe(u,i);return l.jsx(l.Fragment,{children:t.map((f,h)=>l.jsx(tCe,{tab:f,onClick:n,showHighlight:s===h,onFocus:()=>r==null?void 0:r(h),showActionIcon:!d,className:F(!d&&"py-2"),ref:h===s?o:null,groupTitle:m(f),fallbackIcon:mCe(f),testId:`multi-tabs-menu-item-${h}`},yo(f)))})}function _N(e){const{highlightedIndex:t,activeMenuItemRef:n,onMenuItemClick:s,onFocus:o,tabs:r,emptyStateText:a,isUseRecentHistoryEnabled:i=!1}=e,u=M(Yi);return l.jsxs("div",{className:F("relative flex w-full overflow-hidden",u?"mb-0 mt-3":"my-3"),children:[l.jsx("div",{className:F("t-custom-scrollbar flex w-full flex-col gap-y-1 overflow-y-auto overflow-x-hidden p-1"),"data-testid":"multi-tabs-menu-items-container",children:l.jsx(pCe,{tabs:r,onItemClick:s,highlightedIndex:t,activeMenuItemRef:n,onItemFocus:o,emptyStateText:a,isUseRecentHistoryEnabled:i})}),r.length>=4&&u&&l.jsx("div",{className:F("pointer-events-none absolute inset-x-0 bottom-0 h-8 rounded-b-lg px-4","bg-gradient-composer-tabs-menu-mask-light dark:bg-gradient-composer-tabs-menu-mask-dark")})]})}function TN(e){const{mode:t,disabled:n,onClick:s}=e,{t:o}=q(),r=o("composer.multiTabs.browserTabMenuShareButton"),a=o("composer.multiTabs.browserTabMenuShareButtonForUpdate"),i=t===wd.ADD?r:a;return l.jsx(ne,{title:i,className:"mx-auto mt-auto w-full flex-none",disabled:n,testId:"multi-tabs-share-button",onClick:s,color:"strong",size:"48-lg","aria-label":i,children:i})}function AN(e){const{mode:t,onClose:n}=e,s=M(Yi),{t:o}=q(),r=Vm(),a=o("common.closeText"),i=c.useMemo(()=>r?t===wd.ADD?o("composer.multiTabs.browserTabMenuTitleWithHistory"):o("composer.multiTabs.browserTabMenuTitleForUpdateWithHistory"):t===wd.ADD?o("composer.multiTabs.browserTabMenuTitle"):o("composer.multiTabs.browserTabMenuTitleForUpdate"),[r,t,o]);return l.jsxs("div",{className:"flex w-full items-center justify-between pt-2",children:[l.jsx("span",{className:"text-foreground-900 text-sm",children:i}),!s&&l.jsx(ne,{color:"subtle-dimmed",title:a,size:"32-xs",onClick:n,"aria-label":a,children:l.jsx(an,{className:"size-5 cursor-pointer"})})]})}const z9="";function kN(e){const{onChange:t,defaultValue:n}=e,{t:s}=q(),[o,r]=c.useState(n??z9),a=c.useRef(null),i=Vm(),u=()=>{var g;(g=a.current)==null||g.focus(),r(z9)},d=hN(u),m=c.useCallback(g=>{r(g.target.value)},[]);c.useEffect(()=>{t==null||t(o)},[t,o]),c.useEffect(()=>{a.current&&requestAnimationFrame(()=>{var g;(g=a.current)==null||g.focus()})},[a]);const f=s(i?"composer.multiTabs.browserTabMenuSearchPlaceholderWithHistory":"composer.multiTabs.browserTabMenuSearchPlaceholder"),h=s("composer.multiTabs.browserTabMenuSearchClear");return l.jsxs("div",{className:"mt-3 flex h-8 w-full flex-row items-center rounded-3xl bg-white/60 dark:bg-black/60",children:[l.jsx(sy,{className:"mx-2 size-4"}),l.jsx("input",{type:"text",id:"browser-tab-search",autoComplete:"off",spellCheck:!1,autoCorrect:"off",className:"w-full flex-1 rounded-lg bg-transparent py-2 text-sm focus:outline-none",placeholder:f,"aria-label":f,onChange:m,value:o,maxLength:100,ref:a}),o&&l.jsx("div",{role:"button",tabIndex:0,className:"me-1 ms-auto h-6 cursor-pointer rounded-xl border border-midnight-250 bg-midnight-200 px-3 py-1 text-foreground-800 text-xs dark:border-white/50 dark:bg-white/5",onKeyDown:d,onClick:u,"aria-label":h,children:h})]})}function MN(e,t=1e3){const n=c.useRef(null);return n.current=e,c.useMemo(()=>MC((...r)=>{var a;(a=n.current)==null||a.call(n,...r)},t),[t])}const hCe={id:-1,title:"",addedToTabSelection:!1,isInSearchResult:!0,sourceType:null,active:!1,highlighted:!1,pinned:!1,selected:!1,incognito:!1,autoDiscardable:!0,discarded:!1,index:-1,windowId:-1,groupId:-1};function NN(e={}){return{...hCe,...e}}const qf=20,gCe=NN({sourceType:null});function vCe(e,t){const{t:n}=q(),s=c.useMemo(()=>e.filter(u=>u.isInSearchResult),[e]),o=c.useMemo(()=>{const i=Math.min(s.length,qf);return t&&i>1&&i<qf?{...gCe,title:n("composer.multiTabs.allTabs",{count:i}),isInSearchResult:!0}:null},[s.length,n,t]),r=c.useCallback(()=>e.map(i=>({...i,addedToTabSelection:s.slice(0,qf).some(u=>u.id===i.id)})),[s,e]),a=c.useMemo(()=>o?[o,...s]:s,[s,o]);return{appearedTabs:s,getUpdatedTabsBySpecialTab:r,specialTab:o,appearedTabsWithSpecialTab:a}}function RN(e){const t=c.useRef(0),n=c.useCallback(async()=>{const s=window.innerHeight;s!==t.current&&(t.current=s,await e(s))},[e]);Tr(n,{initialize:!0},document.documentElement)}const CCe=.2,yCe=.2,bCe=50,xCe=594,SCe=46,ECe=360,wCe=240;function ICe(){Ge.emit("edge:try-grow-content-height",xCe)}function _Ce(e){const t=new Map;for(const n of e)n.id&&n.addedToTabSelection&&t.set(n.id.toString(),n);return t}function TCe(e){const{styles:t,onRef:n,onSave:s,onClose:o=()=>{},outsideClickElements:r=[],originElement:a,mode:i=wd.ADD}=e,[u,d]=Ue(zo),m=c.useRef(new Map(u)),f=c.useRef(null),[h,g]=c.useState([]),[C,v]=c.useState(0),y=c.useRef(null),{t:b}=q(),E=c.useDeferredValue([...h]),S=M(Yi),{appearedTabsWithSpecialTab:I,getUpdatedTabsBySpecialTab:_}=vCe(E,S),T=m.current,[A,k]=c.useState(0),[R,P]=c.useState(!1),V=c.useCallback(()=>{if(f.current&&a&&a.current){const re=a.current.getBoundingClientRect();k(re.top-SCe)}},[k,a]);RN(()=>{ICe(),V()}),c.useEffect(()=>{P(!1);async function re(){const{tabs:xe}=await UI.run({});if(xe&&xe.length>0){const Ne=[];for(const Oe of xe)Oe.id&&Ne.push({...Oe,addedToTabSelection:T.has(Oe.id.toString()),isInSearchResult:!0,sourceType:"opened"});g(Ne)}}re().catch(console.error).finally(()=>{P(!0)})},[T]),c.useLayoutEffect(()=>{f.current&&R&&V()},[V,R]);const U=c.useMemo(()=>h.filter(re=>re.addedToTabSelection),[h]),K=c.useMemo(()=>U.length>qf,[U]),Z=c.useCallback(re=>{n==null||n(re),f.current=re},[n]),Y=c.useCallback(re=>{const xe=_Ce(re);d(xe);const Ne=Array.from(xe.values()),Oe=yN(Ne,[...T.values()]);s==null||s(Ne,Oe)},[T,s,d]),Q=c.useCallback(()=>{K||Y(h)},[K,Y,h]),ee=c.useCallback(re=>{g(xe=>xe.map(Oe=>Oe.id===re.id?re:Oe))},[]),$=MN(c.useCallback(re=>{g(xe=>xe.map(Ne=>({...Ne,isInSearchResult:Ne.title?Ne.title.toLowerCase().includes(re.toLowerCase().trim()):!0})))},[]),YI),te=c.useCallback(re=>{v(xe=>re==="up"?xe>0?xe-1:I.length-1:xe<I.length-1?xe+1:0)},[v,I]);c.useEffect(()=>{y.current&&C>=0&&(y.current.scrollIntoView({block:"nearest"}),S||y.current.focus())},[C,y,S]);const J=c.useCallback(re=>{let xe=[];my(re)?xe=_():xe=h.map(Ne=>Ne.id===re.id?{...re,addedToTabSelection:!0}:Ne),g(xe),Y(xe)},[_,Y,h]),W=c.useCallback(re=>{var xe;if(["ArrowUp","ArrowDown"].includes(re.code))re.preventDefault(),te(re.code==="ArrowUp"?"up":"down");else if(re.code==="Enter"){re.preventDefault();const Ne=I[C];Ne&&J({...Ne,addedToTabSelection:!0})}else re.code==="Tab"&&((xe=f.current)==null||xe.focus())},[te,C,I,J]),ie=c.useMemo(()=>MC(W,bCe),[W]);c.useEffect(()=>(Ge.on("multi-tabs:search",$),Ge.on("multi-tabs:key-down",ie),()=>{Ge.off("multi-tabs:search",$),Ge.off("multi-tabs:key-down",ie)}),[ie,$]),Co({onOutsideEvent:o,elements:[f,...r],invokeOnce:!1,shouldAttachListeners:!0,includeFocus:S});const Se=c.useMemo(()=>S?wCe:ECe,[S]),me=c.useMemo(()=>({maxHeight:`${A>Se?Se:A}px`,...t}),[A,Se,t]);return ps(re=>{re.key==="Escape"&&(re.stopPropagation(),re.preventDefault(),o())}),l.jsxs(kr.Motion,{className:F(ct.modal,"pointer-events-auto relative z-40 box-border flex max-h-[400px] w-full flex-col rounded-b-6xl rounded-t-4xl border border-white p-4 shadow-lg backdrop-blur-2xl backdrop-saturate-150 contrast-more:border-2 dark:border-white/10","bg-gradient-composer-tabs-menu-light dark:bg-gradient-composer-tabs-menu-dark","bg-blend-normal","forced-colors:bg-stroke-150 dark:forced-colors:bg-background-150","contrast-more:bg-stroke-150 dark:contrast-more:bg-background-150",S?"px-4 pb-1.5 pt-4":"p-4"),style:me,tabbable:!0,tabIndex:0,ref:Z,"data-testid":"composer-multi-tabs-menu",initial:"start",animate:"end",variants:{start:Fe,end:{...nt,transition:{duration:CCe,delay:yCe}}},onKeyDown:S?void 0:W,"data-outside-events-ignore":S?"":void 0,children:[l.jsx(AN,{mode:i,onClose:o}),!S&&l.jsx(kN,{onChange:$}),l.jsx(_N,{highlightedIndex:C,onFocus:v,activeMenuItemRef:y,onMenuItemClick:S?J:ee,tabs:I,emptyStateText:h.length===0?b("composer.multiTabs.noTabsOpen"):b("composer.multiTabs.noTabsFound")}),!S&&l.jsx(TN,{mode:i,disabled:K,onClick:Q})]})}const PN=N([]),LN=N([]),ACe=N(e=>{const t=e(PN),n=e(LN),s=new Map;for(const o of t)o.id&&s.set(yo(o),o);for(const o of n)o.url&&!t.some(r=>r.url===o.url)&&s.set(yo(o),o);return[...s.values()]}),kCe=N(e=>{const t=e(ACe),n=e(zo),s=e(Yi),o=new Map;for(const r of t)r.isInSearchResult&&o.set(yo(r),r);if(!s)for(const[r,a]of n)a.isInSearchResult&&o.set(r,a);return[...o.values()]}),N5=20,G9={opened:0,history:1},MCe=NN({sourceType:null});function NCe(){const{t:e}=q(),t=M(Yi),n=Vm(),[s,o]=Ue(PN),r=oe(LN),[a,i]=Ue(zo),u=c.useRef(new Map(a)),d=M(kCe),[m,f]=c.useReducer(uCe,{isTabsInitialized:!1,isUseRecentHistoryEnabled:!1,userDraftSelectedTabs:u.current}),h=e("composer.multiTabs.noTabsOpen"),g=e("composer.multiTabs.noTabsFound"),C=c.useMemo(()=>d.map(_=>({..._,addedToTabSelection:m.userDraftSelectedTabs.has(yo(_))})),[d,m.userDraftSelectedTabs]),v=c.useMemo(()=>{const I=Math.min(C.length,N5);return t&&I>1&&I<N5?{...MCe,title:e("composer.multiTabs.allTabs",{count:I}),isInSearchResult:!0}:null},[C.length,e,t]),y=c.useMemo(()=>{const I=[...C].sort((_,T)=>(_.lastAccessed??0)-(T.lastAccessed??0)).sort((_,T)=>(G9[_.sourceType]??0)-(G9[T.sourceType]??0));return!v||n?I:[v,...I]},[C,v,n]),b=c.useMemo(()=>n?g:d.length===0?h:g,[n,g,h,d.length]),E=c.useCallback(I=>yN(I,[...u.current.values()]),[]),S=c.useCallback(async I=>{const _=n?await cCe(I.trim(),s.length===0):[],{userAddedTabsFiltered:T,userOpenedTabsFiltered:A,historyTabsFiltered:k,isEmptyKeyword:R}=await lCe(I,{userAddedTabs:a,userOpenedTabs:s,historyTabs:_});n&&(f({type:"SET_USE_RECENT_HISTORY",payload:R&&t}),r(k)),i(T),o(A)},[n,i,r,o,t,a,s]);return c.useEffect(()=>{f({type:"SET_USE_RECENT_HISTORY",payload:!1}),aCe({isEdgeHistoryEnabled:n,triggeredByMention:t,setUserOpenedTabs:o,setUserHistoryTabs:r,initialSelectedTabsSnapshot:u.current}).then(I=>{f({type:"SET_USE_RECENT_HISTORY",payload:I})}).catch(I=>{}).finally(()=>{f({type:"SET_TABS_INITIALIZED",payload:!0})})},[n,r,o,t]),c.useEffect(()=>()=>{r([]),o([])},[r,o]),{triggeredByMention:t,isEdgeHistoryEnabled:n,checkSelectedTabsHaveChanged:E,appearedTabsWithSpecialTab:y,userOpenedTabs:s,menuContentEmptyStateText:b,setUserAddedTabs:i,searchTabs:S,appearedTabs:C,specialTab:v,isUseRecentHistoryEnabled:m.isUseRecentHistoryEnabled,isTabsInitialized:m.isTabsInitialized,userDraftSelectedTabs:m.userDraftSelectedTabs,setUserDraftSelectedTabs:I=>{f({type:"SET_DRAFT_SELECTED_TABS",payload:I})}}}const RCe=.2,PCe=.2;function LCe(e){return Array.from(e.values()).map(t=>({...t,addedToTabSelection:!0,isInSearchResult:!0}))}const OCe=594,DCe=46,jCe=360,UCe=240;function FCe(){Ge.emit("edge:try-grow-content-height",OCe)}function BCe(e){const{styles:t,onRef:n,onSave:s,onClose:o=()=>{},originElement:r,mode:a=wd.ADD,outsideClickElements:i=[]}=e,u=c.useRef(null),[d,m]=c.useState(0),f=c.useRef(null),[h,g]=c.useState(0),{appearedTabsWithSpecialTab:C,isUseRecentHistoryEnabled:v,triggeredByMention:y,menuContentEmptyStateText:b,searchTabs:E,setUserAddedTabs:S,checkSelectedTabsHaveChanged:I,userDraftSelectedTabs:_,isTabsInitialized:T,setUserDraftSelectedTabs:A,appearedTabs:k}=NCe(),R=_.size>N5,P=c.useCallback(W=>{n==null||n(W),u.current=W},[n]),V=c.useCallback(W=>{const ie=LCe(W);S(new Map(ie.map(me=>[yo(me),me])));const Se=I(ie);s==null||s(ie,Se)},[I,s,S]),U=c.useCallback(()=>{R||V(_)},[R,V,_]),K=MN(E,YI),Z=c.useCallback(()=>{if(u.current&&r&&r.current){const W=r.current.getBoundingClientRect();g(W.top-DCe)}},[g,r]);RN(()=>{FCe(),Z()}),c.useLayoutEffect(()=>{u.current&&T&&Z()},[Z,T]),c.useEffect(()=>{f.current&&d>=0&&f.current.scrollIntoView({block:"nearest"})},[d,f]);const Y=c.useCallback(W=>{m(ie=>W==="up"?ie>0?ie-1:C.length-1:ie<C.length-1?ie+1:0)},[m,C]),Q=c.useCallback(W=>{const ie=yo(W),Se=_.has(ie),me=W.addedToTabSelection;if(Se!==me){const re=new Map(_);me?re.set(ie,W):re.delete(ie),A(re)}},[A,_]),ee=c.useCallback(W=>{const ie=my(W)?k:[W],Se=IN(ie,_);A(Se),V(Se)},[k,A,V,_]),$=c.useCallback(W=>{var ie;if(["ArrowUp","ArrowDown"].includes(W.code))W.preventDefault(),Y(W.code==="ArrowUp"?"up":"down");else if(W.code==="Enter"){W.preventDefault();const Se=C[d];Se&&ee({...Se,addedToTabSelection:!0})}else W.code==="Tab"&&((ie=u.current)==null||ie.focus())},[Y,d,C,ee]);c.useEffect(()=>(Ge.on("multi-tabs:search",K),Ge.on("multi-tabs:key-down",$),()=>{Ge.off("multi-tabs:search",K),Ge.off("multi-tabs:key-down",$)}),[$,K]);const te=c.useMemo(()=>y?UCe:jCe,[y]),J=c.useMemo(()=>({maxHeight:`${h>te?te:h}px`,...t}),[h,te,t]);return Co({onOutsideEvent:o,elements:[u,...i],invokeOnce:!1,shouldAttachListeners:!0,includeFocus:y}),l.jsxs(kr.Motion,{className:F(ct.modal,"pointer-events-auto relative z-40 box-border flex max-h-[400px] w-full flex-col rounded-b-6xl rounded-t-4xl border border-white bg-gradient-composer-tabs-menu-light p-4 bg-blend-normal shadow-lg backdrop-blur-2xl backdrop-saturate-150 contrast-more:border-2 contrast-more:bg-stroke-150 dark:border-white/10 dark:bg-gradient-composer-tabs-menu-dark dark:contrast-more:bg-background-150 forced-colors:bg-stroke-150 dark:forced-colors:bg-background-150",y?"px-4 pb-1.5 pt-4":"p-4"),style:J,tabbable:!0,tabIndex:0,"data-testid":"composer-multi-tabs-menu",initial:"start",animate:"end",ref:P,variants:{start:Fe,end:{...nt,transition:{duration:RCe,delay:PCe}}},onKeyDown:y?void 0:$,children:[l.jsx(AN,{mode:a,onClose:o}),!y&&l.jsx(kN,{onChange:K}),l.jsx(_N,{highlightedIndex:d,onFocus:m,activeMenuItemRef:f,onMenuItemClick:y?ee:Q,tabs:C,emptyStateText:b,isUseRecentHistoryEnabled:v}),!y&&l.jsx(TN,{mode:a,disabled:R,onClick:U})]})}function VCe(e){return Vm()?l.jsx(BCe,{...e}):l.jsx(TCe,{...e})}const ON=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M2 6.25C2 4.45507 3.45507 3 5.25 3H18.75C20.5449 3 22 4.45507 22 6.25V12H20.5V6.25C20.5 5.2835 19.7165 4.5 18.75 4.5H5.25C4.2835 4.5 3.5 5.2835 3.5 6.25V15.75C3.5 16.7165 4.2835 17.5 5.25 17.5H11V19H5.25C3.45507 19 2 17.5449 2 15.75V6.25ZM14 13C12.8954 13 12 13.8954 12 15V20C12 21.1046 12.8954 22 14 22H21C22.1046 22 23 21.1046 23 20V15C23 13.8954 22.1046 13 21 13H14Z"})),Yke=Object.freeze(Object.defineProperty({__proto__:null,default:ON},Symbol.toStringTag,{value:"Module"}));function HCe(e){const{onClick:t}=e,{t:n}=q();return l.jsx(zs,{data:{title:n("videoCard.pictureInPicture.miniPlayer"),testId:"trigger-picture-in-picture",isVisible:!0,onClick:t},children:l.jsx(ON,{className:"size-6","aria-hidden":!0})})}function DN(e){const{provider:t="microsoft",scenario:n,from:s}=e,o=Vl(),r=Eo(),{login:a}=rc();return c.useCallback(async()=>{if(n&&$t({source:"signin",scenario:n}),o){await r({from:s,to:"/login"});return}await a({provider:t})},[s,r,o,a,t,n])}function zCe(){const{t:e}=q(),t=Qt(),n=DN({scenario:"voice",from:"/"});if(!t)return l.jsx(nN,{className:"mx-2",title:e("voice.signUpOrLogin"),onClick:n})}function fy(){const e=M(tee),t=G("edge-multi-tabs-reverse");return e&&!t}const GCe=$e();function WCe(){const e=fy(),[t,n]=c.useState("add"),[s,o]=c.useState(!1),[r,a]=Ue(see),[i,u]=c.useState(!1),[d,m]=Ue(Yi),f=oe(zo),{refs:h,floatingStyles:g}=YC({placement:"top-start",strategy:"absolute",whileElementsMounted:Na,middleware:[va(()=>({mainAxis:6,crossAxis:0})),Ca({padding:12}),tT({apply({rects:S,elements:I}){Object.assign(I.floating.style,{width:`${S.reference.width}px`})}})]}),C=c.useCallback(async S=>{const{isTrigger:I,keyword:_}=S;m(I),I&&(Ge.emit("multi-tabs:search",_),n("add")),a(I)},[m,a]),v=c.useCallback(()=>{d&&(m(!1),Ge.emit("mention:cancel","ignore")),a(!1)},[d,m,a]),y=c.useCallback(()=>{d&&(Ge.emit("mention:cancel","remove"),m(!1)),a(!1),u(!0),o(!0),Ge.emit("edge:maybe-fetch-page-context","onSaveMultiTabs")},[d,m,a]),b=c.useCallback(S=>e&&r&&d?(Ge.emit("multi-tabs:key-down",S),!0):!1,[d,e,r]),E=()=>d&&r&&e;return c.useEffect(()=>{const S=GCe.sub(je,()=>{a(!1),u(!1),m(!1),f(new Map)});return()=>{S()}},[f,m,a]),c.useEffect(()=>{const S=()=>{o(!1)};return Ge.on("edge:multi-tabs-context-fetched-complete",S),()=>{Ge.off("edge:multi-tabs-context-fetched-complete",S)}},[]),{isMultiTabsMenuExpanded:r,floatingStyles:g,edgeTabMenuRefs:h,setIsMultiTabsMenuExpanded:a,isShowMultiTabsPreviewCard:i,setIsShowMultiTabsPreviewCard:u,handleMentionEvent:C,isMentionTriggered:d,handleMultiTabsMenuSaveBtnEvent:y,handleMultiTabsMenuCloseBtnEvent:v,handleUserInputEnterEvent:E,handleUserInputKeydownEvent:b,multiTabsMenuMode:t,setMultiTabsMenuMode:n,isFetchingTabsPageContext:s}}function $Ce(){const e=G("pay-shopify-checkout"),t=G("pay-native-checkout"),n=G("pay-webview-checkout"),s=G("pay-marketplace"),o=G("pay-buy-for-me"),r=G("pay-paypal-integration");return e||t||n||s||o||r}const qCe=(e,t=0)=>{const n=oe(YX);return Tr(o=>{const r=e==="app"?document.getElementById("app"):e.current;r&&(n(o.height),r.style.setProperty("--composer-container-height",`${o.height+t}px`))})};function KCe(){const{contentPageType:e}=Pa(),t=M(Dd),n=c.useCallback(()=>{ye({pageName:e,source:"streamlinedComposer",scenario:"clickComposer",customData:JSON.stringify({isChatSidePaneOpened:t})})},[e,t]),s=c.useCallback(()=>{ye({pageName:e,source:"newsComposerInput",scenario:"newsClickNavigateToChat",customData:JSON.stringify({isChatSidePaneOpened:t})})},[e,t]);return{trackConsumptionPageComposerClick:n,trackConsumptionPageComposerSubmit:s}}const jN=N(0),UN=N(),FN=N(),Qke=N({}),Jke=N({lastPosition:0,wasPlaying:!1}),ql="daily";function Xke(){D.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"personalizeButton",eventInfo_clickScenario:"",eventInfo_pageName:ql}})}function eMe(e){D.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"TopicSettings_Select",eventInfo_clickScenario:e,eventInfo_pageName:ql}})}function tMe(e){D.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"TopicSettings_UnSelect",eventInfo_clickScenario:e,eventInfo_pageName:ql}})}function nMe(e){D.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"TopicSettings_Save",eventInfo_clickScenario:e.join(","),eventInfo_pageName:ql}})}function sMe(){D.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"TopicSettings_Later",eventInfo_clickScenario:"",eventInfo_pageName:ql}})}const R5={Podcast:"podcastPlayer",DailyBriefing:"dailyBriefingPlayer"},zu={Daily:ql,Podcast:"podcast"},Fr={Skip:"skip",Rewind:"rewind",Play:"play",Pause:"pause",Next:"next",Previous:"previous",Playback:"playback",Mute:"mute",Unmute:"unmute",Expand:"expand",Collapse:"collapse"};function Ka(e,t,n){ye({source:e,pageName:e===R5.Podcast?zu.Podcast:zu.Daily,scenario:t,customData:n})}function BN(e){const{url:t,podcastId:n,schema:s,includeTranscripts:o=!1}=e,r={...n&&{podcastId:n},includeTranscripts:String(!!o)};return St(t,s,{query:r}).then(a=>a.data)}function ZCe(e,t,n,s,o){return s&&n?{url:`/sharing/podcasts/${n}`,schema:Cp}:!e&&!o?null:t?{url:`/podcasts/${t}/${e}`,schema:Cp}:{url:"/daily-briefing",podcastId:e,includeTranscripts:!s,schema:qE}}function YCe(){const{podcastId:e,podcastType:t,shareId:n}=t1({strict:!1}),s=M(UN),o=e??s,r=bh(),a=!!e||r,i=G("1s-dbrief-fetchall"),u=oe(FN),d=ZCe(o,t,n,a,i),m=c.useCallback(()=>{if(!d)throw new Error("Media key is not defined");return BN(d)},[d]),{data:f,isLoading:h,error:g}=Ms({queryKey:["dailyBriefingMedia",o,a,n,t,i],enabled:!!d,queryFn:m,staleTime:4e3});c.useEffect(()=>{if(f&&a){const y=Cp.parse(f);u(y.podcastId)}},[f,a,u]);const C=()=>a?t?`${zu.Podcast}.${t}`:zu.Podcast:zu.Daily;if(f&&a){const y=Cp.parse(f),{isAvailable:b,podcastId:E,chapters:S,playback:{positionInSeconds:I,chapterId:_}}=y,T=n?`/sharing/podcasts/${n}/Files`:`/podcasts/${t}/${E}/Files`,A=S.map(({id:P,title:V,image:U,audio:K})=>({id:P,title:V,image:{landscape:{...U.landscape,url:`${T}/${U.landscape.name}`},portrait:{...U.portrait,url:`${T}/${U.portrait.name}`}},audio:K})),k={isAvailable:b,podcastId:E,chapters:A.map(P=>({...P,audio:{default:{url:`${T}/${P.audio.name}`,duration:P.audio.duration,transcript:null}},transitionMusic:null,sources:[]})),playback:{position:I,chapterId:_}},R={...y,chapters:A};return{data:k,podcastData:R,isPodcast:a,isLoading:h,error:g,pageImpressionKey:C()}}return{data:!a&&f?qE.parse(f):void 0,isPodcast:a,isLoading:h,error:g,pageImpressionKey:C()}}function oMe(){const{data:e}=Ms({queryKey:["dailyBriefingTopics"],queryFn:()=>BN({url:"/daily-briefing/topics",schema:$E})});return{data:e}}async function rMe(e,t){await kn({path:"/daily-briefing/topics/unfollow",args:{body:{ids:t}}}),await kn({path:"/daily-briefing/topics/follow",args:{body:{ids:e}}})}const QCe=1;function JCe(){const e=Eo(),t=oe(So),n=oe(UN),[s,o]=Ue(jN),r=G("1s-dbrief-fetchall"),{firstStoryId:a,formCode:i}=yO({strict:!1}),u=c.useCallback(async()=>{await e({from:"/daily",to:"/discover"}),n(void 0),t(null)},[n,t,e]),d=c.useCallback(async h=>{if(i&&D.setFormCode(i),a){const g=h.split(",");if(g.length>=2){g[QCe]=a;const C=g.join(",");n(C)}else n(h)}else n(h);o(0),t("daily-briefing-player"),await e({from:"/",to:"/daily",search:{firstStoryId:a,...r&&h&&{chapterIds:h}}})},[i,a,o,t,e,r,n]),m=c.useCallback(async()=>{o(s),await e({from:"/daily",to:"/topic-selection"}),t(null)},[t,o,s,e]),f=c.useCallback(async()=>{o(s),t("daily-briefing-player"),await e({from:"/topic-selection",to:"/daily"})},[s,o,t,e]);return{navigateToDailyBriefing:d,navigateToTopicSelection:m,exitDailyBriefing:u,returnToDailyBriefing:f,currentChapterIndex:s}}function XCe({media:e,thresholds:t,key:n}){const s=c.useRef(0),o=c.useRef([]),r=c.useRef(new Set);return c.useEffect(()=>{o.current=(t==null?void 0:t.sort((a,i)=>a.seconds-i.seconds))??[]},[t]),c.useEffect(()=>{s.current=0,r.current=new Set;let a=null;if(!e)return()=>{};function i(){a=performance.now()}function u(h){if(a!==null){const g=(performance.now()-a)/1e3;s.current+=g,a=h?performance.now():null,f()}}function d(){u(!1)}function m(){u(!0)}const f=()=>{for(let h=0;h<o.current.length;h+=1){const g=o.current[h];g&&s.current>=g.seconds&&!r.current.has(h)&&(r.current.add(h),g.callback())}};return e.addEventListener("playing",i),e.addEventListener("pause",d),e.addEventListener("ended",d),e.addEventListener("timeupdate",m),()=>{e.removeEventListener("playing",i),e.removeEventListener("pause",d),e.removeEventListener("ended",d),e.removeEventListener("timeupdate",m)}},[e,n]),{totalTimePlayedRef:s}}function Gu(e){if(!e)return NaN;const t=e.split(":");if(t.length!==2)return NaN;const[n,s]=t,o=Number(n),r=Number(s);return o<0||r<0||r>=60?NaN:o*60+r}function e3e(e,t,n,s){var o,r;return e===n.length-1&&t===s.length-1?1/0:t===s.length-1?Gu((o=n[e+1])==null?void 0:o.startTime):Gu((r=s[t+1])==null?void 0:r.startTime)}function t3e(e){let t=-1;return e.map((s,o,r)=>{var a;return{...s,startTime:Gu(s.startTime),endTime:o<r.length-1?Gu((a=r[o+1])==null?void 0:a.startTime):1/0,words:s.words.map((i,u,d)=>(t+=1,{...i,startTime:Gu(i.startTime),endTime:e3e(o,u,r,d),index:t}))}})}function VN(e,t,n){return{DailyBriefing:`${t}|${n}`,Podcast:t}[e]}function W9(e,t,n){const s=VN(e,t,n);s&&kn({path:`/media/${e}/${s}/playback/completed`,args:{}}).catch(o=>{vw(o)})}function n3e(e,t,n,s){const o=VN(e,n,s);o&&kn({path:`/media/${e}/${o}/playback`,args:{options:{method:"PATCH"},body:{positionInSeconds:t}}}).catch(r=>{vw(r)})}function A0(e,t){const n=Object.keys(t);if(n.length!==0)return typeof e<"u"&&n.includes(e)?t[e]:Object.values(t)[0]}const s3e=5,o3e=5e3;function HN(){var Xe,et;const{exitDailyBriefing:e}=JCe(),{data:t,isPodcast:n,pageImpressionKey:s}=YCe(),o=n?R5.Podcast:R5.DailyBriefing,r=M(FN),a=M(Jd),i=c.useMemo(()=>t?n?t.chapters.map(fe=>{var Ae;return[((Ae=fe.audio.default)==null?void 0:Ae.duration)??0]}):t.chapters.map(fe=>{var Ae;const Ee=[((Ae=A0(a,fe.audio))==null?void 0:Ae.duration)??0];return fe.transitionMusic&&Ee.push(fe.transitionMusic.duration),Ee}):[],[t,n,a]),[u,d]=Ue(jN),m=c.useRef(null),[f,h]=c.useState(!1),g=u<i.length-1,C=u>0,v=c.useRef(performance.now()),y=c.useRef(performance.now()),b=c.useMemo(()=>{var fe;return(fe=t==null?void 0:t.chapters[u])!=null&&fe.id?t.chapters[u].id:r&&r.split(",")[u]},[t==null?void 0:t.chapters,u,r]),E=c.useMemo(()=>t?n?t.chapters.map(fe=>{var Ee;return[((Ee=fe.audio.default)==null?void 0:Ee.url)??""]}):t.chapters.map(fe=>{var Ae;const Ee=[((Ae=A0(a,fe.audio))==null?void 0:Ae.url)??""];return fe.transitionMusic&&Ee.push(fe.transitionMusic.url),Ee}):[],[t,a,n]),[S,I]=c.useState(0),[_,T]=c.useState([]),[A,k]=c.useState(null),R=JSON.stringify({podcastId:r,eventInfo_chapterId:(Xe=t==null?void 0:t.chapters[u])==null?void 0:Xe.id,eventInfo_chapterPlayDuration:performance.now()-v.current}),[P,V]=Ue(ife),U=c.useCallback(()=>{V(fe=>{const Ee=!fe,Ae=Ee?Fr.Mute:Fr.Unmute;return Ka(o,Ae,R),Ee})},[R,o,V]);XCe({media:A,key:b,thresholds:[{seconds:s3e,callback:()=>{if(b&&!_.includes(b)){try{kn({path:`/daily-briefing/${b}/viewed`,args:{analytics:{anonymousPath:"/daily-briefing/*/viewed"}}})}catch{}T([..._,b])}}}]}),c.useEffect(()=>{if(!A||!f)return;const fe=setInterval(()=>{const Ee=A.currentTime;n3e("DailyBriefing",Ee,r,b)},o3e);return()=>{clearInterval(fe)}},[A,f,b,r]);function K(){var fe;h(!0),(fe=m.current)==null||fe.playAnimation(),A==null||A.play(),Ka(o,Fr.Play,R)}function Z(){var fe;h(!1),(fe=m.current)==null||fe.pauseAnimation(),A==null||A.pause(),Ka(o,Fr.Pause,R)}function Y(fe){if(A){const Ee=Math.min(A.currentTime+fe,A.duration);A.currentTime=Ee,Ka(o,Fr.Skip,JSON.stringify({seconds:fe}))}}function Q(fe){if(A){const Ee=Math.max(A.currentTime-fe,0);A.currentTime=Ee,Ka(o,Fr.Rewind,JSON.stringify({seconds:fe}))}}function ee(){var fe,Ee,Ae;W9("DailyBriefing",r,b),t!=null&&t.chapters&&D.trackEvent({name:"system",data:{eventName:"chapterPlayDuration",eventInfo_podcastId:r,eventInfo_chapterIndex:u,eventInfo_isCompleted:u===t.chapters.length-1,eventInfo_publisherName:(Ee=(fe=t.chapters[u])==null?void 0:fe.sources)==null?void 0:Ee.map(Ye=>Ye.publisherName).join(","),eventInfo_impressionElement:s,eventInfo_customData:JSON.stringify({eventInfo_chapterId:(Ae=t.chapters[u])==null?void 0:Ae.id,eventInfo_chapterPlayDuration:performance.now()-v.current})}})}function $(){W9("Podcast",r),D.trackEvent({name:"system",data:{eventName:"podcastPlayDuration",eventInfo_isCompleted:!0,eventInfo_podcastId:r,eventInfo_podcastPlayDuration:performance.now()-y.current,eventInfo_impressionElement:s}})}function te(){A&&(A.currentTime=0)}function J(fe){ee(),v.current=performance.now(),te(),ve(-1),I(0),d(fe)}function W(){g&&(J(u+1),Ka(o,Fr.Next,R))}function ie(){C&&(J(u-1),Ka(o,Fr.Previous,R))}function Se(fe){A&&(A.playbackRate=fe/100)}function me(fe){const Ae=(vg.indexOf(fe)+1)%vg.length;return vg[Ae]??Ud}function re(){h(!0);const fe=E[u]??[];S<fe.length-1?I(Ee=>Ee+1):fe.length-1===S&&g?W():(Ne(),e())}function xe(){v.current=performance.now(),y.current=performance.now()}function Ne(){n?$():ee()}const Oe=!n,se=c.useMemo(()=>{if(!Oe)return[];const fe=t==null?void 0:t.chapters[u];if(!fe)return[];const Ee=A0(a,fe.audio);return t3e((Ee==null?void 0:Ee.transcript)??[])},[Oe,a,t==null?void 0:t.chapters,u]),ce=c.useMemo(()=>se.flatMap(fe=>fe.words),[se]),X=c.useMemo(()=>i[u]??[],[i,u]),ve=oe(cfe),Re=c.useCallback(fe=>{const Ee=ce.find(Ae=>fe>=Ae.startTime&&fe<Ae.endTime);return(Ee==null?void 0:Ee.index)??-1},[ce]),qe=c.useCallback(fe=>{const Ee=fe.currentTarget;let{currentTime:Ae}=Ee;for(let De=0;De<S;De+=1){const Ke=X[De];Ke&&(Ae+=Ke)}if(Ae===0)return;const Ye=Re(Ae);ve(Ye)},[X,S,Re,ve]);return c.useEffect(()=>{if(!(!Oe||!A))return A.addEventListener("timeupdate",qe),()=>{A.removeEventListener("timeupdate",qe)}},[A,qe,Oe]),{isPlaying:f,currentChapterId:b,currentChapterIndex:u,chapterDurations:i,currentChapterPartIndex:S,audioElement:A,setAudioElement:k,audioChaptersProgressBarRef:m,currentChapterAudioSrc:((et=E[u])==null?void 0:et[S])??"",isPlayerMuted:P,currentChapterTranscript:se,play:t?K:void 0,pause:t?Z:void 0,skipForward:t?fe=>Y(fe):()=>{},skipBack:t?fe=>Q(fe):()=>{},goToNextChapter:g?W:void 0,goToPreviousChapter:C?ie:void 0,getNextPlaybackSpeed:t?fe=>me(fe):void 0,applyPlaybackRate:t?fe=>Se(fe):()=>{},onChapterEnded:re,resetAllTimers:xe,trackPlayerEndEvents:Ne,togglePlayerMuted:U}}function r3e(){const{currentChapterId:e}=HN();return c.useMemo(()=>{if(e)return{type:"dailyBriefing",chapterId:e}},[e])}function a3e(e,t){const[n,s]=c.useState(0);return c.useEffect(()=>{if(!e)return()=>{};const o=d=>{d.preventDefault(),s(m=>m+1)},r=d=>{d.preventDefault(),s(m=>Math.max(0,m-1))},a=d=>{d.preventDefault(),s(0),t==null||t(d)},i=()=>{document.hidden&&s(0)},u=d=>{d.preventDefault()};return window.addEventListener("dragenter",o,!0),window.addEventListener("dragleave",r,!0),window.addEventListener("drop",a,!0),document.addEventListener("visibilitychange",i),t&&window.addEventListener("dragover",u),()=>{window.removeEventListener("dragenter",o,!0),window.removeEventListener("dragleave",r,!0),window.removeEventListener("drop",a,!0),document.removeEventListener("visibilitychange",i),t&&window.removeEventListener("dragover",u)}},[e,t]),n>0}async function i3e(e,t){try{const n=await e.arrayBuffer(),s=new Uint8Array(n),o=await St("/attachments",Pq,{options:{method:"POST",headers:{"Content-Type":Cr(e)},body:new Blob([s]),signal:t}}).then(r=>r.data);if("errorCode"in o)throw new Error(o.errorCode);return o.url}catch(n){throw console.error("Error uploading image",n),n}}async function c3e(e,t){try{const n=new FormData;e.type!==""?n.append("file",e):n.append("file",new File([e],e.name,{type:Cr(e)}),e.name);const s=await St("/attachments",QE,{options:{method:"POST",body:n,signal:t}}).then(o=>o.data);if("errorCode"in s)throw new Error(s.errorCode);return s.id}catch(n){throw console.error("Error uploading document",n),n}}async function zN(e,t){try{const n=await St("/attachments/onedrive",QE,{options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e}),signal:t}}).then(s=>s.data);if("errorCode"in n)throw new Error(n.errorCode);return n.id}catch(n){throw console.error("Error uploading OneDrive file",n),n}}async function l3e(e,t){switch(e.kind){case"local-file":return c3e(e.file,t);case"onedrive":return zN(e.item.id,t);default:{const n=e;throw new Error(`Unhandled upload kind: ${n}`)}}}async function u3e(e,t){switch(e.kind){case"local-file":return i3e(e.file,t);case"onedrive":return zN(e.item.id,t);default:{const n=e;throw new Error(`Unhandled upload kind: ${n}`)}}}async function GN(e){const{uploadTasks:t,signal:n,onSuccess:s,onError:o,onFinish:r}=e,a=t.map(async i=>{const u=i.upload;try{if(i.type==="document"){const m={content:{type:"document",attachmentId:await l3e(i.upload,n)},item:{type:"document",partId:i.partId,fileName:i.metadata.name,contentType:i.metadata.contentType},size:i.metadata.size,type:i.metadata.contentType},f={id:i.id,file:i.upload.file,scenario:i.scenario,processing:!1,attachment:m,type:"file"};s(f)}else{const d=await u3e(i.upload,n),m={content:{type:"image",url:d},item:{type:"image",url:d},size:i.metadata.size,type:i.metadata.contentType},f={id:i.id,file:u.file,scenario:i.scenario,processing:!1,attachment:m,type:"image"};s(f)}}catch(d){o&&o(d,i)}finally{r()}return null});return Promise.all(a)}function aMe(e,t){const n=t.split(".").pop()??"";return`/attachments/${e}.${n}`}async function iMe(e){const{file:t,type:n}=await Vpe(e,Upe(e));return{id:`file-${Date.now()}-${crypto.randomUUID()}`,file:t,processing:!1,attachment:{content:{type:h0,url:e},item:{type:h0,url:e},size:t.size,type:n},type:h0}}function Kf(e){switch(e.kind){case"local-file":{const{file:t}=e;return{name:t.name,contentType:Cr(t),size:t.size}}case"onedrive":{const{item:t}=e;return{name:t.name,contentType:B3(t.name),size:t.size}}default:{const t=e;throw new Error(`Unhandled upload kind: ${t}`)}}}const WN=$e();let P5=0;const qp=new Set;function Wu(e){WN.set(m3,e)}function d3e(){WN.set(ka,{isOpen:!0,scenario:null,reason:"fileUpload"})}async function m3e(e){const{uploads:t,scenario:n,onError:s,onSuccess:o,replaceExisting:r=!1,shouldUploadImageAsDocument:a}=e;r&&L5();const i=[],u=[];for(const m of t){const f=Kf(m),h=Wl(f.contentType),g=Bk();if(h||a){const C=String(P5);P5+=1,i.push({id:g,upload:m,partId:C,metadata:f,type:"document"}),u.push({id:g,file:m.file,scenario:n,processing:!0,type:"file"})}else i.push({id:g,upload:m,metadata:f,type:"image"}),u.push({id:g,file:m.file,scenario:n,processing:!0,type:"image"})}Wu(m=>[...m,...u]);const d=new AbortController;qp.add(d),await GN({signal:d.signal,uploadTasks:i,onSuccess:m=>{Wu(f=>f.map(h=>h.id===m.id?m:h)),o==null||o(m)},onError:(m,f)=>{if(m instanceof Error&&m.message==="not-signed-in")throw L5(),d3e(),m;const h={id:f.id,file:f.upload.file,scenario:n,processing:!1,error:m};Wu(g=>g.map(C=>C.id===f.id?h:C)),s&&s(m,f.upload)},onFinish:()=>{qp.delete(d)}}),un({scenario:n??"fileUpload",page:"uploadAttachmentVanilla"})}function L5(){Wu([]),$N(),P5=0}function f3e(e){Wu(t=>{const n=[...t];return n.splice(e,1),n})}function $N(){for(const e of qp)e.abort();qp.clear()}function p3e(){const e=be("use-new-attachment"),[t,n]=Ue(m3),{t:s}=q(),o=c.useRef(new Set),r=c.useRef(0),a=oe(ka),i=c.useCallback(()=>{for(const g of o.current)g.abort();o.current.clear()},[]),u=c.useCallback((g,C)=>{a({isOpen:!0,scenario:C??null,reason:g})},[a]),d=c.useCallback(()=>{u("fileUpload")},[u]),m=c.useCallback(()=>{n([]),r.current=0,i()},[i,n]),f=c.useCallback(async g=>{const{uploads:C,scenario:v,onError:y,replaceExisting:b=!1,shouldUploadImageAsDocument:E}=g;b&&m();const S=[],I=[];for(const T of C){const A=Kf(T),k=Wl(A.contentType),R=Bk();if(k||E){const P=String(r.current);r.current+=1,S.push({id:R,upload:T,partId:P,metadata:A,type:"document",scenario:v}),I.push({id:R,file:T.file,scenario:v,processing:!0,type:"file"})}else S.push({id:R,upload:T,metadata:A,type:"image",scenario:v}),I.push({id:R,file:T.file,scenario:v,processing:!0,type:"image"})}n(T=>[...T,...I]);const _=new AbortController;o.current.add(_),await GN({signal:_.signal,uploadTasks:S,onSuccess:T=>{var A;if(n(k=>k.map(R=>R.id===T.id?T:R)),(A=T.attachment)!=null&&A.item){const{type:k}=T.attachment.item;vo({msg:s(k==="image"?"fileUpload.uploadedImage":"fileUpload.uploadedFile")})}},onError:(T,A)=>{if(T instanceof Error&&T.message==="not-signed-in")throw m(),d(),T;const k={id:A.id,file:A.upload.file,scenario:v,processing:!1,error:T};n(R=>R.map(P=>P.id===A.id?k:P)),y&&y(T,A.upload)},onFinish:()=>{o.current.delete(_)}}),un({scenario:v??"fileUpload",page:"uploadAttachmentReact"})},[m,d,n,s]),h=c.useCallback(g=>{n(C=>{const v=[...C];return v.splice(g,1),v})},[n]);return c.useEffect(()=>()=>{e?$N():i()},[e,i]),e?{uploadedAttachments:t,isUploadingAttachments:t.some(g=>g.processing===!0),getUploadMetadata:Kf,setUploadedAttachments:n,removeAttachmentByIndex:f3e,clearAttachments:L5,uploadAttachments:async({uploads:g,scenario:C,onError:v,replaceExisting:y,shouldUploadImageAsDocument:b})=>m3e({uploads:g,scenario:C,onError:v,replaceExisting:y,shouldUploadImageAsDocument:b,onSuccess:E=>{var S;if((S=E.attachment)!=null&&S.item){const{type:I}=E.attachment.item;vo({msg:s(I==="image"?"fileUpload.uploadedImage":"fileUpload.uploadedFile")})}}})}:{uploadedAttachments:t,isUploadingAttachments:t.some(g=>g.processing===!0),clearAttachments:m,uploadAttachments:f,getUploadMetadata:Kf,removeAttachmentByIndex:h,setUploadedAttachments:n}}function h3e(e,t,n,s){const{t:o}=q(),{clearAttachments:r,uploadAttachments:a,getUploadMetadata:i,isUploadingAttachments:u,uploadedAttachments:d,removeAttachmentByIndex:m}=p3e(),f=M(qo),{maxFilesPerMessage:h}=f,g=M(Hl),C=c.useMemo(()=>d.filter(({error:_})=>!_),[d]),v=C.length,y=c.useMemo(()=>new Set(C.filter(({file:_})=>!!_).map(({file:_})=>`${_==null?void 0:_.name}-${_==null?void 0:_.size}-${_==null?void 0:_.type}-${_==null?void 0:_.lastModified}`)),[C]),b=c.useCallback(async _=>{const{uploads:T,scenario:A,replaceExisting:k=!0,supportedMimeTypes:R=g}=_,P=T.filter(({file:V})=>!y.has(`${V.name}-${V.size}-${V.type}-${V.lastModified}`));if(P.length===0){n();return}if(!k&&v+P.length>h){t({title:o("composer.errors.multi.tooManyFiles.title",{maxFiles:h}),message:o("composer.errors.multi.tooManyFiles.message")});return}for(const V of P){const U=Ok(V.file,{supportedMimeTypes:R,scenario:A});if(U){t(U),n();return}}e();try{await a({uploads:P,scenario:A,replaceExisting:k,onError:(V,U)=>{if(V instanceof Error){t(jk(V.message));const{name:K,size:Z}=i(U);a1e({name:K,size:Z,message:V.message,kind:U.kind})}else t({title:o("composer.errors.default.title"),message:o("composer.errors.default.message")})}})}catch(V){V instanceof Error&&V.message==="not-signed-in"?s():t({title:o("composer.errors.default.title"),message:o("composer.errors.default.message")})}},[g,e,y,n,v,h,t,o,a,i,s]),E=c.useCallback(async _=>{const{rawFiles:T,scenario:A,replaceExisting:k=!0,supportedMimeTypes:R=g}=_;if(T.length===0)return;const P=[];for(const V of T)P.push({file:s1e(V),kind:"local-file"});await b({uploads:P,scenario:A,replaceExisting:k,supportedMimeTypes:R})},[b,g]),S=c.useCallback(()=>{r(),n()},[r,n]),I=c.useCallback(_=>{d.length===1?S():m(_)},[m,d,S]);return{processUploadedFiles:b,processUploadedLocalFiles:E,isUploadingAttachments:u,uploadedAttachments:d,resetFileUpload:S,removeAttachment:I}}function Nh(){var s;const e=M(Hn)==="side-by-side",t=gt({breakpoint:"sm"}),n=!!((s=ae.instance().config().actions)!=null&&s.alwaysLayoutChatDetailsOverChat);return e&&(t||n)}function qN(e){function t(n,s){return!n||s.length===0?null:g3e(n.text,s.sort((o,r)=>o.position-r.position))}return e.map(n=>{if(n.author!=="ai"||!n.content.find(i=>i.type==="citation"))return n;let o=null,r=[];for(const i of n.content)if(i.type==="text"){const u=t(o,r);u&&o&&(o.text=u.text,o.citations=u.citationMetadata),r=[],o=i}else i.type==="citation"&&r.push(i);const a=t(o,r);return a&&o&&(o.text=a.text,o.citations=a.citationMetadata),n})}function g3e(e,t){if(!t)return{text:e,citationMetadata:[]};let n=e;const s=[];let o=0;const r=new Map;for(const i of t){const u=i.url;if(!r.has(u)){o+=1;const d=`${o}`;r.set(u,d),s.push({index:d,title:i.title,url:i.url,iconUrl:i.iconUrl??null,publisher:i.publisher??null,snippet:i.snippet??null})}}const a=t.map((i,u)=>({citation:i,originalIndex:u})).sort((i,u)=>{const d=u.citation.position-i.citation.position;return d!==0?d:u.originalIndex-i.originalIndex}).map(i=>i.citation);for(const i of a){const u=i.url,d=r.get(u);d!==void 0&&(n=Vse(n,_T(d,i.url),i.position))}return{text:n,citationMetadata:s}}function v3e(){const e=xA(),{conversationId:t}=t1({strict:!1}),{data:n,error:s,isLoading:o}=Ms({queryKey:["sharePage",t],queryFn:()=>C3e(`/conversations/shares/${t}`),staleTime:1/0,enabled:e&&!!t});return{data:n,error:s,isLoading:o}}async function C3e(e){const{data:t,response:n}=await St(e,eZ,{parseOptions:{safe:!0},analytics:{anonymousPath:"/conversations/shares/*"}});if(n.status>=400&&n.status<500)throw new y3e(n.status.toString());return{...t,messages:qN(t.messages.reverse())}}class y3e extends Error{}function b3e(){const e=xA(),{isMediaViewerOpen:t}=Pa(),n=M(So),s=G("share-continue-v2"),{error:o}=v3e();return e?o?!1:s||t||!!n:!0}function py(){return dv("(hover: hover) and (pointer: fine)")}function hy(){const e=M(hn);return!!(e!=null&&e.group)}function ri(e){const t=hy(),n=l3(),s=G("podcast-in-create-drawer"),o=dN(),r=G("quiz-in-create-drawer");if(!t)switch(e){case"podcast":return s;case"researchReport":return o;case"quiz":return r;case"actions":return n;case"image":case"voice":case"uploadFile":default:return!0}switch(e){case"image":return!0;case"podcast":case"researchReport":case"quiz":case"actions":case"voice":case"uploadFile":default:return!1}}const x3e={h550:"550",h600:"600",h700:"700",h760:"760",h840:"840"};function Kp(e){const{breakpoint:t}=e,n=x3e[t];return!dv(`(min-height: ${n}px)`)}const KN=N(),cMe=N(!1),lMe=N(!1),S3e=/\/(?:.*\/)?(ar|vi|gm)-([a-zA-Z0-9]{6,10})/,E3e="gemSnapshotKey";function w3e(){const e=M(KN),{contentPageType:t}=Pa();return c.useMemo(()=>{if(!(!e||!t))try{const n=e.pathname.match(S3e),s=(n==null?void 0:n[2])??null;if(!s)return;switch(t){case"newsGem":{const o=e.searchParams.get(E3e);return o?{type:"newsGem",gemId:s,snapshotKey:o}:void 0}case"newsArticle":return{type:"news",articleId:s};default:return}}catch{return}},[e,t])}function I3e(){const e=Eo(),t=Td();return c.useCallback(async()=>{await e({to:"/agents",params:{},from:t.state.location.pathname})},[e,t.state.location.pathname])}function _3e(){const e=Zt("kill-domain-referrer");return c.useCallback(t=>Io(t,{preventReferrer:e}),[e])}function T3e(){var m,f,h;const e=G("cross-promo-popup"),t=(h=(f=(m=ae.instance().config().crossPromotion)==null?void 0:m.aggressive)==null?void 0:f.popup)==null?void 0:h.secondDay,n=rn(r2),s=!Lp(n,pp),o=rn(pv),r=!Lp(o,2*pp),a=rn(cp),i=t3(a,2),u=M(pC);return c.useMemo(()=>!!(s&&e&&r&&i&&t&&(u===!0?!1:u!==void 0)),[t,e,r,i,s,u])}function A3e(e){const{status:t,eventName:n,source:s,isMobile:o}=e;switch(n){case"crossPromotionStripCard":return{eventName:n,eventInfo_source:s,eventInfo_status:t};case"crossPromotionTopBanner":return{eventName:n,eventInfo_isMobilePlatform:o,eventInfo_status:t};case"copilotMobileCrossSelling":case"crossPromotionProfileBanner":case"crossPromotionProfileMenuItem":return{eventName:n,eventInfo_status:t};default:return{eventName:n,eventInfo_status:t}}}function Fc(e){const{name:t}=e;D.trackEvent({name:t,data:A3e(e)})}function ZN(){const[e,t]=Ue(ir),n=G("cross-promo-popup"),s=G("top-banner-cross-promo-desktop");let o="setting";(n||(e==null?void 0:e.type)==="popup")&&(o="popup"),s&&(o="topBanner"),(e==null?void 0:e.type)==="card"&&(o="bottomRightCard");const r=oe(So);return c.useCallback(()=>{const a=Date.now().toString();An(pv,a);const i=rn(cp);An(cp,(parseInt(i??"0",10)+1).toString()),Fc({name:"interaction",status:"Dismissed",eventName:"crossPromotionStripCard",source:o}),r(null),t(null)},[o,r,t])}const $9=new Map;function k3e(){const{createConversation:e}=ym(),t=M(I1),[n,s]=Ue(je),o=M(KN);return{switchMsnConversation:c.useCallback(async()=>{if(!o||!n)return;const a=o.toString();let i=$9.get(a);if(!i){i=t,n!==t&&(i=await e({shouldNavigateToChat:!1})),i&&(s(i),$9.set(a,i));return}i!==n&&lm({id:i,shouldNavigateToChat:!1})},[o,n,t,e,s])}}const M3e=(e,t)=>{var n,s,o,r;if(e==="light"){const a=(s=(n=ae.instance().config().composer)==null?void 0:n.shadowBoxStyleOverride)==null?void 0:s.outerLargeBoxShadowLight;if(a)return a;if(t)return fve}else if(e==="dark"){const a=(r=(o=ae.instance().config().composer)==null?void 0:o.shadowBoxStyleOverride)==null?void 0:r.outerLargeBoxShadowDark;if(a)return a;if(t)return pve}return dve},N3e=(e,t)=>{var n,s,o,r;if(e==="light"){const a=(s=(n=ae.instance().config().composer)==null?void 0:n.shadowBoxStyleOverride)==null?void 0:s.outerSmallBoxShadowLight;if(a)return a;if(t)return hve}else if(e==="dark"){const a=(r=(o=ae.instance().config().composer)==null?void 0:o.shadowBoxStyleOverride)==null?void 0:r.outerSmallBoxShadowDark;if(a)return a;if(t)return gve}return mve},R3e=e=>e==="dark"?tN:eN;function _f(e){return e?Cve:vve}function P3e(e){return e?bve:yve}function YN(e,t,n){const s=$e();return new Promise((o,r)=>{let a=null;t(s.get(e))&&o(s.get(e));const i=s.sub(e,()=>{const d=s.get(e);t(d)&&(i(),o(d))}),u=()=>{i(),a&&clearTimeout(a)};n&&(a=setTimeout(()=>{u(),r(new Error("Timeout waiting for atom to be ready"))},n))})}function L3e(e){return e.some(t=>t.author==="human"&&t.content.some(n=>n.type==="image"||n.type==="document"))}function uMe(e){var n,s;const t=e.filter(o=>o.author==="human");if(t.length===1){const o=(s=(n=t[0])==null?void 0:n.content.find(r=>r.type==="image"||r.type==="document"))==null?void 0:s.type;return o==="image"?"image":o==="document"?"file":void 0}return L3e(e)?"image|file":void 0}function O3e(e){const n=new URL(e).pathname.split("/").filter(Boolean);return n[n.length-1]??null}async function q9(){qme();const e=$e(),t=O3e(window.location.href);let n;e.set(F2,!0);try{const s=await D3e(`/conversations/shares/${t}/continue`),{id:o,title:r}=s.conversation;n=o;const a=new Date().toISOString(),i={id:o,updatedAt:a,isNew:!1,title:r,history:[],continuedAt:a,group:null};e.set(vt,u=>{const d=new Map(u);return d.set(o,i),d}),e.set(je,o),await U3e(o)}catch(s){throw Gr({title:Rt.t("composer.errors.continue.title"),message:Rt.t("composer.errors.continue.message")}),Kme({shareId:t??"",conversationId:n,error:s instanceof Error?s:new Error(String(s))}),s}finally{e.set(F2,!1)}}async function D3e(e){return(await St(e,UK,{options:{method:"POST"}})).data}const j3e=1e4;async function U3e(e){await YN(vt,t=>{const n=t.get(e);return((n==null?void 0:n.history)??[]).length>0},j3e)}function F3e(e,t,n){if(!e||!t)return!1;const s=e.getTime(),o=t.getTime(),r=n?n.getTime():null;return o<=s||r===null?!1:r<=s}function O5(e,t){const n=Ft(e),s=Ft(t);return n.getTime()>s.getTime()}function Zp(e,t){return mv(e,-t)}const B3e=11,V3e=7,H3e=2,z3e=10,G3e=21,W3e=21,$3e=10,K9=x({daysActive:L(e1())}),D5=x({result:ke(["dismissed","positive","negative"]),date:e1(),dismissCounter:j()});function q3e(e){const t=new Date;let n=e;return e.some(s=>Ah(s,t))||(n=[...e,t]),n.length>$3e?n.slice(-10):n}function K3e(){const e=wt(h4,K9),t=(e==null?void 0:e.daysActive)??[],n=q3e(t),s=Zp(new Date,V3e),o=n.filter(r=>O5(r,s)||Ah(r,s)).length;return n!==t&&Vn(h4,K9,{daysActive:n}),o}function Z3e(){const e=wt(a2,D5);if(!e)return!1;const t=e.result==="positive",n=e.result==="negative"&&O5(e.date,Zp(new Date,W3e)),s=e.result==="dismissed"&&O5(e.date,Zp(new Date,e.dismissCounter>5?G3e:z3e));return t||n||s}function Y3e(e,t){let n="popUpDismiss";t==="negative"?n="appThumbDown":t==="positive"&&(n="appThumbUp"),$t({source:n,conversationId:e});const s=wt(a2,D5),o=(s==null?void 0:s.result)==="dismissed"?s.dismissCounter:0,r={result:t,date:new Date,dismissCounter:t==="dismissed"?o+1:0};Vn(a2,D5,r)}function Yp({className:e,style:t}){return l.jsx("div",{className:le("animate-[shimmer_2s_infinite] bg-black/5 bg-gradient-to-r dark:bg-white/5","from-transparent via-background-150 to-transparent","bg-[length:50%_100%] bg-no-repeat",e),style:t})}function Q3e(e){const{isImageOrVideo:t,isInlineImageOrVideo:n}=e;let s="h-[300px]";return n?s="h-[150px]":t&&(s="h-[144px] sm:h-[176px]"),l.jsx("div",{className:"flex flex-col gap-3 px-4",children:l.jsx(Yp,{className:le("w-full",s),style:{clipPath:"var(--clip-path-squircle-36)"}})})}function Z9(e){const{type:t,length:n}=e;if(t==="ads")return l.jsx("div",{});const s=t==="image"||t==="video",o=t==="inlineImage"||t==="inlineVideo",r=s&&n===1;return l.jsx(G1,{size:"md",stroke:!0,className:le("relative flex",r?"w-[300px]":"w-full","flex-col py-3 transition-opacity duration-300 ease-in-out"),children:l.jsx(Q3e,{isImageOrVideo:s,isInlineImageOrVideo:o})})}function dMe(e){if(e.type==="image")return e.images.length;if(e.type==="video")return e.videos.length}function j5(){return j5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},j5.apply(null,arguments)}function J3e(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var X3e=c.useLayoutEffect,eye=function(t){var n=Ei.useRef(t);return X3e(function(){n.current=t}),n},Y9=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},tye=function(t,n){var s=Ei.useRef();return Ei.useCallback(function(o){t.current=o,s.current&&Y9(s.current,null),s.current=n,n&&Y9(n,o)},[n])},Q9={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},nye=function(t){Object.keys(Q9).forEach(function(n){t.style.setProperty(n,Q9[n],"important")})},J9=nye,Zn=null,X9=function(t,n){var s=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?s+n.borderSize:s-n.paddingSize};function sye(e,t,n,s){n===void 0&&(n=1),s===void 0&&(s=1/0),Zn||(Zn=document.createElement("textarea"),Zn.setAttribute("tabindex","-1"),Zn.setAttribute("aria-hidden","true"),J9(Zn)),Zn.parentNode===null&&document.body.appendChild(Zn);var o=e.paddingSize,r=e.borderSize,a=e.sizingStyle,i=a.boxSizing;Object.keys(a).forEach(function(h){var g=h;Zn.style[g]=a[g]}),J9(Zn),Zn.value=t;var u=X9(Zn,e);Zn.value=t,u=X9(Zn,e),Zn.value="x";var d=Zn.scrollHeight-o,m=d*n;i==="border-box"&&(m=m+o+r),u=Math.max(m,u);var f=d*s;return i==="border-box"&&(f=f+o+r),u=Math.min(f,u),[u,d]}var e8=function(){},oye=function(t,n){return t.reduce(function(s,o){return s[o]=n[o],s},{})},rye=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],aye=!!document.documentElement.currentStyle,iye=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var s=oye(rye,n),o=s.boxSizing;if(o==="")return null;aye&&o==="border-box"&&(s.width=parseFloat(s.width)+parseFloat(s.borderRightWidth)+parseFloat(s.borderLeftWidth)+parseFloat(s.paddingRight)+parseFloat(s.paddingLeft)+"px");var r=parseFloat(s.paddingBottom)+parseFloat(s.paddingTop),a=parseFloat(s.borderBottomWidth)+parseFloat(s.borderTopWidth);return{sizingStyle:s,paddingSize:r,borderSize:a}},cye=iye;function gy(e,t,n){var s=eye(n);c.useLayoutEffect(function(){var o=function(a){return s.current(a)};if(e)return e.addEventListener(t,o),function(){return e.removeEventListener(t,o)}},[])}var lye=function(t,n){gy(document.body,"reset",function(s){t.current.form===s.target&&n(s)})},uye=function(t){gy(window,"resize",t)},dye=function(t){gy(document.fonts,"loadingdone",t)},mye=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],fye=function(t,n){var s=t.cacheMeasurements,o=t.maxRows,r=t.minRows,a=t.onChange,i=a===void 0?e8:a,u=t.onHeightChange,d=u===void 0?e8:u,m=J3e(t,mye),f=m.value!==void 0,h=c.useRef(null),g=tye(h,n),C=c.useRef(0),v=c.useRef(),y=function(){var S=h.current,I=s&&v.current?v.current:cye(S);if(I){v.current=I;var _=sye(I,S.value||S.placeholder||"x",r,o),T=_[0],A=_[1];C.current!==T&&(C.current=T,S.style.setProperty("height",T+"px","important"),d(T,{rowHeight:A}))}},b=function(S){f||y(),i(S)};return c.useLayoutEffect(y),lye(h,function(){if(!f){var E=h.current.value;requestAnimationFrame(function(){var S=h.current;S&&E!==S.value&&y()})}}),uye(y),dye(y),c.createElement("textarea",j5({},m,{onChange:b,ref:g}))},QN=c.forwardRef(fye);function pye(e,t){const n=c.useRef(null);c.useEffect(()=>{const s=e==null?void 0:e.current;if(!s)return;const o=a=>{const i=s.selectionStart,u=s.selectionEnd;if(i!==u&&a.key!=="Backspace"&&a.key!=="Delete")n.current={type:"replace",char:a.key,index:i};else if(a.key==="Backspace"&&i>0){const m=s.value[i-1];m!==void 0&&(n.current={char:m,index:i-1,type:"delete"})}else if(a.key==="Delete"&&i<s.value.length){const m=s.value[i];m!==void 0&&(n.current={char:m,index:i,type:"delete"})}else n.current=null},r=()=>{t&&t(n.current),n.current=null};return s.addEventListener("keydown",o),s.addEventListener("input",r),()=>{s.removeEventListener("keydown",o),s.removeEventListener("input",r)}},[e,t])}const U5="@",hye=new RegExp(`${U5}([^${U5}]*)`,"g");function gye(e,t){return[...e.slice(0,t).matchAll(hye)].map(s=>({keyword:s[1],start:s.index,end:s.index+s[0].length}))}function vye(e,t){const n=gye(e,t);if(n.length===0)return;const s=n[n.length-1];return(s==null?void 0:s.end)===t?s:void 0}function Cye(e){const{className:t,textAreaRef:n,onMentionChange:s,textAreaValue:o,onCancelMention:r}=e,[a,i]=c.useState(void 0),{t:u}=q(),d=c.useRef(!1),m=c.useRef(s),f=c.useRef(null),h=c.useRef(new Set),g=c.useCallback(E=>{E&&E.char===U5&&E.type!=="insert"&&h.current.delete(E.index)},[]),C=c.useCallback(()=>{i(void 0),f.current=null},[i]);pye(n,g),c.useEffect(()=>{m.current=s},[s]);const v=c.useCallback(()=>{const E=n==null?void 0:n.current;if(!E)return;const S=E.selectionStart,I=E.selectionEnd;if(S===I){const _=vye(o,S);_?h.current.has(_.start)?C():(f.current=_,i(T=>T!==_.keyword?_.keyword:T)):C()}},[C,n,o]),y=c.useCallback((E="remove")=>{var A,k;const S=f.current;if(!S)return;if(E==="ignore"){h.current.add(S.start),(A=m.current)==null||A.call(m,{isTrigger:!1}),i(void 0);return}const I=o.slice(0,S.start),_=o.slice(S.end),T=I+_;f.current=null,(k=m.current)==null||k.call(m,{isTrigger:!1}),r==null||r(T)},[r,o]);c.useEffect(()=>{o===""?(C(),h.current.clear()):v()},[v,o,i,C]),c.useEffect(()=>{var E,S;if(!d.current){d.current=!0;return}a!==void 0?(E=m.current)==null||E.call(m,{isTrigger:!0,keyword:a}):(S=m.current)==null||S.call(m,{isTrigger:!1})},[a,m]),c.useEffect(()=>(Ge.on("mention:cancel",y),()=>{Ge.off("mention:cancel",y)}),[y]);const b=a==="";return l.jsxs("div",{className:le("pointer-events-none absolute z-0 overflow-auto contrast-more:-z-10 contrast-less:-z-10 forced-colors:-z-10",t),"aria-hidden":"true",children:[l.jsx("span",{className:"invisible select-none whitespace-pre-wrap break-words",children:o}),b&&l.jsx("span",{className:"text-foreground-550 dark:text-foreground-600",children:u("userInput.mentionPlaceholderText")})]})}function yye(e,t){const n=c.useCallback(async s=>{s.key==="Enter"&&!s.shiftKey&&!t&&await e(s)},[e,t]);ps(n)}function bye(e,t,n){const s=c.useRef(!1),o=c.useCallback(()=>{s.current=!0},[]),r=c.useCallback(()=>{setTimeout(()=>{s.current=!1},100)},[]);return yye(async a=>{var i;(i=e.current)!=null&&i.contains(document.activeElement)&&!s.current&&(a.preventDefault(),await t())},n),{handleCompositionStart:o,handleCompositionEnd:r}}const xye="pointer-events-none cursor-not-allowed select-none shadow-none",Sye="opacity-40",Eye=.25,vy=c.forwardRef((e,t)=>{const{t:n}=q(),{inputValue:s,errorMessage:o,className:r,characterLimit:a,characterLimitErrorMessage:i,disabled:u,placeholder:d=n("userInput.placeholderText"),autoFocus:m=!0,testId:f,setInput:h,setError:g,onBlur:C,onChange:v,onFocus:y,onClick:b,onEnter:E,onKeyDown:S,onPaste:I,onMentionIfEnabled:_,rightButtons:T,isMultiLines:A,"aria-autocomplete":k,"aria-controls":R,disabledClassName:P,inputContainerClassName:V}=e,U=ut(),K=c.useRef(null),Z=c.useRef(null),Y=py()||ae.instance().config().enterKeyButtonEnabled,Q=n("userInput.characterLimitText",{maxCharacters:a.toString()});c.useEffect(()=>{var W;Y&&((W=Z.current)==null||W.focus())},[U,Y]);const ee=c.useCallback(W=>{const{value:ie}=W.target;h(ie),v&&v(ie),ie.length>a?g(i??Q):g(null)},[h,v,a,g,i,Q]);c.useImperativeHandle(t,()=>({updateInputValue:W=>{const ie=W(s);h(ie)},focus:()=>{var W;(W=Z.current)==null||W.focus()},blur:()=>{var W;(W=Z.current)==null||W.blur()},contains:W=>{var ie;return((ie=Z.current)==null?void 0:ie.contains(W))??!1},updateSelectionRange:(W,ie)=>{var Se;(Se=Z.current)==null||Se.setSelectionRange(W,ie)},getTextAreaRef(){return Z}}),[s,h]),ps(W=>{var ie,Se;W.key==="Escape"&&((ie=K.current)!=null&&ie.contains(document.activeElement))&&((Se=Z.current)==null||Se.blur()),S==null||S(W)});const{handleCompositionStart:$,handleCompositionEnd:te}=bye(K,E,!Y),J=u?P??Sye:"";return l.jsxs(ge.div,{className:F("flex grow items-end",u&&xye,J,r),onClick:()=>{var W;b==null||b(),(W=Z.current)==null||W.focus()},ref:K,onBlur:W=>C==null?void 0:C(W),layout:"preserve-aspect",children:[l.jsx(ge.div,{className:"relative grow overflow-hidden",layout:!0,children:l.jsx(ge.div,{className:"relative flex size-full cursor-text overflow-hidden text-black dark:text-white",layout:!0,children:l.jsxs(ge.div,{className:"flex grow flex-col gap-4 py-user-input",layout:!0,transition:{duration:0},children:[l.jsx("div",{className:F("t-custom-scrollbar scrollbar-stable overflow-y-auto px-4",ae.instance().config().showScrollbarOnHover?"scrollbar-container":"",V),children:l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:F(["invisible block h-0 w-0 overflow-hidden",{"whitespace-nowrap":!A}]),htmlFor:"userInput",children:d}),l.jsx(QN,{className:F("font-ligatures-none inline-block h-user-input w-full resize-none overflow-y-hidden whitespace-pre-wrap bg-transparent align-top text-black outline-none placeholder:text-foreground-450 dark:text-white dark:placeholder:text-foreground-600",Go("composer")??"text-base-dense",xd("composerVertical")),disabled:u,placeholder:d,ref:Z,id:Fd,role:"textbox","aria-autocomplete":k,"aria-controls":R,spellCheck:!1,value:s,enterKeyHint:"enter",onChange:ee,onFocus:()=>y==null?void 0:y(s),onCompositionStart:$,onCompositionEnd:te,onPaste:I,autoFocus:m,"data-testid":f}),_&&l.jsx(Cye,{className:F("font-ligatures-none inline-block min-h-user-input w-full resize-none overflow-y-hidden whitespace-pre-wrap bg-transparent align-top text-black outline-none placeholder:text-foreground-450 dark:text-white dark:placeholder:text-foreground-600",Go("composer")??"text-base",xd("composerVertical"),"inset-0"),textAreaRef:Z,textAreaValue:s,onMentionChange:_,onCancelMention:W=>{h(W),g(null)}})]})}),o&&l.jsx("div",{className:"flex min-h-6 select-none items-center px-4 text-foreground-600 text-sm",children:o})]})})}),l.jsx(ge.div,{className:F("relative bottom-0 my-1.5 flex h-9 items-center",T!=null&&T.length?"mx-1.5 w-auto gap-1":"w-0"),children:T==null?void 0:T.map((W,ie)=>l.jsx(pt,{children:l.jsx(ge.div,{initial:Fe,animate:{...nt,transition:{delay:Eye}},transition:{duration:es.default},children:W})},ie))})]})});vy.displayName="UserInput";const JN=e=>c.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M3.556 6.708C3.556 4.989 4.949 3.596 6.667 3.596H22.222C25.659 3.596 28.444 6.382 28.444 9.818V25.374C28.444 27.092 27.052 28.485 25.333 28.485H9.778C6.341 28.485 3.556 25.699 3.556 22.263V6.708Z",fill:"url(#paint0_linear_393_48941)"}),c.createElement("path",{d:"M4.444 6.708C4.444 5.480 5.439 4.485 6.667 4.485H22.222C25.168 4.485 27.556 6.873 27.556 9.818V25.374C27.556 26.602 26.561 27.596 25.333 27.596H9.778C6.832 27.596 4.444 25.208 4.444 22.263V6.708Z",fill:"url(#paint1_linear_393_48941)"}),c.createElement("path",{d:"M4.444 6.708C4.444 5.480 5.439 4.485 6.667 4.485H22.222C25.168 4.485 27.556 6.873 27.556 9.818V25.374C27.556 26.602 26.561 27.596 25.333 27.596H9.778C6.832 27.596 4.444 25.208 4.444 22.263V6.708Z",fill:"url(#paint2_radial_393_48941)"}),c.createElement("path",{d:"M14.900 15.109L9.514 20.497C8.534 21.477 9.228 23.152 10.614 23.152H21.389C22.774 23.152 23.468 21.477 22.488 20.497L17.100 15.109C16.493 14.502 15.507 14.502 14.900 15.109Z",fill:"url(#paint3_linear_393_48941)"}),c.createElement("circle",{cx:20.889,cy:11.152,r:2.222,fill:"url(#paint4_linear_393_48941)"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_393_48941",x1:11.593,y1:3.596,x2:14.944,y2:28.729,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#BBBBBB"}),c.createElement("stop",{offset:1,stopColor:"#888888"})),c.createElement("linearGradient",{id:"paint1_linear_393_48941",x1:10.864,y1:4.485,x2:13.787,y2:27.873,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EBEBEB"})),c.createElement("radialGradient",{id:"paint2_radial_393_48941",cx:0,cy:0,r:1,gradientTransform:"matrix(12.198 18.296 -18.296 6.861 11.827 10.504)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.177083,stopColor:"white"}),c.createElement("stop",{offset:1,stopColor:"#EFEFEF"})),c.createElement("linearGradient",{id:"paint3_linear_393_48941",x1:8.935,y1:11.488,x2:15.591,y2:29.836,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:1e-4,stopColor:"#597493"}),c.createElement("stop",{offset:1,stopColor:"#0F2F56"})),c.createElement("linearGradient",{id:"paint4_linear_393_48941",x1:18.667,y1:6.152,x2:23.495,y2:15.396,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:1e-4,stopColor:"#597493"}),c.createElement("stop",{offset:1,stopColor:"#0F2F56"}))));function wye(e){var k;const{uploadedFile:t,onRemove:n,scenario:s,isUploading:o,role:r,ariaLabel:a,layout:i="grid"}=e,{t:u}=q(),[d,m]=c.useState(null),[f,h]=c.useState(!1),[g,C]=c.useState(!1),v=s==="screenshot"?u("composer.screenshotAdded"):void 0,y=i==="list";c.useEffect(()=>{const R=URL.createObjectURL(t);return h(!1),C(!1),m(R),()=>{URL.revokeObjectURL(R)}},[t]);const b=R=>{h(!0),C(!1),R.target instanceof HTMLImageElement&&URL.revokeObjectURL(R.target.src)},E=R=>{h(!0),C(!0),R.target instanceof HTMLImageElement&&URL.revokeObjectURL(R.target.src)},S=c.useCallback(()=>{n==null||n(),vo({msg:u("fileUpload.imageRemoved")})},[n,u]),I=G("file-upload-card-v2");if(!d)return null;const _=!!((k=ae.instance().config().composer)!=null&&k.smallAttachmentCard)||I,T=o?l.jsxs(ln,{className:F("absolute inset-0 grid place-items-center ",{"bg-transparent":y,"bg-white/80 dark:bg-white/45":!y}),children:[l.jsx(c.Suspense,{fallback:l.jsx("div",{"aria-hidden":!0}),children:l.jsx(it,{type:"spinnerThemed",className:y?"size-8":"size-11"})}),l.jsx(Pi,{msg:u("fileUpload.uploadingImage"),type:"polite"})]}):null,A={"h-small-attachment w-full object-cover":_&&!y,"h-8 w-8":_&&y,"h-32":!_};return l.jsxs(ge.div,{className:le("relative flex max-w-fit shrink-0",{"mt-1 min-w-[58px]":_,"h-32":!_,"flex w-full max-w-full items-center gap-2":y}),layout:"position",initial:Fe,animate:f||y?nt:Fe,exit:Fe,transition:{delay:N_},role:r,"aria-label":a,children:[l.jsxs("div",{className:F("relative",{"h-8 w-8":_&&y,"flex w-full justify-center rounded-xl border border-black/8 bg-acrylic-thin-fallback-light/60 dark:border-white/8 dark:bg-midnight-800/80":!y}),children:[y&&o&&T,(!y||!o)&&g&&l.jsx(JN,{className:le("w-auto rounded-xl border border-black/8 object-contain shadow-inner dark:border-white/8",A),role:"presentation","aria-hidden":!0}),(!y||!o)&&!g&&l.jsx(ge.img,{className:le("size-auto rounded-xl border-none object-contain shadow-inner",A),src:d,role:"presentation",onLoad:b,onError:E,alt:"",draggable:!1})]}),y?l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:F("font-ligatures-none overflow-hidden truncate whitespace-nowrap text-sm"),children:u("library.itemTypes.image")}),l.jsx("p",{className:"line-clamp-1 uppercase text-foreground-600 text-xs",children:t.name.split(".").pop()})]}):null,v&&l.jsx(Pi,{msg:v}),n&&!o&&l.jsx(ge.button,{type:"button",title:u("fileUpload.removeImageWithName",{name:t.name}),"aria-label":u("fileUpload.removeImageWithName",{name:t.name}),onClick:S,className:F("rounded-full p-1",{"absolute end-0.5 top-0.5 m-1  border border-black/20 bg-acrylic-thin-fallback-light/60 fill-black  text-foreground-900 dark:bg-midnight-800/80":!y}),children:l.jsx(an,{className:"size-3","aria-hidden":!0})}),y?null:T]})}const Cy=c.memo(e=>{const{attachment:t,onRemove:n,role:s,ariaLabel:o,layout:r="grid"}=e,{file:a,processing:i,error:u,scenario:d}=t;if(u||!a)return null;const m=Cr(a);return Wl(m)?l.jsx(H3,{onRemove:n,fileName:a.name,fileType:m,isUploading:i,role:s,ariaLabel:o,layout:r}):l.jsx(wye,{uploadedFile:a,onRemove:n,scenario:d,isUploading:i,role:s,ariaLabel:o,layout:r})});Cy.displayName="AttachmentItem";function XN(e){const t=c.useRef(null);c.useEffect(()=>{t.current=document.activeElement;const n=e==null?void 0:e.current;return()=>{n?n.focus():t.current&&t.current.focus()}},[e])}function Iye(e){const{fileName:t,fileType:n,role:s,layout:o="grid"}=e,r=n!==""?n:B3(t);return Wl(r)?l.jsx(H3,{fileName:t,fileType:r,role:s,layout:o}):null}const _ye=[{canHandle:e=>e.startsWith("https://"),getImageSrc:e=>e,shouldReleaseOnLoad:!1},{canHandle:e=>e.startsWith("/attachments")||e.startsWith("/sharing"),getImageSrc:e=>jpe(e),shouldReleaseOnLoad:!0}];function Tye(e){return _ye.find(t=>t.canHandle(e))??null}function Aye({url:e,layout:t="grid"}){const{t:n}=q(),[s,o]=c.useState(null),[r,a]=c.useState(!1),i=t==="list";return c.useEffect(()=>{if(!e){o(null);return}const u=Tye(e);if(!u){o(null);return}(async()=>{const m=await u.getImageSrc(e);o(m),a(u.shouldReleaseOnLoad)})()},[e]),s?l.jsx("img",{className:F("block h-full overflow-hidden bg-background-static-250 object-cover object-center shadow-inner dark:bg-background-static-900",{"rounded-xl":i,"rounded-2xl":!i}),alt:n("chat.uploadedImageAltText"),src:s,onLoad:r?Ope:void 0}):null}function kye(){const{t:e}=q(),t=G("file-upload-card-v2");return l.jsx("div",{className:"flex w-fit justify-end",children:l.jsx("div",{className:F("flex items-center justify-center rounded-xl border ",t?"mt-1 h-small-attachment border-black/8 px-4":"h-32 w-44 border-stroke-250 bg-accent-200 px-4 py-2 dark:bg-accent-250"),children:t?l.jsx(JN,{className:"size-6"}):l.jsx("span",{className:"text-center text-foreground-450 text-sm",children:e("share.imagePlaceholder")})})})}function eR(e){var g;const{messageItem:t,isForSharing:n,imageClassName:s,role:o,layout:r="grid"}=e,{t:a}=q(),i=!Zt("kill-share-c2"),u=G("file-upload-card-v2"),d=G("share-conversation-with-attachments"),m=r==="list";if(t.type==="document")return l.jsx(Iye,{fileType:t.contentType,fileName:t.fileName,role:o,layout:r});const f=t.type==="image"&&t.url.startsWith("/attachments");if(i&&!d&&n&&f)return l.jsx(kye,{});const h=!!((g=ae.instance().config().composer)!=null&&g.smallAttachmentCard)||u;return t.type==="image"?l.jsxs("div",{className:F("inline-block h-full max-w-[min(80%,256px)] align-top",s,{"mt-1 h-small-attachment":h,"flex w-full max-w-full gap-2":m}),role:o,children:[l.jsx("div",{className:F("h-full w-fit min-w-0",{"h-8 w-8":m&&h}),children:l.jsx(Aye,{url:t.url,layout:r})}),m&&l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:F("font-ligatures-none overflow-hidden truncate whitespace-nowrap text-sm"),children:a("library.itemTypes.image")}),l.jsx("p",{className:"line-clamp-1 uppercase text-foreground-600 text-xs",children:(t.url||"").split(".").pop()})]})]}):null}function tR(e){const{onRemove:t,onClose:n,messages:s=[],attachments:o=[],isForSharing:r,restoreFocusRef:a}=e;XN(a);const i=G("file-upload-card-v2"),{t:u}=q();return o.length===0&&s.length===0?null:l.jsxs(dn,{isOpen:!0,fullBleed:!0,className:F("max-h-[580px] min-h-[480px] w-full justify-between p-6",{"sm:w-[640px]":!i,"sm:w-[500px]":i}),onClose:n,dialogName:u("userInput.filePreviewModalTitle"),children:[l.jsx("h1",{className:"w-full shrink-0 text-center leading-8 text-2xl",children:u("userInput.filePreviewModalTitle")}),l.jsx("div",{className:"max-h-[450px] min-h-0 flex-1 overflow-y-auto p-4",children:l.jsx("div",{role:"list",className:F("flex  gap-y-1",{"flex-wrap content-start gap-x-2":!i,"flex-col":i}),children:o.length>0?o.map((d,m)=>l.jsx(Cy,{layout:i?"list":"grid",attachment:d,onRemove:()=>t==null?void 0:t(m),role:"listitem",ariaLabel:u("fileUpload.ariaLabel.listitem",{index:m+1,total:o.length})},`attachment-${m}`)):s.map((d,m)=>l.jsx(eR,{layout:i?"list":"grid",messageItem:d,imageClassName:"h-32",role:"listitem",isForSharing:r},`message-${m}`))})}),l.jsx(ne,{color:i?"subtle-dimmed-inverted":"strong",className:"w-full shrink-0",title:u("common.dismiss"),onClick:n,children:u("common.dismiss")})]})}function Mye(e){var E;const{attachments:t,onRemove:n,onVisibilityChange:s}=e,{t:o}=q(),r=c.useRef(null),a=c.useMemo(()=>t.filter(S=>!S.error),[t]),i=c.useMemo(()=>a.slice(0,hp),[a]),u=c.useMemo(()=>a.slice(hp),[a]),d=u.filter(S=>S.processing).length,[m,f]=c.useState(!1),h=c.useCallback(S=>{const I=t[S];I!=null&&I.file&&(n(S),a.length<=1&&(f(!1),s==null||s(!1)))},[t,n,a,s]),g=c.useCallback(()=>{vo({msg:o("userInput.seeAll"),type:"polite"}),f(!0),s==null||s(!0)},[f,o,s]),C=c.useCallback(()=>{f(!1),s==null||s(!1)},[f,s]),v=d>0?o("userInput.uploadingProcess",{uploadingCount:d,totalCount:u.length}):o("userInput.seeAll"),y=G("file-upload-card-v2"),b=!!((E=ae.instance().config().composer)!=null&&E.smallAttachmentCard)||y;return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative flex max-h-64 min-w-0 max-w-full flex-wrap gap-2 overflow-y-auto overflow-x-hidden p-1",children:[i.map((S,I)=>l.jsx(Cy,{attachment:S,onRemove:()=>h(t.indexOf(S)),ariaLabel:o("fileUpload.ariaLabel.listitem",{index:I+1,total:a.length})},S.id??`file-${I}`)),u.length>0&&l.jsx(ne,{ref:r,"aria-label":v,title:v,color:"overlay-dimmed-inverted",onClick:g,className:F("flex cursor-pointer items-center justify-center rounded-xl border-none px-3.5 py-1 text-sm",{"mt-1 h-small-attachment":b,"h-32":!b}),children:d>0?l.jsxs(l.Fragment,{children:[l.jsx(it,{className:"size-6"}),o("userInput.uploadingProcess",{uploadingCount:d,totalCount:u.length})]}):l.jsx(l.Fragment,{children:o("userInput.seeAll")})})]}),m&&l.jsx(tR,{onClose:C,attachments:t,onRemove:h,restoreFocusRef:r})]})}function Nye(e){const{categories:t,onClose:n,selectedCategoryIndex:s,handleCategoryClick:o}=e,{t:r}=q(),a=c.useRef(null),i=yl(a,{amount:"all"});return c.useEffect(()=>{i&&un({page:"chatPage",element:"chatStarterPillCategory",customData:JSON.stringify({visibleItems:t.map(u=>u.id)})})},[i,t]),l.jsx(cM,{onClose:n,className:"px-3",children:l.jsxs("div",{className:"flex w-full flex-col items-center gap-4",ref:a,children:[l.jsx("h1",{className:"mt-2 px-3 text-lg-strong",children:r("widgets.categorySelectorModalHeader")}),l.jsx("ul",{className:"flex w-full list-none flex-col items-center",role:"list",children:t.map((u,d)=>l.jsx("li",{className:"w-full",children:l.jsx(ne,{className:"w-full",variant:"rect",color:"subtle-dimmed-inverted",title:u.label,onClick:()=>o(d),children:l.jsxs("span",{className:"flex w-full items-center justify-between",children:[l.jsx("span",{className:"truncate text-start",children:u.label}),s===d&&l.jsx(Ch,{className:"ms-2 size-4 shrink-0 text-foreground-600 contrast-more:text-current"})]})})},u.id))})]})})}const Rye="contrast-more:outline contrast-more:after:border-2 contrast-more:after:absolute contrast-more:after:pointer-events-none contrast-more:after:w-2/3 contrast-more:after:h-2/3",Pye="text-foreground-550 active:text-foreground-350 dark:text-foreground-600 active:dark:text-foreground-550",Lye="bg-white/30 safe-hover:bg-black/3 active:bg-black/2 dark:bg-black/3 dark:safe-hover:bg-white/5 dark:active:bg-white/3",Oye="border-[1px] border-black/8 dark:border-white/8",Dye=`${Pye} ${Lye} ${Oye}`;function nR(e){const{children:t,isSelected:n,className:s,onClick:o,disabled:r,unselectedColorClass:a,variant:i="standard",testId:u,ariaLabel:d,ariaSetSize:m,ariaPosInSet:f,dataItemId:h}=e,{focusable:g}=Ra({autoRestoreFocus:!0,forceFocus:!0});let C;return n?C=Ri.strong:i==="flat"?C=Dye:C=Ri[a??"overlay-dimmed-inverted"],l.jsx("button",{disabled:r,type:"button",ref:g.ref,className:F("shadow-none dark:shadow-none",fd,XC["40-base"],e3["40-base"],t5["40-base"],gm,C,s,n&&Rye),onClick:o,role:m?"radio":void 0,"aria-checked":m?n:void 0,"aria-pressed":m?void 0:n||void 0,"aria-label":d,"aria-setsize":m,"aria-posinset":f,"data-spatial-focus-key":g.focusKey,"data-testid":u,"data-item-id":h,children:t})}function jye(e){const{text:t,onClick:n,className:s,testId:o,ariaLabel:r,dataItemId:a}=e;return l.jsx(nR,{isSelected:!1,variant:"flat",className:F("min-w-fit",s),onClick:n,testId:o,ariaLabel:r,dataItemId:a,children:l.jsx("span",{className:"px-1 text-sm",children:t})})}const Uye=1e3;function yy(){var m;const e=!!((m=ae.instance().config().landingPage)!=null&&m.enablePromptedGreetings),t=g3(),n=G("conversation-starter-prompted-greeting-c1"),s=G("qa-conversation-starter-prompted-greeting-c1"),o=G("qa-conversation-starter-prompted-greeting-debug"),r=G("isenvironmentalsignallmgreeting"),a=G("isprovocativesignallmgreeting"),i=G("personalizedgreetings"),u=G("generatefakelatencygreeting");return e&&(!!t||n||s||o||(r||a||u)||i)}function Fye(){const[e,t]=Ue(tA),n=yy();return c.useEffect(()=>{let s;return n?(t(!1),s=window.setTimeout(()=>{t(!0)},Uye)):t(!1),()=>{s&&clearTimeout(s)}},[t,n]),e}const Bye=300,Vye=(e,t)=>{var n;return!e||t===void 0?null:e.type==="categories"?((n=e.categories[t])==null?void 0:n.items)??[]:e.type==="text"?e.items:null};function Hye(e){const{className:t,onWidgetClick:n,pageName:s="chatPage",widgetSource:o,starterPromptsData:r,shouldStackChips:a,shouldCenterChips:i,containerId:u="",selectedCategory:d,onCategoryClick:m}=e,f=c.useRef(null),h=c.useRef(new Set),{t:g}=q(),C=yl(f,{once:!0,amount:"all"}),v=gt({breakpoint:"sm"});c.useEffect(()=>{const E=(d==null?void 0:d.id)??"default";if(C&&f.current&&!h.current.has(E)){h.current.add(E);const S=setTimeout(()=>{requestAnimationFrame(()=>{const I=y(f);un({page:s,scenario:o,element:"chatStarterPills",customData:JSON.stringify({visibleItems:I,totalItems:I.length,category:d==null?void 0:d.id})})})},Bye);return()=>clearTimeout(S)}return()=>{}},[s,C,d==null?void 0:d.id,r,o]);const y=E=>{const S=E.current;if(!S)return[];const I=S.getBoundingClientRect(),_=S.querySelectorAll("[data-item-id]"),T=[];for(const A of _){const k=A.getBoundingClientRect(),R=A.getAttribute("data-item-id"),V=Math.max(0,Math.min(k.right,I.right)-Math.max(k.left,I.left))/k.width;R&&V>=.5&&T.push(R)}return T},b=E=>{const{prompt:S,id:I,actionType:_,source:T,text:A,index:k}=E;ye({pageName:s,source:o,scenario:I,customData:JSON.stringify({prompt:S,text:A,index:k,category:d==null?void 0:d.id})}),n({actionType:_,id:I,prompt:S,source:T})};return l.jsxs(ln,{role:"list",className:F("flex w-full gap-2 px-1 py-1 sm:flex-wrap sm:py-4",a?"mb-3 flex-col items-end space-y-1 sm:flex-row":"scrollbar-container max-h-[110px] overflow-x-auto overflow-y-hidden",i?"sm:justify-center":"sm:justify-start",t),id:u,ref:f,children:[d&&v&&l.jsx(ne,{onClick:m,title:d.label,className:"min-w-fit",color:"overlay-dimmed-inverted",children:l.jsxs("span",{className:"flex items-center gap-2",children:[d.label,l.jsx(us,{className:"size-4 -rotate-90"})]})}),r.map((E,S)=>{const{id:I,text:_}=E,{type:T}=E.action,A="prompt"in E.action?E.action.prompt:void 0,k=g("composer.starterPromptAriaLabel",{text:_,index:S+1,total:r.length});return l.jsx(jye,{text:_,onClick:()=>b({prompt:A,id:I,actionType:T,source:"pills",text:_,index:S}),className:le(a&&"w-auto min-w-min max-w-[80%] text-start"),testId:`starter-prompt-${I}`,ariaLabel:k,dataItemId:I},I)})]})}function zye(e){var y;const{className:t,onWidgetClick:n,pageName:s="chatPage",selectedCategory:o,selectedCategoryIndex:r,onCategoryClick:a}=e,i=M(dh),u=yy(),d=M(tA),{isAppearanceOnHomeEnabled:m}=Lm(),f=m||(i==null?void 0:i.type)==="categories",h=M(C3),g=(y=ae.instance().config().landingPage)==null?void 0:y.stackStarterChipsForSmallScreens;let C="";h?C=h:o&&(C=o.id);const v=Vye(i,r);return u&&!d||!v?null:l.jsx(Hye,{onWidgetClick:n,className:t,pageName:s,starterPromptsData:v,widgetSource:(i==null?void 0:i.source)??"chatStarterPills",shouldStackChips:g,shouldCenterChips:f,containerId:C,selectedCategory:o,onCategoryClick:a})}const Gye=c.lazy(()=>B(()=>import("./starter-prompt-category-DUZwAd0F.js"),__vite__mapDeps([374,1])));function Wye(e){const{className:t,onWidgetClick:n,pageName:s="chatPage"}=e,o=M(dh),r=gt({breakpoint:"sm"}),[a,i]=Ue(Mce),[u,d]=c.useState(!1),m=C=>{var v;C!==a&&(i(C),ye({source:"chatStarterPillCategory",pageName:"chatPage",destination:f?(v=f[C])==null?void 0:v.id:void 0})),d(!1)},f=o&&o.type==="categories"?o.categories.map(C=>({id:C.id,label:C.label})):void 0,h=f&&!r,g=u&&f&&r;return!o||!["text","categories"].includes(o.type)?null:l.jsxs("div",{className:F("mx-auto flex w-full flex-col gap-3 px-2",t),children:[h&&l.jsx(c.Suspense,{fallback:l.jsx("div",{className:"mt-2 h-8 w-full"}),children:l.jsx(Gye,{categories:f,handleCategoryClick:m,selectedCategoryIndex:a,className:"mt-2"})}),l.jsx(zye,{onWidgetClick:n,pageName:s,selectedCategory:f?f[a]:void 0,selectedCategoryIndex:a,onCategoryClick:f?()=>d(!0):void 0}),g&&l.jsx(Nye,{categories:f,handleCategoryClick:m,selectedCategoryIndex:a,onClose:()=>d(!1)})]})}function $ye(e){var r;const{item:t,onClick:n}=e,s=M(je),o=c.useRef(void 0);return c.useEffect(()=>{s&&o.current!==s&&t.onImpression&&(o.current=s,t.onImpression(s))},[s,t]),l.jsxs(ne,{title:t.title,"aria-label":t.title,variant:"rect",color:"subtle-dimmed-inverted",onClick:n,size:"40-base",alignment:"start",className:"min-w-[230px] gap-3 px-3 py-2",testId:t.testId,role:"menuitem",children:[l.jsx("div",{children:t.icon}),l.jsxs("div",{className:"grow text-left",children:[l.jsxs("div",{className:"line-clamp-1 inline-flex gap-1.5 text-sm",children:[t.title,(r=t.tags)==null?void 0:r.map(a=>l.jsx("div",{className:"flex items-center",children:l.jsx(Vu,{color:a.color,children:l.jsx("span",{className:"leading-4",children:a.label})},a.label)},a.label))]}),t.description&&l.jsx("p",{className:"line-clamp-1 leading-4 text-foreground-600 text-xs dark:text-foreground-650",children:t.description})]})]},t.key)}const sR="/static/cmc/assets/dismiss-strong-C4wQ_QdN.svg";function by(e){const{items:t,value:n,defaultValue:s,onSelect:o,onReset:r,onMenuClick:a,disabled:i,showDefaultItemInDropdown:u=!1,renderHeader:d,renderFooter:m,alwaysShowDefault:f=!1,floatingOffset:h=4}=e,g=M(je),C=c.useRef(void 0),{selectedItem:v,dropdownItems:y,selectedNonDefault:b}=c.useMemo(()=>({selectedItem:t.find(E=>E.key===(f?s:n)),dropdownItems:u?t:t.filter(E=>E.key!==s),selectedNonDefault:n!==s&&!f}),[t,n,s,u,f]);return c.useEffect(()=>{g&&C.current!==g&&v&&v.onImpression&&(C.current=g,v.onImpression(g))},[g,v]),l.jsx(Nm,{color:"default",role:"menu",renderTrigger:({openPopover:E})=>v&&l.jsxs(ne,{title:v.title,"aria-label":v.title,variant:"rect",size:"36-sm",disabled:i,color:b?"composer-selected":"subtle-dimmed",className:F("h-9 select-none gap-1 rounded-2xl border border-black/8 dark:border-white/8",v.isIconEnabledInButton?"pe-3 ps-2":"pe-3.5 ps-2.5",v.isChevronEnabledInButton&&"pe-2.5",v.hideButtonTitle&&"p-0"),onClick:S=>{var I;a==null||a(),(I=v.beforeClick)==null||I.call(v,g??""),b?r():E(S)},testId:v.testId,children:[b?l.jsx(xt,{url:sR,className:"size-3.5"}):v.isIconEnabledInButton&&v.icon,!v.hideButtonTitle&&l.jsx("span",{elementtiming:XA,className:"text-sm",children:v.buttonTitle??v.title}),!b&&v.isChevronEnabledInButton&&l.jsx(us,{className:"size-4 rotate-90"})]}),renderSurface:({closePopover:E})=>l.jsxs("div",{className:"flex flex-col",children:[d&&d({closePopover:E}),y.map(S=>l.jsx($ye,{item:S,onClick:I=>{var _;(_=S.beforeSelect)==null||_.call(S,g??""),o(S.key),E(I)}},S.key)),m&&m({closePopover:E})]}),containerClassNames:{surface:"p-1.5 border-white/25 dark:border-stroke-400/25 shadow-tinted-xl"},placement:"bottom-start",floatingOffset:h})}by.displayName="ComposerDropdownButton";const qye=N(null);function xy(){const e=!Zt("kill-coco-isolation"),[t,n]=Ue(qye),s=_r(),o=M(hn),r=((o==null?void 0:o.history.length)??0)>0,a=e&&r,i=t!==null,u=(f,h)=>{n({targetMode:f,onModalConfirm:h})},d=()=>{n(null)};return{isOpen:i,hasConversationHistory:r,shouldAskForConfirmation:a,onConfirm:async()=>{t&&(await s(),t.onModalConfirm(),d())},onOpen:u,onClose:d,targetMode:(t==null?void 0:t.targetMode)??null}}const Kye=[new Set(["chat","smart","study","reasoning","research","computerUse","search"]),new Set(["coco"])];function F5(e,t){let n=null;for(const s of Kye)s.has(e)&&(n=s);return n?n.has(t):!1}const Zye=["chat","coco","smart","reasoning","study","search"];function Yye(e){const{disabled:t=!1}=e,n=Qye(),s=Ul(),o=G("smart-mode-default"),r=G("smart-mode-coachmark"),a=Qs(),{dismissCoachmark:i}=Zo(Fm),{onOpen:u,shouldAskForConfirmation:d}=xy(),m=c.useCallback(y=>{Kt(y),y==="smart"&&i(),E5()},[i]),f=c.useCallback(y=>{if(d&&!F5(a,y)){u(y,()=>{m(y)});return}m(y)},[m,d,a,u]),h=c.useCallback(()=>{Kt(vn()),E5()},[]),g=c.useCallback(()=>{const y=vn();if(d&&!F5(a,y)){u(y,()=>{h()});return}h()},[h,d,a,u]),C=Zye.includes(a)?a:"chat",v=l.jsx(by,{items:n,onSelect:f,value:C,defaultValue:vn(),showDefaultItemInDropdown:!0,onReset:g,disabled:t,onMenuClick:()=>ye({source:"composerChatModeDropdownButton",pageName:"chatPage",customData:JSON.stringify({currentMode:a})})});return s&&r&&!o?l.jsx(fN,{triggerComponent:v,offset:10}):v}function wc(e){return()=>un({element:"composerModeButton",scenario:e,page:"chatPage"})}function Ic(e){return t=>ye({source:"composerModeButton",scenario:e,conversationId:t})}function _c(e){return t=>ye({source:"composerDrawerTypeSheet",scenario:e,conversationId:t})}function Qye(){const{t:e}=q("translation"),t=Ul(),n=BT(),s=G("smart-mode-default"),o=d3(),r=G("study-mode"),a=u3(),i=[],u={key:"smart",title:n.title,icon:l.jsx(xt,{url:iN,className:"size-5"}),description:n.description,testId:"composer-chat-mode-smart-button",isChevronEnabledInButton:!0,onImpression:wc("smart"),beforeSelect:_c("smart"),beforeClick:Ic("exitSmart")};t&&s&&i.push(u);const d={key:"chat",title:e("composer.chatModes.chat.title"),buttonTitle:e("composer.chatModes.chat.title"),icon:l.jsx(xt,{url:rN,className:"size-5"}),description:e("composer.chatModes.chat.description"),testId:"composer-chat-mode-quick-button",onImpression:wc("quick"),beforeSelect:_c("quickResponse"),beforeClick:Ic("showDrawer"),isChevronEnabledInButton:!0,isIconEnabledInButton:!1};i.push(d);const m={key:"coco",title:e("composer.chatModes.coco.title"),icon:l.jsx(xt,{url:oN,className:"size-5"}),description:e("composer.chatModes.coco.description"),testId:"composer-chat-mode-coco-button",onImpression:wc("coco"),beforeSelect:_c("coco"),beforeClick:Ic("exitCoco")};a&&i.push(m);const f={key:"reasoning",title:SS,icon:l.jsx(xt,{url:lN,className:"size-5"}),description:e("composer.chatModes.reasoning.description"),testId:"composer-chat-mode-reasoning-button",onImpression:wc("thinkDeeper"),beforeSelect:_c("thinkDeeper"),beforeClick:Ic("exitThinkDeeper")};mN()||i.push(f);const h={key:"study",title:e("composer.chatModes.study.title"),icon:l.jsx(xt,{url:cN,className:"size-5"}),description:e("composer.chatModes.study.description"),testId:"composer-chat-mode-study-button",onImpression:wc("study"),beforeSelect:_c("study"),beforeClick:Ic("exitStudy")};r&&i.push(h),t&&!s&&i.push(u);const g={key:"search",title:BB,icon:l.jsx(xt,{url:uN,className:"size-5"}),description:e("composer.chatModes.search.description"),testId:"composer-chat-mode-search-button",onImpression:wc("search"),beforeSelect:_c("search"),beforeClick:Ic("exitSearch")};return o&&i.push(g),i}const Jye="/static/cmc/assets/tab-add-6wnFKKVV.svg";function Xye(e){const{onSelectUserOpenedTabs:t}=e,{t:n}=q();return l.jsx(ne,{title:n("composer.multiTabs.addTab"),"aria-label":n("composer.multiTabs.addTab"),variant:"rect",color:"subtle-dimmed-inverted",onClick:t,size:"40-base",alignment:"start",className:"min-w-[230px] rounded-xl p-0",testId:"add-tabs-button",children:l.jsxs("div",{className:"flex h-10 w-full items-center gap-3 rounded-xl px-3 py-2",children:[l.jsx(xt,{url:Jye,className:"size-5"}),l.jsx("div",{className:"grow text-left",children:l.jsx("div",{className:"line-clamp-1 inline-flex gap-1.5 text-sm",children:n("composer.multiTabs.addTab")})})]})})}const ebe="/static/cmc/assets/clipboard-paste-DO-hzNqO.svg",tbe="/static/cmc/assets/paperclip-CMVChwA7.svg";function k0(e){const{onClick:t,onImpression:n,uploadButtonDisabled:s,title:o,icon:r}=e,a=c.useRef(null),i=yl(a,{once:!0,amount:"all"});return c.useEffect(()=>{i&&n&&n()},[i,n]),l.jsx(ne,{ref:a,title:o,"aria-label":o,variant:"rect",color:"subtle-dimmed-inverted",onClick:t,size:"40-base",alignment:"start",className:"min-w-[230px] rounded-xl p-0",testId:"add-images-files",disabled:s,children:l.jsxs("div",{className:"flex h-10 w-full items-center gap-3 rounded-xl px-3 py-2",children:[r,l.jsx("div",{className:"grow text-left",children:l.jsx("div",{className:"line-clamp-1 inline-flex gap-1.5 text-sm",children:o})})]})})}function nbe(e){const{onSelectFile:t,onPasteTextClick:n,uploadButtonDisabled:s,onSelectOneDriveFile:o}=e,{t:r}=q(),a=ut();return l.jsxs("div",{className:"flex flex-col",children:[l.jsx(k0,{onClick:t,uploadButtonDisabled:s,title:r("composer.connector.addImagesFiles"),icon:l.jsx(xt,{url:tbe,className:"size-5"})}),n&&l.jsx(k0,{onImpression:()=>{un({page:a==="/"?"landing":"chat",element:"uploadTextModalCta"})},onClick:n,uploadButtonDisabled:s,title:r("fileUpload.pasteText"),icon:l.jsx(xt,{url:ebe,className:"size-5"})}),o&&l.jsx(k0,{onClick:o,uploadButtonDisabled:s,title:r("composer.addFromOneDrive"),icon:l.jsx(Ih,{className:"size-5"})})]})}const oR=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M7.87869 8.5858C7.48348 8.84756 7.00954 9 6.5 9C5.11929 9 4 7.88071 4 6.5C4 5.11929 5.11929 4 6.5 4C7.88071 4 9 5.11929 9 6.5C9 7.00954 8.84756 7.48348 8.5858 7.8787L10.6213 9.9142C11.0165 9.65244 11.4905 9.5 12 9.5C12.5095 9.5 12.9835 9.65244 13.3787 9.9142L15.4142 7.87869C15.1524 7.48348 15 7.00954 15 6.5C15 5.11929 16.1193 4 17.5 4C18.8807 4 20 5.11929 20 6.5C20 7.88071 18.8807 9 17.5 9C16.9905 9 16.5165 8.84756 16.1213 8.5858L14.0858 10.6213C14.3476 11.0165 14.5 11.4905 14.5 12C14.5 12.5095 14.3476 12.9835 14.0858 13.3787L16.1213 15.4142C16.5165 15.1524 16.9905 15 17.5 15C18.8807 15 20 16.1193 20 17.5C20 18.8807 18.8807 20 17.5 20C16.1193 20 15 18.8807 15 17.5C15 16.9905 15.1524 16.5165 15.4142 16.1213L13.3787 14.0858C12.9835 14.3476 12.5095 14.5 12 14.5C11.4905 14.5 11.0165 14.3476 10.6213 14.0858L8.5858 16.1213C8.84756 16.5165 9 16.9905 9 17.5C9 18.8807 7.88071 20 6.5 20C5.11929 20 4 18.8807 4 17.5C4 16.1193 5.11929 15 6.5 15C7.00954 15 7.48348 15.1524 7.87869 15.4142L9.9142 13.3787C9.65244 12.9835 9.5 12.5095 9.5 12C9.5 11.4905 9.65244 11.0165 9.9142 10.6213L7.87869 8.5858ZM8 6.5C8 5.67157 7.32843 5 6.5 5C5.67157 5 5 5.67157 5 6.5C5 7.32843 5.67157 8 6.5 8C7.32843 8 8 7.32843 8 6.5ZM19 6.5C19 5.67157 18.3284 5 17.5 5C16.6716 5 16 5.67157 16 6.5C16 7.32843 16.6716 8 17.5 8C18.3284 8 19 7.32843 19 6.5ZM6.5 19C7.32843 19 8 18.3284 8 17.5C8 16.6716 7.32843 16 6.5 16C5.67157 16 5 16.6716 5 17.5C5 18.3284 5.67157 19 6.5 19ZM19 17.5C19 16.6716 18.3284 16 17.5 16C16.6716 16 16 16.6716 16 17.5C16 18.3284 16.6716 19 17.5 19C18.3284 19 19 18.3284 19 17.5ZM13.5 12C13.5 11.1716 12.8284 10.5 12 10.5C11.1716 10.5 10.5 11.1716 10.5 12C10.5 12.8284 11.1716 13.5 12 13.5C12.8284 13.5 13.5 12.8284 13.5 12Z",fill:"currentColor",stroke:"currentColor",strokeWidth:.2}));function rR(e){const{isChecked:t,label:n,description:s,onChange:o,accessory:r,disabled:a,testId:i,className:u,labelClassName:d,descriptionClassName:m}=e,f=c.useId(),[h,g]=c.useState(!1),C=Xi(),v=S=>{S.currentTarget.matches(":focus-visible")&&g(!0)},y=()=>g(!1),{focusable:b}=Ra({autoRestoreFocus:!0,forceFocus:!0});let E=t?"bg-system-green-400":"bg-black/20 dark:bg-white/20";return a&&(E="bg-black/20 after:bg-white/40 dark:bg-white/20 dark:after:bg-black/40"),l.jsxs("label",{className:F("flex items-center justify-between gap-4",!a&&"cursor-pointer",u),htmlFor:f,ref:b.ref,"data-testid":i,children:[l.jsxs("div",{className:"flex flex-1 flex-col",children:[l.jsx("span",{className:F("text-foreground-800 text-sm",d),children:n}),s&&l.jsx("span",{className:F("font-medium text-foreground-450 text-sm",m),children:s})]}),l.jsxs("span",{className:"flex flex-row items-center gap-2",children:[r,l.jsx("input",{id:f,type:"checkbox",title:n,checked:t,onChange:S=>o(S.target.checked),onFocus:v,onBlur:y,className:"sr-only",disabled:a}),l.jsx("div",{className:F("relative h-6 w-10 rounded-full","after:absolute after:size-5 after:rounded-full after:transition-all contrast-more:forced-color-adjust-none",C?"rotate-180 after:bottom-[2px] after:end-[2px]":"after:start-[2px] after:top-[2px]",E,!a&&"after:bg-white after:shadow-switch after:hover:scale-110 after:active:w-6",t&&"after:translate-x-4",t&&!a&&"after:active:translate-x-3",h&&"outline outline-2 outline-offset-2")})]})]})}function aR(e){const{isInComposer:t=!1,IconComponent:n,title:s,isToggleOn:o,showToggle:r,showConnect:a=!1,isDisConnected:i=!1,onClickToggle:u,onClickMore:d,onClickConnect:m,description:f}=e,h=F("flex items-center ",t?"gap-3":"gap-2"),g=F("shrink-0",t?"size-4":"size-5"),C=i?z("connector.connect"):z("connector.reconnect");return l.jsxs("div",{className:F(t?"py-1.5 ps-3.5 text-sm":"flex flex-col gap-2 p-2",t&&r?"pe-2.5":"pe-1"),children:[a&&l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:h,children:[l.jsx(n,{className:g}),l.jsx("span",{className:"text-foreground-800 text-sm",children:s})]}),l.jsx(ne,{className:F("px-2 text-sm",t&&"opacity-65 focus-visible:opacity-100 safe-hover:opacity-100"),title:C,size:"28-xxs",color:t?"subtle-dimmed-inverted":"default",onClick:m,children:C})]}),r&&l.jsxs("div",{className:h,children:[l.jsx(n,{className:g}),l.jsx(rR,{className:"w-full",labelClassName:"text-sm",label:s,isChecked:o,onChange:u})]}),!t&&l.jsxs("div",{className:"text-foreground-700 text-xs",children:[l.jsx("span",{className:"me-1",children:f}),l.jsx(ne,{"aria-label":z("connector.moreDetailsAriaLabel",{description:f}),title:z("connector.moreDetails"),className:"inline-block h-auto min-h-0 whitespace-nowrap p-0 leading-none text-foreground-700 underline text-xs",onClick:d,color:"subtle-bright",children:z("connector.moreDetails")})]})]})}function sbe({connectorType:e,triggerSource:t}){const{pushPage:n}=Ir(),s=oe(Ow),{getConnectorAppInfo:o,handleToggle:r}=$l(),{id:a,status:i,title:u,IconComponent:d,description:m}=o(e)??{},f=t==="composer";return c.useEffect(()=>{uM(e,i??"unavailable",f?"composer":"settingsConnectorList")},[e,i,f]),!i||!u||!d||!m?null:l.jsx(aR,{isInComposer:f,IconComponent:d,title:u,description:m,showToggle:i==="disconnected"||i==="ready"||i==="disabled",isToggleOn:i==="ready",showConnect:!1,isDisConnected:!1,onClickConnect:()=>{},onClickToggle:()=>{Hu(e,i,f?"composer":"settingsConnectorList",i==="ready"?"toggleOff":"toggleOn"),r(a,i==="ready"?"disabled":"ready")},onClickMore:()=>{s(e),Hu(e,i,"settingsConnectorList","goToDetail"),n("connector-detail")}})}function obe({connectorType:e,triggerSource:t,closePage:n}){const{pushPage:s,closeSettings:o}=Ir(),r=oe(Ow),{getConnectorAppInfo:a,handleConnect:i,handleToggle:u}=$l(),{id:d,status:m,title:f,IconComponent:h,description:g}=a(e)??{},C=t==="composer",v=c.useRef(null),y=yl(v,{amount:"all",once:!0});c.useEffect(()=>{y&&uM(e,m??"unavailable",C?"composer":"settingsConnectorList")},[e,m,C,y]);const b=c.useCallback(I=>{i(e,C?"composer":"settingsConnectorList"),Hu(e,m,C?"composer":"settingsConnectorList","connect"),o(),n==null||n(I)},[e,m,i,o,n,C]),E=c.useCallback(()=>{Hu(e,m,C?"composer":"settingsConnectorList",m==="ready"?"toggleOff":"toggleOn"),u(d,m==="ready"?"disabled":"ready")},[e,m,u,d,C]),S=c.useCallback(()=>{r(e),Hu(e,m,C?"composer":"settingsConnectorList","goToDetail"),s("connector-detail")},[e,m,s,r,C]);return!m||!f||!h||!g?null:l.jsx("div",{ref:v,children:l.jsx(aR,{isInComposer:C,IconComponent:h,title:f,description:g,showToggle:m==="ready"||m==="disabled",isToggleOn:m==="ready",showConnect:m==="disconnected"||m==="sign-in-required",isDisConnected:m==="disconnected",onClickConnect:b,onClickToggle:E,onClickMore:S})})}const Sy=()=>{const e=G("settings-as-modal"),t=Vp({key:"useDialogLayout",default:!1}),n=gt({breakpoint:"sm"});return e&&!n&&!t};function rbe(e,t){D.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionElement:"composerCreateButton",eventInfo_impressionScenario:e??"off",eventInfo_conversationId:t}})}function iR(e){D.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionElement:"composerScreenshotButton",eventInfo_conversationId:e}})}function abe(e,t){D.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"composerCreateButton",eventInfo_clickScenario:ibe(e),eventInfo_conversationId:t}})}function ibe(e){if(!e)return"showDrawer";switch(e){case"actions":return"exitActions";case"image":return"exitImage";case"podcast":return"exitPodcast";case"researchReport":return"exitResearchReport";case"quiz":return"exitQuiz";case"video":return"exitVideo";default:return"showDrawer"}}function cR(e){D.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"composerScreenshotButton",eventInfo_conversationId:e}})}function lR(e,t){D.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:e,eventInfo_clickScenario:t}})}function cbe(e,t){const n=t==null?void 0:t.dataset.spatialFocusKey;n&&(e==null||e.setFocus(n,{}))}function lbe(e){c.useEffect(()=>(window.addEventListener("keyup",e),()=>{window.removeEventListener("keyup",e)}),[e])}function ube(e){const{title:t,onClickBack:n,rightView:s,onClickClose:o}=e,r=c.useRef(null),a=CT(),i=Sy(),u=o&&!i?l.jsx(ne,{title:z("common.closeText"),variant:"circle",size:"32-xs",onClick:o,className:"col-start-3 justify-self-end",color:"subtle-bright-inverted",testId:"close-settings-button",children:l.jsx(an,{className:"size-5","aria-hidden":!0})}):null;return lbe(d=>{d.key==="Enter"&&r.current&&r.current.focus(),(d.key==="Enter"||K3(d))&&cbe(a,r.current)}),l.jsxs("div",{className:"flex items-center pb-4",children:[l.jsx(ne,{ref:r,variant:"square",color:"subtle-dimmed-inverted",size:"32-xs",title:z("common.backText"),onClick:n,testId:"nav-header-back-button",children:l.jsx(Ml,{className:"size-5 -rotate-90"})}),l.jsx("h2",{className:le("mt-px grow text-center uppercase text-foreground-450 text-xs dark:text-foreground-600",!s&&"pe-8"),children:t}),s??u]})}function uR({triggerSource:e="settings",closePage:t}){const n=e==="composer",o=!Sy()&&!n,{goBackOrClose:r}=Ir(),{getSortedConnectors:a,isFirstParty:i}=$l(),[u,d]=a(),m=gt({breakpoint:"md"}),f=h=>i(h.type)?l.jsx(sbe,{connectorType:h.type,triggerSource:e},h.type):l.jsx(obe,{connectorType:h.type,triggerSource:e,closePage:t},h.type);return l.jsxs("div",{className:n?"min-w-60":"pb-3",children:[o&&l.jsx(ube,{title:z("settings.connectedAppsTitle"),onClickBack:r}),l.jsxs("div",{className:F("flex flex-col",!n&&"gap-1.5"),children:[u.map(f),u.length>0&&d.length>0&&l.jsx(ds,{className:n?"mx-2 my-1":"my-2",horizontalMargin:!1,color:"default"}),d.map(f),n&&!m&&l.jsxs(ne,{variant:"rect",title:z("connector.composer.settings"),color:"subtle-dimmed-inverted",className:"h-6 w-full justify-start gap-2.5 px-3 py-1.5 text-sm",onClick:h=>{lR("composer","connectorSettings"),t==null||t(h),setTimeout(()=>{mA("connector-list")},200)},children:[l.jsx(Mm,{className:"size-5 shrink-0"}),l.jsx("div",{className:"text-foreground-800 text-sm",children:z("connector.composer.settings")})]})]})]})}function dbe(e){const{t}=q(),{closeDropdown:n}=e,s=gt({breakpoint:"sm"});return l.jsx(Nm,{color:"default",renderTrigger:({openPopover:o})=>l.jsx(ne,{title:t("composer.connector.useConnector"),"aria-label":t("composer.connector.useConnector"),variant:"rect",color:"subtle-dimmed-inverted",onClick:r=>{o(r),lR("composer","useConnectors")},size:"40-base",alignment:"start",className:"w-full rounded-xl p-0",testId:"add-tabs-button",children:l.jsxs("div",{className:"flex h-10 w-full items-center gap-3 rounded-xl pe-2 ps-3",children:[l.jsx(oR,{className:"size-5"}),l.jsxs("div",{className:"flex grow items-center justify-between text-left",children:[l.jsx("div",{className:"line-clamp-1 inline-flex gap-1.5 text-sm",children:t("composer.connector.useConnector")}),l.jsx(us,{className:"size-4"})]})]})}),renderSurface:({closePopover:o})=>l.jsx("div",{className:"flex flex-col",children:l.jsx(uR,{triggerSource:"composer",closePage:r=>{o(r),n(r)}})}),containerClassNames:{surface:`p-1.5 border-white/25 dark:border-stroke-400/25 shadow-tinted-xl ${s?"":"-ml-2.5"}`},placement:s?"top-start":"right-end"})}const mbe="/static/cmc/assets/screenshot-DXZDs5NE.svg";function fbe(e){const{onTakeScreenshot:t}=e,{t:n}=q(),s=M(je),o=c.useRef(void 0);return c.useEffect(()=>{o.current!==s&&iR(s)},[s]),l.jsx(ne,{title:n("composer.takeScreenshot"),"aria-label":n("composer.takeScreenshot"),variant:"rect",color:"subtle-dimmed-inverted",onClick:r=>{t(r),cR(s)},size:"40-base",alignment:"start",className:"min-w-[230px] rounded-xl p-0",testId:"add-tabs-button",children:l.jsxs("div",{className:"flex h-10 w-full items-center gap-3 rounded-xl px-3 py-2",children:[l.jsx(xt,{url:mbe,className:"size-5"}),l.jsx("div",{className:"grow text-left",children:l.jsx("div",{className:"line-clamp-1 inline-flex gap-1.5 text-sm",children:n("composer.takeScreenshot")})})]})})}const pbe="/static/cmc/assets/add-BTcFT5ig.svg",hbe="/static/cmc/assets/image-zMo0jLdY.svg",gbe="/static/cmc/assets/podcast-BQmBU8ew.svg",vbe="/static/cmc/assets/quiz-mPcJG41j.svg",Cbe="/static/cmc/assets/video-clip-9pviB4uv.svg";function ybe(e,t){switch(e){case"image":return t("composer.create.image.prompt");case"podcast":return t("composer.create.podcast.prompt");case"researchReport":return t("composer.create.researchReport.prompt");case"quiz":return t("composer.create.quiz.prompt");case"actions":return t("composer.create.actions.prompt");case"video":return t("composer.create.video.prompt");case null:default:return""}}function bbe(){const{t:e}=q();return{setComposerCreateModeWithPrefill:c.useCallback(n=>{const s=ybe(n,e);H1(n),s&&bd({prompt:s,prefillSource:"create"})},[e])}}function Ey(){const e=oe(gM),t=c.useCallback(s=>{e(s)},[e]),n=c.useCallback(s=>{e(s)},[e]);return{handleFeatureUpsell:t,handleFeatureLimitReached:n}}function xbe(){const{t:e}=q(),{handleFeatureUpsell:t,handleFeatureLimitReached:n}=Ey(),s=mh();return c.useCallback(()=>{if(s.disabledReason??s.subscriptions.length===0){n({allowUpsell:!1,title:e("proSubscription.modal.featureLimitReached.deepResearch.title"),subtitle:e("proSubscription.modal.featureLimitReached.deepResearch.subtitleIneligible"),payflowEntryPoint:"DeepResearchLimit",dismissButton:e("common.dismiss"),subscriptions:s.subscriptions,upsellReason:"DailyLimit",disabledReason:s.disabledReason??""});return}const{subscriptions:o}=s;let r;o.includes("m365-personal")?r="proSubscription.modal.featureLimitReached.deepResearch.subtitleFree":o.includes("m365-premium")?r="proSubscription.modal.featureLimitReached.deepResearch.subtitleUpgradable":r="",t({allowUpsell:!0,title:e("proSubscription.modal.featureLimitReached.deepResearch.title"),subtitle:e(r),payflowEntryPoint:"DeepResearchLimit",confirmButton:e("actions.proSubscription.subscribeToPro"),dismissButton:e("common.dismiss"),subscriptions:s.subscriptions,upsellReason:"DailyLimit"})},[s,t,e,n])}function Sbe(){const{t:e}=q(),{handleFeatureUpsell:t,handleFeatureLimitReached:n}=Ey(),s=mh();return c.useCallback(()=>{if(s.disabledReason??s.subscriptions.length===0){n({allowUpsell:!1,title:e("proSubscription.modal.featureLimitReached.podcast.title"),subtitle:e("proSubscription.modal.featureLimitReached.podcast.subtitleIneligible"),payflowEntryPoint:"PodcastLimit",dismissButton:e("common.dismiss"),subscriptions:s.subscriptions,upsellReason:"DailyLimit",disabledReason:s.disabledReason??""});return}const{subscriptions:o}=s;let r;o.includes("m365-personal")?r="proSubscription.modal.featureLimitReached.podcast.subtitleFree":o.includes("m365-premium")?r="proSubscription.modal.featureLimitReached.podcast.subtitleUpgradable":r="",t({allowUpsell:!0,title:e("proSubscription.modal.featureLimitReached.podcast.title"),subtitle:e(r),payflowEntryPoint:"PodcastLimit",confirmButton:e("actions.proSubscription.subscribeToPro"),dismissButton:e("common.dismiss"),subscriptions:s.subscriptions,upsellReason:"DailyLimit"})},[s,t,e,n])}function Ebe(){const{t:e}=q(),{handleFeatureUpsell:t,handleFeatureLimitReached:n}=Ey(),s=mh();return c.useCallback(()=>{if(s.disabledReason??s.subscriptions.length===0){n({allowUpsell:!1,title:e("proSubscription.modal.featureLimitReached.video.title"),subtitle:e("proSubscription.modal.featureLimitReached.video.subtitleIneligible"),payflowEntryPoint:"VideoLimit",dismissButton:e("common.dismiss"),subscriptions:s.subscriptions,upsellReason:"DailyLimit",disabledReason:s.disabledReason??""});return}const{subscriptions:o}=s;let r;o.includes("m365-personal")?r="proSubscription.modal.featureLimitReached.video.subtitleFree":o.includes("m365-premium")?r="proSubscription.modal.featureLimitReached.video.subtitleUpgradable":r="",t({allowUpsell:!0,title:e("proSubscription.modal.featureLimitReached.video.title"),subtitle:e(r),payflowEntryPoint:"VideoLimit",confirmButton:e("actions.proSubscription.subscribeToPro"),dismissButton:e("common.dismiss"),subscriptions:s.subscriptions,upsellReason:"DailyLimit"})},[s,t,e,n])}const dR=()=>{const e=hM(),t=$A(),n=KA(),s=ZA(),o=YA(),r=qA(),a=QA();return(t||n||s||o||r||a)&&e};function mR(){const{getSortedConnectors:e}=$l(),[t]=e(),[n,s]=c.useState(!1),[o,r]=c.useState(null),a=c.useMemo(()=>{var m;return((m=t.find(f=>f.type==="one-drive"))==null?void 0:m.status)==="ready"},[t]),i=c.useCallback(()=>{a&&s(!0)},[a]),u=c.useCallback(m=>{r(m)},[r]),d=c.useCallback(()=>{s(!1)},[s]);return{isOneDriveFilePickerOpen:n,setIsOneDriveFilePickerOpen:s,pickedOneDriveItems:o,setPickedOneDriveItems:r,oneDriveConnectorReady:a,selectOneDriveFile:i,onPickCallback:u,onCloseCallback:d}}const t8="create";function wbe(e){const{disabled:t=!1,onPasteTextClick:n,onSelectFile:s,onSelectUserOpenedTabs:o,onTakeScreenshot:r,onSelectOneDriveFile:a,uploadButtonDisabled:i}=e,u=M(D1),d=M(em),m=M(j1),f=M(rd),h=M(_a),g=Qs(),C=M(U1),v=Qt(),y=oe(ka),b=Sbe(),E=xbe(),S=Ebe(),I=hy(),T=dR()&&f.length>0&&!I,A=fR({remainingPodcastGeneration:u,remainingResearchReportGeneration:d,remainingVideoGeneration:m,isUpgradedUser:C}),{oneDriveConnectorReady:k}=mR(),R=RC(),{shouldAskForConfirmation:P,onOpen:V}=xy(),U=NC(),K=c.useRef(U),Z=c.useRef(!1);c.useEffect(()=>{K.current.length>0&&(Z.current=!0),K.current=U},[U]);const{setComposerCreateModeWithPrefill:Y}=bbe(),Q=c.useCallback(ie=>{switch(ie){case"image":Y("image");break;case"podcast":if(u===0){v?b():y({isOpen:!0,scenario:"podcast",reason:"createPodcast"});return}Y("podcast");break;case"researchReport":if(d===0){v?E():y({isOpen:!0,scenario:"researchReport",reason:"createResearchReport"});return}Y("researchReport");break;case"quiz":Y("quiz");break;case"actions":Y("actions");break;case"video":if(m===0){S();return}Y("video");break;default:Y(null);break}},[Y,v,u,d,m,y,b,E,S]),ee=c.useCallback(ie=>{if(ie==="create")return;const Se=QI(ie);if(Se&&P&&!F5(g,Se)){V(Se,()=>{Q(ie)});return}Q(ie)},[g,V,P,Q]),$=c.useCallback(()=>{H1(null),ld(),Kt(vn())},[]);c.useEffect(()=>{U.length===0&&Z.current&&R!==null&&g!=="research"&&g!=="computerUse"&&g!=="study"&&$()},[U,$,g,R]);const te=!!r||!!o||T,J=A.length>1||te,W=!ri("uploadFile");return l.jsx(by,{items:A,onSelect:ee,value:R??t8,defaultValue:t8,onReset:$,disabled:t,onMenuClick:()=>ye({source:"composerCreateButton",pageName:"chatPage"}),alwaysShowDefault:!0,renderHeader:({closePopover:ie})=>h||W?null:l.jsxs(l.Fragment,{children:[l.jsx(nbe,{onSelectFile:Se=>{ie(Se),s()},onPasteTextClick:n?Se=>{ye({source:"uploadTextModalCta"}),n(),ie(Se)}:void 0,uploadButtonDisabled:i,onSelectOneDriveFile:a&&k?()=>{a()}:void 0}),J&&l.jsx(ds,{verticalMargin:!1,className:"my-1.5"})]}),renderFooter:({closePopover:ie})=>l.jsxs(l.Fragment,{children:[te&&l.jsx(ds,{verticalMargin:!1,className:"my-1.5"}),r&&l.jsx(fbe,{onTakeScreenshot:Se=>{ie(Se),r()}}),o&&l.jsx(Xye,{onSelectUserOpenedTabs:Se=>{ie(Se),o()}}),T&&l.jsx(dbe,{closeDropdown:ie})]}),floatingOffset:{mainAxis:4,crossAxis:-10}})}function Za(e,t){return n=>{rbe(e,n),e==="podcast"&&t===0?Jg({entryPoint:"ComposerV4",featureName:"Podcast"}):e==="researchReport"&&t===0?Jg({entryPoint:"ComposerV4",featureName:"DeepResearch"}):e==="video"&&t===0&&Jg({entryPoint:"ComposerV4",featureName:"Video"})}}function Ya(e,t){return n=>{abe(e,n),e==="podcast"&&t===0?Xg({entryPoint:"ComposerV4",featureName:"Podcast"}):e==="researchReport"&&t===0?Xg({entryPoint:"ComposerV4",featureName:"DeepResearch"}):e==="video"&&t===0&&Xg({entryPoint:"ComposerV4",featureName:"Video"})}}function fR({remainingPodcastGeneration:e,remainingResearchReportGeneration:t,remainingVideoGeneration:n,isUpgradedUser:s}){const o=ri("actions"),r=ri("podcast"),a=ri("researchReport"),i=ri("quiz"),u=ri("image"),d=Qt(),m=G("video-gen")&&d,{t:f}=q("translation",{keyPrefix:"composer.create"}),{t:h}=q();return c.useMemo(()=>{const C={key:"create",title:h("common.open"),icon:l.jsx(xt,{url:pbe,className:"size-6"}),hideButtonTitle:!0,testId:"composer-create-button",onImpression:Za(null),beforeClick:Ya(null),isIconEnabledInButton:!0},v={key:"image",title:f("image.title"),icon:l.jsx(xt,{url:hbe,className:"size-5"}),testId:"composer-create-image-button",onImpression:Za("image"),beforeClick:Ya("image")};function y(){return{key:"podcast",title:f("podcast.title"),icon:l.jsx(xt,{url:gbe,className:"size-5"}),testId:"composer-create-podcast-button",onImpression:Za("podcast",e),beforeClick:Ya("podcast",e),tags:e!==null&&!s?[{label:f("podcast.remainingCalls",{remainingCalls:e.toString()}),color:e>0?"neutral":"accent"}]:void 0}}function b(){return{key:"researchReport",title:f("researchReport.title"),icon:l.jsx(xt,{url:aN,className:"size-5"}),testId:"composer-create-research-report-button",onImpression:Za("researchReport",t),beforeClick:Ya("researchReport",t),tags:t!==null&&!s?[{label:f("researchReport.remainingCalls",{remainingCalls:t.toString()}),color:t>0?"neutral":"accent"}]:void 0}}function E(){return{key:"quiz",title:f("quiz.title"),icon:l.jsx(xt,{url:vbe,className:"size-5"}),testId:"composer-create-quiz-button",onImpression:Za("quiz"),beforeClick:Ya("quiz")}}function S(){return{key:"actions",title:f("actions.title"),icon:l.jsx(xt,{url:sN,className:"size-5"}),testId:"composer-create-actions-button",onImpression:Za("actions"),beforeClick:Ya("actions"),tags:s?void 0:[{label:f("actions.labsTag"),color:"accent"}]}}function I(){return{key:"video",title:f("video.title"),icon:l.jsx(xt,{url:Cbe,className:"size-5"}),testId:"composer-create-video-button",onImpression:Za("video",n),beforeClick:Ya("video",n),tags:n!==null&&!s?[{label:f("video.remainingCalls",{remainingCalls:n.toString()}),color:n>0?"neutral":"accent"}]:void 0}}return[C,u?v:void 0,m?I():void 0,a?b():void 0,r?y():void 0,i?E():void 0,o?S():void 0].filter(_=>_!==void 0)},[h,f,u,a,r,i,o,m,e,s,t,n])}function Ibe(e){const{t}=q(),{createMode:n,onReset:s}=e,o=t(`composer.create.${n}.selectedText`);return l.jsxs(ne,{title:o,"aria-label":o,variant:"rect",size:"36-sm",color:"composer-selected",className:F("h-9 select-none gap-1 rounded-2xl border border-black/8 pe-3.5 ps-2.5 dark:border-white/8"),onClick:s,testId:`composer-${n}-mode-selected`,children:[l.jsx(xt,{url:sR,className:"size-3.5"}),l.jsx("span",{className:"text-sm",children:o})]})}function pR(){const[e,t]=c.useState(!1);return c.useEffect(()=>{async function n(){const{uiOverrides:{showScreenshotButton:s=()=>Promise.resolve(!1)}={}}=ae.instance().config(),o=await s();t(o)}n().catch(()=>{})},[]),e}function _be(){const{t:e}=q(),{getAvailableConnectorsCount:t}=$l(),n=t();return l.jsx(pt,{children:n!==0&&l.jsx(ge.div,{initial:{...Fe},animate:{...nt},exit:{...Fe},transition:{duration:.1,ease:"easeInOut"},children:l.jsx(Nm,{color:"default",renderTrigger:({openPopover:s})=>l.jsx(ne,{title:e("connector.composer.buttonTitle"),"aria-label":e("connector.composer.buttonTitle"),variant:"rect",size:"36-sm",color:"subtle-dimmed",className:"h-9 select-none gap-1 rounded-2xl border border-black/8 dark:border-white/8",onClick:s,children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(oR,{className:"size-6"}),l.jsx(pt,{mode:"popLayout",initial:!1,children:n>1&&l.jsx(ge.span,{className:"min-w-4 rounded-full bg-background-700 px-1 text-foreground-100 text-xs-medium",initial:{...Fe,scale:.5},animate:{...nt,scale:1},exit:{...Fe,scale:.5},transition:Lse,children:n})}),l.jsx(us,{className:"size-4 rotate-90"})]})}),renderSurface:({closePopover:s})=>l.jsx("div",{className:"flex flex-col",children:l.jsx(uR,{triggerSource:"composer",closePage:s})}),containerClassNames:{surface:"p-1.5 border-white/25 dark:border-stroke-400/25 shadow-tinted-xl"},placement:"bottom-start",floatingOffset:{mainAxis:4,crossAxis:-4}})})})}function Tbe(e){const{onClose:t,onSubmit:n}=e,{t:s}=q(),[o,r]=c.useState(""),a=ut(),i=c.useRef(null),u=yl(i,{once:!0}),d=o.trim(),m=d.length>0,f=d.length===0;c.useEffect(()=>{u&&un({page:a==="/"?"landing":"chat",element:"uploadTextModal"})},[u,a]);const h=()=>{ye({source:"uploadTextModal",scenario:"close"}),t()},g=()=>{m&&(ye({source:"uploadTextModalCta",scenario:"submit"}),n==null||n(o),t())};return l.jsx(dn,{isOpen:!0,headerText:s("fileUpload.pasteText"),onClose:h,className:"h-[60vh] max-h-128 w-[80vw] max-w-2xl",bottomSheetOnSmall:!0,children:l.jsxs("div",{className:"mt-3 flex size-full flex-col justify-center gap-6",children:[l.jsx(QN,{className:"flex-1 resize-none rounded-xl bg-background-100 p-4 placeholder:text-foreground-650 contrast-more:border-2 dark:text-white",placeholder:s("fileUpload.addTextContentModalPlaceholder"),value:o,autoFocus:!0,ref:i,onChange:C=>r(C.target.value)}),l.jsx(ne,{title:s("common.submitText"),size:"56-xl",color:"strong",disabled:f,onClick:g,children:s("common.submitText")})]})})}const Abe=e=>e==="coco"?{headerI18nKey:"composer.chatModes.coco.newChatConfirmationModal.switchToCocoHeader",descriptionI18nKey:"composer.chatModes.coco.newChatConfirmationModal.switchToCocoDescription"}:{headerI18nKey:"composer.chatModes.coco.newChatConfirmationModal.switchFromCocoHeader",descriptionI18nKey:"composer.chatModes.coco.newChatConfirmationModal.switchFromCocoDescription"};function kbe(){const{t:e}=q(),{onClose:t,onConfirm:n,isOpen:s,targetMode:o}=xy(),{headerI18nKey:r,descriptionI18nKey:a}=Abe(o),i=e(r),u=e("composer.chatModes.coco.newChatConfirmationModal.continueButtonText"),d=e("composer.chatModes.coco.newChatConfirmationModal.stayHereButtonText");return l.jsxs(dn,{isOpen:s,headerText:i,className:"w-full max-w-[448px]",children:[l.jsx("p",{children:l.jsx(mn,{i18nKey:a,components:{bold:l.jsx("strong",{}),br:l.jsx("br",{})}})}),l.jsxs("div",{className:"mt-5 flex flex-col gap-2",children:[l.jsx(ne,{title:u,color:"strong",size:"56-xl",variant:"rect",className:"w-full",onClick:n,children:u}),l.jsx(ne,{title:d,color:"subtle-dimmed",size:"56-xl",variant:"rect",className:"w-full",onClick:t,children:d})]})]})}const Mbe=["chat","smart"];function Nbe(e){const{onPasteText:t,onSelectFile:n,onSelectUserOpenedTabs:s,onTakeScreenshot:o,onSelectOneDriveFile:r,uploadButtonDisabled:a,disabled:i=!1}=e,[u,d]=c.useState(!1),m=RC(),f=dR(),h=M(D1),g=M(em),C=M(j1),v=M(U1),b=fR({remainingPodcastGeneration:h,remainingResearchReportGeneration:g,remainingVideoGeneration:C,isUpgradedUser:v}).find(k=>k.key===m),E=c.useCallback(()=>{H1(null),ld(),Kt(vn())},[]),S=pR(),I=hy(),_=Qs(),T=m!==null&&b?l.jsx(Ibe,{createMode:m,onReset:E}):!I&&l.jsx(Yye,{disabled:i}),A=f&&!I&&Mbe.includes(_);return l.jsxs(l.Fragment,{children:[l.jsx(wbe,{disabled:i,onPasteTextClick:t?()=>d(!0):void 0,onSelectFile:n,onSelectOneDriveFile:r,onSelectUserOpenedTabs:s,onTakeScreenshot:S?o:void 0,uploadButtonDisabled:a}),T,A&&l.jsx(_be,{}),u&&l.jsx(Tbe,{onClose:()=>d(!1),onSubmit:t}),l.jsx(bO,{children:l.jsx(kbe,{})})]})}function Rbe(e){const[t,n]=c.useState(!1),{tab:s,className:o=""}=e,{t:r}=q();return t||!s.favIconUrl?l.jsx(kh,{className:le("size-5",o)}):l.jsx("img",{src:s.favIconUrl,alt:r("composer.multiTabs.tabFavIconAltText"),className:le("size-4 rounded bg-white",o),onError:()=>{n(!0)}})}function Pbe(e){try{return new URL(e).hostname.replace(/^www\./,"")}catch{return null}}function Lbe(e,t=5){const n=new Set;for(const s of e){if(n.size>=t)break;if(s.url){const o=Pbe(s.url);o&&n.add(o)}}return Array.from(n).join(", ")}function Obe(e,t=5){const n=new Set;for(const s of e){if(n.size>=t)break;s.title&&n.add(s.title)}return Array.from(n).join(", ")}function Dbe(e){const{tabs:t}=e,n=c.useMemo(()=>Obe(t,5),[t]),s=t.length-1;return l.jsxs("div",{className:"flex",children:[l.jsx("span",{className:"min-w-0 truncate font-semibold text-foreground-750 text-sm",children:n}),s>0&&l.jsxs("span",{className:"ms-1 font-semibold text-foreground-750 text-sm",children:["+",s]})]})}function jbe(e){const{tabs:t}=e,n=c.useMemo(()=>Lbe(t,5),[t]);return l.jsx("span",{className:"truncate text-foreground-750 opacity-60 text-xs",children:n})}function Ube(e,t){return`${e.id}-${e.url??""}-${t}`}function hR(e){const{tabs:t,onRemove:n,showRemoveIcon:s,onClick:o,isLoading:r=!1}=e,{t:a}=q(),i=c.useMemo(()=>t.slice(0,3),[t]),u=m=>{m.stopPropagation(),n==null||n()},d=m=>{m.stopPropagation(),o==null||o()};return l.jsxs(ge.div,{className:"relative flex h-[58px] w-full flex-row items-center justify-center gap-2 overflow-hidden rounded-xl border border-black/8 bg-white/90 p-3 dark:border-white/8 dark:bg-background-200/80",layout:"position",initial:Fe,animate:nt,exit:Fe,onClick:d,children:[l.jsx("div",{className:le("flex h-5 min-w-5 flex-none items-center justify-center rounded bg-white/90 dark:bg-background-200/80"),children:i.map((m,f)=>l.jsx(Rbe,{tab:m,className:le(f>0&&"-ms-[6px]")},Ube(m,f)))}),l.jsxs("div",{className:"me-7 flex min-w-0 flex-1 flex-col",children:[l.jsx(Dbe,{tabs:t}),l.jsx(jbe,{tabs:t})]}),r&&l.jsx(ln,{className:"absolute inset-0 grid place-items-center bg-white/80 dark:bg-white/45","data-testid":"multi-tabs-loading",children:l.jsx(c.Suspense,{fallback:l.jsx("div",{"aria-hidden":!0}),children:l.jsx(it,{type:"spinnerThemed",className:"size-11"})})}),s&&l.jsx("button",{type:"button",title:a("composer.removeImage"),"aria-label":a("composer.removeImage"),onClick:u,tabIndex:0,className:"absolute end-0.5 top-0.5 m-1 rounded-full p-1 text-foreground-850 safe-hover:bg-black/5 dark:safe-hover:bg-black/30",children:l.jsx(an,{className:"size-3"})})]})}function Fbe({onClick:e,showRemoveIcon:t=!0,isLoading:n=!1}){const[s,o]=Ue(zo),r=c.useMemo(()=>Array.from(s.values()),[s]);return s.size===0?null:l.jsx("div",{className:"flex min-h-[60px] cursor-pointer flex-col gap-2","data-testid":"manual-multi-tabs-preview-card",children:l.jsx(hR,{showRemoveIcon:t,tabs:r,onRemove:()=>{o(new Map)},onClick:e,isLoading:n})})}const gR=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M11.7498 3C12.1295 3 12.4434 3.28201 12.4931 3.64808L12.5 3.74985L12.5012 11H19.7543C20.1685 11 20.5043 11.3358 20.5043 11.75C20.5043 12.1297 20.2221 12.4435 19.8561 12.4932L19.7543 12.5H12.5012L12.5032 19.7491C12.5033 20.1633 12.1676 20.4993 11.7534 20.4993C11.3737 20.4993 11.0598 20.2173 11.0101 19.8512L11.0032 19.7494L11.0012 12.5H3.7522C3.33798 12.5 3.0022 12.1642 3.0022 11.75C3.0022 11.3703 3.28435 11.0565 3.65043 11.0068L3.7522 11H11.0012L11 3.75015C10.9999 3.33594 11.3356 3 11.7498 3Z"})),mMe=Object.freeze(Object.defineProperty({__proto__:null,default:gR},Symbol.toStringTag,{value:"Module"}));function Bbe({onRef:e,onClick:t,onButtonRef:n}){const{t:s}=q(),o=M(z1);return l.jsx(zs,{data:{title:s("common.open"),testId:"plus-button",isVisible:!0,ariaExpanded:o==="plus",onClick:t},ref:e,onButtonRef:n,children:l.jsx(gR,{className:"size-6","aria-hidden":!0})})}const vR=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M11.7722 3.74407C14.1136 1.40049 17.9126 1.40049 20.2558 3.74363C22.5388 6.0267 22.5974 9.69191 20.4314 12.0458L20.2432 12.2432L11.4432 21.0414L11.4066 21.0717C9.94541 22.3884 7.69141 22.3437 6.28404 20.9363C4.96502 19.6173 4.8429 17.5546 5.91769 16.0979C5.94103 16.0525 5.96928 16.0088 6.00249 15.9677L6.05605 15.908L6.14295 15.8203L6.28404 15.6724L6.28695 15.6753L13.7227 8.22096C13.9886 7.95434 14.4052 7.92958 14.6991 8.14704L14.7834 8.21955C15.05 8.48546 15.0747 8.90209 14.8573 9.19599L14.7848 9.28021L7.19015 16.8933C6.47251 17.7689 6.52239 19.0632 7.33979 19.8806C8.16885 20.7096 9.4885 20.7491 10.3643 19.999L19.197 11.1685C20.9525 9.41089 20.9525 6.56165 19.1951 4.80429C17.4927 3.10185 14.7655 3.04865 12.999 4.64469L12.8312 4.80429L12.8186 4.8186L3.28228 14.3549C2.98939 14.6478 2.51452 14.6478 2.22162 14.3549C1.95536 14.0887 1.93115 13.672 2.149 13.3784L2.22162 13.2943L11.7705 3.74363L11.7722 3.74407Z"})),fMe=Object.freeze(Object.defineProperty({__proto__:null,default:vR},Symbol.toStringTag,{value:"Module"})),CR=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M6.25 3C4.45507 3 3 4.45507 3 6.25V17.75C3 19.5449 4.45507 21 6.25 21H17.75C19.5449 21 21 19.5449 21 17.75V6.25C21 4.45507 19.5449 3 17.75 3H6.25ZM4.5 6.25C4.5 5.2835 5.2835 4.5 6.25 4.5H17.75C18.7165 4.5 19.5 5.2835 19.5 6.25V17.75C19.5 18.7165 18.7165 19.5 17.75 19.5H6.25C5.2835 19.5 4.5 18.7165 4.5 17.75V6.25ZM8 7.5C7.72386 7.5 7.5 7.72386 7.5 8V10.25C7.5 10.6642 7.16421 11 6.75 11C6.33579 11 6 10.6642 6 10.25V8C6 6.89543 6.89543 6 8 6H10.25C10.6642 6 11 6.33579 11 6.75C11 7.16421 10.6642 7.5 10.25 7.5H8ZM8 16.5C7.72386 16.5 7.5 16.2761 7.5 16V13.75C7.5 13.3358 7.16421 13 6.75 13C6.33579 13 6 13.3358 6 13.75V16C6 17.1046 6.89543 18 8 18H10.25C10.6642 18 11 17.6642 11 17.25C11 16.8358 10.6642 16.5 10.25 16.5H8ZM16.5 8C16.5 7.72386 16.2761 7.5 16 7.5H13.75C13.3358 7.5 13 7.16421 13 6.75C13 6.33579 13.3358 6 13.75 6H16C17.1046 6 18 6.89543 18 8V10.25C18 10.6642 17.6642 11 17.25 11C16.8358 11 16.5 10.6642 16.5 10.25V8ZM16 16.5C16.2761 16.5 16.5 16.2761 16.5 16V13.75C16.5 13.3358 16.8358 13 17.25 13C17.6642 13 18 13.3358 18 13.75V16C18 17.1046 17.1046 18 16 18H13.75C13.3358 18 13 17.6642 13 17.25C13 16.8358 13.3358 16.5 13.75 16.5H16Z"})),pMe=Object.freeze(Object.defineProperty({__proto__:null,default:CR},Symbol.toStringTag,{value:"Module"})),yR=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M3 5.75C3 4.23122 4.23122 3 5.75 3H18.25C19.7688 3 21 4.23122 21 5.75V12.0218C20.5368 11.7253 20.0335 11.4858 19.5 11.3135V5.75C19.5 5.05964 18.9404 4.5 18.25 4.5H5.75C5.05964 4.5 4.5 5.05964 4.5 5.75V18.25C4.5 18.9404 5.05964 19.5 5.75 19.5H11.3135C11.4858 20.0335 11.7253 20.5368 12.0218 21H5.75C4.23122 21 3 19.7688 3 18.25V5.75ZM23 17.5C23 14.4624 20.5376 12 17.5 12C14.4624 12 12 14.4624 12 17.5C12 20.5376 14.4624 23 17.5 23C20.5376 23 23 20.5376 23 17.5ZM18.0006 18L18.0011 20.5035C18.0011 20.7797 17.7773 21.0035 17.5011 21.0035C17.225 21.0035 17.0011 20.7797 17.0011 20.5035L17.0006 18H14.4956C14.2197 18 13.9961 17.7762 13.9961 17.5C13.9961 17.2239 14.2197 17 14.4956 17H17.0005L17 14.4993C17 14.2231 17.2239 13.9993 17.5 13.9993C17.7761 13.9993 18 14.2231 18 14.4993L18.0005 17H20.4966C20.7725 17 20.9961 17.2239 20.9961 17.5C20.9961 17.7762 20.7725 18 20.4966 18H18.0006Z"})),hMe=Object.freeze(Object.defineProperty({__proto__:null,default:yR},Symbol.toStringTag,{value:"Module"})),Cu=le("flex w-full flex-row items-center gap-2");function Vbe(e){const{startNewChatDisabled:t,startNewConversation:n,selectFile:s,selectOneDriveFile:o,takeScreenshot:r,selectUserOpenedTabs:a,uploadButtonDisabled:i=!1}=e,u=c.useRef(null),{t:d}=q(),m=M(_a),f=M(je),h=c.useRef(void 0);return Ji(u),c.useEffect(()=>{r&&h.current!==f&&iR(f)},[f,r]),l.jsxs(kr,{className:"pointer-events-auto relative flex flex-col rounded-2xl contrast-more:border-2","data-testid":"composer-plus-menu",role:"menu",circular:!0,children:[l.jsx(ne,{role:"menuitem",variant:"rect",color:"subtle-dimmed-inverted",title:d("composer.startNewChat"),onClick:n,testId:"new-chat-button",ref:u,disabled:t,children:l.jsxs("div",{className:Cu,children:[l.jsx(Am,{className:"size-6"}),d("composer.startNewChatShort")]})}),s&&!m&&l.jsx(ne,{role:"menuitem",variant:"rect",color:"subtle-dimmed-inverted",title:d("composer.upload"),disabled:i,testId:"file-upload-button",onClick:g=>{g.preventDefault(),s()},children:l.jsxs("div",{className:Cu,children:[l.jsx(vR,{className:"size-6"})," ",d("composer.upload")]})}),r&&l.jsx(ne,{role:"menuitem",variant:"rect",color:"subtle-dimmed-inverted",title:d("composer.takeScreenshot"),onClick:g=>{g.preventDefault(),g.stopPropagation(),r(),cR(f)},children:l.jsxs("div",{className:Cu,children:[l.jsx(CR,{className:"size-6"}),d("composer.takeScreenshotShort")]})}),o&&l.jsx(ne,{role:"menuitem",variant:"rect",color:"subtle-dimmed-inverted",title:d("composer.addFromOneDrive"),onClick:g=>{g.preventDefault(),g.stopPropagation(),o()},children:l.jsxs("div",{className:Cu,children:[l.jsx(Ih,{className:"size-6"}),d("composer.addFromOneDrive")]})}),a&&l.jsx(ne,{role:"menuitem",variant:"rect",testId:"add-tabs-button",color:"subtle-dimmed-inverted",title:d("composer.multiTabs.addTab"),onClick:g=>{g.preventDefault(),g.stopPropagation(),a()},children:l.jsxs("div",{className:Cu,children:[l.jsx(yR,{className:"size-6"}),d("composer.multiTabs.addTab")]})})]})}function Hbe({startNewChatDisabled:e,uploadButtonDisabled:t=!1,onStartNewConversation:n,onSelectFileIfEnabled:s,onSelectOneDriveFileIfEnabled:o,onTakeScreenshot:r,onSelectUserOpenedTabsIfEnabled:a,onRef:i}){const[u,d]=Ue(z1),m=pR(),h=`plus-menu-${sc()}`,g=u==="plus";return l.jsx(Tm,{isOpen:g,onIsOpenChange:C=>d(v=>C?"plus":v==="plus"?null:v),renderTrigger:C=>l.jsx(Bbe,{onRef:C.ref,onButtonRef:i,onClick:v=>{C.onClick(v),ye({source:"composerPlusButton",pageName:"chatPage",customData:JSON.stringify({isOpen:g})})}}),options:{placement:"top-start",offset:{mainAxis:10,crossAxis:-12},hideOnMenuClick:!0},className:F(Js,"p-2"),children:l.jsx(Vbe,{startNewChatDisabled:e,uploadButtonDisabled:t,startNewConversation:n,selectFile:s,selectOneDriveFile:o,takeScreenshot:m?r:void 0,selectUserOpenedTabs:a})},h)}const bR=async(e,t)=>{pe(xi)&&(e==null||e());try{await YN(xi,n=>!n)}catch{}t==null||t()},gMe=({onTurnstileDisplaying:e,onTurnstileClosed:t})=>c.useCallback(async()=>{await bR(e,t)},[e,t]);function xR(){const e=FT(),t=M(je),n=M(mC),s=M(hn);return wm({queryKey:["history",t],queryFn:async r=>{const{pageParam:a}=r,{url:i,args:u,conversationId:d}=a,m=await St(i,cw,{query:{...u,"api-version":"2"},analytics:{anonymousPath:"/conversations/*/history"},parseOptions:{safe:!0}}).then(f=>f.data);if(m.results.length>0){const f=m.results,h=Yae(f),g=qN(h);e(d,C=>{var v;C.length===0&&WZ(s,(v=g.at(0))==null?void 0:v.createdAt),g.reverse(),C.unshift(...g)})}return m},initialPageParam:{url:t?`/conversations/${t}/history`:"",conversationId:t??""},getNextPageParam:r=>r.next&&t?{url:`/conversations/${t}/history`,args:{cursor:r.next},conversationId:t}:null,enabled:!!t&&!(n!=null&&n.prompt)})}function zbe(){const e=!Zt("kill-cf-turnstile");return G("cf-turnstile-voice")&&e}const Gbe=null,Wbe=1500;function $be(e){return e instanceof Error&&(e.name==="NotFoundError"||e.name==="OverconstrainedError")}function Tf(){if(xo()==="study"&&be("study-mode-voice"))return"study"}function qbe({initAudio:e,getAudioConstraints:t,onCallTerminated:n,onSpeechEndDetected:s,shouldRefetchHistory:o=!0,eventListeners:r=[]}){const a=oe(bi),i=oe(fY),u=oe(bo),d=G("voice-disable-greeting-for-reconnected"),m=lh(),f=oe(F4),h=M(je),g=M(T1),C=M(Jd),[v,y]=Ue(ni),b=oe(eY),E=oe(_i),S=oe(Il),I=G("voice-speed"),_=M(mQ),T=FT(),{refetch:A}=xR(),{showBoundary:k}=lS(),{isPortraitEnabled:R,isPortraitV2Enabled:P,portraitId:V,portraitVoiceId:U,portraitScenario:K}=p3(),Z=oe(Ice),Y=oe(ak),Q=oe(hk),ee=c.useRef("inactive"),$=c.useRef(null),te=c.useRef(void 0),J=V5e(),W=c.useRef(0),[ie,Se]=Ue(u0),me=XM.getInstance(),re=zbe();c.useEffect(()=>{e||(Se(!0),y("waiting-for-user-interaction"))},[e,Se,y]),c.useEffect(()=>{ht.AudioIn.toggleMute(ie)},[ie]);const xe=()=>{$.current&&clearTimeout($.current)};c.useEffect(()=>(v!=="checking-availability"&&xe(),xe),[v]);const Ne=c.useCallback(async()=>{h&&(T(h,Me=>Me.splice(0)),await A())},[A,h,T]),Oe=c.useCallback(()=>{ht.AudioOut.stopAudioPlayback(),Bs()&&ht.Animation.stopAnimation()},[]),se=c.useCallback(async(Me,Ie)=>{if(ee.current="ending",ht.AudioIn.stopAudioCapture(),Oe(),Se(!1),Me.sendAudioEnd(),f("idle"),pe(ni)==="available"){ht.AudioOut.playCallEndJingle(),o&&await Ne();const Ze=Tf();me.onEndCall(W.current,Ze),me.trackStartVoiceCall("end"),W.current=0,S($5e(Ie)),R&&Z(!0)}},[Oe,Se,f,o,me,S,R,Ne,Z]),ce=c.useCallback(async Me=>{const{AudioIn:Ie}=ht,Ze=Te=>{Te instanceof CustomEvent&&typeof Te.detail=="string"&&Me.sendAudio(Te.detail)},at=async()=>{ee.current==="active"&&ce(Me),Ie.removeEventListener("audioData",Ze),Ie.removeEventListener("audioTrackEnded",at)};try{Ie.setOnClientSideVoiceStartDetected(()=>me.onClientSpeechStartDetected()),Ie.setOnClientSideVoiceEndDetected(()=>{const Te=Ie.getLastClientVoiceEndTime();Te!==null&&me.onClientSpeechEndDetected(Te)}),me.trackAudioPermission("mic-request"),await Ie.startAudioCapture(t),Ie.addEventListener("audioData",Ze),Ie.addEventListener("audioTrackEnded",at),me.trackAudioPermission("mic-granted")}catch(Te){Te instanceof Error&&(Te.name==="NotAllowedError"||Te.name==="NotSupportedError")?(y("microphone-denied"),await se(Me),D.trackEvent({name:"system",data:{eventName:"copilotNoMicrophoneAccess"}}),me.trackAudioPermission("mic-denied","no_permission",Te.message)):$be(Te)?(y("microphone-not-found"),await se(Me),D.trackEvent({name:"system",data:{eventName:"copilotMicrophoneNotFound"}}),me.trackAudioPermission("mic-denied","no_microphone_found",Te instanceof Error?Te.message:String(Te))):(k(new Error(`Error starting audio capture: ${Te}`)),me.trackAudioPermission("mic-denied","other_start_fail",Te instanceof Error?Te.message:String(Te)))}},[t,y,se,k,me]),X=c.useCallback(Me=>{Se(Me==="mute")},[Se]);c.useEffect(()=>(Ge.on("voice:toggle-mute",X),()=>{Ge.off("voice:toggle-mute",X)}),[X]);const ve=c.useCallback(async Me=>{ht.currentTurnIndex+=1,ht.AudioIn.audioContext||(!It("kill-voice-capture-delay")?setTimeout(()=>{ee.current==="active"&&ce(Me)},Wbe):ce(Me));const Ie=I?_:Ud;await ht.AudioOut.initialize(Ie),await ht.Animation.initialize(Bs())},[_,I,ce]),Re=c.useCallback(()=>{if(R)return"portrait";const Me=ae.instance().config().audioConfigClientType;if(Me)return Me;if(Bs())return"character"},[R]),qe=c.useCallback(()=>{var Me;return U??C??((Me=g[0])==null?void 0:Me.id)},[U,C,g]),Xe=c.useCallback(()=>V?[{type:"portrait",portraitId:V,scenario:P?K:void 0}]:void 0,[P,V,K]),et=c.useCallback((Me,Ie,Ze)=>{const at=Re(),Te=qe(),dt=Tf(),At=Xe();te.current=at,Me.sendAudioStart({conversationId:Ie,options:{voice:Te,initiator:Ze},clientType:at,mode:dt,context:At});const Bt=1e4;xe(),$.current=setTimeout(()=>{pe(ni)==="checking-availability"&&ee.current==="active"&&(y("start-timeout"),me.onAudioStartTimeout(Bt),me.trackStartVoiceCall("fail","start_timeout"))},Bt)},[Re,qe,Xe,y,me]),fe=c.useCallback(async(Me,Ie)=>{if(!Ie||!e||ee.current==="ending")return;y("checking-availability"),b(null),Ape()&&await bR(),et(Me,Ie),ht.currentTurnIndex=0;const Ze=Tf();me.onStartCall(Ie,Ze),me.trackStartVoiceCall("start"),await ht.AudioOut.playCallStartJingle(),Lc("onStartVoiceChat")},[e,y,me,b,et]),Ee=c.useCallback(async(Me,Ie)=>{await se(Me,{type:"server-terminated",reason:Ie}),n(Ie)},[se,n]),Ae=c.useRef(null),Ye=c.useCallback(async Me=>{try{if(!Me.length)return;let Ie;const Ze=[];for(const At of Me){if(At.op==="replace"&&At.path==="/selectedComponentPath"&&At.value!==null){Ie=At.value;continue}Ze.push(At)}if(Ie!==void 0&&mt(afe,Ie),!Ae.current){const{applyPatch:At}=await B(async()=>{const{applyPatch:Bt}=await import("./fast-json-patch-index-DS1hydBz.js");return{applyPatch:Bt}},[]);Ae.current={applyPatch:At}}const at=pe(Gx)??[],{applyPatch:Te}=Ae.current,{newDocument:dt}=Te(at,Ze);mt(Gx,dt)}catch{}},[]),De=(Me,Ie)=>{if(!Me)return null;switch(Me.type){case"topicList":return Array.isArray(Me.topics)?{...Me,selectedIndex:Me.selectedIndex??-1}:{...Me,topics:(Ie==null?void 0:Ie.type)==="topicList"?Ie.topics:null};case"summary":return Me;default:return null}},Ke=c.useCallback((Me,Ie)=>{const Ze=De(Me,Ie);mt(C5,Ze),m&&i(null)},[m,i]),Be=c.useRef(r);Be.current=r;const Ce=c.useCallback(Me=>Ie=>{var at;const Ze=Tf();switch(Ie.event){case"startMessage":{const{messageId:Te}=Ie;if(me.onStartMessage(Te),me.trackStartVoiceCall("success"),Oe(),ee.current==="inactive")break;ve(Me),y("available"),f("listening");break}case"transcriptEvent":{const{text:Te}=Ie;me.onTranscriptReceived(Te.length);break}case"appendText":{const{messageId:Te}=Ie;me.onTextReceived(Te),m&&i("responding");break}case"audioStartFailed":{const{reason:Te}=Ie,{success:dt}=Zw.safeParse(Te);y(dt?Te:"error"),me.onAudioStartFailed(Te,Ze),me.trackStartVoiceCall("fail","start_fail",Te);break}case"audioTimeRemaining":{const{seconds:Te}=Ie;b(Te);break}case"audio":{if(ee.current==="inactive")break;me.onAudioReceived(Ze),ht.AudioOut.appendAudioData(Ie.audio);break}case"characterAnimation":{me.onCharacterAnimationReceived(),Bs()&&ht.Animation.setFrameData(Ie);break}case"characterAnimationEnd":{me.onCharacterAnimationEnd(),Bs()&&ht.Animation.setAnimationDone();break}case"callUI":{const{callUI:Te}=Ie,dt=pe(C5);Ke(Te,dt),me.onCallUIEventReceived(Ze);break}case"callUIUpdate":{const{update:Te}=Ie;Ye(Te);break}case"characterAppearance":{Bs()&&J&&(me.onCharacterAppearanceReceived({body:Ie.body,props:Ie.props}),ht.Animation.setCharacterAppearance({body:Ie.body,props:Ie.props}),Q(!0));break}case"characterEmotion":{Bs()&&(me.onCharacterEmotionReceived(Ie.emotion,Ie.bodyReaction),ht.Animation.setEmotionData({emotion:Ie.emotion,bodyReaction:Ie.bodyReaction}));break}case"interruptAudio":{f("listening"),a("listening"),m&&i("listening"),me.onAudioInterrupt(Ze),Oe(),Ge.emit("portrait:interrupt-audio");break}case"speechEndDetected":{me.onSpeechEndDetected(Ze),Ge.emit("portrait:end-speech"),a("thinking"),m&&i("thinking");const Te=ht.AudioIn.onServerSpeechEndDetected();Te!==null&&me.onServerVADLatencyMeasured(Te),s==null||s();break}case"callTerminated":{Ee(Me,Ie.reason),me.onTerminated(Ie.reason,Ze);break}case"error":{const{errorCode:Te}=Ie;switch(Te){case"over-turn-limit":{E(0);break}case"character-out-of-capacity":{Me.setCallType("standard");break}}me.onError(Te,Ze);break}case"done":{const{messageId:Te}=Ie;W.current+=1,ht.AudioOut.setAudioDone(),me.onMessageDone({messageId:Te,voiceType:C??((at=g[0])==null?void 0:at.id),audioChatMode:Ze});break}case"banned":{const{expiresAt:Te}=Ie,dt=o3(Te);dt&&(r3(dt,"voice",Te),Oe(),se(Me));break}case"callTypeChanged":{const{callType:Te}=Ie;te.current=Te,u(Te==="character"?Aa:void 0);break}case"challenge":{re&&(ee.current="inactive",y("waiting-for-user-interaction"),f("waiting-for-user-interaction"),mt(u0,!0),Oe());break}}for(const Te of Be.current)try{Te(Ie,te.current)}catch{}},[me,Oe,ve,y,f,m,i,b,Ke,Ye,J,Q,a,s,Ee,E,C,g,se,u,re]),ze=c.useCallback(()=>Me=>{switch(Me.event){case"callEnded":{ee.current="inactive";break}}},[]),Ct=c.useCallback(async(Me,Ie)=>{const{force:Ze=!1}=Ie??{},at=pe(je);if(vl.onVoiceChatToggled(Me,at),Me==="start"&&ee.current!=="inactive"&&!Ze||(Me==="start"&&me.onBeforeStartCall(Bs(),R),Me==="end"&&(ee.current==="inactive"||ee.current==="ending")&&!Ze))return;xe(),ee.current=Me==="start"&&e?"active":"inactive";const Te=await ks({useMockConnection:!!Gbe});if(Me==="start"){const dt=Ce(Te);Te.setOnEvent(dt),Te.setOnOpen(()=>{ee.current==="active"&&at&&pe(ni)==="available"?(Te.setOnEvent(dt),et(Te,at,d?"human":void 0)):(ee.current="inactive",pe(ni)==="available"&&y("checking-availability"))}),Bs()&&J&&await ht.Animation.initSyncHandler(),await fe(Te,at)}else Te.setOnEvent(ze()),await se(Te),Ge.emit("voice:call-ended")},[e,me,Ce,J,fe,et,y,ze,se,d,R]);return c.useEffect(()=>{async function Me(){if(!re||!e)return;pe(u0)&&X("unmute"),pe(F4)==="waiting-for-user-interaction"&&((await ks()).sendAudioEnd(),await Ct("start",{force:!0}))}return Ge.on("challenge:success",Me),()=>{Ge.off("challenge:success",Me)}},[e,X,Ct,re]),c.useEffect(()=>{const{AudioOut:Me}=ht,Ie=()=>{Y(!0),f("responding"),a("responding"),me.onAudioStart()},Ze=()=>{Y(!1),f("listening"),a("listening"),me.onAudioEnd()};return Me.addEventListener("audioStart",Ie),Me.addEventListener("audioEnd",Ze),()=>{Me.removeEventListener("audioStart",Ie),Me.removeEventListener("audioEnd",Ze)}},[a,Y,f,me]),{toggleVoiceChat:Ct,toggleMute:X,isInputMuted:ie,inputVolume:ht.AudioIn.volume}}const Kbe=3,Zbe=10,Ybe=3,n8={SUCCESS:"success",FAILED:"failed"};function Qbe({toggleVoiceChat:e,enabled:t=!1,enabledForCallTypes:n}){const s=c.useRef(e);s.current=e;const o=c.useRef({hasAudio:!0,hasText:!0,retryCount:0,consecutiveErrors:0,isFirstTurn:!0}),[r,a]=c.useState(!1),i=M(je),u=c.useCallback(C=>{const v=o.current;let y="initialAutoRetry";r?y="userManualRetry":v.isFirstTurn?y="initialAutoRetry":v.consecutiveErrors>0&&(y="backendAutoRecover");const b=JSON.stringify({retryCount:v.retryCount,consecutiveErrors:v.consecutiveErrors});D.trackEvent({name:"system",data:{eventName:"voiceRecoveryEventData",eventInfo_result:C,eventInfo_scenario:y,eventInfo_customData:b,eventInfo_conversationId:i??""}})},[r,i]),d=c.useCallback(async()=>{s.current("end",{force:!0}),await i3(),s.current("start",{force:!0}),o.current.isFirstTurn=!0,o.current.retryCount+=1},[]),m=c.useCallback(()=>{u(n8.FAILED),s.current("end",{force:!0}),o.current.retryCount=0,o.current.consecutiveErrors=0,a(!0)},[u,a]),f=c.useCallback(()=>{(o.current.retryCount>0||o.current.consecutiveErrors>0||r)&&u(n8.SUCCESS),o.current.retryCount=0,o.current.consecutiveErrors=0,a(!1)},[a,u,r]),h=c.useCallback(()=>{const C=o.current;if(!r&&C.isFirstTurn&&C.retryCount<Zbe){d();return}if(!(!C.isFirstTurn&&!r&&(C.consecutiveErrors+=1,C.consecutiveErrors<Ybe))){if(r&&C.retryCount<Kbe){d();return}m()}},[r,d,m]);return{voiceRecoveryHandler:c.useCallback((C,v="standard")=>{if(t&&!(n&&!n.includes(v)))switch(C.event){case"startMessage":o.current.hasAudio=!1,o.current.hasText=!1;break;case"appendText":o.current.hasText=!0;break;case"audio":o.current.hasAudio=!0,f();break;case"done":o.current.hasText&&!o.current.hasAudio&&h(),o.current.isFirstTurn=!1;break}},[f,h,t,n]),isNoAudioErrorVisible:t?r:!1}}function Jbe({isAudioCall:e,onCallTerminated:t,onMute:n,onUnmute:s}){const o=ut(),r=w_(),[a,i]=ih(),u=a==="audioCall",[d,m]=c.useState(!1),{noModalToShow:f,shouldShowTryNowModal:h,shouldShowEducationModal:g}=Tk(),{state:C,setState:v}=N3({defaultValue:!u}),y=G("voice-no-audio-recovery"),b=oe(ni),E=c.useRef(async()=>{}),{voiceRecoveryHandler:S,isNoAudioErrorVisible:I}=Qbe({toggleVoiceChat:E.current,enabled:y,enabledForCallTypes:["standard"]}),_=c.useMemo(()=>[S],[S]),{toggleVoiceChat:T,toggleMute:A,inputVolume:k,isInputMuted:R}=qbe({initAudio:C,onCallTerminated:t,eventListeners:_});E.current=T,c.useEffect(()=>{e?!u&&f&&E.current("start"):E.current("end")},[o,e,u,f]);const P=c.useCallback(Q=>{T("start",{force:Q}),C&&!d&&(m(!0),A("unmute"))},[T,C,d,A]),V=c.useCallback(Q=>{i(),v(!0),T("end",{force:Q})},[i,v,T]),U=c.useCallback(()=>{v(!0),A(R?"unmute":"mute"),R?s==null||s():n==null||n()},[v,A,R,n,s]);c.useEffect(()=>{e&&u&&C&&P()},[C,e,u,P]),c.useEffect(()=>{I&&b("error")},[I,b]);const K=c.useCallback(async(Q=!1)=>{(!e||Q)&&await Z()!=="NotSupported"||(await r({talk:!0}),!h&&!g&&P())},[e,r,g,h,P]);c.useEffect(()=>{u&&K(!0)},[u,K]);async function Z(){return(await RJ.run({onAudioCall:async()=>"NotSupported"})).onAudioCall()}const Y=c.useCallback(Q=>{const{toLocation:ee}=Q,$=ee.pathname;e&&!$.endsWith("/talk")&&E.current("end")},[e]);return E3(Y),c.useEffect(()=>{const Q=()=>{P(!0),Ge.off("voice:call-ended",Q)},ee=$=>{switch($){case"start":P();break;case"end":V();break;case"restart":{Ge.on("voice:call-ended",Q),V(!0);break}}};return Ge.on("composer:request-voice",ee),()=>{Ge.off("composer:request-voice",ee),Ge.off("voice:call-ended",Q)}},[V,P]),{launchAudioCall:K,startAudioCallIfNotStartedAlready:P,endAudioCall:V,toggleAudioInput:U,inputVolume:k,isInputMuted:R,isAudioDeepLink:u,canInitAudio:C}}const SR=crypto.randomUUID();function Xbe(e){return e?{"zh-Hans":"zh-CN","zh-Hant":"zh-TW"}[e]??e:"en-US"}function e4e(){return{sdk:"8.0",messaging:{origin:window.location.origin,channelId:SR},selection:{mode:"multiple"},accessibility:{showFocusOnLoad:!1,enableFocusTrap:!0},authentication:{},entry:{oneDrive:{recent:{}}},typesAndSources:{mode:"files",filters:[...t1e(),...n1e()],pivots:{oneDrive:!0,recent:!0,photos:!1}},commands:{upload:{enabled:!1},createFolder:{enabled:!1}}}}function t4e(){const e=new URLSearchParams({app:"CMC",scenario:"AnalyzeDoc",filePicker:JSON.stringify(e4e()),locale:Xbe(Rt.resolvedLanguage)});return`${ER}/picker?${e.toString()}`}const ER="https://onedrive.live.com";async function wR(){const e=await $J();return(e==null?void 0:e.accessToken)??""}function n4e(e){return e!==null&&typeof e=="object"&&"type"in e&&e.type==="initialize"&&"channelId"in e&&typeof e.channelId=="string"}function s4e({port:e,onClose:t,onPick:n,setIsLoading:s,onError:o}){return async r=>{let a;switch(r.data.type){case"notification":r.data.data.notification==="page-loaded"&&s(!1);break;case"command":switch(e.postMessage({type:"acknowledge",id:r.data.id}),r.data.data.command){case"authenticate":a=await wR(),typeof a<"u"?e.postMessage({type:"result",id:r.data.id,data:{result:"token",token:a}}):(e.postMessage({type:"result",id:r.data.id,data:{result:"error",error:{code:"authTokenError",message:"Could not get OneDrive authentication token."}}}),s(!1),o(),t());break;case"close":t();break;case"pick":r.data.data.items!==void 0&&r.data.data.items.length>0&&r.data.data.items[0]!==void 0&&(n(r.data.data.items),e.postMessage({type:"result",id:r.data.id,data:{result:"success"}}),t());break;default:s(!1),e.postMessage({result:"error",error:{code:"unsupportedCommand",message:r.data.data.command},isExpected:!0}),o(),t();break}break}}}function o4e({onClose:e,onPick:t,onError:n}){const s=c.useRef(null),{t:o}=q(),[r,a]=c.useState(!0);return c.useEffect(()=>{var f;const i=()=>{const h={title:o("composer.errors.attachmentOneDrive.title"),message:o("composer.errors.attachmentOneDrive.message")};n(h),D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"submitMessage",eventInfo_errorMessage:h.message,eventInfo_details:"Error submitting message"}})},u=(f=s.current)==null?void 0:f.contentWindow;let d,m;return u&&(async()=>{const g=u.document.createElement("form");g.method="POST",g.action=t4e(),u.document.body.appendChild(g);const C=u.document.createElement("input");C.type="hidden",C.name="access_token",C.value=await wR(),g.appendChild(C),window.addEventListener("message",v=>{if(v.origin&&v.origin===ER){const y=v.data;if(n4e(y)&&y.channelId===SR){if([m]=v.ports,!m){a(!1),i(),e();return}d=s4e({port:m,onClose:e,onPick:t,onError:i,setIsLoading:a}),m.addEventListener("message",d),m.start(),m.postMessage({type:"activate"})}}}),g.submit()})(),()=>{d&&window.removeEventListener("message",d),m&&m.close()}},[e,t,n,o]),l.jsxs(dn,{isOpen:!0,onClose:e,className:"flex h-[90vh] max-h-[680px] w-[90vw] max-w-[1080px]",fullBleed:!0,children:[r&&l.jsxs("div",{className:"flex size-full items-center justify-center","aria-live":"polite",role:"status","aria-label":o("oneDrive.pickerLoading"),children:[l.jsx("span",{className:"sr-only",children:o("oneDrive.pickerLoading")}),l.jsx(it,{className:"size-20"})]}),l.jsx("iframe",{title:o("onedrive.filePicker"),ref:s,hidden:r,width:"100%",height:"100%"})]})}const r4e=c.lazy(()=>B(()=>import("./wallet-section-BqdKdB9q.js"),__vite__mapDeps([375,1,315,316,317,318,319,376,325,309,310,343,308])).then(e=>({default:e.WalletSection}))),IR=64,a4e=8,vMe={opacity:0,translateY:IR},i4e={opacity:1,scale:1,translateY:0};function c4e(){return xh()?{opacity:1,scale:1,translateY:0}:{opacity:0,translateY:IR}}const Qa="size-6",l4e=c.lazy(()=>B(()=>import("./upsell-block-DA8i8eCM.js"),__vite__mapDeps([377,1,378]))),u4e=c.lazy(()=>B(()=>import("./price-tracking-block-DvLstINS.js").then(e=>e.p),__vite__mapDeps([379,1,326,323,380,329,328])).then(e=>({default:e.PriceTrackingBlock}))),d4e=c.lazy(()=>B(()=>import("./composer-auto-complete-D3TnxWRW.js"),__vite__mapDeps([381,1]))),m4e=c.lazy(()=>B(()=>import("./composer-actions-prompt-suggestions-CbH7ItO6.js"),__vite__mapDeps([382,1,383])).then(e=>({default:e.ComposerActionsPromptSuggestions}))),f4e=c.lazy(()=>B(()=>import("./composer-file-upload-prompt-suggestions-BIjZTTGz.js"),__vite__mapDeps([384,1,383])).then(e=>({default:e.ComposerFileUploadPromptSuggestions}))),p4e=c.lazy(()=>B(()=>import("./voice-options-Dywu6lVA.js").then(e=>e.v),__vite__mapDeps([306,1,307]))),h4e=c.lazy(()=>B(()=>import("./over-task-quota-DG8kUOFj.js"),__vite__mapDeps([385,1,386])).then(e=>({default:e.OverTaskQuota}))),g4e=c.lazy(()=>B(()=>import("./computer-use-task-closed-DecFsr4U.js"),__vite__mapDeps([387,1,388,389,390,391,392,393,394,395,396,397,386])).then(e=>({default:e.ComputerUseTaskClosed}))),v4e=c.lazy(()=>B(()=>import("./safety-risk-card-7AOvpNDV.js"),__vite__mapDeps([398,1,399,386])).then(e=>({default:e.SafetyRiskCard}))),C4e=c.lazy(()=>B(()=>import("./add-to-page-DqKFPmdR.js"),__vite__mapDeps([400,1])).then(e=>({default:e.AddToPage}))),y4e=c.lazy(()=>B(()=>import("./cross-selling-strip-consumer-DxFu8AqT.js"),__vite__mapDeps([401,1,378]))),b4e=c.lazy(()=>B(()=>import("./composer-prompt-review-BPoD6ZpL.js"),__vite__mapDeps([402,1,333]))),M0=c.lazy(()=>B(()=>import("./composer-action-_UseMRvN.js"),__vite__mapDeps([386,1]))),x4e=c.lazy(()=>B(()=>import("./biometric-consent-CqZ1CMik.js"),__vite__mapDeps([403,1])).then(e=>({default:e.BiometricConsent}))),S4e=c.lazy(()=>B(()=>import("./daily-briefing-chat-96XfC14T.js"),__vite__mapDeps([404,1,405,406,407])).then(e=>({default:e.DailyBriefingChat}))),E4e=c.lazy(()=>B(()=>import("./composer-sign-in-CcDEEaBu.js"),__vite__mapDeps([408,1,409]))),w4e=c.lazy(()=>B(()=>import("./daily-briefing-composer-player-B-S3VuqF.js"),__vite__mapDeps([410,1,396,392,393,394,405])));function I4e(e){var bb,xb,Sb;const{suppressBottomSection:t,onInputKeydown:n}=e,{t:s}=q();RX();const{isPortraitEnabled:o}=p3(),r=oe(KT),a=oe(ZT),i=G("image-copy-paste"),u=G("text-paste-modal-file-upload"),d=G("text-paste-file-upload"),m=M(_a),f=$Ce(),h=G("shopping-card"),g=um(),C=G("anonymousattachmentupload"),v=G("onedrive-file-upload"),y=G("ds-editprompt"),b=G("ds-new-progress"),E=!bm(),S=M(eI),I=G("multi-file-upload"),_=G("dr-nano-single-file-upload"),T=G("attachment-suggestions"),A=kl(),k=Eo(),R=w_(),P=I3e(),V=ut(),U=M(cn),K=Ns(),Z=M(Vo),Y=oe(Dd),Q=gt({breakpoint:"sm"}),ee=Kp({breakpoint:"h760"}),$=Kp({breakpoint:"h600"}),te=OX(),J=NC(),W=LX(),[ie,Se]=c.useState(null),[me,re]=Ue(ka),xe=M(oee),Ne=M(ree),Oe=M(nY),se=M(Tw),ce=M(cC),X=M(F2),ve=DX(),Re=WM(),qe=M(hn),Xe=!!(qe!=null&&qe.group),et=M(Pfe),fe=G("file-upload-card-v2"),Ee=Bd(),Ae=!Xe&&ce||ve,{startConversationDisabled:Ye}=ym(),De=M(Wo),[Ke,Be]=c.useState(!1),[Ce,ze]=Ue(So),[Ct,Me]=Ue(ile),[Ie,Ze]=Ue(im),at=oe(fC),Te=M(ir),dt=(Te==null?void 0:Te.type)==="popup",At=T3e(),Bt=dt||At,Rs=ZN(),eo=M(Yie),Ps=(bb=ae.instance().config().composer)==null?void 0:bb.enableAppShadow,Hm=(xb=ae.instance().config().uiOverrides)==null?void 0:xb.hideImageDownloadButton,{isPlaying:Yo,pause:os,resetAllTimers:Kl}=HN(),To=r3e(),cc=jce(),lc=w3e(),Jt=Qt(),Ls=c.useRef(null),Nn=c.useRef(null),Qo=c.useRef(null),Oa=c.useRef(null),{isOneDriveFilePickerOpen:hs,setIsOneDriveFilePickerOpen:uc,pickedOneDriveItems:Ao,setPickedOneDriveItems:Gn,selectOneDriveFile:Os,onPickCallback:Da,onCloseCallback:Pt}=mR(),Jo=G("imagegenv3"),ja=G("logged-out-sharing"),Mr=!Zt("kill-composer-layout-animations"),{isMediaViewerOpen:Wn,closeMediaViewer:zm,isPictureInPictureSupported:Gm,triggerPictureInPicture:Ph,showOneLineComposerWhenMediaViewerOpen:He,contentComposerType:H,contentPageType:_e,triggerVideoDownload:Ve}=Pa(),{trackConsumptionPageComposerClick:Lt,trackConsumptionPageComposerSubmit:En}=KCe(),{switchMsnConversation:nn}=k3e(),kt=Npe(),to=H===Hp.IMAGE_VIEWER,Nr=H===Hp.CLOSE_BUTTON,$n=V.endsWith("/talk"),ft=V.endsWith("/daily"),dc=G("1s-dbchat"),Wm=G("discover-composer-off"),Xo=bh(),ky=ft||Xo,My=wr(),Zl=Sk(),Ua=V.startsWith("/chats")&&!$n,Yl=V.startsWith("/shares"),MP=_e==="weather",Ny=M(ni),{login:NP}=rc(),mc=Ce==="dialog",Ql=f&&Ce==="checkout",RP=b3e(),ko=Qs(),[PP,LP]=c.useState(!1),no=fy(),{isCentralComposerEnabled:Lh,isAutoSuggestEnabled:OP,isStarterPromptsEnabled:DP,isWidgetSectionEnabled:jP,isAppearanceOnHomeEnabled:UP}=Lm(),{floatingStyles:FP,edgeTabMenuRefs:Oh,isMultiTabsMenuExpanded:BP,setIsMultiTabsMenuExpanded:Ry,multiTabsMenuMode:VP,setMultiTabsMenuMode:Py,handleMentionEvent:HP,handleMultiTabsMenuSaveBtnEvent:Ly,handleMultiTabsMenuCloseBtnEvent:Oy,handleUserInputEnterEvent:zP,handleUserInputKeydownEvent:Dy,isMentionTriggered:jy,isFetchingTabsPageContext:Uy}=WCe(),Fy=M(Jie),GP=ko==="coco",Jl=ko==="computerUse",Xl=Lh&&(!Ce||Ce==="biometric-consent"),By=OP&&!Ce&&!Jl,Vy=W==="autosuggest"&&By,Hy=c.useId(),WP=M(iA),$P=DP&&(!Ce||Ce==="biometric-consent")&&!Jl&&!WP&&(!$||Q),qP=Xl&&jP&&!Jl&&(!ee||Q),$m=c.useRef(null),KP=_3e(),ZP=!$n&&!ft&&!Xo&&!Xl&&!Ql&&!MP,zy=(Zl||Ua||My||Yl)&&(!Ce||Ce==="biometric-consent")&&!(Wn&&!He),Dh=Ql,jh=M(LC),Gy=M(rY),[Uh,Wy]=Ue(XX),$y=M(eee);G("multiple-research-tasks-in-conversation");const fc=pte(),eu=M(Hn),Fa=eu==="side-by-side"&&(fc==null?void 0:fc.type)==="computerUse"&&Ua,qy=Nh(),qm=Fa&&!I_(fc.status),tu=Fa&&Ste(fc),YP=Fa&&Ete(fc),QP=ri("voice"),JP=!V.endsWith("/agents")&&!ft&&!My&&!Yl&&!UP&&!Wn&&!A,Km=$y&&!0&&!b,Ky=tu||Fa||ft||Km||Wn||!QP||!Ee,XP=c.useCallback(()=>{const ue=[];if(Nn.current){const We=Nn.current.getTextAreaRef();We.current&&ue.push(We)}return ue},[Nn]),Zy=!(Wn&&!He)&&!$n&&(!Ce||Ce==="daily-briefing-chat"),Zm=Oe||!Zy||qm||tu||YP||Km,[eL,tL]=c.useState(!1),nu=M(JX),Rr=M(QX),[Mo,Yy]=Ue(s_),Fh=Vl(),Qy=()=>{ku(Fm)},Jy=()=>{ku(KM)},Xy=()=>{ku(qM)},Bh=oe(Sn),su=Ce==="prompt-sign-in"||Ce==="prompt-3p-sign-in"||Ce==="prompt-location"||Ce==="prompt-review"||Ce==="confirm-link-navigation"||Ce==="cross-promo-card"||Ce==="shopping-upsell-card"||Ce==="shopping-price-tracking"||Ce==="add-to-page"||Ce==="safety-risk-card"||Ce==="computer-use-task-closed"||Ce==="over-task-quota"||Ce==="daily-briefing-chat"||Ce==="biometric-consent",eb=!$n&&Ce!=="daily-briefing-player"&&Ce!=="audioSettings"&&Ce!=="checkout"&&!su&&!(Wn&&!He),nL=c4e(),sL=c.useCallback(ue=>{Gr(ue)},[]),oL=()=>{var We;const ue=((We=ae.instance().config().composer)==null?void 0:We.homeButtonState)??"enabled";return ue!=="enabled"?ue:Zl?"disabled":"enabled"},rL=c.useCallback(()=>{var ue;(ue=Nn.current)==null||ue.focus(),Ja(!0)},[]),aL=c.useCallback(()=>{Qo.current&&(Qo.current.value="")},[]),pc=c.useCallback((ue,We)=>{re({isOpen:!0,scenario:We??null,reason:ue})},[re]),iL=c.useCallback(()=>{pc("fileUpload")},[pc]),{processUploadedFiles:tb,processUploadedLocalFiles:so,isUploadingAttachments:cL,uploadedAttachments:No,resetFileUpload:lL,removeAttachment:Vh}=h3e(rL,Gr,aL,iL),uL=M(Qie),oo=No.filter(({error:ue})=>!ue),nb=oo.length>0||Fy,dL=cL||no&&Uy,Ba=c1(),sb=!!(J.trim().length>0||nb)&&!Zm,ob=!!((ie&&ie.length>0)===!0||dL||Ae||X||J.trim().length===0&&ko==="computerUse")||!Ee,mL=G("file-upload-config"),hc=M(qo),rb=I&&oo.length>=hc.maxFilesPerMessage||!Ee,[fL,pL]=c.useMemo(()=>{const{reason:ue}=me;return ue?[s(`signInPrompt.${ue}Header`,s("signInPrompt.header")),s(`signInPrompt.${ue}Text`,s("signInPrompt.text"))]:[s("signInPrompt.header"),s(ja?"signInPrompt.textV2":"signInPrompt.textV3")]},[ja,me,s]),[ab,hL]=c.useState({onSubmitCallback:null,onCancelCallback:null}),gL=c.useCallback(()=>{var ue;Ly(),(ue=Nn.current)==null||ue.focus()},[Ly]),vL=c.useCallback(()=>{var ue;jy||(ue=Ls.current)==null||ue.focus(),Oy()},[Oy,jy]),CL=c.useCallback(async()=>new Promise(ue=>{if(pe(nI)||oo.length===0){ue(!0);return}ze("biometric-consent"),hL({onSubmitCallback:()=>{ze(null),ue(!0)},onCancelCallback:()=>{ze(null),ue(!1)}})}),[oo,ze]),yL=c.useCallback(ue=>{var Mt,Gt;if(!(n&&((Mt=Nn.current)!=null&&Mt.contains(document.activeElement))&&(n(ue),ue.defaultPrevented)||Dy(ue))&&ue.key==="ArrowDown"&&(Gt=Nn.current)!=null&&Gt.contains(document.activeElement)&&$m.current){ue.preventDefault();const Pr=$m.current.querySelector("button");Pr&&Pr.focus()}},[Dy,n]),bL=async()=>{var ue;await jn.stopMessage(),(ue=Nn.current)==null||ue.focus()},Ym=async ue=>{var We,Mt;if(Yl&&await q9(),!sb||!J&&!nb||ob){await jn.onSubmitMessageBlocked();return}if(!(Jo&&!await CL())){if(b&&ko==="research"&&$y){const Gt=pe(je);if(Gt){Uf(s("error.researchTaskNotAllowedWhileRunningAnother"),Gt),Kt(vn());return}}Qy(),Jy(),ld(),LL?(Mt=Nn.current)==null||Mt.focus():(We=Nn.current)==null||We.blur(),await HL(ue??J)}},xL=c.useCallback(async ue=>{await R();const{title:We,subtitle:Mt}=W5e(s,ue);Bh({title:We,subtitle:Mt,dismissAfter:3e3})},[R,Bh,s]),Hh=M(ak),{launchAudioCall:SL,startAudioCallIfNotStartedAlready:EL,endAudioCall:zh,toggleAudioInput:wL,inputVolume:IL,isInputMuted:_L,isAudioDeepLink:TL,canInitAudio:AL}=Jbe({isAudioCall:$n,onCallTerminated:xL,onMute:()=>$t({source:"audioCall",scenario:"mute"})});c.useEffect(()=>{xe&&(ze(Fh?"prompt-3p-sign-in":"prompt-sign-in"),me.isOpen&&re({...me,isOpen:!1,reason:me.reason??(Oe?"overTurnLimit":null)}),Ja(!0))},[ze,re,xe,me,Fh,Oe]),c.useEffect(()=>{Ne&&("geolocation"in navigator?setTimeout(()=>{ze("prompt-location"),Ja(!0),An("hasBeenPromptedForLocation","true"),D.trackEvent({name:"interaction",data:{eventName:"locationPrompt",eventInfo_action:"seen"}})},kB):D.trackEvent({name:"system",data:{eventName:"geolocationUnavailable"}}))},[ze,Ne]),c.useEffect(()=>{ky?ze("daily-briefing-player"):Bt?(Ja(!0),ze("cross-promo-card")):ze(tu?"safety-risk-card":qm?"computer-use-task-closed":eo?"dialog":null)},[ze,Bt,qm,tu,ky,eo]);const ib=G("sticky-conversation-mode"),cb=G("persist-conversation-mode");c.useEffect(()=>{ib&&Kt(cb?wt(Od,wa)??vn():Dn("sticky-conversation-mode")??vn())},[ib,cb]);const Gh=c.useRef(null),Qm=qCe("app"),kL=Tr(ue=>{Qm.current&&(ue.height===0?Qm.current.style.removeProperty("--composer-attachments-height"):Qm.current.style.setProperty("--composer-attachments-height",`${ue.height+a4e}px`))}),ML=()=>{rs(),Me(void 0)},lb=()=>{Ke&&(EL(),Be(!1))},rs=()=>{if(ft&&Ce==="daily-briefing-chat"&&(ze("daily-briefing-player"),ld()),Ce==="prompt-3p-sign-in"&&(Xo||ft)&&ze("daily-briefing-player"),!(Oe||ft||Xo||tu)){if(qm){ze("computer-use-task-closed");return}if(mc&&(Rr!=null&&Rr.closeDialogCallback)){Rr.closeDialogCallback();return}Ce==="prompt-review"&&Y3e(pe(je),"dismissed"),Ce==="cross-promo-card"&&Rs(),Ce==="audioSettings"&&lb(),ze(null),Ce==="prompt-sign-in"&&me.scenario&&re({isOpen:!1,scenario:null})}},Wh=c.useCallback(async()=>{Re&&Xy(),et&&ku($M),zh(),o?(a(!1),r(null),await k({to:"/labs/portrait",from:V})):await R()},[o,r,a,Re,et,zh,k,V,R]);c.useEffect(()=>{ae.instance().config().endAudioOnVisibilityHidden&&!Gy&&(Yo?os==null||os():$n&&Wh())},[Wh,$n,Yo,os,Gy]);const ub={title:s("composer.endAudioCall"),icon:l.jsx(an,{className:Qa,"aria-hidden":!0}),isVisible:!0,onClick:Wh},NL=zCe(),db=ue=>{o&&(Ge.emit("portrait:change-voice",ue),a(!0)),ft||Xo?os==null||os():$n&&zh(),Be(!0)},Jm=oe(z1),Xm=(["chat","reasoning","smart","study"].includes(ko)||ko==="research"&&_)&&!Fa&&!eL,RL=RC();let wn=M(Hl);ko==="research"?wn=hc.document.mimeTypes:RL==="video"&&(wn=hc.image.mimeTypes);const PL=F3(wn);c.useEffect(()=>{for(const[ue,We]of No.entries())U3(We.file,{supportedMimeTypes:wn})||Vh(ue)},[wn,No,Vh]);const LL=py(),Fn=Mh(),ou=Fn&&!$n&&!Wn,gc=c.useCallback(()=>{Jm(null)},[Jm]);c.useEffect(()=>{gc()},[eb,gc]),c.useEffect(()=>{J&&jh?Tu("autosuggest"):Jl&&(!J||Fn)?Tu("actions-autosuggest"):T&&!J&&No.length>0?Tu("file-upload-autosuggest"):Tu("starter-prompts")},[jh,J,Fn,Jl,T,No]),Co({onOutsideEvent:()=>{rs()},elements:[Gh],includeScroll:!1,invokeOnce:!1,shouldAttachListeners:!Ql}),Co({onOutsideEvent:Wf,elements:[Gh,$m],includeScroll:!1,invokeOnce:!1});const $h=()=>{LP(!0),ze(ue=>ue==="audioSettings"?(lb(),null):(Re&&Xy(),"audioSettings"))},OL={title:s("composer.closeVoiceSettings"),icon:l.jsx(an,{className:Qa,"aria-hidden":!0}),isVisible:!0,onClick:$h},ef={title:s("imageCard.composer.closeImageViewer"),icon:l.jsx(an,{className:Qa,"aria-hidden":!0}),isVisible:!0,onClick:zm},qh=M(Gl),{shareClickHandler:DL}=ay({messageId:qh==null?void 0:qh.messageId,scenario:"shareAsLinkSingleImage",trackShareClick:()=>sk({scenario:"shareAsLinkSingleImage",pageName:"imageDetailPage"})}),mb={title:s("common.share"),icon:l.jsx(Th,{className:Qa,"aria-hidden":!0}),isVisible:!0,onClick:DL},fb={title:s("imageCard.composer.downloadImage"),icon:l.jsx(yd,{className:Qa,"aria-hidden":!0}),isVisible:!0,onClick:async()=>{if((kt==null?void 0:kt.type)==="image")try{await Fk({url:kt.url,fileName:kk()})}catch(ue){const We=ue instanceof Error?ue.message:"unknown error on downloading image";b5(We)}}},pb={title:s("video.downloadVideoViewer"),icon:l.jsx(yd,{className:Qa,"aria-hidden":!0}),isVisible:!0,onClick:Ve},jL=()=>{Ja(!0),g&&zA("idle")},UL=ue=>{By&&ue!==void 0&&$k(ue)},FL=async()=>{JP&&(Zl&&ye({source:"composerInput",scenario:"clickNavigateToChat",pageName:"discover"}),Ua||await vb()),Wn&&He&&Lt()},BL=(ue,We)=>{Qk({prompt:ue,prefix:We}),Ym(ue)},hb=c.useCallback(ue=>{bd({prompt:ue,prefillSource:"promptPassThrough"}),Ze(null),at(null)},[Ze,at]);c.useEffect(()=>{((Ie==null?void 0:Ie.source)==="promptInUrl"||(Ie==null?void 0:Ie.source)==="edgeOnAskCopilot")&&hb(Ie.prompt)},[Ie,hb]);const Kh=c.useCallback((ue,We)=>{const{scenario:Mt,reasonIfSignInError:Gt}=We;ue.message==="not-signed-in"?pc(Gt,Mt):Gr(jk(ue.message))},[pc]),VL=G("local-agents"),HL=async ue=>{var Lr,ru,au,tf;const We=The(ue),Mt=_he(ue,No),Gt=ue.trim(),Pr=ko==="research"&&y?{research:{awaitUserConfirmation:!0}}:void 0;if(Ce!=="daily-briefing-chat"&&(lL(),Ja(!0),t_(!1),ze(null)),Wf(),VL){if(Gt.startsWith("/agent")){await P();return}if(V.endsWith("/agents"))return}Wn&&He?(await nn(),Y(!0),En()):Ce!=="daily-briefing-chat"&&!A&&await R();try{Ep(!0);let Or;To&&(Or=To),cc&&(Or=cc),lc&&(Or=lc),await jn.submitMessage({text:Gt,filesWithAttachment:No,inputMethod:"text",scenario:We??void 0,customData:Mt??void 0,reference:Or,context:Pr})}catch(Or){if(Or instanceof Error){let Eb={};oo.length>0&&(Eb={eventInfo_uploadFileSize:((ru=(Lr=oo[0])==null?void 0:Lr.file)==null?void 0:ru.size)??0,eventInfo_uploadFileType:((tf=(au=oo[0])==null?void 0:au.file)==null?void 0:tf.type)??"",eventInfo_numDocumentsUploaded:oo.length}),D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"submitMessage",eventInfo_errorMessage:Or.message,eventInfo_details:"Error submitting message",...Eb}}),Kh(Or,{reasonIfSignInError:"fileUpload"})}else D.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"submitMessage",eventInfo_errorMessage:"Unknown error",eventInfo_details:"Error submitting message"}}),Gr({title:s("composer.errors.default.title"),message:s("composer.errors.default.message")})}finally{Ep(!1),Ahe()}},vc=c.useCallback(ue=>{const We=!Jt&&!C;return We&&pc("fileUpload",ue),We},[Jt,C,pc]),gb=c.useCallback(()=>{var ue;vc()||(ue=Qo.current)==null||ue.click()},[vc]),Zh=c.useCallback(ue=>{const We=i1e(ue);so({rawFiles:[We],scenario:"pasteUploadText",replaceExisting:!I,supportedMimeTypes:wn})},[so,I,wn]),zL=c.useCallback(ue=>{const We=ue.clipboardData.getData("text/plain")||"";We.length>0&&d&&We.length>yS&&(ue.preventDefault(),ue.stopPropagation(),Zh(We))},[d,Zh]);c.useEffect(()=>{if(Zm||!i)return()=>{};const ue=async We=>{const{file:Mt,error:Gt}=o1e(We);(Mt??Gt)&&(We.preventDefault(),Gt?Kh(Gt,{reasonIfSignInError:"fileUpload"}):Mt&&so({rawFiles:[Mt],scenario:"pasteUpload",replaceExisting:!I,supportedMimeTypes:wn}))};return document.addEventListener("paste",ue),()=>document.removeEventListener("paste",ue)},[so,Zm,i,Kh,I,wn]),c.useEffect(()=>{Uh!==null&&(so({rawFiles:[Uh],scenario:"fileUpload",replaceExisting:!I,supportedMimeTypes:wn}),Wy(null))},[Uh,so,Wy,I,wn]),c.useEffect(()=>{Ao&&!hs&&(tb({uploads:Ao.map(ue=>({kind:"onedrive",item:ue,file:new File([],ue.name)})),scenario:"fileUpload",replaceExisting:!I,supportedMimeTypes:wn}),Gn(null))},[Ao,Gn,hs,tb,I,wn]),c.useEffect(()=>{ft&&Kl()},[ft]);function GL(ue){const We=Array.from(ue.target.files??[]),Mt=We[0];if(We.length===0||!Mt)return;so({rawFiles:I?We:[Mt],scenario:"fileUpload",replaceExisting:!I,supportedMimeTypes:wn})}const WL=c.useCallback(ue=>{if(!Xm||!ue.dataTransfer||(ue.preventDefault(),vc()))return;gc();const We=ue.dataTransfer.files[0],Mt=Array.from(ue.dataTransfer.files);We&&so({rawFiles:I?Mt:[We],scenario:"fileUpload",replaceExisting:!I,supportedMimeTypes:wn})},[Xm,vc,gc,so,I,wn]),Yh=a3e(Zy,WL),Qh=(oo.length>0||Yh)&&!$n;async function $L(){Yl&&await q9(),$t({source:"audioCallButton",chatMode:ko}),vl.onUserInteract("audioCallButton"),await SL()}c.useEffect(()=>{const ue=()=>{var We;(We=Nn.current)==null||We.focus()};return Ge.on("composer:focus-input",ue),()=>{Ge.off("composer:focus-input",ue)}},[]);const vb=_r(),Cb=c.useCallback(async()=>{if(vc())return;gc();const{file:ue,error:We}=await MJ.run({});ue?so({rawFiles:[ue],scenario:"screenshot",replaceExisting:!I,supportedMimeTypes:wn}):We&&Gr(We)},[gc,vc,so,I,wn]),qL=async()=>{rs(),"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(async ue=>{const{latitude:We,longitude:Mt,accuracy:Gt}=ue.coords;D.trackEvent({name:"interaction",data:{eventName:"locationPrompt",eventInfo_action:"shared",eventInfo_locationAccuracy:Gt}}),await kn({path:"/user/location",args:{body:{latitude:We,longitude:Mt,accuracyInMeters:Gt,provider:Gt<100?"gps":"wifi"}}})},ue=>{D.trackEvent({name:"interaction",data:{eventName:"locationPrompt",eventInfo_action:"denied",eventInfo_error:{code:ue.code,message:ue.message}}}),Gr({title:s("composer.errors.location.title"),message:s("composer.errors.location.message")})},{enableHighAccuracy:!0})},KL=DN({from:"/",scenario:"voice"}),ZL=()=>{const ue=l.jsx(zs,{className:"end-0",data:ub,children:ub.icon});if(Ce==="dismiss-audio-call-only")return ue;switch(Ny){case"requires-account":case"signed-out":return l.jsxs(l.Fragment,{children:[ue,l.jsx(nN,{className:"mx-2",title:s("voice.signUpOrLogin"),onClick:KL})]});case"time-expired-non-pro":case"time-expired-month-non-pro":return l.jsxs(l.Fragment,{children:[ue,NL]});case"time-expired":case"checking-availability":case"start-timeout":case"error":case"not-in-flight":case"throttled":case"throttled-non-pro":case"region-not-available":case"time-expired-month":case"microphone-denied":case"microphone-not-found":return ue;case"waiting-for-user-interaction":case"available":return l.jsx(M5e,{expandedSection:Ce,settingsIconClassName:Qa,dismissCallButton:ue,onAudioSettingsClick:$h,DismissAudioSettings:OL,audioInputProps:{className:"mx-2",inputVolume:IL,isInputMuted:_L,isOutputPlaying:Hh,coachUserUnmute:TL&&!AL&&!PP,onInputClick:wL}});default:return Ny}},YL=()=>oo.length>0?s("userInput.messageRequiredPlaceholderText"):Yh?Xm?mL?s("userInput.fileUploadLimit",{imageSizeLimit:hc.image.maxBytes/(1024*1024),documentSizeLimit:hc.document.maxBytes/(1024*1024),maxCount:hc.maxFilesPerMessage}):s("userInput.imageDropPreviewPlaceHolderText"):s("userInput.fileDropNotSupportedPlaceHolderText",{chatMode:gd(ko)}):Yl?s("userInput.continueConversationInputPlaceholderText"):S!=null&&S.name&&g?s("userInput.characterPlaceholderText",{character:S.name}):s(Km?"research.placeholder":dc&&ft?Ce==="daily-briefing-chat"?"userInput.dailyChatInputPlaceholderText":"userInput.dailyComposerInputPlaceholderText":no?"userInput.placeholderTextWithMention":GP?"userInput.cocoPlaceholderText":"userInput.placeholderText"),Jh=({enableActionButtons:ue,hasReducedUserInputMaxHeight:We})=>{var ru,au;const Mt=!!((ru=ae.instance().config().composer)!=null&&ru.smallAttachmentCard)||fe,Pr=Ce==="daily-briefing-player"&&dc&&ft?"":void 0,Lr=We??((au=ae.instance().config().composer)==null?void 0:au.reducedUserInputHeight);return l.jsxs(l.Fragment,{children:[l.jsxs(ge.div,{className:le("w-full",{"mt-2 h-auto min-h-32 px-2":Qh&&!no&&!Mt,"mt-2 h-auto min-h-[58px] px-2":Qh&&!no&&Mt,"h-auto":no,"h-0":!Qh&&!no}),ref:kL,layout:!0,children:[uL&&l.jsx(Mye,{onRemove:Vh,attachments:No,onVisibilityChange:tL}),no&&Fy&&l.jsx(ge.div,{className:"z-10 mt-2 w-full px-2","data-testid":"browser-tabs-preview",children:l.jsx(Fbe,{onClick:()=>{Py("update"),Ry(!0)},isLoading:Uy})})]}),l.jsx(vy,{ref:Nn,className:le("min-h-0 w-auto grow",Fn&&!ft&&"mt-1"),inputContainerClassName:F({"max-h-[15dvh]":Lr,"max-h-user-input-shallow":Lh&&!Lr,"max-h-user-input":!Lh&&!Lr}),disabled:Zm,disabledClassName:Pr,inputValue:J,errorMessage:ie,onClick:FL,onBlur:jL,onChange:tf=>{Jk({text:tf,attachments:oo}),Qy(),Jy()},onFocus:UL,onPaste:zL,onEnter:async()=>{zP()||await Ym()},onKeyDown:yL,onMentionIfEnabled:no?HP:void 0,setInput:j2,setError:Se,placeholder:YL(),characterLimit:se,rightButtons:ue?[l.jsx(B9,{config:yb()},"composer-action-button")]:void 0,testId:"composer-input","aria-autocomplete":"both","aria-controls":Vy?Hy:void 0})]})},yb=()=>{if(Ba){if(Ae||Km)return{mode:"stop",onClick:bL};if(sb)return{mode:"submit",disabled:ob,onClick:()=>Ym()};if(!m&&!Ky)return{mode:"microphone",onClick:$L}}},QL=({homeButtonState:ue,enableInputActionButtons:We})=>{const Mt=Fn?"to-background-400/8 from-background-400/5 dark:from-background-200/65 dark:to-background-200/65":"from-background-400/10 to-white/35 dark:from-background-300/35 dark:to-background-200/65",Gt=no?()=>{Jm(null),Py("add"),Ry(!0)}:void 0,Pr=De==="dark"?tN:eN;return l.jsx(ge.div,{className:le("relative max-h-full w-expanded-composer max-w-chat bg-gradient-to-b p-1.5",!Ba&&"before:pointer-events-none before:absolute before:inset-0 before:rounded-[inherit] before:border before:border-white/100 dark:before:border-white/12",Mt),layout:!0,style:{borderRadius:_f(ou),boxShadow:Ba?Pr:void 0},ref:Oh.setReference,children:l.jsxs(ge.div,{className:le(Fn?wve:Eve),layout:!0,style:{borderRadius:P3e(ou)},children:[l.jsx(ge.div,{className:le(xve,Sve,Yh?"before:opacity-100 before:delay-100 before:duration-200":"before:opacity-0"),layout:!0,children:Jh({enableActionButtons:We})}),!We&&l.jsxs(ge.div,{className:le("relative bottom-0 flex justify-between pb-0.5",Fn?"pe-2.5 ps-1.5":"px-2"),layout:!0,children:[l.jsxs("div",{className:"flex gap-1",children:[l.jsx($ve,{state:ue}),l.jsxs("div",{className:F("flex gap-2",Fn&&"items-center"),children:[!Fn&&l.jsx(Wve,{disableChatModeSwitcher:!Ky}),Fn&&l.jsx(Nbe,{onSelectFile:gb,onPasteText:u?Zh:void 0,onSelectOneDriveFile:(U==null?void 0:U.provider)==="microsoft"&&v?Os:void 0,uploadButtonDisabled:rb,onSelectUserOpenedTabs:Gt,onTakeScreenshot:Cb,disabled:!Ee})]})]}),l.jsxs("div",{className:F("flex gap-2",Fn&&"items-center"),children:[!Fn&&l.jsx(Hbe,{startNewChatDisabled:Ye,onStartNewConversation:()=>vb(),onSelectFileIfEnabled:Xm?gb:void 0,uploadButtonDisabled:rb,onSelectOneDriveFileIfEnabled:(U==null?void 0:U.provider)==="microsoft"&&v?()=>{uc(!0),Jm(null)}:void 0,onTakeScreenshot:Cb,onSelectUserOpenedTabsIfEnabled:Gt,onRef:Lr=>{Ls.current=Lr}}),l.jsx(B9,{config:yb()})]})]})]})})},JL=async()=>{me.scenario&&($t({source:"signin",scenario:me.scenario}),re({isOpen:!1,scenario:null})),Fh?await k({from:"/conversations",to:"/login"}):await NP({provider:"microsoft"})};return!RP||Zl&&Wm&&!Wn?null:l.jsxs(l.Fragment,{children:[Dh&&l.jsx("div",{className:le("fixed inset-0 size-full bg-background-850/30 backdrop-blur-[10px] dark:bg-background-150/70",ct.composerDimmedBackground)}),l.jsxs("div",{"data-testid":"composer",ref:Qm,className:le("pointer-events-none absolute bottom-0 flex",Xl&&"sm:bottom-1/2 sm:translate-y-1/2 sm:pt-36",qP&&"sm:pt-80",ct.composer,eu==="side-by-side"&&Ua&&K&&!qy&&"mb-2",eu==="side-by-side"&&Ua&&!qy&&"w-1/4 min-w-secondary-panel",eu==="side-by-side"&&Ua&&"end-0 pe-1",(eu==="chat-only"||!Ua)&&"w-full","max-sm:w-full",Dh&&ct.composerModalOnDimmedBackground),children:[l.jsx("input",{type:"file",accept:PL.join(","),className:"hidden",ref:Qo,onChange:GL,"aria-hidden":"true",multiple:I}),l.jsx(pt,{children:ZP&&l.jsx(ive,{dynamicHeight:Ce===null&&!Zl})}),l.jsx(ge.div,{className:le("relative flex w-full flex-col-reverse items-center px-3 sm:flex-col",Xl?"sm:mb-0":"sm:mb-8",Ps?"mb-3":"mb-4",(ft||Xo)&&"min-w-72"),initial:E?"enter":!1,animate:"animate",variants:{enter:nL,animate:i4e},transition:HC,style:bv,children:l.jsxs(Q8,{transition:te?Pse:{duration:0},children:[l.jsxs(ge.div,{layoutId:Mr?"composer-inner":void 0,className:le("relative max-h-full min-h-composer min-w-16 max-w-chat rounded-5xl",no&&"z-40"),children:[g&&eb&&l.jsx(uve,{}),l.jsx(ge.div,{layoutId:Mr?"composer-container":void 0,className:F("absolute inset-0",!Ba&&"hidden"),layout:!0,style:{borderRadius:_f(ou),boxShadow:Ba?M3e(De,Fn):void 0}}),l.jsx(pt,{children:Hh&&l.jsx(U9,{})}),l.jsx(ge.div,{layoutId:Mr?"composer-background":void 0,className:le("relative shadow-tinted-xl",Gee),layout:!0,style:{borderRadius:_f(ou),boxShadow:Ba?N3e(De,Fn):void 0},children:l.jsxs(ge.div,{layoutId:Mr?"composer-content":void 0,className:le("pointer-events-auto relative flex flex-col overflow-hidden contrast-more:border-2",mc&&"max-w-72",Dh&&Jr),"data-testid":"composer-content",ref:Gh,layout:!0,style:{borderRadius:_f(ou),boxShadow:Ba?R3e(De):void 0},children:[l.jsx(pt,{children:Hh&&l.jsx(U9,{isNested:!0})}),l.jsxs(pt,{children:[Ce&&Ce!=="daily-briefing-player"&&Ce!=="dismiss-audio-call-only"&&l.jsxs(ge.div,{layoutId:Mr?"composer-expanded-section-container":void 0,className:le(!mc&&!su&&"border-b border-black/10 dark:border-white/10",Ce==="audioSettings"&&"w-settings",su&&Ce!=="daily-briefing-chat"&&"w-prompt-sign-in",su&&(Ce==="computer-use-task-closed"||Ce==="safety-risk-card")&&"max-w-single-image",Ce==="daily-briefing-chat"&&(Z?"min-w-secondary-panel bp-960:max-w-full lg:w-expanded-composer":"w-expanded-composer")),layout:!0,children:[Ce!=="dialog"&&l.jsxs(ge.div,{"data-testid":"audio-settings-dialog",className:le("t-custom-scrollbar max-h-expanded-section overflow-auto",Ce==="audioSettings"&&"px-2 py-4"),layout:!0,initial:Fe,animate:{...nt,transition:{delay:es.default}},ref:Oa,children:[l.jsx(pt,{children:su&&l.jsxs($f,{children:[Ce==="biometric-consent"&&l.jsx(c.Suspense,{fallback:l.jsx("div",{"aria-hidden":!0}),children:l.jsx(x4e,{onSubmit:ab.onSubmitCallback,onCancel:ab.onCancelCallback})}),Ce==="prompt-sign-in"&&l.jsx(c.Suspense,{fallback:l.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:l.jsx(it,{className:"size-12"})}),children:l.jsx(M0,{header:fL,text:pL,primaryAction:{title:s("common.loginText"),onClick:JL},testid:"prompt-sign-in-composer-action",secondaryAction:Oe?void 0:{onClick:rs,title:s("common.maybeLater"),testid:"maybe-later-button"},onClose:rs})}),Ce==="prompt-3p-sign-in"&&l.jsx(c.Suspense,{fallback:l.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:l.jsx(it,{className:"size-12"})}),children:l.jsx(E4e,{dismiss:rs})}),Ce==="daily-briefing-chat"&&l.jsx(c.Suspense,{fallback:l.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:l.jsx(it,{className:"size-12"})}),children:l.jsx(S4e,{dismiss:rs,inputUI:Jh({enableActionButtons:!0,hasReducedUserInputMaxHeight:!0})})}),Ce==="prompt-location"&&l.jsx(c.Suspense,{fallback:l.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:l.jsx(it,{className:"size-12"})}),children:l.jsx(M0,{header:s("locationPermission.header"),text:s("locationPermission.text"),primaryAction:{title:s("locationPermission.share"),onClick:qL},secondaryAction:{onClick:rs,title:s("common.maybeLater")},onClose:rs})}),Ce==="confirm-link-navigation"&&(Mo==null?void 0:Mo.url)&&l.jsx(c.Suspense,{fallback:l.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:l.jsx(it,{className:"size-12"})}),children:l.jsx(M0,{showImage:!1,header:s("composer.linkConfirmation.header"),text:s("composer.linkConfirmation.text",{url:Mo.url}),primaryAction:{title:s("common.continue"),onClick:()=>{if(Mo.url){$t({source:"linkNavigationConfirmButton",conversationId:Mo.conversationId,messageId:Mo.messageId,destination:uo(Mo.url)});try{KP(ta(uo(Mo.url)))}catch{Bh({intent:"error",title:s("composer.link.openFailed.title"),subtitle:s("composer.link.openFailed.message",{link:Mo.url}),dismissAfter:3e3})}rs(),Yy(void 0)}}},secondaryAction:{onClick:()=>{rs(),Yy(void 0)},title:s("common.cancel")},onClose:rs,restoreFocusOnUnmount:!0})}),Ce==="prompt-review"&&l.jsx(c.Suspense,{fallback:l.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:l.jsx(it,{className:"size-12"})}),children:l.jsx(b4e,{})}),Ce==="cross-promo-card"&&l.jsx(c.Suspense,{fallback:l.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:l.jsx(it,{className:"size-12"})}),children:l.jsx(y4e,{variant:"aggressive"})}),h&&Ce==="shopping-upsell-card"&&l.jsx(c.Suspense,{fallback:l.jsx(Z9,{}),children:l.jsx(l4e,{onDismiss:()=>ze(null)})}),Ce==="shopping-price-tracking"&&Ct&&l.jsx(c.Suspense,{fallback:l.jsx(Z9,{}),children:l.jsx(u4e,{content:Ct.data,messageId:Ct.messageId,cardType:Ct.cardType,onConfirm:()=>ze("shopping-upsell-card"),onCancel:ML})}),Ce==="add-to-page"&&l.jsx(c.Suspense,{fallback:l.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:l.jsx(it,{className:"size-12"})}),children:l.jsx(C4e,{onClose:rs})}),Ce==="safety-risk-card"&&l.jsx(c.Suspense,{fallback:l.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:l.jsx(it,{className:"size-12"})}),children:l.jsx(v4e,{})}),Ce==="computer-use-task-closed"&&l.jsx(c.Suspense,{fallback:l.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:l.jsx(it,{className:"size-12"})}),children:l.jsx(g4e,{})}),Ce==="over-task-quota"&&l.jsx(c.Suspense,{fallback:l.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:l.jsx(it,{className:"size-12"})}),children:l.jsx(h4e,{})})]})}),Ce==="audioSettings"&&l.jsx($f,{children:l.jsx(c.Suspense,{fallback:l.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:l.jsx(it,{className:"size-12"})}),children:l.jsx(p4e,{onVoiceSelected:db,onVoiceSpeedChange:()=>db(),onAppearanceEnabled:$h})})}),Ql&&l.jsx($f,{children:l.jsx(c.Suspense,{fallback:l.jsx("div",{className:"flex max-h-expanded-section w-prompt-sign-in flex-col overflow-auto rounded-t-5xl p-5 sm:w-checkout-composer",children:l.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:l.jsx(it,{className:"size-12"})})}),children:l.jsx(r4e,{onDismiss:rs})})})]}),mc&&nu&&Rr&&l.jsx(_ve,{titleKey:nu.titleKey,textKey:nu.textKey,buttonTextKey:nu.buttonTextKey,onClick:nu.onClick,button:Rr.button,cancelButton:Rr.cancelButton,closeDialogCallback:Rr.closeDialogCallback})]}),(ft&&Ce!=="daily-briefing-chat"||Xo)&&l.jsx(c.Suspense,{fallback:l.jsx("div",{className:F("flex h-composer items-center justify-center",ft?"w-daily-briefing-lg":"w-daily-briefing"),children:l.jsx(it,{className:"size-12"})}),children:l.jsx(w4e,{isPodcast:Xo,inputUI:dc&&!Xo?Jh({enableActionButtons:!1}):void 0})}),$n&&(!Ce||Ce==="audioSettings"||Ce==="dismiss-audio-call-only")&&l.jsx("div",{className:"flex justify-center p-2",children:ZL()}),zy&&QL({homeButtonState:Fa||Fn?"hidden":oL(),enableInputActionButtons:Wn&&He||Fn&&Fa}),Wn&&Nr&&!Ql&&l.jsxs(ge.div,{className:le("relative flex max-h-full max-w-chat justify-center",!Ce&&"p-2",!mc&&"h-composer"),layout:!0,children:[l.jsx(zs,{data:ef,children:ef.icon}),Gm&&l.jsx(HCe,{onClick:Ph}),Ve&&l.jsx(zs,{data:pb,children:pb.icon})]}),Wn&&to&&l.jsxs(ge.div,{className:le("relative flex max-h-full max-w-chat justify-center",!Ce&&"p-2",!mc&&"h-composer"),layout:!0,children:[l.jsx(zs,{data:ef,children:ef.icon}),(kt==null?void 0:kt.type)==="image"&&kt.shareable&&l.jsx(zs,{data:mb,children:mb.icon}),(kt==null?void 0:kt.type)==="image"&&kt.downloadable&&!Hm&&l.jsx(zs,{data:fb,children:fb.icon})]}),hs&&l.jsx(o4e,{onPick:Da,onClose:Pt,onError:sL})]})]})})]}),Xl&&!t&&l.jsxs(ln,{id:W,className:le("flex h-[150px] w-full max-w-chat flex-none items-end px-2 sm:flex-initial sm:items-start",ct.composerBottomSlot),delay:.2,initial:E?"initial":!1,children:[Vy&&l.jsx(c.Suspense,{fallback:null,children:l.jsx(d4e,{id:Hy,dataResponse:jh,onClick:(ue,We)=>BL(ue,We),onHighlight:ue=>j2(ue),onDismiss:Wf,className:"pointer-events-auto mb-3 sm:mb-0 sm:mt-3",ref:$m,query:J})}),W==="actions-autosuggest"&&l.jsx(c.Suspense,{fallback:null,children:l.jsx(m4e,{className:"pointer-events-auto mb-3 sm:mb-0 sm:mt-3",onClick:ue=>bd({prompt:ue,prefillSource:"action"})})}),W==="file-upload-autosuggest"&&l.jsx(c.Suspense,{fallback:null,children:l.jsx(f4e,{className:"pointer-events-auto mb-3 sm:mb-0 sm:mt-3",isMultiple:No.length>1,variant:((Sb=No[0])==null?void 0:Sb.type)??"file",onClick:ue=>{Ym(ue)}})}),W==="starter-prompts"&&$P&&l.jsx(Wye,{className:"pointer-events-auto sm:mt-8",onWidgetClick:W3})]}),no&&BP&&zy&&l.jsx(VCe,{onSave:gL,styles:FP,onRef:Oh.setFloating,onClose:vL,outsideClickElements:XP(),mode:VP,originElement:Oh.reference})]})})]})]})}function _4e(){const e=Zt("kill-cookie-banner"),t=M(Mn),[n,s]=Ue(hC),[o,r]=c.useState("main"),a=ji(),[i,u]=c.useState(()=>a.analytics),[d,m]=c.useState(a.advertising),[f,h]=c.useState(a.socialMedia),g=ch(t),C=!!fv(),[v,y]=Ue(FA),b=!e&&(!!v||g&&!C&&!n);if(c.useEffect(()=>{b&&D.trackEvent({name:"system",data:{eventName:"cookieBannerShown",eventInfo_region:t}})},[t,b]),!b)return null;const E=I=>{D.trackEvent({name:"interaction",data:{eventName:"cookieBannerChoice",eventInfo_analytics:I.analytics,eventInfo_advertising:I.advertising,eventInfo_socialMedia:I.socialMedia}}),FF(I),r("main"),y(void 0),s(!0)},S=v==="more-options";return l.jsxs("div",{className:"pointer-events-none absolute inset-x-0 top-0 flex w-full justify-center p-3",children:[l.jsx("div",{className:"absolute top-0 h-3.5 w-full bg-background-150 opacity-90 dark:bg-background-150"}),l.jsx("div",{className:le("relative w-full max-w-cookie-banner rounded-xl border border-black/5 shadow-xl dark:border-black/40",Js,ct.modal),children:l.jsxs("div",{className:"pointer-events-auto relative max-h-[90vh] overflow-auto p-5",id:"cookie-banner",children:[v!=="more-options"&&o==="main"&&l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx("h3",{className:"text-lg",children:z("cookies.heading")}),l.jsxs("div",{className:"flex flex-col gap-x-8 gap-y-6 text-xs sm:flex-row",children:[l.jsxs("div",{className:"flex flex-col gap-x-5 gap-y-4 text-xs sm:flex-row",children:[l.jsx("p",{children:z("cookies.bannerIntro")}),l.jsxs("p",{children:[z("cookies.bannerExplanation"),l.jsx(cs,{href:Jn,title:z("cookies.privacyLink"),className:"ps-1 underline",children:z("cookies.privacyLink")})]})]}),l.jsxs("div",{className:"flex min-w-44 shrink-0 grow flex-col gap-2",children:[l.jsx(ne,{variant:"rect",size:"32-xs",onClick:()=>E({analytics:!0,advertising:!0,socialMedia:!0}),title:z("cookies.accept"),testId:"cookie-banner-accept-button",children:z("cookies.accept")}),l.jsx(ne,{variant:"rect",size:"32-xs",onClick:()=>E({analytics:!1,advertising:!1,socialMedia:!1}),title:z("cookies.reject"),testId:"cookie-banner-reject-button",children:z("cookies.reject")}),l.jsx(ne,{variant:"rect",color:"subtle-dimmed",size:"32-xs",onClick:()=>{r("more-options")},title:z("cookies.moreOptions"),testId:"cookie-banner-options-button",children:z("cookies.moreOptions")})]})]})]}),(v==="more-options"||o==="more-options")&&l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex items-center",children:[!S&&l.jsx(ne,{title:z("common.backText"),variant:"circle",color:"subtle-dimmed",size:"32-xs",onClick:()=>r("main"),children:l.jsx(us,{className:"rotate-180"})}),l.jsx("h3",{className:le({"ps-3":!S},"text-lg"),children:z("cookies.moreOptionsHeading")})]}),l.jsx("p",{className:"py-3 text-xs",children:z("cookies.essentialCookiesExplanation")}),l.jsx(N0,{label:z("cookies.advertisingLabel"),explanation:z("cookies.advertisingDescription"),isChecked:d,onChange:()=>m(I=>!I),testId:"cookie-banner-advertising-option"}),l.jsx(N0,{label:z("cookies.analyticsLabel"),explanation:z("cookies.analyticsDescription"),isChecked:i,onChange:()=>u(I=>!I),testId:"cookie-banner-analytics-option"}),l.jsx(N0,{label:z("cookies.socialMediaLabel"),explanation:z("cookies.socialMediaDescription"),isChecked:f,onChange:()=>h(I=>!I),testId:"cookie-banner-social-option"}),l.jsx("div",{className:"flex justify-end",children:l.jsx(ne,{variant:"rect",size:"36-sm",className:"w-fit px-7",onClick:()=>{E({analytics:i,advertising:d,socialMedia:f})},title:z("cookies.savePreferences"),testId:"cookie-banner-save",children:z("cookies.savePreferences")})})]})]})})]})}function N0(e){const{label:t,explanation:n,isChecked:s,onChange:o,testId:r}=e;return l.jsxs(l.Fragment,{children:[l.jsx(ds,{horizontalMargin:!1}),l.jsx(rR,{label:t,className:"w-full py-2 pe-1",isChecked:s,onChange:o,testId:r}),l.jsx("p",{className:"pb-4 pt-1 text-xs",children:n})]})}function T4e(){const[e,t]=c.useState(!0),n=M(ir),s=ZN(),o=c.useMemo(()=>n==null?void 0:n.images,[n]),r=c.useMemo(()=>({title:n==null?void 0:n.title,subTitle:n==null?void 0:n.subTitle}),[n]),i=M(Wo)==="dark"?o==null?void 0:o.dark:o==null?void 0:o.light,u=r;c.useEffect(()=>{Fc({name:"interaction",status:"Shown",eventName:"crossPromotionStripCard",source:"bottomRightCard"})},[]);const d=()=>{t(!1),s()};return n===null||!e?null:l.jsx(ln,{mode:"sync",className:"fixed bottom-5 end-5 z-[1000]",children:l.jsxs("div",{className:le("flex h-32 w-96 flex-col justify-center rounded-5xl border border-white bg-background-100 p-3 dark:border-white/5 dark:bg-background-250"),children:[l.jsxs("div",{className:"flex items-center",children:[i&&l.jsx("img",{src:i,alt:z("crossSelling.imageAlt"),className:"size-24 rounded-lg object-cover"}),l.jsxs("div",{className:"me-6 ms-3",children:[l.jsx("div",{className:"mb-1 text-sm",children:l.jsx("strong",{children:u.title})}),l.jsx("div",{className:"text-sm",children:u.subTitle})]})]}),l.jsx("div",{className:"absolute end-1.5 top-1.5 flex self-start",children:l.jsx(ne,{title:z("common.closeText"),variant:"square",color:"subtle-dimmed","aria-label":z("common.closeText"),onClick:d,className:"flex size-8 items-center justify-center p-1.5",children:l.jsx(an,{className:"m-0 size-5 self-center p-0"})})})]})})}function s8({icon:e,text:t,buttonText:n,buttonColor:s,buttonOnClick:o,className:r=""}){return l.jsxs("div",{className:le("flex items-center justify-between",r),children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex size-10 items-center justify-center rounded-[8.5px] border border-black/10 bg-background-200 dark:border-white/10",children:l.jsx("div",{className:"m-1 size-6",children:e})}),l.jsx("p",{className:"text-base",children:t})]}),l.jsx(ne,{className:"h-10 w-24",color:s,title:n,"aria-label":n,variant:"rect",onClick:o,children:n})]})}const A4e="https://ercz.adj.st/home?network=1g17o7tz&campaign=1gl0zo0u&adj_t=1gl0zo0u&adj_deep_link=sapphirecopilot%3A%2F%2Fhome%3Fnetwork%3D1g17o7tz%26campaign%3D1gl0zo0u&adj_redirect_android=https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3Dcom.microsoft.copilot&adj_redirect_ios=https%3A%2F%2Fapps.apple.com%2Fus%2Fapp%2Fmicrosoft-copilot%2Fid6472538445%3Fct%3DCMC_Copilot_ContinueChatting%26pt%3D80423";function k4e(){const e=py(),t=Kd(),n=bZ(),s=xZ(),o=c.useRef(null),[r,a]=c.useState(!1),i=M(Qd),u=M(Ui),d=M(_w),m=G("cross-selling-title-dn"),f=G("cross-selling-title-tn"),h=G("cross-selling-description-f-dc"),g=G("cross-selling-description-s-w"),C=G("cross-selling-triggerlogic-delay"),v=G("cross-selling-no-browser"),y=()=>m?z("crossSelling.headerDownloadNow"):f?z("crossSelling.headerTryNow"):z("crossSelling.header"),b=()=>h?z("crossSelling.buttonDownloadCopilot"):z("common.open"),E=()=>g?z("crossSelling.browserWeb"):z("crossSelling.browser"),S=()=>{a(!0),Fc({name:"system",status:"Shown",eventName:"copilotMobileCrossSelling"})};c.useEffect(()=>{if(!i||u||e||n||s||!t){a(!1);return}if(!d){a(!1);return}const T=rn(d4),A=rn(mg),k=!Lp(T,3*pp),R=t3(A,3);k||R?C?setTimeout(()=>{S()},5e3):S():Fc({name:"system",status:"TriggeredButSnoozed",eventName:"copilotMobileCrossSelling"})},[u,e,n,s,i,d,t,C,v]);const I=()=>{An(d4,Date.now().toString());const T=rn(mg);An(mg,`${parseInt(T??"0",10)+1}`),a(!1),Fc({name:"interaction",status:"Dismissed",eventName:"copilotMobileCrossSelling"})},_=()=>{Io(A4e),a(!1),Fc({name:"interaction",status:"Clicked",eventName:"copilotMobileCrossSelling"})};return r?l.jsx(ln,{mode:"sync",className:le("relative",ct.modal),children:l.jsx("div",{className:"fixed inset-0 grid bg-background-850/30 dark:bg-background-150/70",onClick:v?I:void 0,role:v?"button":void 0,"aria-label":v?z("common.close"):void 0,children:l.jsx("div",{ref:o,className:"mb-0 h-fit w-full self-end justify-self-center rounded-t-3xl border border-white/10 bg-background-200 p-2 contrast-more:border-2 md:mb-5 md:w-fit md:rounded-3xl",onClick:v?T=>T.stopPropagation():void 0,role:"dialog",children:l.jsxs("div",{className:"mx-3 mb-6 mt-3 flex flex-col gap-4",children:[l.jsx("div",{className:"text-lg md:text-center",children:y()}),l.jsx(s8,{icon:l.jsx(km,{}),text:z("crossSelling.copilotApp"),buttonText:b(),buttonColor:"strong",buttonOnClick:_,className:"gap-14"}),!v&&l.jsx(s8,{icon:l.jsx(Rm,{}),text:E(),buttonText:z("common.continue"),buttonColor:"subtle-bright",buttonOnClick:I,className:"gap-14"})]})})})}):null}function M4e(){const{alreadyShown:e,dismissCoachmark:t}=Zo(y5e),[n,s]=c.useState(!1),o=c.useCallback(()=>{s(!1),t()},[t]);return c.useEffect(()=>{if(!e){const r=()=>{s(!0)};return Ge.on("edge:inline-browsing-replace-visible-conversation",r),()=>{Ge.off("edge:inline-browsing-replace-visible-conversation",r)}}},[e]),{showInlineBrowsingPreviousConversationsCoachmark:n,dismissInlineBrowsingPreviousConversationsCoachmark:o}}function N4e(e){const{renderTrigger:t}=e,{t:n}=q(),{isOpen:s,title:o,description:r,dismiss:a}=R4e(),i=u=>{u.stopPropagation(),a()};return l.jsx(Bm,{className:"max-w-48 cursor-pointer bg-black dark:bg-background-850",arrowClassName:"dark:fill-background-850 fill-black",isOpen:s,placement:"bottom",withArrow:!0,offset:8,renderReferenceElement:u=>l.jsx("div",{ref:u.ref,className:"relative",children:t({onClick:()=>{a()}})}),portalId:"composer-container",onInsideEvent:()=>{a()},children:l.jsxs("div",{className:"flex max-w-[160px] flex-col gap-0.5 bg-black text-white dark:bg-background-850 dark:text-black",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-2xs-strong",children:o}),l.jsx("button",{onClick:i,type:"button","aria-label":n("common.dismiss"),children:l.jsx(an,{className:"size-4"})})]}),l.jsx("div",{className:"text-2xs",children:r})]})})}function R4e(){const{t:e}=q(),{showInlineBrowsingPreviousConversationsCoachmark:t,dismissInlineBrowsingPreviousConversationsCoachmark:n}=M4e();return t?{isOpen:!0,title:e("composer.chatModes.inline.myConversations.coachmarkTitle"),description:e("composer.chatModes.inline.myConversations.description"),dismiss:n}:{isOpen:!1,title:"",description:"",dismiss:()=>{}}}function P4e(e){const{className:t}=e,{t:n}=q(),[s,o]=c.useState(!1),r=M(uk),a=oe(Vo),i=c.useRef(null),u=c.useCallback(m=>{i.current=m},[]),d=c.useCallback(m=>{m.key==="Escape"&&(m.preventDefault(),m.stopPropagation(),o(!1))},[]);return l.jsx(Tm,{isOpen:s,onIsOpenChange:o,renderTrigger:m=>l.jsx(N4e,{renderTrigger:f=>l.jsx(ne,{ref:h=>{m.ref(h),u(h)},onClick:h=>{m.onClick(h),f.onClick(h)},color:"subtle-dimmed-inverted",variant:"square",size:"28-xxs",title:n("edgeHeader.dropdownMenuButtonTitle"),className:"ms-auto",testId:"header-dropdown","aria-haspopup":"menu","aria-expanded":s,children:l.jsx(Mm,{className:"size-5"})})}),options:{overrideZIndex:ct.header,placement:"bottom-end",offset:{mainAxis:4,crossAxis:0},hideOnMenuClick:!0,returnFocus:!1},className:F(Js,"flex p-1",t),children:l.jsxs(kr,{axis:"vertical",className:"flex flex-col items-start gap-1",role:"menu",circular:!0,onKeyDown:d,children:[!r&&l.jsx(ne,{variant:"rect",color:"subtle-dimmed-inverted",className:"w-full justify-start text-sm",onClick:()=>{a(!0),ye({source:"sidebarHeader"})},title:n("edgeHeader.conversationHistory"),testId:"header-conversation-history-button",role:"menuitem",children:n("edgeHeader.conversationHistory")}),l.jsx(ne,{variant:"rect",color:"subtle-dimmed-inverted",className:"w-full justify-start text-sm",onClick:m=>{m.stopPropagation(),a(!1),mA("menu",{onPopPageCallback:()=>{var f;(f=i.current)==null||f.focus()}}),o(!1)},title:n("settings.settings"),testId:"header-settings-button",role:"menuitem",children:n("settings.settings")}),l.jsx(ne,{variant:"rect",color:"subtle-dimmed-inverted",className:"w-full justify-start text-sm",onClick:()=>{Ge.emit("edge:header-command","sendFeedback")},title:n("settings.feedbackButton"),testId:"header-feedback-button",role:"menuitem",children:n("settings.feedbackButton")})]})})}const _R=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M3.28035 2.21967C2.98746 1.92678 2.51258 1.92677 2.21968 2.21966C1.92678 2.51255 1.92677 2.98742 2.21967 3.28032L8.12461 9.18526L4.81064 10.3301C3.93794 10.6315 3.68202 11.7426 4.3349 12.3954L7.43942 15.4999L3.00009 19.9392L3.00001 20.9999H4.06077L8.50009 16.5605L11.6046 19.665C12.2575 20.3179 13.3686 20.062 13.67 19.1893L14.8148 15.8755L20.7196 21.7803C21.0125 22.0732 21.4874 22.0732 21.7803 21.7803C22.0732 21.4874 22.0732 21.0126 21.7803 20.7197L3.28035 2.21967ZM13.6353 14.696L12.3827 18.3218L5.67816 11.6174L9.30412 10.3648L13.6353 14.696ZM19.6829 10.8201L15.8957 12.7137L17.0137 13.8317L20.3537 12.1617C22.0326 11.3223 22.3957 9.08476 21.0684 7.75751L16.2426 2.93179C14.9153 1.60453 12.6778 1.96763 11.8383 3.6465L10.1684 6.98637L11.2864 8.10441L13.18 4.31731C13.5616 3.55419 14.5786 3.38914 15.1819 3.99244L20.0078 8.81817C20.6111 9.42146 20.446 10.4385 19.6829 10.8201Z"})),CMe=Object.freeze(Object.defineProperty({__proto__:null,default:_R},Symbol.toStringTag,{value:"Module"})),TR=e=>c.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M16.2425 2.93189L21.0682 7.75765C22.3955 9.08491 22.0324 11.3224 20.3535 12.1619L15.4826 14.5973C15.3073 14.685 15.1732 14.8379 15.1092 15.0232L13.6699 19.1895C13.3684 20.0622 12.2574 20.3181 11.6045 19.6653L8.50002 16.5607L4.06074 21.0001H3L3.00008 19.9394L7.43936 15.5001L4.33487 12.3956C3.682 11.7427 3.93791 10.6317 4.81061 10.3302L8.97688 8.89096C9.16223 8.82694 9.31512 8.69287 9.40281 8.51748L11.8382 3.6466C12.6777 1.96772 14.9152 1.60462 16.2425 2.93189ZM20.0076 8.81831L15.1818 3.99255C14.5785 3.38924 13.5614 3.55429 13.1799 4.31742L10.7445 9.18829C10.4814 9.71446 10.0227 10.1167 9.46666 10.3087L5.67812 11.6175L12.3826 18.322L13.6914 14.5335C13.8835 13.9774 14.2857 13.5188 14.8118 13.2557L19.6827 10.8202C20.4458 10.4387 20.6109 9.42161 20.0076 8.81831Z"})),yMe=Object.freeze(Object.defineProperty({__proto__:null,default:TR},Symbol.toStringTag,{value:"Module"}));function L4e(e){const{isPinned:t,showCloseButton:n,showPinButton:s,className:o}=e,{t:r}=q(),a=Tr(()=>{const i=document.getElementById("app");if(i&&a.current){const u=a.current.clientWidth;i.style.setProperty("--header-controls-inline-end-width",`${u}px`)}});return l.jsxs("div",{className:F("flex items-center",o),"data-testid":"header-controls",ref:a,children:[l.jsx(P4e,{}),s&&l.jsx(ne,{variant:"square",color:"subtle-dimmed-inverted",size:"28-xxs",onClick:()=>{Ge.emit("edge:header-command","togglePinState")},title:r(t?"edgeHeader.unpinButtonTitle":"edgeHeader.pinButtonTitle"),testId:"header-pin-button",children:t?l.jsx(_R,{className:"size-5"}):l.jsx(TR,{className:"size-5"})}),n&&l.jsx(ne,{variant:"square",color:"subtle-dimmed-inverted",size:"28-xxs",onClick:()=>{Ge.emit("edge:header-command","closePane")},title:r(t?"edgeHeader.closeButtonAsPinnedTitle":"edgeHeader.closeButtonAsUnpinnedTitle"),testId:"header-close-button",children:l.jsx(an,{className:"size-5"})})]})}function O4e({pixelUrl:e,onComplete:t}){return c.useEffect(()=>{const n=setTimeout(()=>{t()},3e3);return()=>{clearTimeout(n)}},[e,t]),l.jsx("img",{className:"hidden",src:e,width:"1",height:"1",alt:"",referrerPolicy:"no-referrer-when-downgrade",onLoad:t,onError:t})}function D4e(){const e=G("ads-pixels"),[t,n]=Ue(Mw),s=M(hC),o=M(Mn),r=(o&&v1.includes(o))===!0,a=c.useMemo(()=>ji(),[s]),i=!r||a.advertising;if(!e||!i)return null;const u=Object.values(t).filter(d=>d.isMounted).map(d=>d.url);return l.jsx("div",{className:"absolute start-[-9999px] top-[-9999px] size-px overflow-hidden",children:u.map(d=>l.jsx(O4e,{pixelUrl:d,onComplete:()=>n(m=>m[d]?{...m,[d]:{...m[d],isMounted:!1}}:m)},d))})}function j4e(e){const{label:t,selected:n,onClick:s}=e;return l.jsx(ne,{className:F("flex w-48 justify-start",{"bg-black/5 dark:dark:bg-background-150":n}),title:t,color:"subtle-dimmed",size:"36-sm",onClick:s,children:l.jsx("span",{className:"w-full truncate text-start",children:t})})}function AR(){const e=G("copilot-beta"),t=M(w1),n=L3(),{t:s}=q(),o=Qt(),r=M(rI);return[{label:s("settings.preferences.title"),page:"preferences"},{label:s("settings.accountTitle"),page:"account"},{label:s("settings.connectedAppsTitle"),page:"connector-list",needSignIn:!0},{label:s("settings.shoppingTitle"),page:"shopping",needSignIn:!0},{label:s("subscriptionManage.title"),page:"manage-subscription",needSignIn:!0},{label:s("settings.privacyLink"),page:"privacy",needSignIn:!0},{label:s("settings.titleAbout"),page:"about"},{label:s("settings.copilotBeta.title"),page:"copilot-beta"}].filter(i=>{switch(i.page){case"copilot-beta":return e&&t&&n;case"manage-subscription":return r;default:return!i.needSignIn||o}})}function U4e(){const{currentPage:e,pushPage:t,parentPageOf:n}=Ir(),s=AR();return l.jsx("div",{className:"flex flex-col gap-0.5",children:s.map(o=>l.jsx(j4e,{label:o.label,selected:e===o.page||e!==void 0&&n[e]===o.page,onClick:()=>{t(o.page)}},o.label))})}function F4e(){var o;const{currentPage:e}=Ir(),s=(((o=AR().find(r=>r.page===e))==null?void 0:o.label)??"").trim();return s?l.jsxs("div",{className:"sticky top-0 z-10 bg-white py-3 dark:bg-background-150",children:[l.jsx("h3",{className:"flex w-full items-center justify-start p-2 pb-4 text-base-medium",children:s}),l.jsx(ds,{verticalMargin:!1})]}):null}const kR=c.createContext(null);function B4e(e){const{value:t,children:n}=e;return l.jsx(kR.Provider,{value:t,children:n})}function bMe(){const e=c.useContext(kR);return e||null}const V4e=c.lazy(()=>B(()=>import("./actions-chat-detail-BgazmWRd.js"),__vite__mapDeps([411,1,412,413,414,356,399])).then(e=>({default:e.ActionsChatDetail}))),H4e=c.lazy(()=>B(()=>import("./showroom-chat-detail-CyIE2lA1.js"),__vite__mapDeps([415,1])).then(e=>({default:e.ShowroomChatDetail})));function z4e(){const e=M(_s);return l.jsx("div",{className:"flex size-full items-center justify-center",children:e?l.jsx(c.Suspense,{fallback:l.jsx(B5,{}),children:l.jsx(H4e,{})}):l.jsx(c.Suspense,{fallback:l.jsx(B5,{}),children:l.jsx(V4e,{})})})}function B5(){return l.jsx("div",{className:"flex size-full items-center justify-center",children:l.jsx(it,{className:"size-12"})})}const G4e=c.lazy(()=>B(()=>import("./settings-Dimvxqlj.js").then(e=>e.s),__vite__mapDeps([305,1,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344])));function W4e(){const e=c.useRef(null);return l.jsx(B4e,{value:e,children:l.jsx("div",{className:"flex h-full min-h-0",ref:e,children:l.jsxs("div",{className:"flex w-full flex-1 gap-3",children:[l.jsx(U4e,{}),l.jsx("div",{className:F("relative flex min-h-0 min-w-0 flex-1 rounded-3xl bg-white will-change-auto dark:bg-background-150","after:pointer-events-none after:absolute after:inset-0 after:z-10 after:rounded-3xl after:border after:border-black/10 dark:border-transparent"),children:l.jsxs("div",{className:"t-custom-scrollbar flex flex-1 flex-col overflow-y-auto rounded-3xl px-3 pb-3",children:[l.jsx(F4e,{}),l.jsx(c.Suspense,{fallback:l.jsx(B5,{}),children:l.jsx(G4e,{shouldShowHeaderOverride:!1,isNarrowScreen:!1})})]})})]})})})}function $4e(){const e=Sy(),{currentPage:t,closeSettings:n}=Ir(),{t:s}=q();return e?l.jsx(dn,{isOpen:!!t&&t!=="menu",className:"size-full h-conversation-modal p-3 dark:bg-background-150/50 md:w-[728px]",headerTextClassName:"ps-2.5 py-2",headerText:s("settings.settings"),onClose:n,bottomSheetOnSmall:!1,children:l.jsx(W4e,{})}):null}const yu=typeof HTMLElement<"u"&&"showPopover"in HTMLElement.prototype&&typeof HTMLElement.prototype.showPopover=="function";function q4e(){const e=c.useRef(null),t=c.useCallback(()=>{const o=e.current;if(o&&yu)try{o.showPopover()}catch(r){qt({feature:"toast",scenario:"showPopoverToast",errorMessage:r instanceof Error?r.message:void 0})}},[]),n=c.useCallback(()=>{const o=e.current;if(o&&yu)try{o.hidePopover()}catch(r){qt({feature:"toast",scenario:"hidePopoverToast",errorMessage:r instanceof Error?r.message:void 0})}},[]),s=y5(()=>{n(),t()},50);return c.useEffect(()=>{if(t(),yu){const o=requestAnimationFrame(()=>{s()});return()=>cancelAnimationFrame(o)}return()=>{}},[t,s]),c.useEffect(()=>{if(!yu)return()=>{};const o=new MutationObserver(()=>{document.querySelectorAll("dialog[open]").length>0&&requestAnimationFrame(s)});return o.observe(document.documentElement,{childList:!0,subtree:!0,attributeFilter:["open"]}),()=>o.disconnect()},[s]),{toastRef:e,supportsPopover:yu}}function K4e({onClick:e}){return l.jsx("div",{className:"absolute end-0 top-0 z-10 cursor-pointer p-1 rtl:right-auto",children:l.jsx(ne,{title:z("product.dismiss"),"aria-label":z("product.dismiss"),variant:"rect",color:"subtle-bright-inverted",size:"32-xs",onClick:e,children:l.jsx(an,{className:"size-4"})})})}const Z4e=["overflow-hidden","rounded-3xl","border","border-solid","border-white/20","shadow-lg","backdrop-blur-[30px]","bg-acrylic-default-tint-light/95","dark:bg-acrylic-default-tint-dark/95"];function Y4e(e){const{title:t,subtitle:n,dismiss:s,link:o,ctaLabel:r,dismissable:a=!0,className:i,Icon:u,iconClassName:d,isRTL:m,onClick:f,onActiveChange:h,customColorTheme:g,intent:C="info",removeIconBorder:v}=e,y=M(Wo),b=g??y,[E,S]=c.useState(!1),[I,_]=c.useState(!1),T=E||I,{toastRef:A,supportsPopover:k}=q4e();c.useEffect(()=>{h==null||h(T)},[T,h]);const R=Y=>{(Y.key==="Enter"||Y.key===" ")&&(Y.preventDefault(),f==null||f())},P=n??o?l.jsxs(l.Fragment,{children:[typeof n=="string"?`${n} `:n,o&&l.jsx("span",{className:"text-accent-450 underline text-sm dark:text-accent-600",role:"button",tabIndex:0,"aria-label":o,onKeyDown:R,children:o})]}):null,V="top-5 start-1/2 -translate-x-1/2",U=ae.instance().config(),K=(k?U.toastPopoverNotificationPositioning:U.toastNotificationPositioning)??V,Z=k?{popover:"manual"}:{};return l.jsx("div",{"data-theme":b,className:F("pointer-events-none",k?"fixed m-0 overflow-visible bg-transparent":"absolute",ct.toastNotification,K,i),onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),onFocus:()=>_(!0),onBlur:()=>_(!1),ref:A,...Z,children:l.jsx(pt,{children:l.jsxs(ge.div,{className:le("pointer-events-auto","relative",Z4e,f&&"cursor-pointer"),initial:{opacity:0,y:-40,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-40,scale:.98},transition:{type:"spring",stiffness:400,damping:30},onClick:f,children:[a&&l.jsx(K4e,{onClick:s}),l.jsx("div",{className:le("flex","flex-col","items-center","justify-center","py-2","ps-2","pe-1.5",{"w-[min(381px,100vw)]":!!P}),children:l.jsxs("div",{className:le("relative flex w-full items-center p-0",{"gap-x-3":u,"flex-row-reverse":u&&m}),children:[u&&l.jsx("div",{"aria-hidden":"true",className:F("flex size-16 shrink-0 items-center justify-center rounded-xl",!v&&"border border-black/10 dark:border-white/10"),children:l.jsx(u,{className:d})}),l.jsxs("div",{className:F("flex flex-1 flex-col justify-center py-1",{"ps-4":!u&&P,"pe-10":a&&(P??t)&&!r,"pe-4":r,"px-4":!P}),children:[l.jsx("header",{className:le("flex w-full overflow-hidden",{"items-center":!!P,"items-center justify-center":!P}),children:l.jsx("h2",{className:le("text-foreground-750 text-sm-strong",{"text-base-strong":!!P,"text-sm":!P},C==="error"&&"text-system-red-550"),children:t})}),P&&l.jsx("p",{className:"w-full text-foreground-700 text-sm",children:P}),l.jsx(Pi,{msg:`${t??""} ${typeof n=="string"?n:""}`,type:"assertive"})]}),r&&l.jsx("div",{className:F("flex shrink-0 items-center","me-4",a&&"me-10"),children:l.jsx(ne,{variant:"rect",size:"40-base",className:"border border-black/8",title:r,onClick:Y=>{Y.stopPropagation(),f==null||f()},children:r})})]})})]})},t)})}function Q4e(){const[e,t]=Ue(Sn),n=Xi(),[s,o]=c.useState(!1),[r,a]=c.useState(!1),i=c.useCallback(()=>{e!=null&&e.trackingArgs&&ye({source:"toastNotification",scenario:e.trackingArgs.scenario,customData:e.trackingArgs.customData})},[e]),u=c.useCallback(()=>{t(null)},[t]),d=c.useCallback(()=>{var f;if(!(e!=null&&e.action))return;i();const{action:m}=e;m(),u(),(f=e.onClick)==null||f.call(e)},[e,i,u]);return c.useEffect(()=>{let m;return a(!1),o(!1),e!=null&&e.dismissAfter&&(m=window.setTimeout(()=>a(!0),e.dismissAfter)),()=>clearTimeout(m)},[e]),c.useEffect(()=>{r&&!s&&u()},[r,s,u]),e?l.jsx(Y4e,{title:e.title,subtitle:e.subtitle,link:e.link,ctaLabel:e.ctaLabel,dismissable:e.dismissable,className:e.className,Icon:e.iconProvider??e.Icon,iconClassName:e.iconClassName,intent:e.intent,dismiss:m=>{var f;m==null||m.stopPropagation(),(f=e.onDismiss)==null||f.call(e),u()},isRTL:n,onClick:e.action?d:void 0,onActiveChange:o,customColorTheme:e.customColorTheme,removeIconBorder:e.removeIconBorder}):null}function J4e(){var o;const e=G("top-banner-upgrade-surface-app"),t=(o=ae.instance().config().uiOverrides)==null?void 0:o.showUpgradeAppTopBanner,n=e&&t;c.useEffect(()=>{n&&D.trackEvent({name:"system",data:{eventName:"upgradeSurfaceApp",eventInfo_status:"Shown"}})},[n]);const s=()=>{D.trackEvent({name:"interaction",data:{eventName:"upgradeSurfaceApp",eventInfo_status:"Clicked"}}),Io("macappstore://apps.apple.com/app/id6738511300")};return n?l.jsxs("div",{className:"pointer-events-none absolute inset-x-0 top-0 flex w-full justify-center p-3",children:[l.jsx("div",{className:"absolute top-0 h-3.5 w-full bg-background-150 opacity-90 dark:bg-background-150"}),l.jsx("div",{className:le("relative w-full max-w-cookie-banner rounded-xl border border-black/5 shadow-xl dark:border-black/40",Js,ct.modal),children:l.jsx("div",{className:"pointer-events-auto relative max-h-[90vh] overflow-auto p-5",id:"cookie-banner",children:l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx("h3",{className:"text-lg",children:z("upgradeSurface.heading")}),l.jsxs("div",{className:"flex flex-col gap-x-8 gap-y-6 text-xs sm:flex-row",children:[l.jsxs("div",{className:"flex flex-col gap-x-5 gap-y-4 text-xs sm:flex-row",children:[l.jsx("p",{children:z("upgradeSurface.primaryDescription")}),l.jsx("p",{children:z("upgradeSurface.secondaryDescription")})]}),l.jsx("div",{className:"flex min-w-44 shrink-0 grow flex-col justify-center gap-2",children:l.jsx(ne,{variant:"rect",size:"32-xs",onClick:s,title:z("upgradeSurface.buttonText"),children:z("upgradeSurface.buttonText")})})]})]})})})]}):null}const X4e=c.lazy(()=>B(()=>Promise.resolve().then(()=>P3),void 0)),e6e=wk(()=>B(()=>import("./settings-wrapper-D6QJ8Bxo.js"),__vite__mapDeps([416,1,345,349,417,418,352])),"settings-wrapper"),t6e=c.lazy(()=>B(()=>import("./media-viewer-BY9zRi9I.js").then(e=>e.m),__vite__mapDeps([419,1])).then(e=>({default:e.MediaViewer}))),n6e=c.lazy(()=>B(()=>import("./picture-in-picture-Bz5G1xAF.js"),__vite__mapDeps([420,1,393,394,421,422])).then(e=>({default:e.PictureInPicture}))),s6e=c.lazy(()=>B(()=>import("./composer-large-screen-BDPqv1yb.js"),__vite__mapDeps([423,1,424,425,426,427,428,429,430,431,432,433,434,435])));function o6e(e){const{children:t,customLayout:n}=e,s=xh(),o=ut(),{isPictureInPictureOpen:r}=Nk(),a=ae.instance().config().appLayout,i=M(ir),u=(i==null?void 0:i.type)==="card",d=M(dfe),m=M(mfe),f=M(ffe),h=Kpe();return l.jsxs(l.Fragment,{children:[h&&l.jsx("div",{className:F("pointer-events-none sticky top-0 w-full",ct.header),children:l.jsx("div",{className:"pointer-events-auto absolute end-2 top-2",children:l.jsx(L4e,{isPinned:f,showCloseButton:d,showPinButton:m})})}),l.jsxs(_pe,{children:[s||n?t:l.jsxs(Cd,{className:"flex-1",children:[t,l.jsx(V5,{}),l.jsx(Qp,{}),l.jsx(Jp,{})]}),l.jsx(Q4e,{}),r&&l.jsx(c.Suspense,{fallback:l.jsx(e1e,{}),children:l.jsx(n6e,{})})]}),a.showMobileCrossSelling&&o.startsWith("/chats")&&!o.endsWith("/talk")&&l.jsx(k4e,{}),u&&l.jsx(T4e,{}),a.showCookieBanner&&l.jsx(_4e,{}),l.jsx(J4e,{}),l.jsx(o5e,{}),l.jsx($4e,{}),l.jsx("div",{id:"inAppFeedbackOcv"}),l.jsx("div",{id:"popoverPortal"}),l.jsx(D4e,{})]})}function V5(){const{isMediaViewerOpen:e}=Pa();return e?l.jsx(c.Suspense,{fallback:l.jsx("div",{className:"pointer-events-auto absolute inset-0 flex items-center justify-center",children:l.jsx(X4e,{type:"spinnerThemed",className:"size-12"})}),children:l.jsx(t6e,{})}):null}function Qp(){const e=Wpe(),t=$pe();return l.jsxs(l.Fragment,{children:[e&&l.jsx(I4e,{}),t&&l.jsx(c.Suspense,{fallback:null,children:l.jsx(s6e,{})})]})}function Jp(){const e=ae.instance().config().appLayout,t=qpe({showSettings:e.showSettings,showSettingsRelyOnChatDetailLayout:e.showSettingsRelyOnChatDetailLayout}),n=Ns(),s=G("sidebar-settings");return t?l.jsx(c.Suspense,{fallback:null,children:l.jsx(e6e,{className:F("top-6",n&&"-me-1 -mt-3",s&&"-me-[14px] -mt-[14px]")})}):null}function r6e(){typeof window<"u"&&(Object.defineProperty(window,"APP_VERSION",{value:Iv()}),Object.defineProperty(window,"APP_SURFACE",{value:"cmc"}))}function a6e(){const e=l.jsxs(l.Fragment,{children:[l.jsx(_S,{children:l.jsx(_me,{})}),l.jsx(o6e,{children:l.jsx(G8,{})})]});return l.jsx(Rde,{children:e})}function i6e(e){const{onError:t=gw}=e,n=Zpe();return l.jsxs(cS,{fallback:l.jsx(M3,{}),onError:t,children:[l.jsx(VA,{}),n?l.jsx(G8,{}):l.jsx(a6e,{})]})}r6e();Rme();function c6e(){return({search:e,next:t})=>t(e)}bA();const l6e=x({"prompt-branch":p().optional(),"use-sxs":Pe([he(),p()]).transform(e=>typeof e=="string"?e==="true":e).optional(),branch:p().optional(),"sxs-feature":p().optional(),renderingType:ke(["ssr","csr"]).optional()}),Je=xO()({component:i6e,validateSearch:e=>l6e.parse(e),search:{middlewares:[c6e(),SO(["prompt-branch","use-sxs","branch","sxs-feature","renderingType"])]}});function u6e(){const{createConversation:e}=ym(),t=sc(),n=ut(),s=c.useRef(null);c.useEffect(()=>{const o=s.current;s.current=n,n==="/"&&o!=="/"&&(t||(ik(),e({shouldNavigateToChat:!1})))},[t,n,e])}const o8=he();function d6e(){const[e,t]=Ue(Sn),{t:n}=q(),s=j3(),o=ut(),r=Eo(),a=o==="/fallrelease",i=o==="/login",u=o.includes("/chats"),d=(e==null?void 0:e.title)===n("octoberMoment.awarenessCard.cardHeader");c.useEffect(()=>{const m=Ik(),f=wt(C4,o8),h=()=>{lpe(),Vn(C4,o8,!0)},g=()=>l.jsx(_k,{isNotification:!0}),C=async()=>{cpe(),await r({to:"/fallrelease",from:o})};a||i||u?t(null):m&&!e&&!f&&!s&&t({iconProvider:g,title:n("octoberMoment.awarenessCard.cardHeader"),subtitle:n("octoberMoment.awarenessCard.cardDescription"),action:C,onDismiss:h})},[o,e,s,n,r,t,a,i,u]),c.useEffect(()=>{s&&d&&t(null)},[s,t,d])}function wy(){return le(xd("pageContainer")??"px-6","mx-auto w-full max-w-chat")}async function H5(e,t,n){try{await kn({path:`/conversations/${e}/react`,args:{body:{[n]:t},analytics:{anonymousPath:"/conversations/*/react"}}})}catch{}}async function MR(e,t,n){try{await kn({path:`/conversations/${e}/feedback`,args:{body:{types:Array.from(t),text:n},analytics:{anonymousPath:"/conversations/*/feedback"}}})}catch{}}const NR=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7939 22.5C13.4857 22.4999 14.1313 22.154 14.5151 21.5786L14.54 21.5405C15.3284 20.3578 15.7499 18.9687 15.75 17.5474C15.75 16.8701 15.6551 16.196 15.4673 15.5464L15.3809 15.2695L15.2915 15H19.0781C20.9676 15 22.5 13.4676 22.5 11.5781C22.5 11.3687 22.4811 11.1597 22.4429 10.9541L22.3975 10.749L20.6543 3.77197C20.3204 2.43673 19.12 1.50018 17.7437 1.5H10.6772C9.60719 1.5 8.55025 1.71953 7.57031 2.1416C7.16475 1.74558 6.61162 1.5 6 1.5H3.75C2.50736 1.5 1.5 2.50736 1.5 3.75V11.25C1.5 12.4926 2.50736 13.5 3.75 13.5H6C6.51972 13.5 6.9975 13.3228 7.37842 13.0269L8.92383 14.8799L9.10986 15.1128C10.0102 16.2948 10.5 17.7421 10.5 19.2334V20.2837C10.5 21.5073 11.4927 22.5 12.7163 22.5H12.7939ZM3.75 12C3.33579 12 3 11.6642 3 11.25V3.75C3 3.33579 3.33579 3 3.75 3H6C6.41421 3 6.75 3.33579 6.75 3.75V11.25C6.75 11.6642 6.41421 12 6 12H3.75ZM12.7163 21C12.3211 21 12 20.6789 12 20.2837V19.2334C12 17.4131 11.4012 15.6473 10.3022 14.2046L10.0767 13.9204L8.20752 11.6792C8.23439 11.5402 8.25 11.3969 8.25 11.25V3.75C8.25 3.6622 8.24221 3.5759 8.23242 3.49072C9.00588 3.16824 9.83642 3 10.6772 3H17.7437C18.4318 3.00018 19.0313 3.4691 19.1982 4.13672L20.9429 11.1123L20.9854 11.3438C20.9949 11.4214 21 11.4997 21 11.5781C21 12.6392 20.1392 13.5 19.0781 13.5H14.25C14.2397 13.5 14.2295 13.5025 14.2192 13.5029C14.1856 13.5043 14.152 13.5071 14.1182 13.5132C14.0986 13.5167 14.08 13.5229 14.061 13.5278C14.0452 13.532 14.0284 13.5328 14.0127 13.5381C14.0021 13.5416 13.9923 13.5473 13.9819 13.5513C13.9639 13.5582 13.9466 13.5664 13.9292 13.5747C13.9038 13.5868 13.8794 13.5997 13.856 13.6143C13.8409 13.6236 13.8263 13.6332 13.812 13.6436C13.7873 13.6614 13.7638 13.6802 13.7417 13.7007C13.73 13.7115 13.719 13.7228 13.708 13.7344C13.6878 13.7557 13.6698 13.7784 13.6523 13.8018C13.6421 13.8154 13.6309 13.8284 13.6216 13.8428C13.6055 13.8677 13.5921 13.8938 13.5791 13.9204C13.5434 13.993 13.5194 14.0713 13.5088 14.1548C13.5056 14.1796 13.5021 14.2043 13.5015 14.2295C13.5013 14.2363 13.5 14.2431 13.5 14.25C13.5 14.2653 13.502 14.2804 13.5029 14.2954C13.5038 14.31 13.5041 14.3247 13.5059 14.3394L13.5103 14.3628C13.5148 14.3928 13.5213 14.4219 13.5293 14.4507L13.5381 14.4873L13.957 15.7441L14.0845 16.1851C14.194 16.6302 14.25 17.0879 14.25 17.5474C14.2499 18.6726 13.9161 19.7722 13.292 20.7085L13.2671 20.7466C13.1614 20.9047 12.9841 20.9999 12.7939 21H12.7163Z"})),xMe=Object.freeze(Object.defineProperty({__proto__:null,default:NR},Symbol.toStringTag,{value:"Module"})),RR=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7939 1.5C13.4857 1.50008 14.1313 1.84595 14.5151 2.42139L14.54 2.45947L14.8184 2.91211C15.4271 3.98985 15.7499 5.20889 15.75 6.45264C15.75 7.2266 15.6256 7.99622 15.3809 8.73047L15.2915 9H19.0781C20.9676 9 22.5 10.5324 22.5 12.4219C22.5 12.6313 22.4811 12.8403 22.4429 13.0459L22.3975 13.251L20.6543 20.228C20.3204 21.5633 19.12 22.4998 17.7437 22.5H10.6772C9.61047 22.5 8.55647 22.2823 7.5791 21.8628L7.57031 21.8584C7.16475 22.2544 6.61162 22.5 6 22.5H3.75C2.50736 22.5 1.5 21.4926 1.5 20.25V12.75C1.5 11.5074 2.50736 10.5 3.75 10.5H6C6.51972 10.5 6.9975 10.6772 7.37842 10.9731L8.92383 9.12012L9.10986 8.88721C10.0102 7.70524 10.5 6.2579 10.5 4.7666V3.71631C10.5 2.49265 11.4927 1.5 12.7163 1.5H12.7939ZM3.75 12C3.33579 12 3 12.3358 3 12.75V20.25C3 20.6642 3.33579 21 3.75 21H6C6.41421 21 6.75 20.6642 6.75 20.25V12.75C6.75 12.3358 6.41421 12 6 12H3.75ZM12.7163 3C12.3211 3 12 3.32108 12 3.71631V4.7666C12 6.58686 11.4012 8.35271 10.3022 9.79541L10.0767 10.0796L8.20752 12.3208C8.23439 12.4598 8.25 12.6031 8.25 12.75V20.25C8.25 20.3378 8.24221 20.4241 8.23242 20.5093C9.00584 20.8318 9.83643 21 10.6772 21H17.7437C18.4318 20.9998 19.0313 20.5309 19.1982 19.8633L20.9429 12.8877L20.9854 12.6562C20.9949 12.5786 21 12.5003 21 12.4219C21 11.3608 20.1392 10.5 19.0781 10.5H14.25C14.2382 10.5 14.2266 10.4961 14.2148 10.4956C14.1855 10.4942 14.1564 10.4918 14.127 10.4868C14.102 10.4827 14.0778 10.4772 14.0537 10.4707C14.0403 10.467 14.026 10.4664 14.0127 10.4619C14.0035 10.4589 13.9953 10.4536 13.9863 10.4502C13.9606 10.4405 13.936 10.4289 13.9116 10.4165C13.8915 10.4063 13.8719 10.3961 13.853 10.3843C13.8325 10.3714 13.8136 10.3566 13.7944 10.3418C13.7742 10.3262 13.7542 10.3109 13.7358 10.2935C13.719 10.2775 13.7043 10.2597 13.689 10.2422C13.6733 10.2243 13.6574 10.2072 13.6436 10.188C13.6284 10.167 13.6155 10.1446 13.6025 10.1221C13.5914 10.1027 13.5797 10.0838 13.5703 10.0635C13.5589 10.0388 13.5497 10.0133 13.541 9.9873C13.5337 9.96547 13.5258 9.94388 13.5205 9.92139C13.5159 9.90169 13.5133 9.88159 13.5103 9.86133C13.5058 9.83177 13.5024 9.80214 13.5015 9.77197C13.5013 9.76466 13.5 9.75736 13.5 9.75C13.5 9.73818 13.5024 9.72653 13.5029 9.71484C13.5043 9.68556 13.5068 9.65636 13.5117 9.62695C13.5158 9.60203 13.5213 9.57774 13.5278 9.55371C13.5315 9.54019 13.5336 9.52615 13.5381 9.5127L13.957 8.25586C14.1508 7.67456 14.25 7.06538 14.25 6.45264C14.2499 5.46789 13.9952 4.5022 13.5132 3.64893L13.292 3.2915L13.2671 3.25342C13.1614 3.09528 12.9841 3.00008 12.7939 3H12.7163Z"})),SMe=Object.freeze(Object.defineProperty({__proto__:null,default:RR},Symbol.toStringTag,{value:"Module"}));function PR(e){const{titleText:t,subtitleText:n,positiveButtonText:s,negativeButtonText:o,positiveButtonTitle:r,negativeButtonTitle:a,modalHeaderText:i,onPositiveClick:u,onNegativeClick:d,isModalOpen:m,onModalClose:f,modalContent:h,className:g="",isDebugAudioRecorderEnabled:C=!1}=e;return l.jsxs("div",{className:g,children:[l.jsx("div",{className:"relative w-full pb-6 after:absolute after:mt-3 after:w-full after:border-b after:border-stroke-300"}),l.jsx("h2",{className:"mt-5 text-foreground-600 text-sm",children:l.jsx("strong",{children:t})}),l.jsx("p",{className:"mt-1 text-foreground-600 text-sm",children:n}),l.jsxs("div",{className:le("mt-3.5 grid w-fit min-w-72 grid-rows-1 gap-2",C?"grid-cols-3":"grid-cols-2"),children:[l.jsxs(ne,{onClick:u,title:r,variant:"rect",size:"36-sm",children:[l.jsx(RR,{className:"size-5"})," ",s]}),l.jsxs(ne,{onClick:d,title:a,variant:"rect",size:"36-sm",children:[l.jsx(NR,{className:"size-5"})," ",o]}),C&&l.jsx(ne,{onClick:async()=>{const{AUDIO_RECORDER:v}=await B(async()=>{const{AUDIO_RECORDER:y}=await import("./audio-recorder-QyWAQ4Sw.js");return{AUDIO_RECORDER:y}},__vite__mapDeps([436,1]));await v.download()},title:"Download audio debug",variant:"rect",size:"36-sm",children:"Download audio debug"})]}),m&&l.jsx(dn,{isOpen:!0,onClose:f,headerText:i,className:"w-full max-w-[400px]",children:h})]})}function m6e(){}function f6e({inputValue:e,handleChange:t,className:n=""}){const[s,o]=c.useState(""),{t:r}=q();return Zt("kill-free-form-text")?null:l.jsx(vy,{disabled:!1,className:F(n,"max-h-[8rem] grow-0 basis-[8rem] !items-start overflow-auto rounded-xl border-2 border-foreground-700 bg-black/5 px-0.5"),inputValue:e,characterLimit:HB,autoFocus:!1,setInput:i=>{t(i)},placeholder:r("chat.feedback.placeholder"),errorMessage:s,setError:o,onEnter:m6e,isMultiLines:!0})}function LR(e){const{feedbackOptions:t,onSubmit:n,shouldHideTextbox:s=!1}=e,{t:o}=q(),[r,a]=c.useState(new Set),[i,u]=c.useState(""),d=r.size===0,m=h=>{a(g=>{const C=new Set(g);return r.has(h)?C.delete(h):C.add(h),C})},f=async()=>{n(r,i),a(new Set)};return t?l.jsxs("div",{className:"flex flex-col gap-2 pt-2",children:[l.jsx("ul",{role:"list",className:"mt-0 flex list-none flex-col gap-4",children:t.map((h,g)=>l.jsx("li",{children:l.jsx(k3,{label:h.label,setChecked:()=>m(h.type),checked:r.has(h.type),spatialNavigationAutofocus:g===0})},h.type))}),d||s?null:l.jsx(f6e,{inputValue:i,handleChange:u}),l.jsx(ne,{title:o("chat.feedback.submitFeedbackButton"),size:"48-lg",color:"strong",className:"mt-4 max-h-12",disabled:d,onClick:f,children:o("chat.feedback.submitFeedbackButton")})]}):null}function p6e(e){var b,E;const{className:t}=e,n=M(uC),[s,o]=Ue(V1),[r,a]=c.useState(!1),[i,u]=c.useState(),d=G("ads-showroom-picasso-feedback"),{t:m}=q(),f=S=>{$t({source:"feedback",scenario:AZ[S],conversationId:s==null?void 0:s.conversationId,additionalData:{brandId:s==null?void 0:s.brandId,brandName:(s==null?void 0:s.brandName)??""}})},h=()=>{a(!1),o(void 0)},g=async S=>{s!=null&&s.conversationId&&d&&await H5(s.conversationId,S,"showroomReaction")},C=()=>{var S;f("thumbs-up"),u("thumbs-up"),(S=n==null?void 0:n.showroom)!=null&&S.positive?a(!0):h(),g("thumbs-up")},v=()=>{var S;f("thumbs-down"),u("thumbs-down"),(S=n==null?void 0:n.showroom)!=null&&S.negative?a(!0):h(),g("thumbs-down")},y=async(S,I)=>{h(),s&&D.trackEvent({name:"interaction",data:{eventName:"copilotSubmitFineConversationFeedback",eventInfo_fineFeedbackTypes:Array.from(S).join(","),eventInfo_conversationId:s.conversationId,eventInfo_additionalData:JSON.stringify({brandId:s.brandId,brandName:s.brandName,reactionType:i,showroomMessageId:s.messageId})}}),s!=null&&s.conversationId&&S.size>0&&MR(s.conversationId,S,I)};return l.jsx(PR,{titleText:m("ads.showroomFeedbackTitle",{brand:s==null?void 0:s.brandName}),subtitleText:m("ads.showroomFeedbackDescription"),positiveButtonText:m("ads.showroomFeedbackPositive"),negativeButtonText:m("ads.showroomFeedbackNegative"),positiveButtonTitle:m("reviewPrompt.positive"),negativeButtonTitle:m("reviewPrompt.negative"),modalHeaderText:m("ads.showroomFeedbackModalTitle"),onPositiveClick:C,onNegativeClick:v,isModalOpen:r,onModalClose:h,modalContent:l.jsx(LR,{onSubmit:y,feedbackOptions:i==="thumbs-up"?((b=n==null?void 0:n.showroom)==null?void 0:b.positive)??void 0:(E=n==null?void 0:n.showroom)==null?void 0:E.negative}),className:t,isDebugAudioRecorderEnabled:!1})}function h6e(e){const{onSubmit:t}=e,{t:n}=q(),[s,o]=c.useState(!1),r=async a=>{o(!0),await t(a),o(!1)};return l.jsxs("div",{children:[l.jsx("p",{children:n("voice.feedback.reviewReasonV2")}),l.jsx(ne,{title:n("voice.feedback.okay"),size:"48-lg",color:"strong",className:"mt-4 max-h-12 w-full",disabled:s,onClick:()=>r(!0),children:n("voice.feedback.okay")}),l.jsx(ne,{title:n("voice.feedback.noThanks"),size:"48-lg",color:"default",className:"mt-3 w-full",onClick:()=>r(!1),children:n("voice.feedback.noThanks")})]})}const g6e="voice",v6e="appearance";function C6e({className:e}){const t=M(je),n=M(uC),s=oe(Il),[o,r]=Ue(SC),[a,i]=c.useState(),u=G("debug-audio-recorder")&&!1,d=h3(),m=d?v6e:g6e,{t:f}=q(),h=()=>{$t({source:"voiceFeedback",scenario:"thumbsUp",conversationId:t,destination:m}),t&&H5(t,"thumbs-up","audioReaction"),s(!1),Ge.emit("feedback:ai-message-reaction","positive")},g=()=>{$t({source:"voiceFeedback",scenario:"thumbsDown",conversationId:t,destination:m}),t&&H5(t,"thumbs-down","audioReaction"),i("feedback-options")},C=()=>{i(null),s(!1)},v=async(E,S)=>{ye({source:"voiceFeedback",scenario:"feedbackSubmit",conversationId:t,destination:m,customData:JSON.stringify({selectedOptionsCount:E.size,feedbackTypes:[...E].join(",")})}),t&&E.size>0&&MR(t,E,S),o?C():i("review-request")},y=async E=>{E&&(r(!0),await a3({optInToVoiceTraining:!0})),C()},b=()=>a==="feedback-options"?l.jsx(LR,{onSubmit:v,feedbackOptions:d?n==null?void 0:n.appearance:n==null?void 0:n.call}):a==="review-request"?l.jsx(h6e,{onSubmit:y}):null;return l.jsx(PR,{titleText:f(d?"voice.feedback.howWasAppearanceChat":"voice.feedback.howWasVoiceChat"),subtitleText:f("voice.feedback.giveFeedback"),positiveButtonText:f("voice.feedback.good"),negativeButtonText:f("voice.feedback.bad"),positiveButtonTitle:f("reviewPrompt.positive"),negativeButtonTitle:f("reviewPrompt.negative"),modalHeaderText:f(a==="feedback-options"?"voice.feedback.chooseWhatHappened":"voice.feedback.canMicrosoftReview"),onPositiveClick:h,onNegativeClick:g,isModalOpen:!!a,onModalClose:C,modalContent:b(),className:e,isDebugAudioRecorderEnabled:u})}const y6e=c.lazy(()=>B(()=>import("./index.es-C-L2gmEi.js"),__vite__mapDeps([5,1]))),b6e=tk();function x6e({onAnimationClicked:e}){const t=c.useRef(null),{t:n}=q(),[s,o]=c.useState(null);c.useEffect(()=>{b6e.load("../../assets/lottie/character-thinking-cloud-animation.json").then(o).catch(()=>o(null))},[]),c.useEffect(()=>{const i=t.current;return i&&s&&i.playSegments([0,67],!0),()=>{i&&s&&i.playSegments([350,370],!0)}},[s]);const r=()=>{var u,d;(u=t.current)==null||u.playSegments([320,345],!0),(d=t.current)==null||d.pause(),e();const i=document.getElementById(Fd);i==null||i.focus()},a=i=>{i.key==="Enter"&&r()};return l.jsx("div",{children:l.jsx(c.Suspense,{fallback:l.jsx("div",{}),children:l.jsx(y6e,{lottieRef:t,role:"button",tabIndex:0,"aria-label":n("characterAnimation.characterThinkingCloudAriaLabelText"),title:n("characterAnimation.characterThinkingCloudAriaLabelText"),animationData:s,loop:!1,onMouseDown:r,onMouseEnter:()=>{var i;return(i=t.current)==null?void 0:i.playSegments([275,295],!0)},onMouseLeave:()=>{var i;return(i=t.current)==null?void 0:i.playSegments([296,315],!0)},onKeyDown:a,onComplete:()=>{var i;return(i=t.current)==null?void 0:i.playSegments([68,274],!0)}})})})}const r8=1,S6e=c.lazy(()=>B(()=>import("./character-DSuN51RI.js"),__vite__mapDeps([372,1,373])).then(e=>({default:e.Character})));function E6e({animatingMessageId:e,isStreamingMessage:t,displayedCharacterId:n,setCharacterComponentHeight:s}){const o=G("characterspeech"),[r,a]=c.useState(0),[i,u]=c.useState(!1),[d,m]=Ue(bi),f=M(Ta),h=()=>{a(0),u(!1)};c.useEffect(()=>{let v;return o&&d==="idle"&&(v=setInterval(()=>{a(y=>y<r8?y+1:y),f.length>0&&r===r8&&!t&&(u(!0),D.trackEvent({name:"system",data:{eventName:"characterTalkToMeDisplayed",eventInfo_conversationId:pe(je),eventInfo_characterId:n}}))},1e3)),()=>clearInterval(v)},[d,n,f.length,o,r,t]),c.useEffect(()=>{o&&d!=="idle"&&d!=="hovering"&&h()},[d,o]);const g=async()=>{h(),m("responding"),await jn.submitMessage({command:{type:"promptCharacterSpeech"},inputMethod:"promptCharacterSpeech"}),D.trackEvent({name:"interaction",data:{eventName:"characterTalkToMeClicked",eventInfo_conversationId:pe(je),eventInfo_characterId:n}})};function C(){switch(n){case"aqua":return"translate-x-9";case"mica":return"translate-x-14";case"erin":return"translate-x-16";default:throw new Error("Invalid characterId provided to getTranslateXClass")}}return l.jsx(cS,{fallback:l.jsx(M3,{}),onError:GZ(e,n),children:l.jsxs("div",{"data-testid":"character-div",className:F("sticky top-0 h-2/5 min-h-[40vh] w-full bg-gradient-chat-light-character dark:bg-background-150 dark:bg-none",ct.babylonCharacter),style:{maskImage:"linear-gradient(to bottom, #000 95%, transparent 100%)"},children:[l.jsx(pt,{children:i&&l.jsx(ge.div,{className:F("absolute start-1/2 top-12 size-36",C()),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:l.jsx(x6e,{onAnimationClicked:g})})}),l.jsx(c.Suspense,{fallback:l.jsx("div",{className:"flex h-full items-center justify-center",children:l.jsx(it,{type:"spinnerThemed",className:"size-12"})}),children:l.jsx(S6e,{characterId:n,setCharacterComponentHeight:s})})]})})}function w6e({className:e}){const{t}=q();return l.jsxs("div",{className:F("flex items-center gap-2",e),children:[l.jsx(it,{type:"reasoning",className:"size-11"}),l.jsxs("div",{className:"flex flex-col text-sm",children:[l.jsx("span",{children:t("chat.reasoningLoading.title")}),l.jsx("span",{className:"text-foreground-450 dark:text-foreground-600",children:t("chat.reasoningLoading.description")})]})]})}function I6e(){return l.jsx("div",{className:"animate-thinking-polygon h-12 w-[max(7rem,50%)] bg-accent-350 blur-md dark:bg-accent-550"})}function _6e(e){const{isActive:t,animationDuration:n,children:s,className:o,...r}=e;return l.jsx("div",{className:F(t&&"animate-shimmer-text bg-gradient-to-r from-foreground-800 from-[calc(50%-64px)] via-foreground-250 via-50% to-foreground-800 to-[calc(50%+64px)] bg-[size:400%_100%] bg-clip-text text-transparent rtl:animate-shimmer-text-reverse",o),style:{...t&&n&&{animationDuration:n}},...r,children:s})}function T6e(e){const{title:t,className:n,isActive:s=!0}=e,{t:o}=q(),r=o("chat.reasoningLoading.title"),a=t&&t.trim()!==""?t:r;return l.jsx("div",{className:F("my-0.5 w-max text-base-dense",n),children:l.jsx(_6e,{isActive:s,children:a})})}const EMe="rounded-2xl px-4 py-3 text-foreground-600 -outline-offset-2 squircle-16 focus-visible:text-foreground-800 safe-hover:text-foreground-800 dark:text-foreground-700 dark:focus-visible:text-foreground-800 dark:safe-hover:text-foreground-800";function A6e(e){const{className:t,children:n,isActive:s=!0,title:o}=e;return l.jsx(G1,{className:F("mb-6 w-max max-w-[80%] px-4 py-2.5",t),background:"transparent",size:"xs",stroke:!0,initial:Fe,animate:nt,strokeChildren:s?l.jsx("div",{className:"absolute inset-0 rtl:-scale-x-100",children:l.jsx(I6e,{})}):void 0,children:n??l.jsx(T6e,{title:o,isActive:s})})}function OR(e){const{loadingType:t}=e;switch(t){case"spinner":return l.jsx(it,{type:"spinnerThemed",className:"absolute -ms-2.5 -mt-2 size-11"});case"thinking-card":return l.jsx(A6e,{});case"reasoning-chat":return l.jsx(w6e,{className:"absolute -ms-2.5 -mt-2 w-max"});default:return null}}function DR(){const e=Qs(),t=M(qX),n=G("think-deeper-cot");switch(e){case"chat":case"computerUse":case"study":case"research":case"search":return t?null:"spinner";case"reasoning":return n?"thinking-card":"reasoning-chat";case"smart":return null;case"coco":return"thinking-card";default:return null}}function jR(e){const{delay:t,className:n}=e,{t:s}=q(),o=c.useId(),r=Qs(),a=DR();return a?l.jsxs(ge.div,{"aria-hidden":!0,className:F("relative",n),initial:"start",animate:"end",variants:{start:{...Fe},end:{...nt,transition:{delay:t}}},children:[l.jsx(Pi,{id:o,timeout:3e3,msg:s(r==="reasoning"?"chat.reasoning":"chat.loading"),type:"polite"}),l.jsx(OR,{loadingType:a})]}):null}const UR={"56-default":"h-14","64-legacy":"h-16"},k6e={100:"bg-background-100/95 dark:bg-background-100/90",150:"bg-background-150/95 dark:bg-background-150/90",200:"bg-background-200/95 dark:bg-background-200/90"},M6e={100:"dark:bg-background-100/90",150:"dark:bg-background-150/90",200:"dark:bg-background-200/90"};function Rh(e){const{middle:t,start:n,end:s,className:o,sectionHeight:r="56-default",backgroundColor:a="150",backgroundDarkColor:i,hideBackground:u,showBottomBorder:d,disableFadeInOut:m,sectionClassName:f,startClassName:h,middleClassName:g,endClassName:C,secondaryStart:v,secondaryMiddle:y,secondaryEnd:b,secondarySectionClassName:E}=e,I=!gt({breakpoint:"md"}),_=!!n||!!t||!!s,T=!!v||!!y||!!b,A=_||T;return l.jsx(ln,{className:F("pointer-events-none sticky top-0 w-full",ct.stickyHeader),duration:m?0:es.default,children:l.jsxs("div",{className:F("absolute flex w-full flex-col",d&&"border-b border-foreground-250/80 dark:border-foreground-250",o),"data-testid":"sticky-header",children:[l.jsx(ln,{duration:I?0:es.default,children:!u&&l.jsx("div",{className:F("pointer-events-auto absolute inset-0",!A&&UR[r],Js,k6e[a],i&&M6e[i])})}),_&&l.jsx(a8,{start:n,middle:t,end:s,height:r,sectionClassName:f,startClassName:h,middleClassName:g,endClassName:C}),T&&l.jsx(a8,{start:v,middle:y,end:b,height:r,sectionClassName:E,isSubtitleSection:!0})]})})}function a8(e){const{start:t,middle:n,end:s,height:o="64-legacy",isSubtitleSection:r,sectionClassName:a,startClassName:i,middleClassName:u,endClassName:d}=e;return l.jsxs("section",{className:F("relative flex w-full gap-2 px-2.5",r?"pb-2.5":"py-2.5",UR[o],a),children:[l.jsx("div",{className:F("flex flex-1 items-center justify-start sm:gap-2",i),children:l.jsx("div",{className:"pointer-events-auto contents",children:t})}),n&&l.jsx("div",{className:F("flex items-center overflow-hidden sm:gap-2",u),children:l.jsx("div",{className:"pointer-events-auto contents",children:n})}),l.jsx("div",{className:F("flex flex-1 items-center justify-end sm:gap-2",d),children:l.jsx("div",{className:"pointer-events-auto contents",children:s})})]})}const Iy=e=>c.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M15.75 3.75V20.25M22.25 6.25C22.25 5.58696 21.98 4.94884 21.4995 4.48C21.0189 4.01116 20.3671 3.75 19.6875 3.75H4.3125C3.63288 3.75 2.9811 4.01116 2.50054 4.48C2.01998 4.94884 1.75 5.58696 1.75 6.25V18C1.75 18.663 2.01998 19.3012 2.50054 19.77C2.9811 20.2388 3.63288 20.25 4.3125 20.25H19.6875C20.3671 20.25 21.0189 20.2388 21.4995 19.77C21.98 19.3012 22.25 18.663 22.25 18V6.25Z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),c.createElement("path",{d:"M7.5 14.5L10 12L7.5 9.5",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),wMe=Object.freeze(Object.defineProperty({__proto__:null,default:Iy},Symbol.toStringTag,{value:"Module"}));function N6e(){const e=!Zt("kill-share-c2"),t=ut(),n=M(hn),s=M(_a),o=kl(),r=M(Sw)==="coco";return!!(!s&&e&&t.startsWith("/chats")&&!t.endsWith("/talk")&&(n!=null&&n.history.length)&&!o&&!r)}const FR=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M20.9519 3.0481C19.5543 1.65058 17.2885 1.65064 15.8911 3.04825L3.94103 14.9997C3.5347 15.4061 3.2491 15.9172 3.116 16.4762L2.02041 21.0777C1.96009 21.3311 2.03552 21.5976 2.21968 21.7817C2.40385 21.9659 2.67037 22.0413 2.92373 21.981L7.52498 20.8855C8.08418 20.7523 8.59546 20.4666 9.00191 20.0601L20.952 8.10861C22.3493 6.71112 22.3493 4.4455 20.9519 3.0481ZM16.9518 4.10884C17.7634 3.29709 19.0795 3.29705 19.8912 4.10876C20.7028 4.9204 20.7029 6.23632 19.8913 7.04801L19 7.93946L16.0606 5.00012L16.9518 4.10884ZM15 6.06084L17.9394 9.00018L7.94119 18.9995C7.73104 19.2097 7.46668 19.3574 7.17755 19.4263L3.76191 20.2395L4.57521 16.8237C4.64402 16.5346 4.79168 16.2704 5.00175 16.0603L15 6.06084Z"})),IMe=Object.freeze(Object.defineProperty({__proto__:null,default:FR},Symbol.toStringTag,{value:"Module"}));function R6e(e){const{title:t,onSave:n=()=>{},as:s="h2",inputClassName:o="",displayClassName:r="","aria-label":a,placeholder:i,maxLength:u,leftSlot:d,editable:m=!0,alignment:f="center",isEditIconVisibleOnHover:h}=e,{t:g}=q(),[C,v]=c.useState(!1),[y,b]=c.useState(!1),[E,S]=c.useState(t),I=s,_=()=>{m&&(C||b(!0))},T=P=>{u!==void 0&&P.target.value.length>u||S(P.target.value)},A=()=>{R()},k=P=>{P.key==="Enter"||P.key==="Return"?R():P.key==="Escape"&&(S(t),b(!1))},R=async()=>{if(b(!1),E!==t){v(!0);try{await n(E)}catch{S(t)}finally{v(!1)}}};return y&&m?l.jsx(P6e,{disabled:C,type:"text",value:E,onChange:T,onBlur:A,onKeyDown:k,"aria-label":a,className:F("relative rounded-xl border border-transparent bg-background-200/75 px-[11px] py-1 outline-0 text-base-medium dark:bg-black","focus-visible:border-foreground-350 focus-visible:dark:border-foreground-400",f==="start"?"text-start":"text-center",o),maxLength:u}):l.jsxs(l.Fragment,{children:[d,l.jsxs(I,{className:F("relative w-max cursor-default items-center gap-2.5 truncate rounded-xl px-3 py-[5px] text-base-medium",r,h&&"hover:pe-9",m&&"group cursor-pointer hover:bg-black/5 active:bg-black/3 dark:hover:bg-black/30 dark:active:bg-black/20"),tabIndex:0,role:"button","aria-label":g("editableTitle.titleLabel",{title:t}),onClick:_,disabled:C||!m,onKeyDown:P=>{(P.key==="Enter"||P.key===" ")&&_()},children:[E!==""?E:i,h&&l.jsx(FR,{className:"absolute end-2.5 top-2.5 hidden size-4 opacity-60 group-hover:block group-focus-visible:block","aria-hidden":!0})]})]})}function P6e(e){const{autoFocus:t,...n}=e,s=c.useRef(null);return Ji(s),l.jsx("input",{ref:s,...n})}function L6e(){const{t:e}=q(),{hideConversationTitle:t,hideConversationActions:n}=ae.instance().config().uiOverrides??{},s=M(hn),o=sc(),r="chatPage",{shareClickHandler:a}=ay({scenario:r,trackShareClick:()=>sk({scenario:r,sectionName:"topRight"})}),i=M(Hn)==="side-by-side",u=oe(Hn),d=c.useCallback(()=>{u("detail-only")},[u]),m=s==null?void 0:s.title,f=m===""?e("conversations.newConversationTitle"):m,h=!t&&!o&&!i&&f?l.jsx(pt,{children:l.jsx(ge.div,{initial:Fe,animate:nt,exit:{transition:{duration:0},...Fe},transition:pn,className:"flex w-full items-center justify-center",children:l.jsx(R6e,{title:f,editable:!1,displayClassName:"w-max max-w-full",inputClassName:"w-full"},f)})}):void 0,g=gt({breakpoint:"sm"}),C=i&&!g,v=C&&l.jsx(pt,{children:l.jsx(ge.div,{initial:Fe,animate:nt,exit:{transition:{duration:0},...Fe},transition:pn,children:l.jsx(ne,{title:e("actions.hideDetails"),color:"subtle-dimmed",variant:"square",size:"36-sm",onClick:d,children:l.jsx(Iy,{className:"size-5"})})})}),y=N6e(),b=!n&&y&&!i&&l.jsx(pt,{children:l.jsx(ge.div,{initial:Fe,animate:nt,exit:{transition:{duration:0},...Fe},transition:pn,children:l.jsx(ne,{variant:"square",color:"subtle-dimmed-inverted",size:"36-sm",title:e("chat.actions.share"),onClick:a,children:l.jsx(Th,{className:"size-5"})})})}),E=M(Dd);return!Nh()&&!E&&l.jsx(Rh,{start:v,middle:h,end:b,sectionClassName:C?void 0:"ps-[calc(var(--sidebar-header-secondary-buttons-collapsed-width)+10px)]",showBottomBorder:!0,startClassName:"flex-none md:flex-1",middleClassName:"grow min-w-0",endClassName:"flex-none md:flex-1"})}function BR(){const e=G("sidebar-narrow"),t=gt({breakpoint:"lg"});return e&&t?AB:TB}const R0="0.5rem";function O6e(e){const{children:t}=e,n=M(Hn),s=Ns(),o=n==="side-by-side",r=Nh(),a=BR(),i=n==="side-by-side"&&!r,u=s?"bg-background-150":"bg-gradient-chat-light",d=Tr(f=>{const h=document.getElementById("app");h&&h.style.setProperty("--chat-details-container-height",r?`${f.height}px`:null)}),m=()=>n==="detail-only"?"0px":i?`max(${a}px, 25%)`:"100%";return l.jsxs("div",{className:le("flex size-full max-h-[100vh] min-h-0",r&&"flex-col",o&&"bg-sidebar-light dark:bg-sidebar-dark",s&&o&&"pb-2"),style:i?{gap:R0}:void 0,children:[n!=="chat-only"&&l.jsx(ge.div,{ref:d,className:le("rounded-lg",r&&"h-fit",o&&"shadow-lg","dark:bg-background-150 dark:bg-none",u),initial:{width:i?`calc(100% - ${R0} - max(${a}px, 25%))`:"100%"},animate:{width:i?`calc(100% - ${R0} - max(${a}px, 25%))`:"100%"},transition:pn,children:l.jsx(z4e,{})}),l.jsx(ge.div,{className:le(n==="detail-only"&&"hidden",o&&u,r?"h-[calc(100vh-var(--chat-details-container-height))]":"h-full",o&&"rounded-lg pb-px shadow-lg dark:bg-background-150 dark:bg-none"),initial:{width:m()},animate:{width:m()},layout:"position",transition:pn,children:t})]})}function $u(e,t){const n=Ft(e),s=Ft(t),o=n.getTime()-s.getTime();return o<0?-1:o>0?1:o}function D6e(e,t){const n=Ft(e),s=Ft(t),o=n.getFullYear()-s.getFullYear(),r=n.getMonth()-s.getMonth();return o*12+r}function j6e(e){const t=Ft(e);return t.setHours(23,59,59,999),t}function U6e(e){const t=Ft(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function F6e(e){const t=Ft(e);return+j6e(t)==+U6e(t)}function B6e(e,t){const n=Ft(e),s=Ft(t),o=$u(n,s),r=Math.abs(D6e(n,s));let a;if(r<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*r);let i=$u(n,s)===-o;F6e(Ft(e))&&r===1&&$u(e,s)===1&&(i=!1),a=o*(r-Number(i))}return a===0?0:a}function V6e(e,t){const n=Ft(e),s=Ft(t);return n.getFullYear()-s.getFullYear()}function H6e(e,t){const n=Ft(e),s=Ft(t),o=$u(n,s),r=Math.abs(V6e(n,s));n.setFullYear(1584),s.setFullYear(1584);const a=$u(n,s)===-o,i=o*(r-+a);return i===0?0:i}function z6e(e,t){const n=Ft(e),s=Ft(t);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}let G6e={};function W6e(){return G6e}function $6e(e,t){var i,u,d,m;const n=W6e(),s=(t==null?void 0:t.weekStartsOn)??((u=(i=t==null?void 0:t.locale)==null?void 0:i.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((m=(d=n.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??0,o=Ft(e),r=o.getDay(),a=(r<s?7:0)+r-s;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}function q6e(e,t,n){const s=Zc(e,t),o=$6e(t,{weekStartsOn:1}),r=Zc(o,t),a=Zc(Zp(o,7),t),i=Xn(e,"EEEE"),u=n(`dates.weekdays.${i.toLowerCase()}`),d=n(`dates.months.${Xn(e,"MMMM").toLowerCase()}Abbr`),m=Xn(e,"d"),f=n("dates.dayMonthDate",{day:u,month:d,date:m});return s>=1?f:s>=0?`${n("dates.today")}`:s>=-1?`${n("dates.yesterday")}`:s>=r?u:s>=a?n("dates.previousDay",{day:u}):f}function K6e(e,t,n){const s=Zc(t,e);if(s===0)return n("dates.today");if(s<=1)return n("dates.yesterday");if(s<7)return n("dates.weekThis");if(z6e(e,t))return n("dates.monthThis");if(B6e(t,e)<12){const a=Xn(e,"MMMM").toLowerCase();return n(`dates.months.${a}`)}const r=H6e(t,e);return r===1?n("dates.yearAgo"):n("dates.yearsAgoPlural",{count:r})}function Z6e(e,t){return q6e(e,new Date,t)}function _Me(e,t){return K6e(e,new Date,t)}function TMe(e){const t=Math.max(0,e),n=Math.floor(t/60),s=t%60;return`${n}:${s<10?"0":""}${s}`}function Y6e(e){const{date:t,className:n}=e,{t:s}=q();return l.jsxs("div",{className:le("flex items-center",n),children:[l.jsx("span",{className:"opacity-70 text-sm-strong","data-testid":"date-divider",children:Z6e(t,s)}),l.jsx(ds,{verticalMargin:!1,color:"accent",className:"mt-px grow"})]})}function Q6e(e){const{content:t}=e;return l.jsx("div",{className:"text-center text-foreground-450 text-sm dark:text-foreground-600",children:t})}const VR=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M17.5004 12.0003C20.5379 12.0003 23.0004 14.4627 23.0004 17.5003C23.0004 20.5378 20.5379 23.0003 17.5004 23.0003C14.4628 23.0003 12.0004 20.5378 12.0004 17.5003C12.0004 14.4627 14.4628 12.0003 17.5004 12.0003ZM12.0226 13.9996C11.7259 14.4629 11.4864 14.9663 11.314 15.4999L4.25278 15.5002C3.83919 15.5002 3.50391 15.8355 3.50391 16.2491V16.8267C3.50391 17.3624 3.69502 17.8805 4.04287 18.2878C5.29618 19.7555 7.26206 20.5013 10.0004 20.5013C10.5968 20.5013 11.1567 20.4659 11.6806 20.3954C11.9258 20.8903 12.2333 21.3489 12.5921 21.7618C11.7966 21.922 10.9317 22.0013 10.0004 22.0013C6.8545 22.0013 4.46849 21.0962 2.90219 19.2619C2.32242 18.583 2.00391 17.7195 2.00391 16.8267V16.2491C2.00391 15.007 3.01076 14.0002 4.25278 14.0002L12.0226 13.9996ZM17.5004 14.0002L17.4105 14.0083C17.2064 14.0453 17.0455 14.2063 17.0084 14.4104L17.0004 14.5002L16.9994 17.0003H14.5043L14.4144 17.0083C14.2103 17.0454 14.0494 17.2063 14.0123 17.4104L14.0043 17.5003L14.0123 17.5901C14.0494 17.7942 14.2103 17.9552 14.4144 17.9922L14.5043 18.0003H16.9994L17.0004 20.5002L17.0084 20.5901C17.0455 20.7942 17.2064 20.9551 17.4105 20.9922L17.5004 21.0002L17.5902 20.9922C17.7943 20.9551 17.9553 20.7942 17.9923 20.5901L18.0004 20.5002L17.9994 18.0003H20.5043L20.5941 17.9922C20.7982 17.9552 20.9592 17.7942 20.9962 17.5901L21.0043 17.5003L20.9962 17.4104C20.9592 17.2063 20.7982 17.0454 20.5941 17.0083L20.5043 17.0003H17.9994L18.0004 14.5002L17.9923 14.4104C17.9553 14.2063 17.7943 14.0453 17.5902 14.0083L17.5004 14.0002ZM10.0004 2.00488C12.7618 2.00488 15.0004 4.24346 15.0004 7.00488C15.0004 9.76631 12.7618 12.0049 10.0004 12.0049C7.23894 12.0049 5.00036 9.76631 5.00036 7.00488C5.00036 4.24346 7.23894 2.00488 10.0004 2.00488ZM10.0004 3.50488C8.06737 3.50488 6.50036 5.07189 6.50036 7.00488C6.50036 8.93788 8.06737 10.5049 10.0004 10.5049C11.9334 10.5049 13.5004 8.93788 13.5004 7.00488C13.5004 5.07189 11.9334 3.50488 10.0004 3.50488Z",fill:"currentColor"})),AMe=Object.freeze(Object.defineProperty({__proto__:null,default:VR},Symbol.toStringTag,{value:"Module"})),HR=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M17.5004 12.0003C20.5379 12.0003 23.0004 14.4627 23.0004 17.5003C23.0004 20.5378 20.5379 23.0003 17.5004 23.0003C14.4628 23.0003 12.0004 20.5378 12.0004 17.5003C12.0004 14.4627 14.4628 12.0003 17.5004 12.0003ZM12.0226 13.9996C11.7259 14.4629 11.4864 14.9663 11.314 15.4999L4.25391 15.5002C3.83969 15.5002 3.50391 15.836 3.50391 16.2502V17.1575C3.50391 17.8132 3.7899 18.4362 4.28707 18.8636C5.54516 19.9453 7.44117 20.5013 10.0004 20.5013C10.5992 20.5013 11.1618 20.4709 11.6885 20.4104C11.9374 20.9105 12.2512 21.3743 12.6175 21.7908C11.8153 21.9315 10.9423 22.0013 10.0004 22.0013C7.11087 22.0013 4.87205 21.3447 3.30918 20.001C2.48056 19.2887 2.00391 18.2503 2.00391 17.1575V16.2502C2.00391 15.0075 3.01127 14.0002 4.25391 14.0002L12.0226 13.9996ZM16.7196 14.5889L16.6503 14.6467L14.1347 17.163L14.0941 17.2137L14.0594 17.2711L14.0272 17.3491L14.0156 17.3923L14.0044 17.4787L14.0082 17.5661L14.0271 17.6513L14.0591 17.729L14.0837 17.7714L14.1346 17.8374L16.6503 20.3538C16.8456 20.5491 17.1622 20.5491 17.3574 20.3538C17.531 20.1802 17.5503 19.9108 17.4153 19.716L17.3574 19.6467L15.7114 18.0003H20.5004C20.7458 18.0003 20.95 17.8234 20.9923 17.5901L21.0004 17.5003C21.0004 17.2548 20.8235 17.0507 20.5902 17.0083L20.5004 17.0003H15.7114L17.3574 15.3538C17.531 15.1802 17.5503 14.9108 17.4153 14.716L17.3574 14.6467C17.1839 14.4731 16.9145 14.4539 16.7196 14.5889ZM10.0004 2.00488C12.7618 2.00488 15.0004 4.24346 15.0004 7.00488C15.0004 9.76631 12.7618 12.0049 10.0004 12.0049C7.23894 12.0049 5.00036 9.76631 5.00036 7.00488C5.00036 4.24346 7.23894 2.00488 10.0004 2.00488ZM10.0004 3.50488C8.06737 3.50488 6.50036 5.07189 6.50036 7.00488C6.50036 8.93788 8.06737 10.5049 10.0004 10.5049C11.9334 10.5049 13.5004 8.93788 13.5004 7.00488C13.5004 5.07189 11.9334 3.50488 10.0004 3.50488Z"})),kMe=Object.freeze(Object.defineProperty({__proto__:null,default:HR},Symbol.toStringTag,{value:"Module"})),zR=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M17.5004 12.0003C20.5379 12.0003 23.0004 14.4627 23.0004 17.5003C23.0004 20.5378 20.5379 23.0003 17.5004 23.0003C14.4628 23.0003 12.0004 20.5378 12.0004 17.5003C12.0004 14.4627 14.4628 12.0003 17.5004 12.0003ZM12.0226 13.9996C11.7259 14.4629 11.4864 14.9663 11.314 15.4999L4.25391 15.5002C3.83969 15.5002 3.50391 15.836 3.50391 16.2502V17.1575C3.50391 17.8132 3.7899 18.4362 4.28707 18.8636C5.54516 19.9453 7.44117 20.5013 10.0004 20.5013C10.5992 20.5013 11.1618 20.4709 11.6885 20.4104C11.9374 20.9105 12.2512 21.3743 12.6175 21.7908C11.8153 21.9315 10.9423 22.0013 10.0004 22.0013C7.11087 22.0013 4.87205 21.3447 3.30918 20.001C2.48056 19.2887 2.00391 18.2503 2.00391 17.1575V16.2502C2.00391 15.0075 3.01127 14.0002 4.25391 14.0002L12.0226 13.9996ZM15.0934 14.9665L15.0242 15.0244L14.9663 15.0936C14.8482 15.2642 14.8482 15.4917 14.9663 15.6623L15.0242 15.7315L16.7937 17.5009L15.0268 19.2677L14.9689 19.337C14.8508 19.5075 14.8508 19.7351 14.9689 19.9056L15.0268 19.9749L15.096 20.0327C15.2665 20.1508 15.4941 20.1508 15.6646 20.0327L15.7339 19.9749L17.5007 18.2079L19.2698 19.9771L19.339 20.035C19.5095 20.1531 19.7371 20.1531 19.9076 20.035L19.9769 19.9771L20.0347 19.9079C20.1528 19.7373 20.1528 19.5097 20.0347 19.3392L19.9769 19.27L18.2077 17.5009L19.9796 15.7316L20.0375 15.6623C20.1556 15.4918 20.1556 15.2642 20.0375 15.0937L19.9796 15.0244L19.9104 14.9666C19.7399 14.8485 19.5123 14.8485 19.3418 14.9666L19.2725 15.0244L17.5007 16.794L15.7313 15.0244L15.662 14.9665C15.5159 14.8653 15.3278 14.8508 15.1696 14.9231L15.0934 14.9665ZM10.0004 2.00488C12.7618 2.00488 15.0004 4.24346 15.0004 7.00488C15.0004 9.76631 12.7618 12.0049 10.0004 12.0049C7.23894 12.0049 5.00036 9.76631 5.00036 7.00488C5.00036 4.24346 7.23894 2.00488 10.0004 2.00488ZM10.0004 3.50488C8.06737 3.50488 6.50036 5.07189 6.50036 7.00488C6.50036 8.93788 8.06737 10.5049 10.0004 10.5049C11.9334 10.5049 13.5004 8.93788 13.5004 7.00488C13.5004 5.07189 11.9334 3.50488 10.0004 3.50488Z",fill:"currentColor"})),MMe=Object.freeze(Object.defineProperty({__proto__:null,default:zR},Symbol.toStringTag,{value:"Module"}));function J6e(e){switch(e){case"joined":return VR;case"left":return HR;case"kicked":return zR;default:return null}}function X6e({message:e}){const{participant:t,updateType:n}=e,s=wy(),o=J6e(n),{t:r}=q(),a=c.useMemo(()=>{switch(n){case"joined":return r("share.invite.participantJoined",{name:t.userDisplayName});case"left":return r("share.invite.participantLeft",{name:t.userDisplayName});case"kicked":return r("share.invite.participantKicked",{name:t.userDisplayName});default:return null}},[n,t.userDisplayName,r]);return l.jsx("div",{className:F(IT,s),children:l.jsxs("div",{className:"flex gap-2 text-foreground-550 text-sm",children:[o&&l.jsx(o,{className:"size-4 shrink-0"}),a]})})}const exe=["thumbsup","thumbsdown","report","share","copy","add-to-pages","regenerate","research-export"],txe=[...exe],nxe=[],i8=c.lazy(()=>B(()=>import("./ai-message-B6YK5Gxn.js").then(e=>e.a),__vite__mapDeps([437,1,414,438,439,440,435,441,407,366,442,443,444,445,396,446,394])));function sxe(e){const{message:t,animatingMessageIds:n,conversationId:s,sideBySideComparisonId:o,isStreamingComplete:r,shouldAnimate:a,reactionsToAllow:i,isLastMessage:u}=e,{t:d}=q(),m=oe(Sn),f=DR();if(!s)return null;if(!C_(t))return l.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.25},children:l.jsx(c.Suspense,{fallback:f&&l.jsx(OR,{loadingType:f}),children:l.jsx(i8,{message:t,isStreamingComplete:r,shouldAnimate:!1,reactionsToAllow:i,isLastMessage:u})})});if(!o)return null;const{left:h,right:g}=t,C=b=>!(n!=null&&n.has(b.id))&&!b.sideBySideConfig.isStreamingComplete,v=(b,E)=>{cie({sideBySideComparisonId:o,sideBySideConfig:E}),jn.selectSideBySideMessage({selectedMessageId:b,sideBySideComparisonId:o}),dte(s,b),m({title:d("chat.sideBySide.selectedResponseToastTitle"),subtitle:d("chat.sideBySide.selectedResponseToastSubtitle"),dismissAfter:2e3})},y=l.jsx(jR,{delay:.5,className:"mt-2"});return l.jsxs("div",{className:"flex w-full flex-col items-center gap-6 pb-4",children:[l.jsx("p",{children:d("chat.sideBySide.preambleMessage")}),l.jsx("div",{className:"flex flex-col justify-center gap-6 @5xl/chat:w-[100cqw] @5xl/chat:flex-row @5xl/chat:items-stretch @5xl/chat:px-6",children:[h,g].map(b=>l.jsxs("div",{className:"flex min-h-24 flex-col rounded-2xl border-[0.5px] border-black/12 bg-white/45 p-6 @5xl/chat:min-w-[480px] @5xl/chat:max-w-[600px] @5xl/chat:flex-[1_1_600px] dark:bg-background-650/10",children:[l.jsx("div",{className:"flex-1",children:C(b)?y:l.jsx(c.Suspense,{fallback:y,children:l.jsx(i8,{message:b,isStreamingComplete:r,shouldAnimate:a,reactionsToAllow:nxe,isLastMessage:!0,groupHasTopMargin:!1,isInSideBySide:!0})})}),r&&l.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.5},children:l.jsx(ne,{size:"36-sm",className:"mx-auto mt-6",title:d("chat.actions.selectResponse"),color:"strong",onClick:()=>v(b.id,b.sideBySideConfig),children:d("chat.actions.selectResponse")})})]},b.id))})]})}const GR=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M19.5 5.5H4.5C3.94772 5.5 3.5 5.94772 3.5 6.5V15.5C3.5 16.0523 3.94772 16.5 4.5 16.5H9V18H4.5C3.11929 18 2 16.8807 2 15.5V6.5C2 5.11929 3.11929 4 4.5 4H19.5C20.8807 4 22 5.11929 22 6.5V15.5C22 16.7183 21.1285 17.7331 19.975 17.9549C19.9 17.5176 19.6598 17.1137 19.2849 16.8388L18.9461 16.5H19.5C20.0523 16.5 20.5 16.0523 20.5 15.5V6.5C20.5 5.94772 20.0523 5.5 19.5 5.5ZM11.2803 10.2197C11.0658 10.0052 10.7432 9.94103 10.463 10.0571C10.1827 10.1732 10 10.4467 10 10.75V21.25C10 21.5785 10.2138 21.8688 10.5275 21.9663C10.8413 22.0637 11.1819 21.9456 11.368 21.6749L13.8348 18.0869L18.0955 18.9839C18.4203 19.0523 18.7514 18.8991 18.9095 18.6073C19.0675 18.3154 19.015 17.9544 18.7803 17.7197L11.2803 10.2197ZM11.5 18.8353V12.5607L15.9357 16.9964L13.6545 16.5161C13.3582 16.4537 13.0535 16.5756 12.882 16.8251L11.5 18.8353Z"})),NMe=Object.freeze(Object.defineProperty({__proto__:null,default:GR},Symbol.toStringTag,{value:"Module"})),WR=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2ZM12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 16.6944 7.30558 20.5 12 20.5C16.6944 20.5 20.5 16.6944 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5ZM15.4462 8.39705L15.5303 8.46967C15.7966 8.73594 15.8208 9.1526 15.6029 9.44621L15.5303 9.53033L13.061 12L15.5303 14.4697C15.7966 14.7359 15.8208 15.1526 15.6029 15.4462L15.5303 15.5303C15.2641 15.7966 14.8474 15.8208 14.5538 15.6029L14.4697 15.5303L12 13.061L9.53033 15.5303C9.26406 15.7966 8.8474 15.8208 8.55379 15.6029L8.46967 15.5303C8.2034 15.2641 8.1792 14.8474 8.39705 14.5538L8.46967 14.4697L10.939 12L8.46967 9.53033C8.2034 9.26406 8.1792 8.8474 8.39705 8.55379L8.46967 8.46967C8.73594 8.2034 9.1526 8.1792 9.44621 8.39705L9.53033 8.46967L12 10.939L14.4697 8.46967C14.7359 8.2034 15.1526 8.1792 15.4462 8.39705Z"})),RMe=Object.freeze(Object.defineProperty({__proto__:null,default:WR},Symbol.toStringTag,{value:"Module"})),c8="size-5",l8="flex w-full items-center justify-end gap-1.5 text-foreground-450 dark:text-foreground-600";function oxe({type:e}){const{t}=q();switch(e){case"takeTaskControl":return l.jsxs("div",{className:l8,children:[l.jsx(GR,{className:c8}),t("actions.tookControl")]});case"cancelTask":return l.jsxs("div",{className:l8,children:[l.jsx(WR,{className:c8}),t("actions.cancelledTask")]});case"createPage":case"appendToPage":case"promptCharacterSpeech":default:return null}}function rxe(e){const{text:t,author:n}=e,s=M(L1),o=(n==null?void 0:n.type)==="groupParticipant"&&n.id!==s;return l.jsx("div",{className:F("flex w-full flex-col",{"items-start":o,"items-end":!o}),"data-content":"user-message",children:l.jsxs("div",{className:F("font-ligatures-none relative h-fit max-w-user-text-message whitespace-pre-wrap break-words bg-accent-250/60 px-4 py-2.5 squircle-16 dark:bg-accent-200",Go("userMessage")??"text-base",{"bg-white dark:bg-accent-100":o}),children:[o&&l.jsx("div",{className:"pointer-events-none absolute inset-0 border-squircle-card border-accent-200 squircle-stroke-16 dark:border-accent-300","aria-hidden":"true"}),t]})})}const $R=e=>(W1(EO),Ip({groupper:{tabbability:axe(e==null?void 0:e.tabBehavior)},focusable:{ignoreKeydown:e==null?void 0:e.ignoreDefaultKeydown}})),axe=e=>{switch(e){case"unlimited":return eg.Unlimited;case"limited":return eg.Limited;case"limited-trap-focus":return eg.LimitedTrapFocus;default:return}},qR=c.forwardRef((e,t)=>{const{children:n,tabBehavior:s="limited-trap-focus",ignoreDefaultKeydown:o,...r}=e,a=$R({tabBehavior:s,ignoreDefaultKeydown:o});return G("a11y-keyboard-navigation")?l.jsx(ge.div,{ref:t,...a,...r,tabIndex:0,children:n}):l.jsx(ge.div,{...r,ref:t,children:n})});qR.displayName="FocusableGroupMotion";function ixe(e){const{children:t,tabBehavior:n="limited-trap-focus",ignoreDefaultKeydown:s,...o}=e,r=$R({tabBehavior:n,ignoreDefaultKeydown:s});return G("a11y-keyboard-navigation")?l.jsx("div",{...r,...o,tabIndex:0,role:"article",children:t}):l.jsx("div",{...o,children:t})}const KR=e=>l.jsx(ixe,{...e});KR.Motion=qR;function cxe({tabs:e=[]}){return e.length===0?null:l.jsx(kr,{className:"flex min-h-[60px] flex-col gap-2",tabbable:!0,tabIndex:0,children:l.jsx(hR,{showRemoveIcon:!1,tabs:e})})}function lxe(e){var T,A,k,R;const{message:t,className:n,isForSharing:s}=e,{t:o}=q(),a=!!M(_s),i=M(L1),u=fy(),d=G("a11y-keyboard-navigation"),m=t.content.filter(P=>P.type==="document"||P.type==="image"),[f,h]=c.useState(!1),g=G("file-upload-card-v2"),C=!!((T=ae.instance().config().composer)!=null&&T.smallAttachmentCard)||g,v=m.slice(0,hp),y=c.useCallback(()=>{vo({msg:o("userInput.seeAll"),type:"polite"}),h(!0)},[o,h]),b=m.length>hp,E=t.author==="groupParticipant"&&((A=t.authorMetadata)==null?void 0:A.id)!==i,S=E?((k=t.authorMetadata)==null?void 0:k.displayName)??o("share.invite.formerMemberTitle"):"";function I(){return E?o("chat.participantSaid",{name:S}):o(d?"chat.userSaid":"chat.user")}const _=I();return l.jsxs(KR,{className:le("space-y-1",n),id:`${t.id}-user-message`,"aria-labelledby":`${t.id}-user-message`,children:[l.jsxs("div",{className:"relative space-y-3",children:[l.jsx("h2",{className:"sr-only","aria-label":_,"data-copy":"false",children:_}),m.length>0&&l.jsxs("div",{className:F("flex w-full flex-row gap-2 overflow-hidden",{"justify-end":!E,"h-32":!g&&!C,"h-small-attachment":!g&&C,"h-auto":g}),children:[v.map((P,V)=>l.jsx(eR,{messageItem:P,isForSharing:s},`file-${V}`)),b&&l.jsx(ne,{"aria-label":o("userInput.seeAll"),title:o("userInput.seeAll"),color:"overlay-dimmed-inverted",onClick:y,className:C?"mt-1 h-small-attachment":"",children:o("userInput.seeAll")}),f&&l.jsx(tR,{onClose:()=>h(!1),messages:m,isForSharing:s})]}),t.content.map((P,V)=>P.type==="browserTabs"?u&&bse(P.tabs)?l.jsx(cxe,{tabs:P.tabs},V):null:P.type==="text"?l.jsxs("div",{className:"flex flex-col gap-1",children:[E&&l.jsx("div",{className:"text-foreground-600 text-xs","aria-hidden":"true",children:S}),l.jsx(rxe,{author:t.authorMetadata,text:P.text})]},V):P.type==="command"?l.jsx(oxe,{type:P.command.type},V):(P.type==="document",null)),t.emojiReaction&&l.jsx("div",{className:"absolute -bottom-3 end-3",children:t.emojiReaction})]}),!a&&((R=t.brand)==null?void 0:R.brandLogo)&&l.jsx("div",{className:"w-full px-3 text-right text-foreground-600 text-sm",children:o("ads.aboutBrand",{brand:t.brand.brandLogo.businessName})})]},t.id)}const u8=c.lazy(()=>B(()=>import("./ai-message-B6YK5Gxn.js").then(e=>e.a),__vite__mapDeps([437,1,414,438,439,440,435,441,407,366,442,443,444,445,396,446,394])));function d8(e){const{chatItemClasses:t,currentConversation:n,enableLastMessageCheck:s=!1,hasNextPage:o=!1,isStreamingComplete:r,messages:a,previousMessageInit:i,reactionsToAllow:u,shouldAnimate:d=!1}=e,f=M(_1).get((n==null?void 0:n.id)??""),h=G("share-continue-v2"),{disableMultiturn:g}=ae.instance().config();return a.map((v,y)=>{const b=new Date(v.createdAt),E=y>0?a[y-1]:i,S=E&&new Date(E.createdAt),I=!S||!Ah(b,S),_=h&&F3e(n!=null&&n.continuedAt?new Date(n.continuedAt):null,b,S),T=s&&y===a.length-1;let A;rte(v)?A=l.jsx(sxe,{message:v,conversationId:n==null?void 0:n.id,animatingMessageIds:f,sideBySideComparisonId:n==null?void 0:n.sideBySideComparisonId,isStreamingComplete:r,shouldAnimate:d,reactionsToAllow:u,isLastMessage:T}):v.author==="ai"?A=e.isNewChat?l.jsx(c.Suspense,{fallback:l.jsx("div",{"aria-hidden":!0}),children:l.jsx(u8,{message:v,isStreamingComplete:r,shouldAnimate:d,reactionsToAllow:u,isLastMessage:T})}):l.jsx(u8,{message:v,isStreamingComplete:r,shouldAnimate:d,reactionsToAllow:u,isLastMessage:T}):v.author==="system"?A=l.jsx(X6e,{message:v}):A=l.jsx(lxe,{message:v,className:t});const k=y===0&&o&&!E;return l.jsxs(c.Fragment,{children:[_&&l.jsx(Q6e,{content:z("chat.continuedConversationDisclaimer")}),!k&&I&&!g&&l.jsx(Y6e,{date:b,className:t}),A]},v.id)})}function ZR(e){const{className:t}=e,n=M(_a),s="top-disclaimer";return n?l.jsx(w5,{forceVisible:!0,className:t,testId:s,shouldUpdateNewConversationCount:!0}):l.jsx(w5,{className:t,testId:s,shouldUpdateNewConversationCount:!0})}const m8=10,uxe=0,dxe=.2;function mxe({onClick:e,shouldShowScrollToBottomButton:t,bottomButtonClass:n=""}){const{t:s}=q(),o=M(Hn),r=Nh(),a=o==="side-by-side"&&!r;return l.jsx(pt,{children:t&&l.jsx(ge.div,{className:F("pointer-events-none absolute flex justify-center",ct.chatScrollToBottomButton,a?"end-0 w-1/4 min-w-secondary-panel-slim":"inset-x-0",n),initial:{...Fe,y:m8},animate:{...nt,y:uxe},exit:{...Fe,y:m8},transition:{duration:dxe},children:l.jsx(ne,{color:"acrylic",variant:"circle",size:"36-sm",title:s("chat.scrollToBottom"),onClick:e,className:"pointer-events-auto border-none shadow-xl",testId:"scroll-to-bottom-button",children:l.jsx("span",{className:F("relative rounded-full bg-white/40 p-2 hover:bg-white hover:p-[9px] dark:bg-background-350/60","after:absolute after:inset-0 after:rounded-full after:opacity-50 after:shadow-xl","before:absolute before:-inset-px before:rounded-full before:border before:border-black/8"),children:l.jsx(Ml,{className:"size-5 rotate-180 fill-foreground-900 dark:fill-white"})})})})})}function fxe(e){const{query:t,messageId:n,index:s,onClick:o}=e,r=M(je),a=()=>{$t({source:"suggestionChip",conversationId:r,messageId:n}),D.trackEvent({name:"interaction",data:{eventName:"copilotSuggestionFollowupSelection",eventInfo_messageId:n,eventInfo_conversationId:r??"",eventInfo_suggestionIndex:s}}),o()};return l.jsx(nR,{isSelected:!1,variant:"flat",className:"max-w-[80%] text-start sm:max-w-fit",onClick:a,children:l.jsx("span",{className:"p-1",children:t})})}function pxe(e){const{mostRecentMessageId:t,className:n}=e,s=M(je),o=M(cY),r=o&&t===o.messageId;return c.useEffect(()=>{r&&D.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:"chat",eventInfo_messageId:t,eventInfo_impressionScenario:"suggestionReceived",eventInfo_conversationId:s??""}})},[r,t,s]),l.jsx("div",{className:le("mt-auto",n),children:r&&l.jsx(gxe,{suggestions:o.suggestions,messageId:o.messageId,conversationId:s??""})})}async function hxe(e){await jn.submitMessage({text:e,inputMethod:"suggestion"}),Ge.emit("composer:focus-input")}function gxe({suggestions:e,messageId:t,conversationId:n}){const s=c.useRef(null),o=yl(s,{amount:"all",once:!0});return c.useEffect(()=>{o&&D.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:"chat",eventInfo_messageId:t,eventInfo_impressionScenario:"suggestionRender",eventInfo_conversationId:n}})},[o,t,n]),l.jsx(ln,{ref:s,duration:es.suggestions,className:"flex flex-col items-end gap-3 pb-8",children:e.map((r,a)=>l.jsx(fxe,{index:a,messageId:t,onClick:()=>hxe(r),query:r},r))})}const vxe="answerCards.ariaLabel.numberOfLocalResultsSingle",Cxe="answerCards.ariaLabel.numberOfLocalResultsPlural";function yxe(e){let t="";for(const s of e.entities){if(t+=s.name,s.category&&(t+=`, ${s.category}`),s.price&&(t+=`, ${bxe(s.price)}`),s.reviews[0]){const o=s.reviews[0];t+=", ",t+=z("answerCards.ariaLabel.ratedByReviewer",{rating:o.rating,reviewCount:o.count,reviewProvider:o.providerName})}s.phoneNumber&&(t+=", ",t+=z("answerCards.ariaLabel.phoneNumber",{phoneNumber:s.phoneNumber})),s.location.address&&(t+=", ",t+=z("answerCards.ariaLabel.address",{address:s.location.address})),s.openState&&(t+=", ",t+=z("answerCards.ariaLabel.openState",{openState:s.openState})),t+=". "}const n=e.entities.length===1?vxe:Cxe;return z(n,{count:e.entities.length,resultSummary:t})}function bxe(e){switch(e.length){case 1:return z("answerCards.ariaLabel.inexpensivePrices");case 2:return z("answerCards.ariaLabel.averagePrices");default:return z("answerCards.ariaLabel.expensivePrices")}}function xxe(e){const{content:t,announce:n}=e;let s;for(const o of t){switch(o.type){case"text":s=o.text;break;case"image":o.url?s=z("chat.imageGenerated",{prompt:o.prompt??""}):s=z("chat.imageGenerating");break;case"page":break;case"citation":break;case"card":s=Sxe(o.card);break;case"error":s=o.text;break;case"task":break;case"deleted":break;case"chainOfThought":break;case"chainOfThoughtGroup":break;case"document":break;case"activity":break;case"memorySignal":s=o.text;break;case"indicator-ai-response":s=o.text;break}s&&n({msg:s})}}function Sxe(e){switch(e.type){case"localEntity":return yxe(e);case"healthcareEntity":return"";case"healthcareInfo":return"";case"shoppingProducts":return z("shopping.ariaLabel.carouselCards");case"ads":case"artifact":case"weather":case"weatherTemperatureHourly":case"weatherTemperatureDaily":case"weatherPrecipitationHourly":case"weatherPrecipitationDaily":case"image":case"person":case"phoneImages":case"phoneLinking":case"phoneAlarm":case"phoneTimer":case"phoneSendMessage":case"video":case"sportsSchedule":case"sportsGame":case"safetyHelpline":case"shopping":case"shoppingCurated":case"suggestVision":case"job":case"inlineVideo":case"quiz":case"financeChart":case"financeComparisonChart":case"generativeUI":case"recipe":case"mediaSpotlight":case"inlineImage":case"m365":case"file":case"computerUseFeedback":case"document":case"personalArtifacts":case"flashcard":case"consent":case"consentV2":case"newsCarousel":case"navigation":case"mediaCarousel":case"edge-passwords":case"powerPointCreator":case"federatedLogin":case"form-fill":return"";default:return""}}function Exe(e,t){const n=c.useRef(void 0);c.useEffect(()=>{var o;if(t)return;const s=e.at(-1);s&&s.author==="ai"&&s.id!==((o=n.current)==null?void 0:o.id)&&(xxe({content:s.content,announce:vo}),n.current=s)},[e,t])}function wxe(e){c.useEffect(()=>{if(e.current){const t=s=>{var r,a,i,u,d;if(s.target&&s.target instanceof Element&&s.target.closest('[data-formatless-copy="false"]'))return;const o=window.getSelection();if(o!=null&&o.rangeCount){let m=document.createElement("div");const f=o.getRangeAt(0),{startContainer:h,endContainer:g}=f;m.appendChild(f.cloneContents());const C=(r=h.parentElement)==null?void 0:r.closest("pre"),v=(a=g.parentElement)==null?void 0:a.closest("pre"),y=!!C&&!!v&&C===v,b=!!((i=h.parentElement)!=null&&i.closest("table"))&&!Ixe(f),E=m.getElementsByTagName("*");for(const T of E)T.getAttribute("data-copy")==="false"?T.remove():(T.removeAttribute("style"),T.removeAttribute("class"),T.removeAttribute("initial"),T.removeAttribute("animate"),T.removeAttribute("variants"),T.removeAttribute("custom"));if(y){const T=document.createElement("pre");T.appendChild(m),m=T}if(b){const T=document.createElement("table"),A=Array.from(m.children);for(const k of A)T.appendChild(k);m=T}m.style.position="absolute",m.style.left="-9999px",document.body.appendChild(m);const S=window.getSelection(),I=document.createRange();I.selectNodeContents(m),S==null||S.removeAllRanges(),S==null||S.addRange(I);const _=(S==null?void 0:S.toString())??"";S==null||S.removeAllRanges(),S==null||S.addRange(f),document.body.removeChild(m),m.removeAttribute("style"),(u=s.clipboardData)==null||u.setData("text/plain",_),(d=s.clipboardData)==null||d.setData("text/html",y||b?m.outerHTML:m.innerHTML)}s.preventDefault()},n=e.current;return n.addEventListener("copy",t),()=>{n.removeEventListener("copy",t)}}return()=>{}},[e])}function Ixe(e){var r,a,i,u;const{startContainer:t,endContainer:n}=e,s=((r=t.parentElement)==null?void 0:r.closest("td"))??((a=t.parentElement)==null?void 0:a.closest("th")),o=((i=n.parentElement)==null?void 0:i.closest("td"))??((u=n.parentElement)==null?void 0:u.closest("th"));return!!(s&&o&&s===o)}function _xe(){const e=gt({breakpoint:"lg"}),t=gt({breakpoint:"xl"}),n=gt({breakpoint:"2xl"}),s=j3(),r=!!FC();return e||s&&t||r&&n}const Txe=100,f8=.3,Axe=2*bS,kxe="bottom-[60px] sm:bottom-[120px] h-[50px]",Mxe="min-h-[60px] sm:min-h-[120px]",Nxe="min-h-[calc(100dvh-60px-var(--chat-details-container-height)-var(--composer-container-height)-(2*var(--layout-offset-y)))] sm:min-h-[calc(100dvh-120px-var(--composer-container-height)-(2*var(--layout-offset-y)))]",Rxe="min-h-[calc(100dvh-48px-var(--chat-details-container-height)-var(--composer-container-height)-(2*var(--layout-offset-y)))] sm:min-h-[calc(100dvh-48px-var(--composer-container-height)-(2*var(--layout-offset-y)))]",Pxe="min-h-[calc(100dvh-80px-var(--chat-details-container-height)-var(--composer-container-height)-(2*var(--layout-offset-y)))] sm:min-h-[calc(100dvh-80px-var(--composer-container-height)-(2*var(--layout-offset-y)))]",Lxe="bottom-[var(--character-component-height)] h-[50px]",Oxe="min-h-[calc(100dvh-var(--character-component-height)-var(--composer-container-height)-(2*var(--layout-offset-y)))]";function Dxe(e,t,n,s,o){const r=Ns(),a=c.useMemo(()=>({initial:{opacity:0,y:Txe},animate:{opacity:1,y:0,transition:{duration:.4,y:{duration:f8}}},exit:{opacity:0,y:-100,transition:{duration:.2,y:{duration:f8}}},onAnimationStart:S=>{typeof S=="object"&&!Array.isArray(S)&&S.opacity===1&&e()}}),[e]),i=n?Lxe:kxe,u=n?`min-h-[${s}px]`:Mxe,{highlighted:d,backstage:m}=Uxe(o),f=Fxe(n,m,d),[h,g]=c.useState(!1),C=c.useRef(null),v=c.useCallback(S=>{C.current=S,S&&g(!0)},[]),{scrollYProgress:y}=IU({target:h?C:void 0,container:t,offset:["end start","start start"]});Tr(()=>{requestAnimationFrame(()=>{var S;(S=t.current)==null||S.dispatchEvent(new Event("scroll"))})},{},t.current);const b=al(y,[Axe/100,1],[0,1]);return{highlightedMessagesProps:a,opacity:r?b:y,sentinelRef:v,sentinelClasses:i,backstageClasses:u,highlightedClasses:f,highlighted:d,backstage:m}}function jxe(e){const t=YR(e);if(!t)return[];const n=e.at(-2),s=[];ki(n)&&s.push(n),ki(t)&&s.push(t);const o=e.at(-3);if((o==null?void 0:o.author)==="human"&&s.length===2)return[o,...s];const r=t.author==="human",a=!r&&(n==null?void 0:n.author)==="ai";return r||a?[t]:e.slice(-2)}function YR(e){return e.at(-1)}function Uxe(e){const t=jxe(e),n=e.slice(0,-t.length);return{highlighted:t,backstage:n}}function Fxe(e,t,n){return e?Oxe:ae.instance().config().smallAnochorTopWithoutHeader&&n.length>0?t.length===0?Pxe:Rxe:Nxe}const Bxe=typeof document<"u"?c.useLayoutEffect:c.useEffect;function Vxe(e,t){const n=c.useRef(0),s=c.useRef(0);Bxe(()=>{const o=t.current;if(!o)return;const r=o.scrollHeight-n.current,a=o.scrollTop===0;r>0&&a?o.scrollTop=r:o.scrollTop=s.current,n.current=o.scrollHeight,s.current=o.scrollTop},[e]),c.useEffect(()=>{const{current:o}=t,r=()=>{o&&(s.current=o.scrollTop)};return o==null||o.addEventListener("scroll",r),()=>o==null?void 0:o.removeEventListener("scroll",r)},[t])}function Hxe(e,t){const n=Zt("kill-review-prompt"),o=!!ae.instance().config().promptForReviews&&!n,r=oe(So),a=c.useCallback(async u=>{if(!o)return;const{shown:d}=await NJ.run({});if(d)return;const f=K3e()>=H3e,h=u>B3e;(f||h)&&!Z3e()&&(r("prompt-review"),D.trackEvent({name:"system",data:{eventName:"inAppSurveyPopUp",eventInfo_triggerType:h?"longChat":"activeDays"}}))},[o,r]),i=c.useRef(!1);c.useEffect(()=>{t&&(i.current=!0)},[t]),c.useEffect(()=>{t||!i.current||a(e)},[e,t,a])}function zxe(e){return c.useCallback(({behavior:n="smooth",delay:s=0})=>{const o=()=>{e.current&&e.current.scrollTo({top:e.current.scrollHeight,behavior:n})};s===0?o():setTimeout(o,s)},[e])}const Gxe=.1;function Wxe(e){const{chatRef:t,hasMessages:n=!0}=e,s=c.useRef(null),[o,r]=c.useState(!1),a=c.useRef(n);a.current=n;const i=c.useCallback(u=>{const d=u[0];d&&d.boundingClientRect.width!==0&&r(!d.isIntersecting&&a.current)},[]);return c.useEffect(()=>{if(!t.current||!s.current)return()=>{};const u=new IntersectionObserver(i,{root:t.current,threshold:Gxe});return u.observe(s.current),()=>{u.disconnect()}},[t,i]),c.useEffect(()=>{n||r(!1)},[n]),{bottomRef:s,shouldShowScrollToBottomButton:o}}function $xe(){const e=M(Xd),t=bl(vt),n=M(I1);c.useEffect(()=>{t(s=>{if(n){const o=s.get(n);o&&(o.characterId=e)}})},[n,e,t])}async function qxe(e,t){const n=PC(t);if(n){const{message:s,part:o}=n;if(!o.task)return;const r=await ks();r.setConversationIdByMessageId({messageId:s.id,conversationId:e}),r.setMessageIdByTaskId({taskId:o.task.id,messageId:s.id})}}const Kxe=window.requestIdleCallback?window.requestIdleCallback:function(t){const n=Date.now();return setTimeout(()=>{t({didTimeout:!1,timeRemaining(){return Math.max(0,50-(Date.now()-n))}})},1)},Zxe=1.5,p8="inline-block w-full space-y-8",_y="max-w-chat w-full";function Yxe({children:e,chatRef:t,historyLength:n}){return Vxe(n,t),e}function Zf(e){var Os,Da;const{className:t,conversationContainerClassName:n="mb-[var(--composer-container-height)]",bottomButtonClassName:s="bottom-[calc(var(--composer-container-height)+1rem)]",customLaunchGreeting:o,customBottomDisclaimer:r,enableHighlightedClasses:a=!0,enableBackstageClasses:i=!0,disableStickyHeader:u=!1,disableSuggestions:d=!1,disableScrollToBottomButton:m=!1,reactionsToAllow:f,CustomBottomContent:h}=e,{loader:g}=xR(),C=M(Ta),v=M(hn),y=M(lC),b=M(Sw),E=M(V1),S=gt({breakpoint:"sm"}),I=G("sticky-conversation-mode"),_=G("persist-conversation-mode"),T=M(cC),k=um()&&y!==null,R=!bm(),P=!Zt("kill-coco-isolation");c.useEffect(()=>{if(I){let Pt=vn();if(_?Pt=wt(Od,wa)??Pt:Pt=Dn("sticky-conversation-mode")??Pt,P){const Jo=Pt;Pt=ZZ(Pt,b);const ja=Jo!==Pt&&Pt==="coco",Ds=jX();ja&&Ds&&(H1(null),ld())}Kt(Pt)}},[I,_,b,P]);const V=v==null?void 0:v.sideBySideComparisonId,U=!!V,[K,Z]=c.useState(0);$xe();const Y=c.useRef(null),Q=zxe(Y);wxe(Y);const{isContextualShoppingCardExpanded:ee,showShoppingCardInNewChat:$}=oc();D3({scrollableRef:Y,source:"chat",customData:{conversationId:v==null?void 0:v.id,...ee&&{isContextualShoppingCardExpanded:ee}}});const[te]=oy({...g,disabled:!!g.error}),{highlightedMessagesProps:J,sentinelRef:W,sentinelClasses:ie,backstageClasses:Se,highlightedClasses:me,opacity:re,highlighted:xe,backstage:Ne}=Dxe(()=>Q({behavior:"instant",delay:ae.instance().config().scrollToBottomDelay}),Y,k,K,C),Oe=al(re,Pt=>Pt<.5?"none":"auto"),se=()=>Q({behavior:"smooth"}),{bottomRef:ce,shouldShowScrollToBottomButton:X}=Wxe({chatRef:Y,hasMessages:C.length>0&&!m}),Re=M(_1).get((v==null?void 0:v.id)??""),qe=!!(Re!=null&&Re.size),Xe=Re==null?void 0:Re.values().next().value,et=M(Il);c.useEffect(()=>{v!=null&&v.id&&(qxe(v.id,C),Kxe(()=>{B(()=>import("./ai-message-B6YK5Gxn.js").then(Pt=>Pt.a),__vite__mapDeps([437,1,414,438,439,440,435,441,407,366,442,443,444,445,396,446,394]))}))},[v==null?void 0:v.id,C]),Exe(C,T);const fe=YR(xe),Ee=(fe==null?void 0:fe.author)==="human"||T,Ae=!!M(_u),Ye=M(zc),De=c.useMemo(()=>{if((fe==null?void 0:fe.author)!=="ai")return!1;const Pt=fe.content.at(-1);return(Pt==null?void 0:Pt.type)==="image"&&Pt.status==="generating"},[fe]),Ke=Ee&&!qe||Ae||Ye,{disableMultiturn:Be}=ae.instance().config(),Ce=(Da=(Os=ae.instance().config().styleOverrides)==null?void 0:Os.width)==null?void 0:Da.chat;Hxe(C.length,Ee);const ze=Ns(),Ct=sc(),Me=!k&&!S&&Ct,Ie=M(Dd),Ze=i&&!($&&!S)&&!Ie,{isMediaViewerOpen:at}=Pa(),Te=G("chat-refactor-max-width"),dt=Te?wy():void 0,At=Te?"w-full":_y,Bt=!T,Rs=!d&&!U,{showLaunchGreeting:eo}=Lm(),Ps=eo&&!k,Yo=!!ae.instance().config().smallScreenShowTopDisclaimerAfterSendingMessage?!Ct:!Ps,os=k||S&&Yo,Kl=Ke&&!U&&!De,To=G("chat-header-title"),cc=_xe(),lc=M(Hn)==="side-by-side",Jt=ut(),Ls=oe(Hn),Nn=lc&&!S&&Jt.startsWith("/chats"),Qo=c.useCallback(()=>{Ls("detail-only")},[Ls]),Oa=l.jsx(ge.div,{initial:Fe,animate:nt,exit:{transition:{duration:0},...Fe},transition:pn,children:l.jsx(ne,{title:z("actions.hideDetails"),color:"subtle-dimmed",variant:"square",size:"36-sm",onClick:Qo,testId:"collapse-chat-button",children:l.jsx(Iy,{className:"size-5"})})}),hs=xe[0],uc=hs==null?void 0:hs.createdAt,Ao=Ne,Gn=U?ote(xe,V):xe;return l.jsx(O6e,{children:l.jsxs("div",{className:F("@container/chat","scrollbar-stable t-custom-scrollbar flex size-full flex-col items-center overflow-y-auto overflow-x-hidden overscroll-contain text-foreground-800 sm:min-w-secondary-panel-slim lg:min-w-secondary-panel",ae.instance().config().showScrollbarOnHover&&"scrollbar-container",at&&!Ie&&"invisible",t),ref:Y,"data-testid":"chat-page",children:[!u&&(To?l.jsx(L6e,{}):l.jsx(Rh,{hideBackground:!cc&&!Nn,start:Nn&&Oa})),k&&l.jsx(E6e,{animatingMessageId:Xe,isStreamingMessage:Ee,displayedCharacterId:y,setCharacterComponentHeight:Z}),l.jsx(kr.Motion,{circular:!1,tabbable:!0,initial:R?"start":!1,animate:"end",variants:{start:Fe,end:{...nt,transition:{duration:.2,delay:.2}}},className:F(n,"grow",!Te&&(xd("pageContainer")??"px-6"),At,Ce),transition:pn,"data-content":"conversation","data-copy":"false",children:l.jsx(c.Suspense,{fallback:l.jsx("div",{"aria-hidden":!0}),children:l.jsx(c.Suspense,{fallback:l.jsx("div",{"aria-hidden":!0}),children:l.jsxs(Yxe,{chatRef:Y,historyLength:C.length,children:[g.hasNextPage&&l.jsx("div",{ref:te}),l.jsxs(ge.div,{className:F("relative",ze||!u?"pt-10":"pt-6",Ao.length>0&&p8,Ze&&Se),style:{opacity:C.length>0?re:0,pointerEvents:Oe},children:[l.jsx("div",{className:F("absolute -z-10 w-full",ie),ref:W}),l.jsx(d8,{chatItemClasses:dt,currentConversation:v,isStreamingComplete:Bt,messages:Ao,hasNextPage:g.hasNextPage,reactionsToAllow:f,isNewChat:!1})]}),l.jsxs("div",{className:F(a&&me,"flex flex-col"),"data-testid":"highlighted-chats",children:[l.jsx(pt,{mode:"wait",initial:!0,children:l.jsxs(l.Fragment,{children:[l.jsx("div",{className:dt,children:l.jsxs("div",{className:F("flex w-full flex-col gap-2",Ps&&"pb-2"),children:[Ps&&o,os&&l.jsx(ZR,{})]})}),xe.length>0&&l.jsxs(ge.div,{className:F(Be?"pb-24":"pb-6",p8),initial:J.initial,animate:J.animate,exit:J.exit,onAnimationStart:Pt=>{const Jo=re.get()<1;((hs==null?void 0:hs.author)==="human"||Jo)&&J.onAnimationStart(Pt)},children:[l.jsx(d8,{chatItemClasses:dt,currentConversation:v,enableLastMessageCheck:!0,isStreamingComplete:Bt,messages:Gn,previousMessageInit:Ao[Ao.length-1]??void 0,reactionsToAllow:f,shouldAnimate:qe,isNewChat:!0}),l.jsx(c.Suspense,{fallback:l.jsx("div",{"aria-hidden":!0}),children:Kl&&l.jsx(jR,{delay:Zxe,className:dt})}),l.jsx(ln,{children:et&&l.jsx(C6e,{className:dt})}),l.jsx(ln,{children:E&&E.visible&&l.jsx(p6e,{className:dt})})]},uc)]})}),Rs&&l.jsx(pxe,{mostRecentMessageId:fe==null?void 0:fe.id,className:dt}),l.jsx("div",{ref:ce,style:{height:0,overflow:"hidden"}}),l.jsx(mxe,{shouldShowScrollToBottomButton:X,onClick:se,bottomButtonClass:s}),h&&l.jsx(h,{isVisible:!X&&!Ke})]})]})})})}),Me&&r]})})}const PMe=Object.freeze(Object.defineProperty({__proto__:null,CHAT_WIDTH_CLASSES:_y,default:Zf},Symbol.toStringTag,{value:"Module"}));function Qxe(e){const{customBottomDisclaimer:t}=e,n=G("async-disclaimer-text"),s=NC(),[o,r]=c.useState(!n);return c.useEffect(()=>{s&&s.length>0&&r(!0)},[s]),t||(o?l.jsx(ln,{className:"absolute bottom-0 flex max-w-chat justify-center px-6 text-center","data-testid":"bottom-disclaimer",children:l.jsx(w5,{shouldUpdateNewConversationCount:!0})}):null)}function Jxe(){return l.jsx("div",{"aria-hidden":!0,className:"flex size-full flex-col items-center justify-center"})}const Tc="absolute animate-dot-ellipsis size-2 rounded-full bg-background-450";function Xxe(e){const{className:t}=e;return l.jsxs("div",{className:F("flex items-center justify-center gap-3",t),children:[l.jsxs("div",{className:"relative flex items-center justify-center",children:[l.jsx("div",{className:Tc,style:{animationDelay:"0ms"}}),l.jsx("div",{className:Tc,style:{animationDelay:"30ms"}})]}),l.jsxs("div",{className:"relative flex items-center justify-center",children:[l.jsx("div",{className:Tc,style:{animationDelay:"100ms"}}),l.jsx("div",{className:Tc,style:{animationDelay:"130ms"}})]}),l.jsxs("div",{className:"relative flex items-center justify-center",children:[l.jsx("div",{className:Tc,style:{animationDelay:"200ms"}}),l.jsx("div",{className:Tc,style:{animationDelay:"230ms"}})]})]})}function e9e(e){const{text:t,staggerChildren:n=.018,delayChildren:s=0,initialOpacity:o=0,className:r}=e;return l.jsx(ge.div,{variants:{show:{transition:{staggerChildren:n,delayChildren:s}}},initial:"hidden",animate:"show",className:r,children:$3(t).map((a,i)=>l.jsx(ge.span,{variants:{hidden:{opacity:o},show:{opacity:1,transition:{duration:Vk}}},children:a},i))})}const t9e={sm:"text-lg",md:"text-2xl",lg:"text-4xl"},h8=25;function n9e(e){const{subheading:t}=e;return l.jsx("h2",{className:"mt-4 text-foreground-800 text-base",children:t})}function s9e(e){const{className:t,fontSize:n="lg"}=e,s=M(uh),o=M(Jw),{t:r}=q(),{greetingKey:a,widgetGreeting:i,widgetSubheading:u}=uA(),{isCentralComposerEnabled:d,isGreetingCentered:m}=Lm(),f=yy(),h=Fye(),{showShoppingCardInNewChat:g}=oc(),C=o&&o.length>h8?`${o.slice(0,h8)}`:o,v=a?r(a,{name:C}):"";return f?l.jsx("div",{className:F(t,"flex w-full flex-col items-start justify-start gap-2 sm:mb-6 sm:h-[100px] sm:justify-end"),children:l.jsx("div",{className:"flex justify-start sm:min-h-8",children:!h||s?l.jsx("div",{className:"ms-2 mt-6 flex size-full sm:mt-0",children:l.jsx(Xxe,{className:"flex-1"})}):l.jsxs("div",{className:"flex flex-col items-start gap-2",children:[l.jsxs(ln,{className:"flex items-center gap-2 text-foreground-550 dark:text-foreground-750",id:i??v,children:[l.jsx("p",{className:"text-sm-strong",children:r("common.copilotText")}),l.jsx("p",{className:"text-sm",children:Xn(new Date,"h:mm aa")})]}),l.jsx("h1",{className:"text-xl",children:l.jsx(QR,{text:i??v},i)})]})})}):l.jsxs("div",{className:F("flex w-full flex-col items-start justify-start sm:justify-end",!g&&"sm:mb-8 sm:h-[100px]",m&&"sm:items-center",!d&&"sm:justify-start",t9e[n],u&&"sm:mb-4",t),"data-testid":"launch-greeting",children:[l.jsx("h1",{children:v}),u&&l.jsx(n9e,{subheading:u})]})}const QR=c.memo(e=>{const{text:t}=e;return l.jsx(e9e,{text:t,staggerChildren:.02,delayChildren:.1},t)});QR.displayName="AnimatedTextMemo";function o9e(e){const{customLaunchGreeting:t,className:n}=e;return t||l.jsx(s9e,{className:n,fontSize:"md"})}function r9e({characterId:e,className:t}){const n=M(hn),[s,o]=Ue(Ew),{t:r}=q();return c.useEffect(()=>{(n==null?void 0:n.isNew)===!1&&o(!1)},[o,n==null?void 0:n.isNew]),n!=null&&n.isNew?l.jsxs(ln,{id:"character-disclaimer",mode:"wait",className:le("pb-2 text-foreground-550/90 text-sm dark:text-foreground-750/60",t),children:[r("characterAnimation.characterDisclaimerTextV2",{characterName:zZ(e,r)})," ",s&&l.jsx(mn,{i18nKey:"characterAnimation.characterSettingDisclaimerText",components:{settingsLink:l.jsx(Bl,{pages:["menu","character-options"],className:"text-foreground-550/90 underline text-sm dark:text-foreground-750/60"})}})]}):null}function a9e(){return l.jsx(G1,{size:"sm",stroke:!0,className:"flex h-[172px] w-[324px] cursor-pointer flex-col p-4",children:l.jsx("div",{className:"flex flex-1",children:l.jsx(Yp,{className:"size-full",style:{clipPath:"var(--clip-path-squircle-36)"}})})})}const i9e=c.lazy(()=>B(()=>import("./widget-section-CkcrzFxf.js"),__vite__mapDeps([447,1])).then(e=>({default:e.default}))),c9e=c.lazy(()=>B(()=>import("./shopping-starter-card-D_1DvizJ.js"),__vite__mapDeps([448,1,449,328,324,325,309,310,450,326,380,451,452,453,327,454,323,455,330,439,456,457,458,459,460,461,462,463,342,464])).then(e=>({default:e.ShoppingStarterCard})));function l9e(e){const{customLaunchGreeting:t,chatItemClasses:n,postContent:s}=e,{isCentralComposerEnabled:o,isWidgetSectionEnabled:r,isAppearanceOnHomeEnabled:a,isGreetingCentered:i,showLaunchGreeting:u}=Lm(),d=gt({breakpoint:"sm"}),m=Kp({breakpoint:"h760"}),f=Kp({breakpoint:"h600"}),h=G("appr-home-toggle"),g=M(fQ),C=a&&(!h||!g)&&!f,v=um(),y=sc(),b=M(lC),E=!bm(),S=v&&b!==null,I=M(Rw),{showShoppingCardInNewChat:_}=oc(),T=u&&!S,k=!!ae.instance().config().smallScreenShowTopDisclaimerAfterSendingMessage?!y:!T,R=S||d&&k,V=Qs()==="computerUse",U=r&&!V&&(!m||d),K=T&&"pb-2",Z=c.useMemo(()=>c.lazy(()=>a?B(()=>import("./appearance-chat-BC--e6XA.js"),__vite__mapDeps([465,1,466])).then(Q=>({default:Q.AppearanceChat})):Promise.resolve({default:()=>null})),[a]),Y=l.jsxs(ln,{delay:.2,initial:E?"initial":!1,className:F(o?"mt-2 flex flex-col items-start text-pretty pe-0 sm:absolute sm:inset-x-0 sm:inset-y-0 sm:mx-auto sm:mt-0 sm:max-w-chat sm:px-4 sm:pb-[calc(var(--composer-container-height))]":K,_&&"mx-auto mt-2 max-w-sm sm:relative sm:max-w-md sm:px-4",C&&d&&"grow",U&&"sm:pb-[calc(var(--composer-container-height)+42px)]"),children:[C&&o&&l.jsx("div",{className:F("order-2 flex w-full flex-col items-center justify-center sm:absolute sm:h-[calc(50%-60px-var(--composer-container-height)/2)]",d&&"grow"),children:l.jsx(c.Suspense,{fallback:l.jsx(Jxe,{}),children:l.jsx(Z,{voiceAppearanceId:Aa},"appearance-chat-home")})}),l.jsxs("div",{className:"order-1 flex w-full flex-col gap-2 sm:top-0 sm:h-full sm:justify-center",children:[T&&l.jsx(o9e,{customLaunchGreeting:t,className:F(i?"sm:text-center":"sm:ps-2")}),S&&l.jsx(r9e,{characterId:b}),_&&!I&&l.jsx(c.Suspense,{fallback:l.jsx(a9e,{}),children:l.jsx(c9e,{})}),R&&l.jsx(ZR,{}),U&&l.jsx(i9e,{onWidgetClick:W3,className:"mx-auto mt-4 max-w-sm px-2 pb-8 sm:mx-0 sm:mt-0 sm:h-[220px] sm:w-full sm:max-w-none sm:px-4 sm:pb-0"}),s]})]},"chat-welcome");return n?l.jsx("div",{className:n,children:Y}):Y}function u9e(e){var y,b;const{className:t,conversationContainerClassName:n,customLaunchGreeting:s,customBottomDisclaimer:o,disableStickyHeader:r=!1,postWelcomeContent:a}=e;u6e(),d6e();const i=G("chat-refactor-max-width"),u=gt({breakpoint:"sm"}),d=Ns(),m=!bm(),{showShoppingCardInNewChat:f}=oc(),h=!u,g=(b=(y=ae.instance().config().styleOverrides)==null?void 0:y.width)==null?void 0:b.chat,C=i?wy():void 0,v=i?"w-full":_y;return l.jsxs("div",{className:F("scrollbar-stable flex size-full flex-col items-center overflow-y-auto overflow-x-hidden overscroll-contain text-foreground-800 sm:min-w-secondary-panel-slim lg:min-w-secondary-panel",ae.instance().config().showScrollbarOnHover&&"scrollbar-container",t),"data-testid":"landing-page",children:[!r&&l.jsx(Rh,{sectionHeight:"64-legacy"}),l.jsx(kr.Motion,{circular:!1,tabbable:!0,initial:m?"start":!1,animate:"end",variants:{start:Fe,end:{...nt,transition:{duration:.2,delay:.2}}},className:F(n,"grow",!i&&(xd("pageContainer")??"px-6"),v,g),layout:"position",transition:pn,children:l.jsxs(c.Suspense,{fallback:l.jsx("div",{"aria-hidden":!0}),children:[l.jsx("div",{className:F("relative",d||!r?"pt-10":"pt-6","min-h-[60px]",!f&&"sm:min-h-[120px]")}),l.jsx(pt,{mode:"wait",initial:!1,children:l.jsx(l9e,{customLaunchGreeting:s,chatItemClasses:C,postContent:a})})]})}),h&&l.jsx(Qxe,{customBottomDisclaimer:o})]})}function d9e(e){const{className:t,conversationContainerClassName:n="mb-[var(--composer-container-height)]",customLaunchGreeting:s,customBottomDisclaimer:o,disableStickyHeader:r=!1,postWelcomeContent:a}=e;return l.jsxs(Cd,{className:"size-full overflow-hidden",children:[l.jsxs(_S,{children:[l.jsx(u9e,{className:t,conversationContainerClassName:n,customLaunchGreeting:s,customBottomDisclaimer:o,disableStickyHeader:r,postWelcomeContent:a}),l.jsx(Jp,{})]}),l.jsx(Qp,{})]})}const m9e=Qe("/")({component:d9e,beforeLoad:()=>({customLayout:!0})}),f9e=Qe("/projects/$projectId")({beforeLoad:()=>({customLayout:!0})}),p9e=Qe("/partners/feedback")({beforeLoad:()=>({standalonePage:!0})}),h9e=Qe("/pages/$pageId")({beforeLoad:()=>({customLayout:!0})});function g9e(e){const{text:t,shouldAnimate:n,title:s}=e,o=CM(!1),[r,a]=c.useState(0),i=c.useMemo(()=>{const u=o(),d=q3(t);return Ed({contentBlocks:d,delay:u,forceRender:()=>{a(r+1)}})},[o,r,t]);return l.jsxs(l.Fragment,{children:[s&&l.jsx("div",{className:"mb-1 text-foreground-800 text-sm-strong",children:s}),l.jsx("div",{className:"flex flex-col gap-3 text-foreground-700 text-sm",children:l.jsx(Sd,{blocks:i,shouldAnimate:n})})]})}const JR=e=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M12.0016 1.99902C17.5253 1.99902 22.0031 6.47687 22.0031 12.0006C22.0031 17.5243 17.5253 22.0021 12.0016 22.0021C6.47785 22.0021 2 17.5243 2 12.0006C2 6.47687 6.47785 1.99902 12.0016 1.99902ZM12.0016 3.49902C7.30627 3.49902 3.5 7.3053 3.5 12.0006C3.5 16.6959 7.30627 20.5021 12.0016 20.5021C16.6968 20.5021 20.5031 16.6959 20.5031 12.0006C20.5031 7.3053 16.6968 3.49902 12.0016 3.49902ZM12 10.5C12.4142 10.5 12.75 10.8358 12.75 11.25V16.25C12.75 16.6642 12.4142 17 12 17C11.5858 17 11.25 16.6642 11.25 16.25V11.25C11.25 10.8358 11.5858 10.5 12 10.5ZM12 9C12.5523 9 13 8.55229 13 8C13 7.44772 12.5523 7 12 7C11.4477 7 11 7.44772 11 8C11 8.55229 11.4477 9 12 9Z"})),LMe=Object.freeze(Object.defineProperty({__proto__:null,default:JR},Symbol.toStringTag,{value:"Module"}));function v9e(e){const{status:t}=e;let n=l.jsx("div",{className:"size-5 pe-1","aria-hidden":"true"});switch(t){case"running":n=l.jsx(it,{className:"size-5"});break;case"failed":n=l.jsx(JR,{className:"size-5"});break;case"completed":n=l.jsx(Ch,{className:"size-5"});break}return l.jsx("div",{className:"ps-0.5",children:n})}function C9e(e){const{items:t,shouldAnimate:n,isComplete:s}=e,{t:o}=q();return l.jsxs("div",{className:"flex flex-col gap-5 ps-2",children:[t==null?void 0:t.map((r,a)=>l.jsx("div",{className:"flex flex-col",children:l.jsxs(g8,{isLastStep:!1,shouldAnimate:n,stepType:r.type,stepStatus:r.type==="activity"?r.activity.status:void 0,children:[r.type==="chainOfThought"&&l.jsx(g9e,{title:r.title,text:r.text,shouldAnimate:n}),r.type==="activity"&&l.jsx(y9e,{activity:r.activity})]})},a)),s&&l.jsx(g8,{isLastStep:!0,shouldAnimate:n,children:l.jsx("div",{className:"text-foreground-700 text-sm",children:l.jsx("strong",{children:o("chat.chainOfThought.done")})})})]})}function y9e(e){const{activity:t}=e,n=G("ppt-generation");return l.jsx("div",{className:"flex flex-col gap-4 overflow-y-auto",children:l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx("h3",{className:"text-sm",children:t.title}),n&&t.steps.length>0&&l.jsx("div",{className:"flex flex-col gap-2",children:t.steps.map((s,o)=>l.jsx("div",{className:"flex items-center gap-2 text-sm",children:l.jsx("span",{className:"text-foreground-700",children:s.title})},o))}),t.artifacts.map((s,o)=>l.jsx(iM,{artifact:s},o))]})})}function b9e(e){return e?l.jsx(Dm,{className:"relative bottom-0.5 size-4 text-foreground-900"}):l.jsx("div",{className:"size-[9px] rounded-full border-[4.5px] border-foreground-800 bg-foreground-800"})}function g8(e){const{isLastStep:t,shouldAnimate:n,children:s,stepType:o="chainOfThought",stepStatus:r}=e,a=o==="activity"&&r&&r!=="completed";return l.jsxs(ge.div,{className:"relative grid grid-cols-[auto,1fr] items-start gap-4",initial:n?"start":"end",animate:"end",variants:{start:Fe,end:i=>({...nt,transition:{delay:i,ease:"easeInOut",duration:1.2}})},children:[l.jsxs("div",{className:F("relative flex h-full w-2 flex-col items-center",t?"mt-1":"mt-1.5"),children:[a?l.jsx(v9e,{status:r}):b9e(t),!t&&l.jsx("div",{className:F("absolute bottom-0 border-e-[1px] border-foreground-800/40",a?"top-6 ":"top-4")})]}),l.jsx("div",{className:"min-w-0 flex-1",children:s})]})}function x9e(e){const{chainOfThoughtItems:t,isComplete:n}=e;return l.jsx("div",{className:"flex flex-col p-4",children:l.jsx(tge,{config:{shouldCollapseCode:!0},children:l.jsx(C9e,{items:t,shouldAnimate:!1,isComplete:n})})})}const S9e=F("relative rounded-3xl p-4 contrast-more:border-2","shadow-xs transition-shadow safe-hover:shadow-sm focus-visible:shadow-sm","bg-background-100 dark:bg-background-200","safe-hover:before:absolute safe-hover:before:inset-0 safe-hover:before:rounded-3xl safe-hover:before:bg-white/50 dark:safe-hover:before:bg-white/2","focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-1 focus-visible:outline-stroke-900");function XR(e){const{title:t,name:n,iconUrl:s,url:o,mode:r,onClick:a,className:i,variant:u,snippet:d}=e,m=uo(o),f=u==="panel"||u==="modal";return l.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",onClick:a,className:F("flex w-full min-w-0 cursor-pointer items-start",u==="modal"?"group/modal-variant":S9e,i),children:l.jsxs("div",{className:"relative flex min-w-0 grow flex-col gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex shrink-0 items-center justify-center rounded",children:s?l.jsx("div",{className:"size-4 rounded bg-white bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url('${s}')`}}):l.jsx(Rm,{className:"size-4 text-foreground-650"})}),l.jsx("div",{className:"min-w-0 flex-1 overflow-hidden",children:l.jsx("p",{className:"truncate text-foreground-650 text-sm md:mt-0.5 md:text-xs",children:r==="research"?Is(m):n})})]}),l.jsx("div",{className:"overflow-hidden text-foreground-900 text-sm-medium group-hover/modal-variant:underline group-focus-visible/modal-variant:underline",children:l.jsx("p",{className:F(u==="row"?"line-clamp-1":"line-clamp-2"),children:t})}),f&&d&&l.jsx("div",{className:"overflow-hidden text-foreground-800 text-sm md:text-xs",children:l.jsx("p",{className:"line-clamp-3",children:d})}),f&&l.jsx("div",{className:"overflow-hidden text-foreground-650 text-sm md:text-xs",children:l.jsx("p",{className:"truncate",children:o})})]})})}function eP(){un({page:"chat",element:"relatedResultsReferencePanelCard",scenario:"shown"})}function tP(e,t){ye({source:"relatedResultsReferencePanelCard",scenario:"openLink",destination:t,conversationId:e})}function E9e(e){ye({source:e,scenario:"switchTab"})}function w9e(e,t,n){D.trackEvent({name:"apiresponse",data:{eventName:"relatedResultsApiFailure",eventInfo_messageId:e,eventInfo_errorMessage:t,...n&&{eventInfo_errorCode:n}}})}function I9e(e){D.trackEvent({name:"apiresponse",data:{eventName:"relatedResultsZeroResults",eventInfo_messageId:e}})}function _9e(e){const{section:t,label:n,selectedSection:s,onSectionChange:o}=e,r=()=>{E9e(t==="citations"?"citationsPanelTab":"relatedResultsReferencePanelTab"),o(t)};return l.jsx(ne,{title:n,color:s===t?"overlay-dimmed-inverted":"subtle-dimmed-inverted",outline:s===t?"none":"weak",size:"40-base",variant:"rect",onClick:r,children:n})}function T9e(e){const{sections:t,selectedSection:n,onSectionChange:s}=e,{t:o}=q(),r=a=>o(a==="citations"?"citationCards.references":"citationCards.relatedResults");return t.length>1&&n&&s?l.jsx("div",{className:"sticky top-0 z-10 flex items-center justify-start gap-2 bg-background-150 pb-3 dark:bg-background-250",children:t.map(a=>l.jsx(_9e,{section:a,label:r(a),selectedSection:n,onSectionChange:s},a))}):null}function A9e(e){const{citations:t,relatedResults:n,className:s,conversationId:o}=e,r=t.length>0,a=n.length>0,[i,u]=c.useState(r?"citations":"related");if(c.useEffect(()=>{a&&eP()},[a]),!r&&!a)return null;const d=[r?"citations":null,a?"related":null].filter(Boolean),m=i==="citations"?t:n;return l.jsxs("div",{className:F("flex flex-col px-2 pb-4",s),children:[l.jsx(T9e,{sections:d,selectedSection:i,onSectionChange:u}),l.jsx("div",{className:"flex flex-col gap-5 divide-y divide-foreground-250 dark:divide-foreground-350",children:m.map(({title:f,publisher:h,url:g,iconUrl:C,snippet:v})=>l.jsx("div",{className:"pt-5",children:l.jsx(XR,{title:f,name:h??Is(g),url:g,iconUrl:C??void 0,className:"w-full",variant:"modal",snippet:v,onClick:i==="related"?()=>{tP(o,g)}:()=>{zk("panel",o,g)}})},`${i}-${g}`))})]})}function k9e(e){const{citations:t,relatedResults:n,className:s,conversationId:o}=e,{t:r}=q();if(c.useEffect(()=>{n.length>0&&eP()},[n.length]),t.length===0&&n.length===0)return null;const a=(u,d="citation")=>l.jsx("ul",{className:"flex list-none flex-col gap-4",role:"list",children:u.map(({title:m,publisher:f,url:h,iconUrl:g,snippet:C,index:v})=>l.jsx("li",{children:l.jsx(XR,{title:m,name:f??Is(h),url:h,iconUrl:g??void 0,className:"w-full",variant:"panel",snippet:C,onClick:()=>{d==="relatedResult"?tP(o,h):zk("panel",o,h)}})},`${d}-${h}-${v}`))}),i=()=>l.jsx("div",{className:"pointer-events-none sticky top-0 z-20 mb-2 flex h-14 w-full justify-center px-10",children:l.jsx("div",{className:"flex size-full items-center justify-center bg-background-150 p-2",children:l.jsx("h3",{className:"truncate text-center text-foreground-800 text-sm",children:r("citationCards.relatedResults")})})});return l.jsxs("div",{className:F("flex flex-col gap-4 px-4 pb-4",s),children:[t.length>0&&l.jsx("div",{children:a(t,"citation")}),n.length>0&&l.jsxs("div",{children:[i(),a(n,"relatedResult")]})]})}async function M9e(e,t){const n=`/messages/${e}/related-results`;return St(n,iz,{analytics:{anonymousPath:"/messages/{id}/related-results"},parseOptions:{safe:t==null?void 0:t.safe},onFailedRequest:s=>{w9e(e,s.statusText||"API request failed",s.status.toString())}}).then(s=>{const o=s.data;return o&&o.relatedResults.length===0&&I9e(e),o})}function N9e(e,t,n){return Ms({queryKey:["relatedResults",e,t],queryFn:async()=>{const s=await M9e(e);return s==null?void 0:s.relatedResults},enabled:(n==null?void 0:n.enabled)??!!e,staleTime:5*60*1e3})}function R9e(e){const{data:t,className:n,variant:s}=e,{conversationId:o,messageId:r,targetCitationIds:a}=t,i=M(vt),u=G("see-more-results"),d=i.get(o),m=c.useMemo(()=>d==null?void 0:d.history.find(v=>v.id===r&&v.author==="ai"),[d==null?void 0:d.history,r]),f=c.useMemo(()=>{const v=(m==null?void 0:m.content.filter(y=>y.type==="text").flatMap(y=>y.citations??[]))??[];return a&&a.length>0?v.filter(y=>a.includes(y.url)):v},[m,a]),h=iC(d),{data:g=[]}=N9e(r,o,{enabled:!!r&&(u||(m==null?void 0:m.mode)==="search")&&!h}),C=c.useMemo(()=>g.map((v,y)=>({index:(y+1).toString(),title:v.title,url:v.url,iconUrl:v.iconUrl??null,publisher:v.publisher??null,snippet:v.snippet??null})),[g]);return s==="modal"?l.jsx(A9e,{citations:f,relatedResults:C,className:n,conversationId:o}):l.jsx(k9e,{citations:f,relatedResults:C,className:n,conversationId:o})}const P9e=Pe([w(!0),w(!1)]);x({enabled:P9e.optional()});async function L9e(e,t){return(await St(`/healthcare/navigation/provider/${e}`,UH,{query:t,options:{method:"GET",headers:{"Content-Type":"application/json"}}})).data}function O9e(e,t){const{data:n,isLoading:s,error:o,refetch:r}=Ms({queryKey:["healthcareProvider",e,JSON.stringify(t)],queryFn:()=>L9e(e,t),enabled:!!e,retry:1});return{data:n,isLoading:s,error:o,refetch:r}}function Xp(e){const{title:t,subtitle:n,children:s}=e;return l.jsxs("section",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("h3",{className:"font-medium text-foreground-700 text-sm-strong",children:t}),n&&l.jsx("p",{className:"text-foreground-600 text-sm",children:n})]}),s]})}function D9e(e){const{education:t}=e,{type:n,name:s,year:o}=t;if(!n&&!o)return l.jsx("span",{children:s});let r,a;return n&&o?(r="answerCards.educationLabelFull",a={type:n,name:s,year:o}):n?(r="answerCards.educationLabelNameAndType",a={type:n,name:s}):(r="answerCards.educationLabelNameAndYear",a={name:s,year:o}),l.jsx(mn,{i18nKey:r,values:a,components:{bold:l.jsx("strong",{})}})}function j9e(e){const{educations:t}=e,{t:n}=q();return!t||t.length===0?null:l.jsx(Xp,{title:n("answerCards.education"),children:l.jsx("div",{className:"rounded-2xl border-neutral-200 bg-background-300/20 p-4 dark:bg-background-650/5",children:l.jsx("ul",{className:"mt-0 space-y-2",children:t.map((s,o)=>l.jsx("li",{className:"list-none text-foreground-600 text-sm",children:l.jsx(D9e,{education:s})},o))})})})}const U9e=c.lazy(()=>B(()=>import("./typeahead-jWu7WZmq.js"),__vite__mapDeps([467,1])).then(e=>({default:e.Typeahead})));function F9e(){return l.jsx("div",{className:"w-full rounded-2xl bg-black/5 p-4 text-sm dark:bg-background-450/25",children:l.jsx("div",{className:"h-5 w-48 animate-pulse rounded bg-foreground-550/20"})})}const P0=4;function B9e(e){const{insurances:t}=e,{t:n}=q(),[s,o]=c.useState(null),[r,a]=c.useState(P0),i=c.useMemo(()=>{const S=new Set((t??[]).map(I=>I.carrierName).filter(Boolean));return Array.from(S).map(I=>({id:I,name:I})).sort((I,_)=>I.name.localeCompare(_.name))},[t]),u=c.useMemo(()=>({groups:[{items:i.map(S=>({id:S.id,displayString:S.name}))}]}),[i]),d=c.useMemo(()=>{const S=new Map;for(const I of i)S.set(I.id,I);return S},[i]),m=c.useCallback(S=>{o(S)},[]),f=c.useCallback(()=>{ye({source:"insuranceSearch",scenario:"sidePanel",destination:"focus",customData:JSON.stringify({cardType:"healthcare"})})},[]),h=c.useCallback(S=>{const I=d.get(S);I&&(ye({source:"insuranceSearch",scenario:"sidePanel",destination:"selection",customData:JSON.stringify({cardType:"healthcare",insurerName:I.name})}),m(I))},[d,m]),g=c.useCallback(S=>{const I=(s==null?void 0:s.id)===S.id;return l.jsxs("div",{className:"flex w-full items-center gap-1.5",children:[l.jsx("span",{children:S.displayString}),I&&l.jsx(Dm,{className:"size-5"})]})},[s==null?void 0:s.id]);if(!t)return null;if(i.length===0)return l.jsx(Xp,{title:n("answerCards.insuranceTitle"),subtitle:n("answerCards.insuranceSubtitle"),children:l.jsxs("div",{className:"flex flex-row items-center gap-1",children:[l.jsx(an,{className:"size-6 text-system-red-550"}),l.jsx("span",{children:n("answerCards.insuranceDoesNotAccept")})]})});const C=i.slice(0,r),v=i.length>r,y=r>P0,b=()=>{a(i.length)},E=()=>{a(P0)};return l.jsx(Xp,{title:n("answerCards.insuranceTitle"),subtitle:n("answerCards.insuranceSubtitle"),children:l.jsxs("div",{className:"mb-2 flex flex-col gap-4",children:[l.jsx(c.Suspense,{fallback:l.jsx(F9e,{}),children:l.jsx(U9e,{data:u,renderItem:g,onSelect:h,onFocus:f,placeholder:n("answerCards.insuranceSearchPlaceholder"),className:"w-full"})}),l.jsx(pt,{mode:"wait",children:s&&l.jsxs(ge.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.2,ease:"easeOut"},children:[l.jsx("div",{className:"font-medium text-foreground-700",children:n("answerCards.insuranceSelectionConfirmation",{insurerName:s.name})}),l.jsx("button",{type:"button",onClick:()=>o(null),className:"mt-2 text-foreground-450 underline transition-colors duration-200 text-sm hover:text-foreground-600",children:n("answerCards.insuranceClearSelection")})]},s.id)}),!s&&l.jsxs(l.Fragment,{children:[l.jsx("ul",{className:"ms-2 mt-0 space-y-2 ps-4",children:C.map(S=>l.jsx("li",{className:"list-disc text-foreground-600 text-sm",children:S.name},S.id))}),v&&l.jsx(ne,{size:"36-sm",color:"default",title:n("answerCards.insuranceViewAll",{count:i.length}),onClick:b,className:"font-ligatures-none w-full",children:n("answerCards.insuranceViewAll",{count:i.length})}),y&&l.jsx("button",{type:"button",onClick:E,className:"mb-1 text-center text-foreground-450 underline text-sm hover:text-foreground-600 focus:text-foreground-600 focus:outline-none",children:n("answerCards.showLess")})]})]})})}function v8(e){const t=e.trim();if(!t)return t;const n=t.match(/^(?:\+?1)?(\d{3})(\d{3})(\d{4})$/);return n?`(${n[1]}) ${n[2]}-${n[3]}`:t}function OMe(e,t,n){D.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:e,eventInfo_clickScenario:"healthcareInfoCard",eventInfo_conversationId:pe(je),eventInfo_messageId:t,eventInfo_customData:n}})}function DMe(e,t){return pI(()=>{D.trackEvent({name:"system",data:{eventName:"healthcareInfoCardHover",eventInfo_customData:t,eventInfo_messageId:e,eventInfo_conversationId:pe(je)??""}})})}function jMe(e,t){return pI(()=>{D.trackEvent({name:"system",data:{eventName:"healthcareEntityCardHover",eventInfo_messageId:e,eventInfo_conversationId:pe(je)??"",eventInfo_customData:t}})})}function Ty(e){const{source:t,providerId:n,destination:s,scenario:o}=e,r=pe(je);ye({source:t,scenario:o,destination:s,conversationId:r??void 0,customData:JSON.stringify({cardType:"healthcare",...n&&{providerId:n}})})}function UMe(e){Ty({source:"viewDetailsButton",providerId:e})}function FMe(e,t,n){const s=pe(je);D.trackEvent({name:"interaction",data:{eventName:"healthcareEntityCardScrolled",eventInfo_scrollDepth:e,eventInfo_scrollDepthMax:t,eventInfo_conversationId:s,eventInfo_messageId:n}})}function V9e(e){const{location:t,providerId:n}=e,{address:s,phoneNumber:o}=t,{t:r}=q(),a=c.useCallback(()=>{o&&(Ty({source:"phoneButton",providerId:n,scenario:"sidePanel"}),Io(`tel:${o}`))},[n,o]);return l.jsxs("div",{className:"flex flex-col gap-1.5",children:[o&&l.jsx("p",{className:"text-foreground-600 text-sm",children:v8(o)}),s&&l.jsx("p",{className:"text-foreground-600 text-sm",children:s}),o&&l.jsx(ne,{size:"36-sm",color:"default",title:`${r("answerCards.call")} ${v8(o)}`,onClick:a,className:"mt-1.5 w-full",children:r("answerCards.call")})]})}function H9e(e){const{url:t,providerName:n,providerId:s}=e,{t:o}=q(),r=c.useCallback(()=>{Ty({source:"websiteButton",providerId:s,destination:t,scenario:"sidePanel"})},[s,t]);return l.jsx(cs,{href:t,title:o("answerCards.visitProviderWebsite"),className:"block truncate text-foreground-700 underline text-sm hover:no-underline","aria-label":o("answerCards.ariaLabel.websiteTo",{place:n}),onClick:r,children:o("answerCards.onlineProfile")})}function z9e(e){const{providerName:t,url:n,location:s,providerId:o,primarySpecialtyTitle:r}=e;return l.jsxs("header",{className:"flex flex-col gap-1.5",children:[l.jsx("h2",{className:"text-foreground-750 text-lg-strong",children:t}),r&&l.jsx("p",{className:"text-foreground-600 text-sm-strong",children:r}),n?l.jsx(H9e,{providerName:t,url:n,providerId:o}):null,s?l.jsx(V9e,{location:s,providerId:o}):null]})}const G9e=4,W9e=10;function $9e(e){const{items:t,initialCount:n=G9e,showMoreInterval:s=W9e,listLabel:o,viewMoreButtonLabel:r}=e,[a,i]=c.useState(n),{t:u}=q(),d=u("answerCards.viewMore"),m=u("answerCards.showLess"),f=Math.min(a,t.length),h=t.slice(0,f),g=t.length>f,C=f>n,v=c.useCallback(()=>{i(b=>b+s)},[s]),y=c.useCallback(()=>{i(n)},[n]);return t.length===0?null:l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx("ul",{className:"mt-0 space-y-1 ps-4",role:"list","aria-label":o,children:h.map(b=>l.jsx("li",{className:"list-disc text-foreground-600 text-sm",children:b},b))}),g&&l.jsx(ne,{size:"36-sm",color:"default",title:r,"aria-label":r,onClick:v,className:"w-full",children:d}),C&&l.jsx("button",{type:"button",onClick:y,className:"w-full text-center text-foreground-450 underline text-sm hover:text-foreground-600 focus:text-foreground-600 focus:outline-none",children:m})]})}function q9e(e){const{languages:t}=e,{t:n}=q();return!t||t.length===0?null:l.jsx(Xp,{title:n("answerCards.languages"),children:l.jsx($9e,{items:t,showMoreInterval:20,listLabel:n("answerCards.languages"),viewMoreButtonLabel:n("answerCards.viewMoreLanguages")})})}function K9e(e){const{data:t}=e,{location:n,name:s,npi:o,professionalCredentials:r,primarySpecialtyTitle:a,url:i}=t,{uuid:u}=n,{t:d}=q(),{data:m,isLoading:f,error:h}=O9e(o,{locationUuid:u}),{educations:g,insurances:C,languages:v,dataSourceUrl:y}=m??{},b=[s,...r??[]].filter(Boolean).join(", ");return l.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[l.jsx(z9e,{providerName:b,url:i,location:n,primarySpecialtyTitle:a}),h&&l.jsx("p",{className:"text-foreground-800 text-sm",children:l.jsx("span",{children:d("answerCards.errorLoadingProviderInfo")})}),f&&l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(Yp,{className:"h-5 w-full rounded-lg"}),l.jsx(Yp,{className:"h-20 w-full rounded-lg"})]}),!f&&!h&&l.jsxs(l.Fragment,{children:[l.jsx(j9e,{educations:g}),l.jsx(B9e,{insurances:C}),l.jsx(q9e,{languages:v}),y&&l.jsx("div",{className:"border-t border-background-900/8 py-7 text-foreground-600 text-sm",children:l.jsx(mn,{i18nKey:"answerCards.healthcareInfoProviderLink",components:{faqLink:l.jsx(Cl,{link:y})}})})]})]})}function Z9e(e){const{data:t,variant:n,className:s,messageId:o}=e,r=c.useId(),a=c.useRef(null);return l.jsx("div",{className:F("flex flex-col gap-3",n==="panel"&&"px-1",s),ref:a,children:t.map(([i,u],d)=>{const m=`${r}-source-${d}`;return l.jsxs("section",{className:"mb-4","aria-labelledby":m,children:[l.jsx("div",{id:m,className:F("px-4 pb-4 text-foreground-600 text-sm-medium",n==="modal"&&"mt-3"),children:l.jsx(BM,{source:i,messageId:o})}),l.jsx("ul",{"aria-labelledby":m,role:"list",className:"m-0 flex list-none flex-col gap-1 p-0",children:u.map(f=>l.jsx("li",{children:l.jsx(UM,{artifact:f,portalContainerRef:a,showActions:!0,messageId:o})},f.id))})]},`${i}-${d}`)})})}const Y9e=c.lazy(()=>B(()=>import("./product-details-modal-CXHiLYAG.js"),__vite__mapDeps([468,1,324,325,309,310,450,326,380,327,328,451,452,453,454,449,323,455,330,439,469,315,316,317,318,319,470,379,329,471,377,378,376,343,434,425])));function Q9e(e){const{data:{cardData:t,messageId:n}}=e;return l.jsx(c.Suspense,{fallback:null,children:l.jsx(Y9e,{cardData:t,messageId:n,onClose:()=>Al(null),viewMode:"side-pane"})})}function C8(e){var u,d;const{variant:t}=e,n=FC(),{t:s}=q(),o=gt({breakpoint:"lg"}),r=G("sidebar-narrow"),a=c.useRef(null);if(XN(),Ji(a),D3({scrollableRef:a,source:(u=n==null?void 0:n.trackingOptions)==null?void 0:u.scrollSource,customData:(d=n==null?void 0:n.trackingOptions)==null?void 0:d.customData}),!n)return null;const i=()=>{var m;$t({source:"closeConversationPanelButton",messageId:(m=n.trackingOptions)==null?void 0:m.messageId}),Al(null)};return t==="modal"?l.jsxs(Ho,{isOpen:!!n,onClose:i,className:"relative mx-6 h-conversation-modal w-conversation-modal max-w-conversation-modal p-4",trapFocus:!0,children:[l.jsx("div",{className:"pointer-events-none absolute start-0 w-full pb-1.5 pe-16 ps-6 pt-0.5",children:l.jsx(y8,{panelData:n,variant:"modal"})}),l.jsx("div",{className:"t-custom-scrollbar h-full overflow-auto",children:l.jsx(b8,{panelData:n,variant:"modal"})})]}):l.jsx(Cd,{className:F("shrink-0",r&&o?"w-secondary-panel-slim":"w-secondary-panel"),children:l.jsxs("div",{ref:a,className:"t-custom-scrollbar size-full space-y-[60px] overflow-auto",tabIndex:-1,children:[l.jsx(Rh,{start:l.jsx(ne,{title:s("common.closeSidePaneTitle"),color:"subtle-dimmed-inverted",size:"36-sm",variant:"square",onClick:i,tooltip:!0,children:l.jsx(an,{className:"size-5"})}),middle:l.jsx(y8,{panelData:n,variant:"panel"})}),l.jsx(b8,{panelData:n,variant:"panel"})]})})}function y8(e){const{panelData:t,variant:n}=e,s=J9e({panelData:t,variant:n});return l.jsx("h2",{className:"pointer-events-none block min-w-0 flex-1 truncate text-base-medium md:text-sm",children:s})}function J9e(e){const{panelData:t,variant:n}=e,{t:s}=q();switch(t.type){case"devModeMessageInfo":return"Inspect message";case"chainOfThought":return s("chat.chainOfThought.title");case"citations":return n==="modal"?s("citationCards.allLinks","All links"):s("citationCards.references");case"shoppingProductDetails":return s("product.productDetailsPage.productDetails","Product details");case"healthcareEntity":return null;case"personalData":{const{data:o}=t;return s("connector.search.title",{resultsCount:o.reduce((a,[,i])=>a+i.length,0)})}case"__TODO___REPLACE_ME__":throw new Error("ConversationPanelTitle: Unimplemented type")}return null}function b8(e){var s;const{panelData:t,variant:n}=e;switch(t.type){case"devModeMessageInfo":return GB;case"chainOfThought":return l.jsx(x9e,{chainOfThoughtItems:t.data.chainOfThoughtItems,isComplete:t.data.isComplete});case"citations":return l.jsx(R9e,{data:t.data,variant:n});case"shoppingProductDetails":return l.jsx(Q9e,{data:t.data},t.data.cardData.offerId);case"healthcareEntity":return l.jsx(K9e,{data:t.data.cardData},t.data.cardData.npi);case"personalData":return l.jsx(Z9e,{data:t.data,variant:n,messageId:(s=t.trackingOptions)==null?void 0:s.messageId});case"__TODO___REPLACE_ME__":throw new Error("ConversationPanelContent: Unimplemented type")}return null}const Af=8;function X9e(e){const{children:t,isOpen:n,panelWidth:s}=e,o=Xi(),r=c.useRef(!0),a=gt({breakpoint:"lg"}),i=G("sidebar-narrow");c.useEffect(()=>{r.current=!1},[]);const u=!r.current||!n;return l.jsx(ge.div,{className:"relative h-full overflow-hidden will-change-auto",initial:{width:n?s:0,marginLeft:n&&!o?Af:0,marginRight:n&&o?Af:0},animate:{width:n?s:0,marginLeft:n&&!o?Af:0,marginRight:n&&o?Af:0},transition:u?pn:{duration:0},children:n&&l.jsx(ge.div,{className:F("absolute end-0 size-full",i&&a?"sm:w-secondary-panel-slim":"sm:w-secondary-panel"),initial:u?"initial":"animate",animate:"animate",exit:"exit",variants:{initial:Fe,animate:nt,exit:Fe},transition:u?pn:{duration:0},children:t})})}function e8e(){const e=xh(),t=ae.instance().config().supportsChatDetails;return e&&!!t}function t8e(){var n;const e=gt({breakpoint:"md"}),t=!!((n=ae.instance().config().uiOverrides)!=null&&n.alwaysShowConversationPanelAsModal);return e||t}const n8e=wO("/chats/$conversationId");function s8e(e){const{disableStickyHeader:t,reactionsToAllow:n=txe,CustomBottomContent:s}=e,{conversationId:o}=n8e.useParams(),r=e8e(),a=FC(),i=t8e(),u=oe(je),d=M(hn),m=G("conversation-id-sync"),f=xh(),h=BR();if(c.useEffect(()=>{m&&u(o)},[o,u,m]),c.useEffect(()=>{d!=null&&d.group&&jn.connect()},[d==null?void 0:d.group]),c.useEffect(()=>()=>{Al(null)},[]),r){const g=!!a,C=i?g&&l.jsx(C8,{variant:"modal"}):l.jsx(X9e,{isOpen:g,panelWidth:h,children:l.jsx(C8,{variant:"panel"})});return l.jsxs(X1e,{enabled:!0,children:[l.jsxs(Cd,{className:"relative h-full flex-1 overflow-hidden will-change-auto",children:[l.jsx(Zf,{disableStickyHeader:t,reactionsToAllow:n,CustomBottomContent:s}),l.jsx(V5,{}),l.jsx(Qp,{}),l.jsx(Jp,{})]}),C]})}return f?l.jsxs(Cd,{className:"relative h-full flex-1 overflow-hidden will-change-auto",children:[l.jsx(Zf,{disableStickyHeader:t,reactionsToAllow:n,CustomBottomContent:s}),l.jsx(V5,{}),l.jsx(Qp,{}),l.jsx(Jp,{})]}):l.jsx(Zf,{disableStickyHeader:t,reactionsToAllow:n})}const o8e=Qe("/chats/$conversationId")({component:s8e,beforeLoad:()=>({customLayout:!It("kill-chat-layout-v2")})}),r8e=Qe("/shares/pages/$shareId")({beforeLoad:()=>({customLayout:!0})}),a8e=Qe("/chats_/$conversationId/talk")({beforeLoad:()=>({customLayout:!It("kill-chat-layout-v2")})}),i8e=Qe("/projects_/$projectId/chats/$conversationId")({beforeLoad:()=>({customLayout:!0})}),c8e=Qe("/topic-selection")(),l8e=Qe("/shopping")(),u8e=Qe("/login")(),d8e=Qe("/library")(),m8e=Qe("/imagine")(),f8e=Qe("/gaming")(),p8e=Qe("/gallery")(),h8e=Qe("/daily")(),g8e=Qe("/agents")(),v8e=Qe("/referrals/")(),C8e=Qe("/labs_/")(),y8e=Qe("/fallrelease/")(),b8e=Qe("/subscription/start")(),x8e=Qe("/subscription/manage")(),S8e=Qe("/shares/$conversationId")(),E8e=Qe("/research/$researchId")(),w8e=Qe("/referrals/rules")(),I8e=Qe("/pro/subscribe")(),_8e=Qe("/memory/narrative")(),T8e=Qe("/imagine/$galleryItemId")(),A8e=Qe("/gallery/$galleryItemId")(),k8e=Qe("/e/sol")(),M8e=Qe("/e/so")(),N8e=Qe("/connector/callback")(),R8e=Qe("/chats/private")(),P8e=Qe("/campaigns/$campaignId")(),L8e=Qe("/labs_/portrait/")(),O8e=Qe("/labs_/career-coach/")(),D8e=Qe("/labs_/audio-expression/")(),j8e=Qe("/shares/tasks/$shareId")(),U8e=Qe("/shares/podcasts/$shareId")(),F8e=Qe("/shares/3d-generations/$shareId")(),B8e=Qe("/pro/redeem/$redeemCode")(),V8e=Qe("/pro/ewallet/return")(),H8e=Qe("/podcasts/$podcastType/$podcastId")(),z8e=Qe("/labs_/portrait/talk")(),G8e=Qe("/labs_/portrait/gallery")(),W8e=Qe("/labs_/experiments/$experimentAlias")(),$8e=Qe("/labs_/career-coach/report")(),q8e=Qe("/labs_/career-coach/mock-interview")(),K8e=Qe("/discover/{-$modalType}/{-$modalId}")(),Z8e=Qe("/conversations/join/$token")(),Y8e=Qe("/labs_/portrait/future-self/")(),Q8e=Qe("/labs_/experiments/3d-generations/")(),J8e=Qe("/labs_/portrait/future-self/create")(),X8e=Qe("/labs_/experiments/3d-generations/my-creations")(),e7e=c8e.update({id:"/topic-selection",path:"/topic-selection",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./topic-selection.lazy-BwZY7C_Q.js"),__vite__mapDeps([472,1])).then(e=>e.Route)),t7e=l8e.update({id:"/shopping",path:"/shopping",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./shopping.lazy-DAHk7Rxy.js"),__vite__mapDeps([473,1,455,380,326,434,425,450,474,324,325,309,310,327,328,322,323,471,379,329,377,378])).then(e=>e.Route)),n7e=u8e.update({id:"/login",path:"/login",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./login.lazy--KpOtq0Y.js"),__vite__mapDeps([475,1,409])).then(e=>e.Route)),s7e=d8e.update({id:"/library",path:"/library",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./library.lazy-CzZUxA7N.js"),__vite__mapDeps([476,1,477,478,479,480,481,482,443,444,445,368,446,483,484,485,362])).then(e=>e.Route)),nP=m8e.update({id:"/imagine",path:"/imagine",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./imagine._galleryItemId.lazy-B9nmL8HK.js").then(e=>e.i),__vite__mapDeps([486,1,487,488,489,490,491,492,493,485,362,419,422])).then(e=>e.Route)),o7e=f8e.update({id:"/gaming",path:"/gaming",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./gaming.lazy-FtcNmV3r.js"),__vite__mapDeps([494,1,495,336,337])).then(e=>e.Route)),sP=p8e.update({id:"/gallery",path:"/gallery",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./gallery._galleryItemId.lazy-T-AUWbxS.js").then(e=>e.g),__vite__mapDeps([496,1,487,488,489,490,491,492,493,485,362,419,422])).then(e=>e.Route)),r7e=h8e.update({id:"/daily",path:"/daily",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./daily.lazy-ymdTEGKV.js"),__vite__mapDeps([497,1,498,499,500,501,502,503,504,505,506,507,396,444,508,445])).then(e=>e.Route)),a7e=g8e.update({id:"/agents",path:"/agents",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./agents.lazy-BwRu-D8E.js"),__vite__mapDeps([509,1])).then(e=>e.Route)),i7e=m9e.update({id:"/",path:"/",getParentRoute:()=>Je}),c7e=v8e.update({id:"/referrals/",path:"/referrals/",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./index.lazy-Bt51D9xH.js"),__vite__mapDeps([510,1,332,316,331,334,511,512,513,514])).then(e=>e.Route)),l7e=C8e.update({id:"/labs_/",path:"/labs/",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./index.lazy-jFOmmYGH.js"),__vite__mapDeps([515,1,495,516])).then(e=>e.Route)),u7e=y8e.update({id:"/fallrelease/",path:"/fallrelease/",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./index.lazy-CAmOa4NG.js"),__vite__mapDeps([517,1])).then(e=>e.Route)),d7e=b8e.update({id:"/subscription/start",path:"/subscription/start",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./subscription.start.lazy-Bt_0opEQ.js"),__vite__mapDeps([518,1])).then(e=>e.Route)),m7e=x8e.update({id:"/subscription/manage",path:"/subscription/manage",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./subscription.manage.lazy-CttPqwl7.js"),__vite__mapDeps([519,1,364,304])).then(e=>e.Route)),f7e=S8e.update({id:"/shares/$conversationId",path:"/shares/$conversationId",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./shares._conversationId.lazy-DtY3qSJ-.js"),__vite__mapDeps([520,1])).then(e=>e.Route)),p7e=E8e.update({id:"/research/$researchId",path:"/research/$researchId",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./research._researchId.lazy-BwvleKWi.js"),__vite__mapDeps([521,1,440,438,439,435,441,407,522,523,483,484,485,362])).then(e=>e.Route)),h7e=w8e.update({id:"/referrals/rules",path:"/referrals/rules",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./rules.lazy-CefmsAYB.js"),__vite__mapDeps([524,1,316,334,335,525,514])).then(e=>e.Route)),g7e=I8e.update({id:"/pro/subscribe",path:"/pro/subscribe",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./pro.subscribe.lazy-B67G5jRH.js"),__vite__mapDeps([526,1,317,318,319,527,369,528,529,530,531,313,310,315,316,532,533,534,469,470,535,536,537,538,539,540,541,542,543,336,337,544,395,545])).then(e=>e.Route)),v7e=_8e.update({id:"/memory/narrative",path:"/memory/narrative",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./memory.narrative.lazy-DeaHpABM.js"),__vite__mapDeps([546,1,338])).then(e=>e.Route)),C7e=T8e.update({id:"/$galleryItemId",path:"/$galleryItemId",getParentRoute:()=>nP}).lazy(()=>B(()=>import("./imagine._galleryItemId.lazy-B9nmL8HK.js").then(e=>e.a),__vite__mapDeps([486,1,487,488,489,490,491,492,493,485,362,419,422])).then(e=>e.Route)),y7e=A8e.update({id:"/$galleryItemId",path:"/$galleryItemId",getParentRoute:()=>sP}).lazy(()=>B(()=>import("./gallery._galleryItemId.lazy-T-AUWbxS.js").then(e=>e.a),__vite__mapDeps([496,1,487,488,489,490,491,492,493,485,362,419,422])).then(e=>e.Route)),b7e=k8e.update({id:"/e/sol",path:"/e/sol",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./e.sol.lazy-m8y8xr4G.js"),__vite__mapDeps([547,1])).then(e=>e.Route)),x7e=M8e.update({id:"/e/so",path:"/e/so",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./e.so.lazy-Dqc5uiwu.js"),__vite__mapDeps([548,1])).then(e=>e.Route)),S7e=N8e.update({id:"/connector/callback",path:"/connector/callback",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./connector.callback.lazy-DyB4PYSp.js"),__vite__mapDeps([549,1])).then(e=>e.Route)),E7e=R8e.update({id:"/chats/private",path:"/chats/private",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./chats.private.lazy-Dvj275WI.js"),__vite__mapDeps([550,1])).then(e=>e.Route)),w7e=P8e.update({id:"/campaigns/$campaignId",path:"/campaigns/$campaignId",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./campaigns._campaignId.lazy-DJv6mr2m.js"),__vite__mapDeps([551,1])).then(e=>e.Route)),I7e=f9e.update({id:"/projects/$projectId",path:"/projects/$projectId",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./projects._projectId.lazy-Cg1h7Q7f.js"),__vite__mapDeps([552,1])).then(e=>e.Route)),_7e=p9e.update({id:"/partners/feedback",path:"/partners/feedback",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./partners.feedback.lazy-CaVVRbq7.js"),__vite__mapDeps([553,1,554])).then(e=>e.Route)),T7e=h9e.update({id:"/pages/$pageId",path:"/pages/$pageId",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./pages._pageId.lazy-2DJaYK7Y.js"),__vite__mapDeps([555,1,556,478,479,353,366,557,558,559,560,561,562,407,563,413,564,442,565,566,567,503,568,522,569,480,570])).then(e=>e.Route)),A7e=o8e.update({id:"/chats/$conversationId",path:"/chats/$conversationId",getParentRoute:()=>Je}),k7e=L8e.update({id:"/labs_/portrait/",path:"/labs/portrait/",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./index.lazy-C5EgSo-r.js"),__vite__mapDeps([571,1,572,573,574,575,576])).then(e=>e.Route)),M7e=O8e.update({id:"/labs_/career-coach/",path:"/labs/career-coach/",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./mock-interview.lazy-CZQ822mf.js").then(e=>e.i),__vite__mapDeps([577,1,459,460])).then(e=>e.Route)),N7e=D8e.update({id:"/labs_/audio-expression/",path:"/labs/audio-expression/",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./index.lazy-Btod3J0S.js"),__vite__mapDeps([578,1,336,337,579,393,394,392,396])).then(e=>e.Route)),R7e=j8e.update({id:"/shares/tasks/$shareId",path:"/shares/tasks/$shareId",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./shares.tasks._shareId.lazy-Baz44pNr.js"),__vite__mapDeps([580,1,568,354,484,438,439,523])).then(e=>e.Route)),P7e=U8e.update({id:"/shares/podcasts/$shareId",path:"/shares/podcasts/$shareId",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./shares.podcasts._shareId.lazy-Bk5VMbG9.js"),__vite__mapDeps([581,1,444,445,506,507])).then(e=>e.Route)),L7e=F8e.update({id:"/shares/3d-generations/$shareId",path:"/shares/3d-generations/$shareId",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./shares.3d-generations._shareId.lazy-Z-kXW6Gu.js"),__vite__mapDeps([582,1,583,584,493,585,495,491,492,586])).then(e=>e.Route)),O7e=B8e.update({id:"/pro/redeem/$redeemCode",path:"/pro/redeem/$redeemCode",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./pro.redeem._redeemCode.lazy-DrwXgrJB.js"),__vite__mapDeps([587,1])).then(e=>e.Route)),D7e=V8e.update({id:"/pro/ewallet/return",path:"/pro/ewallet/return",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./pro.ewallet.return.lazy-glNK59oM.js"),__vite__mapDeps([588,1,544,395,369])).then(e=>e.Route)),j7e=H8e.update({id:"/podcasts/$podcastType/$podcastId",path:"/podcasts/$podcastType/$podcastId",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./podcasts._podcastType._podcastId.lazy-BbgcJFDu.js"),__vite__mapDeps([589,1,498,499,500,501,502,503,504,505,506,507,396,444,508,445])).then(e=>e.Route)),U7e=z8e.update({id:"/labs_/portrait/talk",path:"/labs/portrait/talk",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./talk.lazy-BrAUFQFc.js"),__vite__mapDeps([590,1,591,336,337,592,584,466,574,593])).then(e=>e.Route)),F7e=G8e.update({id:"/labs_/portrait/gallery",path:"/labs/portrait/gallery",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./gallery.lazy-CI27gv5S.js"),__vite__mapDeps([594,1,572,573,574,575,576])).then(e=>e.Route)),B7e=W8e.update({id:"/labs_/experiments/$experimentAlias",path:"/labs/experiments/$experimentAlias",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./experiments._experimentAlias.lazy-CBNQhhDx.js").then(e=>e.e),__vite__mapDeps([595,1,393,394,495,516])).then(e=>e.Route)),V7e=$8e.update({id:"/labs_/career-coach/report",path:"/labs/career-coach/report",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./mock-interview.lazy-CZQ822mf.js").then(e=>e.r),__vite__mapDeps([577,1,459,460])).then(e=>e.Route)),H7e=q8e.update({id:"/labs_/career-coach/mock-interview",path:"/labs/career-coach/mock-interview",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./mock-interview.lazy-CZQ822mf.js").then(e=>e.m),__vite__mapDeps([577,1,459,460])).then(e=>e.Route)),z7e=K8e.update({id:"/discover/{-$modalType}/{-$modalId}",path:"/discover/{-$modalType}/{-$modalId}",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./discover._-_modalType_._-_modalId_.lazy-mFLoy6jv.js"),__vite__mapDeps([596,1])).then(e=>e.Route)),G7e=Z8e.update({id:"/conversations/join/$token",path:"/conversations/join/$token",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./conversations.join._token.lazy-CQzWo6eN.js"),__vite__mapDeps([597,1,418,339])).then(e=>e.Route)),W7e=r8e.update({id:"/shares/pages/$shareId",path:"/shares/pages/$shareId",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./shares.pages._shareId.lazy-C_qY42gC.js"),__vite__mapDeps([598,1,570,556,478,479,353,366,557,558,559,560,561,562,407,563,413,564,442,565,566,567,503,568,522,569,481,599])).then(e=>e.Route)),$7e=a8e.update({id:"/chats_/$conversationId/talk",path:"/chats/$conversationId/talk",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./chats_._conversationId.talk.lazy-DcRi0xha.js"),__vite__mapDeps([600,1,591,336,337,592,584,466,574,593])).then(e=>e.Route)),q7e=Y8e.update({id:"/labs_/portrait/future-self/",path:"/labs/portrait/future-self/",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./index.lazy-D5WWsb3Y.js"),__vite__mapDeps([601,1,573,602,576,574])).then(e=>e.Route)),K7e=Q8e.update({id:"/labs_/experiments/3d-generations/",path:"/labs/experiments/3d-generations/",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./my-creations.lazy-IwD8o41S.js").then(e=>e.i),__vite__mapDeps([603,1,583,584,493,585,495,507,564,403,604,605,579,485,362,586,337,499,500,501,502,606])).then(e=>e.Route)),Z7e=J8e.update({id:"/labs_/portrait/future-self/create",path:"/labs/portrait/future-self/create",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./create.lazy-BkaWRoVH.js"),__vite__mapDeps([607,1,576,307,602,403,574])).then(e=>e.Route)),Y7e=X8e.update({id:"/labs_/experiments/3d-generations/my-creations",path:"/labs/experiments/3d-generations/my-creations",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./my-creations.lazy-IwD8o41S.js").then(e=>e.m),__vite__mapDeps([603,1,583,584,493,585,495,507,564,403,604,605,579,485,362,586,337,499,500,501,502,606])).then(e=>e.Route)),Q7e=i8e.update({id:"/projects_/$projectId/chats/$conversationId",path:"/projects/$projectId/chats/$conversationId",getParentRoute:()=>Je}).lazy(()=>B(()=>import("./projects_._projectId.chats._conversationId.lazy-D0U82g_z.js"),__vite__mapDeps([608,1])).then(e=>e.Route)),J7e={GalleryGalleryItemIdLazyRoute:y7e},X7e=sP._addFileChildren(J7e),eSe={ImagineGalleryItemIdLazyRoute:C7e},tSe=nP._addFileChildren(eSe),nSe={IndexRoute:i7e,AgentsLazyRoute:a7e,DailyLazyRoute:r7e,GalleryLazyRoute:X7e,GamingLazyRoute:o7e,ImagineLazyRoute:tSe,LibraryLazyRoute:s7e,LoginLazyRoute:n7e,ShoppingLazyRoute:t7e,TopicSelectionLazyRoute:e7e,ChatsConversationIdRoute:A7e,PagesPageIdRoute:T7e,PartnersFeedbackRoute:_7e,ProjectsProjectIdRoute:I7e,CampaignsCampaignIdLazyRoute:w7e,ChatsPrivateLazyRoute:E7e,ConnectorCallbackLazyRoute:S7e,ESoLazyRoute:x7e,ESolLazyRoute:b7e,MemoryNarrativeLazyRoute:v7e,ProSubscribeLazyRoute:g7e,ReferralsRulesLazyRoute:h7e,ResearchResearchIdLazyRoute:p7e,SharesConversationIdLazyRoute:f7e,SubscriptionManageLazyRoute:m7e,SubscriptionStartLazyRoute:d7e,FallreleaseIndexLazyRoute:u7e,LabsIndexLazyRoute:l7e,ReferralsIndexLazyRoute:c7e,ChatsConversationIdTalkRoute:$7e,SharesPagesShareIdRoute:W7e,ConversationsJoinTokenLazyRoute:G7e,DiscoverModalTypeModalIdLazyRoute:z7e,LabsCareerCoachMockInterviewLazyRoute:H7e,LabsCareerCoachReportLazyRoute:V7e,LabsExperimentsExperimentAliasLazyRoute:B7e,LabsPortraitGalleryLazyRoute:F7e,LabsPortraitTalkLazyRoute:U7e,PodcastsPodcastTypePodcastIdLazyRoute:j7e,ProEwalletReturnLazyRoute:D7e,ProRedeemRedeemCodeLazyRoute:O7e,Shares3dGenerationsShareIdLazyRoute:L7e,SharesPodcastsShareIdLazyRoute:P7e,SharesTasksShareIdLazyRoute:R7e,LabsAudioExpressionIndexLazyRoute:N7e,LabsCareerCoachIndexLazyRoute:M7e,LabsPortraitIndexLazyRoute:k7e,ProjectsProjectIdChatsConversationIdRoute:Q7e,LabsExperiments3dGenerationsMyCreationsLazyRoute:Y7e,LabsPortraitFutureSelfCreateLazyRoute:Z7e,LabsExperiments3dGenerationsIndexLazyRoute:K7e,LabsPortraitFutureSelfIndexLazyRoute:q7e},sSe=Je._addFileChildren(nSe)._addFileTypes();let L0=null;function oSe({isEntryServerOrIsGetRouter:e}){return IO({routeTree:sSe})}function La(){return L0||(L0=oSe({isEntryServerOrIsGetRouter:!0})),L0}const rSe=new _O({defaultOptions:{queries:{retry:0,refetchOnWindowFocus:!1}}}),aSe=La();function iSe(){return l.jsx(OU,{queryClient:rSe,children:l.jsx(TO,{router:aSe})})}(function(){const e="onabort onactivate onactivateinvisible onafterprint onafterupdate onanimationcancel onanimationend onanimationiteration onanimationstart onariarequest onauxclick onbeforeactivate onbeforecopy onbeforecut onbeforedeactivate onbeforeeditfocus onbeforepaste onbeforeprint onbeforeunload onbegin onblur onbounce oncancel oncanplay oncanplaythrough oncellchange onchange onclick onclose oncommand oncontextmenu oncontrolselect oncopy oncuechange oncut ondataavailable ondatasetchanged ondatasetcomplete ondblclick ondeactivate ondrag ondragdrop ondragend ondragenter ondragexit ondragleave ondragover ondragstart ondrop ondurationchange onemptied onend onended onerror onerrorupdate onexit onfilterchange onfinish onfocus onfocusin onfocusout onformdata onfullscreenchange onfullscreenerror ongotpointercapture onhelp oninput oninvalid onkeydown onkeypress onkeyup onlayoutcomplete onload onloadeddata onloadedmetadata onloadend onloadstart onlosecapture onlostpointercapture onmediacomplete onmediaerror onmessage onmousedown onmouseenter onmouseleave onmousemove onmouseout onmouseover onmouseup onmousewheel onmove onmoveend onmovestart onmozfullscreenchange onmozfullscreenerror onmscontentzoom onmsgesturechange onmsgesturedoubletap onmsgestureend onmsgesturehold onmsgesturestart onmsgesturetap onmsgotpointercapture onmsinertiastart onmslostpointercapture onmsmanipulationstatechanged onmspointercancel onmspointerdown onmspointerenter onmspointerleave onmspointermove onmspointerout onmspointerover onmspointerup onoffline ononline onoutofsync onoverscroll onpaste onpause onplay onplaying onpointercancel onpointerdown onpointerenter onpointerleave onpointermove onpointerout onpointerover onpointerrawupdate onpointerup onprogress onpropertychange onratechange onreadystatechange onrepeat onreset onresize onresizeend onresizestart onresume onreverse onrowdelete onrowenter onrowexit onrowinserted onscroll onscrollend onsearch onseek onseeked onseeking onselect onselectionchange onselectstart onshow onstalled onstart onstop onstorage onsubmit onsuspend onsynchrestored ontimeerror ontimeupdate ontoggle ontrackchange ontransitioncancel ontransitionend ontransitionrun ontransitionstart onunload onurlflip onvolumechange onwaiting onwebkitanimationend onwebkitanimationiteration onwebkitanimationstart onwebkitfullscreenchange onwebkitfullscreenerror onwebkittransitionend onwheel".split(" ");function t(){if(typeof window<"u"){const f=[];for(const h in HTMLElement.prototype)h.slice(0,2)==="on"&&f.push(h);return f}return e}const n=typeof window<"u",s=()=>{throw new TypeError("undefined conversion")},o=()=>null,{toLowerCase:r,toUpperCase:a}=String.prototype;function i(){throw new TypeError("Illegal constructor")}function u(){throw new TypeError("Illegal constructor")}const{l:d}=function(){function f(se){let ce=K.get(se);return ce===void 0&&(ce=S(null),K.set(se,ce)),ce}function h(se){const ce=A(se);if(ce==null||A(ce)!==k)throw Error();for(const X of T(ce))I(se,X,{value:se[X]});return se}function g(se,ce){_(se.prototype),delete se.name,I(se,"name",{value:ce})}function C(se){return ce=>ce instanceof se&&K.has(ce)}function v(se,ce){function X(Re,qe){const Xe=ce[qe]||(se=="default"?o:s),et=_(new Re(U,se));return _({[qe](fe,...Ee){if(fe=Xe(""+fe,...Ee),fe==null){if(se=="default")return fe;fe=""}return fe=""+fe,Ee=_(S(et)),f(Ee).v=fe,Ee}}[qe])}const ve=S(i.prototype);for(const Re of T(Ne))ve[Re]=X(Ne[Re],Re);return I(ve,"name",{value:se,writable:!1,configurable:!1,enumerable:!0}),_(ve)}function y(se,ce,X,ve="",Re=""){if(se=a.apply(String(se)),(ve=Re||ve)||(ve="http://www.w3.org/1999/xhtml"),ve=R.apply(re,[ve])?re[ve]:null){if(R.apply(ve,[se])&&ve[se]&&R.apply(ve[se][ce],[X])&&ve[se][ce][X])return ve[se][ce][X];if(R.apply(ve,["*"])&&R.apply(ve["*"][ce],[X])&&ve["*"][ce][X])return ve["*"][ce][X]}}function b(){return ee}const{assign:E,create:S,defineProperty:I,freeze:_,getOwnPropertyNames:T,getPrototypeOf:A,prototype:k}=Object,{hasOwnProperty:R}=k,{forEach:P,push:V}=Array.prototype,U=Symbol(),K=h(new WeakMap),Z=h([]),Y=h([]);let Q=!0,ee=null,$=!1;class te{constructor(ce,X){if(ce!==U)throw Error("cannot call the constructor");I(this,"policyName",{value:X,enumerable:!0})}toString(){return f(this).v}valueOf(){return f(this).v}}class J extends te{}g(J,"TrustedScriptURL");class W extends te{}g(W,"TrustedHTML");class ie extends te{}g(ie,"TrustedScript"),g(te,"TrustedType");const Se=_(S(new W(U,"")));f(Se).v="";const me=_(S(new ie(U,"")));f(me).v="";const re={"http://www.w3.org/1999/xhtml":{EMBED:{attributes:{src:J.name}},IFRAME:{attributes:{srcdoc:W.name}},OBJECT:{attributes:{data:J.name,codebase:J.name}},SCRIPT:{attributes:{src:J.name,text:ie.name},properties:{innerText:ie.name,textContent:ie.name,text:ie.name}},"*":{attributes:{},properties:{innerHTML:W.name,outerHTML:W.name}}},"http://www.w3.org/2000/svg":{"*":{attributes:{},properties:{}}}};var xe={codebase:"codeBase",formaction:"formAction"};!n||"srcdoc"in HTMLIFrameElement.prototype||delete re["http://www.w3.org/1999/xhtml"].IFRAME.attributes.srcdoc;for(const se of Object.keys(re["http://www.w3.org/1999/xhtml"])){re["http://www.w3.org/1999/xhtml"][se].properties||(re["http://www.w3.org/1999/xhtml"][se].properties={});for(const ce of Object.keys(re["http://www.w3.org/1999/xhtml"][se].attributes))re["http://www.w3.org/1999/xhtml"][se].properties[xe[ce]?xe[ce]:ce]=re["http://www.w3.org/1999/xhtml"][se].attributes[ce]}for(const se of t())re["http://www.w3.org/1999/xhtml"]["*"].attributes[se]="TrustedScript",re["http://www.w3.org/2000/svg"]["*"].attributes[se]="TrustedScript";const Ne={createHTML:W,createScriptURL:J,createScript:ie},Oe=Ne.hasOwnProperty;return xe=S(u.prototype),E(xe,{createPolicy:function(se,ce){if(!se.match(/^[-#a-zA-Z0-9=_/@.%]+$/g))throw new TypeError("Policy "+se+" contains invalid characters.");if($&&Y.indexOf(se)===-1&&Y.indexOf("*")===-1)throw new TypeError("Policy "+se+" disallowed.");if(se==="default"&&ee)throw new TypeError("Policy "+se+" already exists.");if($&&!Q&&Z.indexOf(se)!==-1)throw new TypeError("Policy "+se+" exists.");Z.push(se);const X=S(null);if(ce&&typeof ce=="object")for(const ve of T(ce))Oe.call(Ne,ve)&&(X[ve]=ce[ve]);else console.warn("trustedTypes.createPolicy "+se+" was given an empty policy");return _(X),ce=v(se,X),se==="default"&&(ee=ce),ce},h:C(W),j:C(J),i:C(ie),c:function(se,ce,X="",ve=""){return ce=r.apply(String(ce)),y(se,"attributes",ce,X,ve)||null},f:function(se,ce,X=""){return y(se,"properties",String(ce),X)||null},g:function(se=""){if(!se)try{se=document.documentElement.namespaceURI}catch{se="http://www.w3.org/1999/xhtml"}return(se=re[se])?JSON.parse(JSON.stringify(se)):{}},a:Se,b:me,o:ee,TrustedHTML:W,TrustedScriptURL:J,TrustedScript:ie}),I(xe,"defaultPolicy",{get:b,set:()=>{}}),{l:_(xe),w:function(se,ce){$=!0,Y.length=0,P.call(se,X=>{V.call(Y,""+X)}),Q=ce,Z.length=0},m:function(){$=!1},s:b,u:function(){ee=null,Z.splice(Z.indexOf("default"),1)}}}();if(typeof window<"u"&&(window.TrustedTypes&&typeof window.trustedTypes>"u"&&(window.trustedTypes=Object.freeze(window.TrustedTypes)),typeof window.trustedTypes>"u")){var m=Object.create(u.prototype);Object.assign(m,{isHTML:d.h,isScriptURL:d.j,isScript:d.i,createPolicy:d.createPolicy,getAttributeType:d.c,getPropertyType:d.f,getTypeMapping:d.g,emptyHTML:d.a,emptyScript:d.b,_isPolyfill_:!0}),Object.defineProperty(m,"defaultPolicy",Object.getOwnPropertyDescriptor(d,"defaultPolicy")||{}),window.trustedTypes=Object.freeze(m),window.TrustedHTML=d.TrustedHTML,window.TrustedScriptURL=d.TrustedScriptURL,window.TrustedScript=d.TrustedScript,window.TrustedTypePolicy=i,window.TrustedTypePolicyFactory=u}}).call(void 0);/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:oP,setPrototypeOf:x8,isFrozen:cSe,getPrototypeOf:lSe,getOwnPropertyDescriptor:uSe}=Object;let{freeze:ts,seal:Ys,create:rP}=Object,{apply:z5,construct:G5}=typeof Reflect<"u"&&Reflect;ts||(ts=function(t){return t});Ys||(Ys=function(t){return t});z5||(z5=function(t,n){for(var s=arguments.length,o=new Array(s>2?s-2:0),r=2;r<s;r++)o[r-2]=arguments[r];return t.apply(n,o)});G5||(G5=function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return new t(...s)});const kf=ns(Array.prototype.forEach),dSe=ns(Array.prototype.lastIndexOf),S8=ns(Array.prototype.pop),bu=ns(Array.prototype.push),mSe=ns(Array.prototype.splice),Yf=ns(String.prototype.toLowerCase),O0=ns(String.prototype.toString),D0=ns(String.prototype.match),xu=ns(String.prototype.replace),fSe=ns(String.prototype.indexOf),pSe=ns(String.prototype.trim),ao=ns(Object.prototype.hasOwnProperty),Yn=ns(RegExp.prototype.test),Su=hSe(TypeError);function ns(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return z5(e,t,s)}}function hSe(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return G5(e,n)}}function lt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Yf;x8&&x8(e,null);let s=t.length;for(;s--;){let o=t[s];if(typeof o=="string"){const r=n(o);r!==o&&(cSe(t)||(t[s]=r),o=r)}e[o]=!0}return e}function gSe(e){for(let t=0;t<e.length;t++)ao(e,t)||(e[t]=null);return e}function sr(e){const t=rP(null);for(const[n,s]of oP(e))ao(e,n)&&(Array.isArray(s)?t[n]=gSe(s):s&&typeof s=="object"&&s.constructor===Object?t[n]=sr(s):t[n]=s);return t}function Eu(e,t){for(;e!==null;){const s=uSe(e,t);if(s){if(s.get)return ns(s.get);if(typeof s.value=="function")return ns(s.value)}e=lSe(e)}function n(){return null}return n}const E8=ts(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),j0=ts(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),U0=ts(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),vSe=ts(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),F0=ts(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),CSe=ts(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),w8=ts(["#text"]),I8=ts(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),B0=ts(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_8=ts(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Mf=ts(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ySe=Ys(/\{\{[\w\W]*|[\w\W]*\}\}/gm),bSe=Ys(/<%[\w\W]*|[\w\W]*%>/gm),xSe=Ys(/\$\{[\w\W]*/gm),SSe=Ys(/^data-[\-\w.\u00B7-\uFFFF]+$/),ESe=Ys(/^aria-[\-\w]+$/),aP=Ys(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),wSe=Ys(/^(?:\w+script|data):/i),ISe=Ys(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),iP=Ys(/^html$/i),_Se=Ys(/^[a-z][.\w]*(-[.\w]+)+$/i);var T8=Object.freeze({__proto__:null,ARIA_ATTR:ESe,ATTR_WHITESPACE:ISe,CUSTOM_ELEMENT:_Se,DATA_ATTR:SSe,DOCTYPE_NAME:iP,ERB_EXPR:bSe,IS_ALLOWED_URI:aP,IS_SCRIPT_OR_DATA:wSe,MUSTACHE_EXPR:ySe,TMPLIT_EXPR:xSe});const wu={element:1,text:3,progressingInstruction:7,comment:8,document:9},TSe=function(){return typeof window>"u"?null:window},ASe=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const o="data-tt-policy-suffix";n&&n.hasAttribute(o)&&(s=n.getAttribute(o));const r="dompurify"+(s?"#"+s:"");try{return t.createPolicy(r,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}},A8=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function cP(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:TSe();const t=He=>cP(He);if(t.version="3.2.7",t.removed=[],!e||!e.document||e.document.nodeType!==wu.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const s=n,o=s.currentScript,{DocumentFragment:r,HTMLTemplateElement:a,Node:i,Element:u,NodeFilter:d,NamedNodeMap:m=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:h,trustedTypes:g}=e,C=u.prototype,v=Eu(C,"cloneNode"),y=Eu(C,"remove"),b=Eu(C,"nextSibling"),E=Eu(C,"childNodes"),S=Eu(C,"parentNode");if(typeof a=="function"){const He=n.createElement("template");He.content&&He.content.ownerDocument&&(n=He.content.ownerDocument)}let I,_="";const{implementation:T,createNodeIterator:A,createDocumentFragment:k,getElementsByTagName:R}=n,{importNode:P}=s;let V=A8();t.isSupported=typeof oP=="function"&&typeof S=="function"&&T&&T.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:U,ERB_EXPR:K,TMPLIT_EXPR:Z,DATA_ATTR:Y,ARIA_ATTR:Q,IS_SCRIPT_OR_DATA:ee,ATTR_WHITESPACE:$,CUSTOM_ELEMENT:te}=T8;let{IS_ALLOWED_URI:J}=T8,W=null;const ie=lt({},[...E8,...j0,...U0,...F0,...w8]);let Se=null;const me=lt({},[...I8,...B0,..._8,...Mf]);let re=Object.seal(rP(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xe=null,Ne=null,Oe=!0,se=!0,ce=!1,X=!0,ve=!1,Re=!0,qe=!1,Xe=!1,et=!1,fe=!1,Ee=!1,Ae=!1,Ye=!0,De=!1;const Ke="user-content-";let Be=!0,Ce=!1,ze={},Ct=null;const Me=lt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ie=null;const Ze=lt({},["audio","video","img","source","image","track"]);let at=null;const Te=lt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),dt="http://www.w3.org/1998/Math/MathML",At="http://www.w3.org/2000/svg",Bt="http://www.w3.org/1999/xhtml";let Rs=Bt,eo=!1,Ps=null;const Hm=lt({},[dt,At,Bt],O0);let Yo=lt({},["mi","mo","mn","ms","mtext"]),os=lt({},["annotation-xml"]);const Kl=lt({},["title","style","font","a","script"]);let To=null;const cc=["application/xhtml+xml","text/html"],lc="text/html";let Jt=null,Ls=null;const Nn=n.createElement("form"),Qo=function(H){return H instanceof RegExp||H instanceof Function},Oa=function(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ls&&Ls===H)){if((!H||typeof H!="object")&&(H={}),H=sr(H),To=cc.indexOf(H.PARSER_MEDIA_TYPE)===-1?lc:H.PARSER_MEDIA_TYPE,Jt=To==="application/xhtml+xml"?O0:Yf,W=ao(H,"ALLOWED_TAGS")?lt({},H.ALLOWED_TAGS,Jt):ie,Se=ao(H,"ALLOWED_ATTR")?lt({},H.ALLOWED_ATTR,Jt):me,Ps=ao(H,"ALLOWED_NAMESPACES")?lt({},H.ALLOWED_NAMESPACES,O0):Hm,at=ao(H,"ADD_URI_SAFE_ATTR")?lt(sr(Te),H.ADD_URI_SAFE_ATTR,Jt):Te,Ie=ao(H,"ADD_DATA_URI_TAGS")?lt(sr(Ze),H.ADD_DATA_URI_TAGS,Jt):Ze,Ct=ao(H,"FORBID_CONTENTS")?lt({},H.FORBID_CONTENTS,Jt):Me,xe=ao(H,"FORBID_TAGS")?lt({},H.FORBID_TAGS,Jt):sr({}),Ne=ao(H,"FORBID_ATTR")?lt({},H.FORBID_ATTR,Jt):sr({}),ze=ao(H,"USE_PROFILES")?H.USE_PROFILES:!1,Oe=H.ALLOW_ARIA_ATTR!==!1,se=H.ALLOW_DATA_ATTR!==!1,ce=H.ALLOW_UNKNOWN_PROTOCOLS||!1,X=H.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ve=H.SAFE_FOR_TEMPLATES||!1,Re=H.SAFE_FOR_XML!==!1,qe=H.WHOLE_DOCUMENT||!1,fe=H.RETURN_DOM||!1,Ee=H.RETURN_DOM_FRAGMENT||!1,Ae=H.RETURN_TRUSTED_TYPE||!1,et=H.FORCE_BODY||!1,Ye=H.SANITIZE_DOM!==!1,De=H.SANITIZE_NAMED_PROPS||!1,Be=H.KEEP_CONTENT!==!1,Ce=H.IN_PLACE||!1,J=H.ALLOWED_URI_REGEXP||aP,Rs=H.NAMESPACE||Bt,Yo=H.MATHML_TEXT_INTEGRATION_POINTS||Yo,os=H.HTML_INTEGRATION_POINTS||os,re=H.CUSTOM_ELEMENT_HANDLING||{},H.CUSTOM_ELEMENT_HANDLING&&Qo(H.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(re.tagNameCheck=H.CUSTOM_ELEMENT_HANDLING.tagNameCheck),H.CUSTOM_ELEMENT_HANDLING&&Qo(H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(re.attributeNameCheck=H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),H.CUSTOM_ELEMENT_HANDLING&&typeof H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(re.allowCustomizedBuiltInElements=H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ve&&(se=!1),Ee&&(fe=!0),ze&&(W=lt({},w8),Se=[],ze.html===!0&&(lt(W,E8),lt(Se,I8)),ze.svg===!0&&(lt(W,j0),lt(Se,B0),lt(Se,Mf)),ze.svgFilters===!0&&(lt(W,U0),lt(Se,B0),lt(Se,Mf)),ze.mathMl===!0&&(lt(W,F0),lt(Se,_8),lt(Se,Mf))),H.ADD_TAGS&&(W===ie&&(W=sr(W)),lt(W,H.ADD_TAGS,Jt)),H.ADD_ATTR&&(Se===me&&(Se=sr(Se)),lt(Se,H.ADD_ATTR,Jt)),H.ADD_URI_SAFE_ATTR&&lt(at,H.ADD_URI_SAFE_ATTR,Jt),H.FORBID_CONTENTS&&(Ct===Me&&(Ct=sr(Ct)),lt(Ct,H.FORBID_CONTENTS,Jt)),Be&&(W["#text"]=!0),qe&&lt(W,["html","head","body"]),W.table&&(lt(W,["tbody"]),delete xe.tbody),H.TRUSTED_TYPES_POLICY){if(typeof H.TRUSTED_TYPES_POLICY.createHTML!="function")throw Su('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof H.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Su('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');I=H.TRUSTED_TYPES_POLICY,_=I.createHTML("")}else I===void 0&&(I=ASe(g,o)),I!==null&&typeof _=="string"&&(_=I.createHTML(""));ts&&ts(H),Ls=H}},hs=lt({},[...j0,...U0,...vSe]),uc=lt({},[...F0,...CSe]),Ao=function(H){let _e=S(H);(!_e||!_e.tagName)&&(_e={namespaceURI:Rs,tagName:"template"});const Ve=Yf(H.tagName),Lt=Yf(_e.tagName);return Ps[H.namespaceURI]?H.namespaceURI===At?_e.namespaceURI===Bt?Ve==="svg":_e.namespaceURI===dt?Ve==="svg"&&(Lt==="annotation-xml"||Yo[Lt]):!!hs[Ve]:H.namespaceURI===dt?_e.namespaceURI===Bt?Ve==="math":_e.namespaceURI===At?Ve==="math"&&os[Lt]:!!uc[Ve]:H.namespaceURI===Bt?_e.namespaceURI===At&&!os[Lt]||_e.namespaceURI===dt&&!Yo[Lt]?!1:!uc[Ve]&&(Kl[Ve]||!hs[Ve]):!!(To==="application/xhtml+xml"&&Ps[H.namespaceURI]):!1},Gn=function(H){bu(t.removed,{element:H});try{S(H).removeChild(H)}catch{y(H)}},Os=function(H,_e){try{bu(t.removed,{attribute:_e.getAttributeNode(H),from:_e})}catch{bu(t.removed,{attribute:null,from:_e})}if(_e.removeAttribute(H),H==="is")if(fe||Ee)try{Gn(_e)}catch{}else try{_e.setAttribute(H,"")}catch{}},Da=function(H){let _e=null,Ve=null;if(et)H="<remove></remove>"+H;else{const nn=D0(H,/^[\r\n\t ]+/);Ve=nn&&nn[0]}To==="application/xhtml+xml"&&Rs===Bt&&(H='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+H+"</body></html>");const Lt=I?I.createHTML(H):H;if(Rs===Bt)try{_e=new h().parseFromString(Lt,To)}catch{}if(!_e||!_e.documentElement){_e=T.createDocument(Rs,"template",null);try{_e.documentElement.innerHTML=eo?_:Lt}catch{}}const En=_e.body||_e.documentElement;return H&&Ve&&En.insertBefore(n.createTextNode(Ve),En.childNodes[0]||null),Rs===Bt?R.call(_e,qe?"html":"body")[0]:qe?_e.documentElement:En},Pt=function(H){return A.call(H.ownerDocument||H,H,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Jo=function(H){return H instanceof f&&(typeof H.nodeName!="string"||typeof H.textContent!="string"||typeof H.removeChild!="function"||!(H.attributes instanceof m)||typeof H.removeAttribute!="function"||typeof H.setAttribute!="function"||typeof H.namespaceURI!="string"||typeof H.insertBefore!="function"||typeof H.hasChildNodes!="function")},ja=function(H){return typeof i=="function"&&H instanceof i};function Ds(He,H,_e){kf(He,Ve=>{Ve.call(t,H,_e,Ls)})}const Mr=function(H){let _e=null;if(Ds(V.beforeSanitizeElements,H,null),Jo(H))return Gn(H),!0;const Ve=Jt(H.nodeName);if(Ds(V.uponSanitizeElement,H,{tagName:Ve,allowedTags:W}),Re&&H.hasChildNodes()&&!ja(H.firstElementChild)&&Yn(/<[/\w!]/g,H.innerHTML)&&Yn(/<[/\w!]/g,H.textContent)||H.nodeType===wu.progressingInstruction||Re&&H.nodeType===wu.comment&&Yn(/<[/\w]/g,H.data))return Gn(H),!0;if(!W[Ve]||xe[Ve]){if(!xe[Ve]&&zm(Ve)&&(re.tagNameCheck instanceof RegExp&&Yn(re.tagNameCheck,Ve)||re.tagNameCheck instanceof Function&&re.tagNameCheck(Ve)))return!1;if(Be&&!Ct[Ve]){const Lt=S(H)||H.parentNode,En=E(H)||H.childNodes;if(En&&Lt){const nn=En.length;for(let kt=nn-1;kt>=0;--kt){const to=v(En[kt],!0);to.__removalCount=(H.__removalCount||0)+1,Lt.insertBefore(to,b(H))}}}return Gn(H),!0}return H instanceof u&&!Ao(H)||(Ve==="noscript"||Ve==="noembed"||Ve==="noframes")&&Yn(/<\/no(script|embed|frames)/i,H.innerHTML)?(Gn(H),!0):(ve&&H.nodeType===wu.text&&(_e=H.textContent,kf([U,K,Z],Lt=>{_e=xu(_e,Lt," ")}),H.textContent!==_e&&(bu(t.removed,{element:H.cloneNode()}),H.textContent=_e)),Ds(V.afterSanitizeElements,H,null),!1)},Wn=function(H,_e,Ve){if(Ye&&(_e==="id"||_e==="name")&&(Ve in n||Ve in Nn))return!1;if(!(se&&!Ne[_e]&&Yn(Y,_e))){if(!(Oe&&Yn(Q,_e))){if(!Se[_e]||Ne[_e]){if(!(zm(H)&&(re.tagNameCheck instanceof RegExp&&Yn(re.tagNameCheck,H)||re.tagNameCheck instanceof Function&&re.tagNameCheck(H))&&(re.attributeNameCheck instanceof RegExp&&Yn(re.attributeNameCheck,_e)||re.attributeNameCheck instanceof Function&&re.attributeNameCheck(_e,H))||_e==="is"&&re.allowCustomizedBuiltInElements&&(re.tagNameCheck instanceof RegExp&&Yn(re.tagNameCheck,Ve)||re.tagNameCheck instanceof Function&&re.tagNameCheck(Ve))))return!1}else if(!at[_e]){if(!Yn(J,xu(Ve,$,""))){if(!((_e==="src"||_e==="xlink:href"||_e==="href")&&H!=="script"&&fSe(Ve,"data:")===0&&Ie[H])){if(!(ce&&!Yn(ee,xu(Ve,$,"")))){if(Ve)return!1}}}}}}return!0},zm=function(H){return H!=="annotation-xml"&&D0(H,te)},Gm=function(H){Ds(V.beforeSanitizeAttributes,H,null);const{attributes:_e}=H;if(!_e||Jo(H))return;const Ve={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Se,forceKeepAttr:void 0};let Lt=_e.length;for(;Lt--;){const En=_e[Lt],{name:nn,namespaceURI:kt,value:to}=En,Nr=Jt(nn),$n=to;let ft=nn==="value"?$n:pSe($n);if(Ve.attrName=Nr,Ve.attrValue=ft,Ve.keepAttr=!0,Ve.forceKeepAttr=void 0,Ds(V.uponSanitizeAttribute,H,Ve),ft=Ve.attrValue,De&&(Nr==="id"||Nr==="name")&&(Os(nn,H),ft=Ke+ft),Re&&Yn(/((--!?|])>)|<\/(style|title|textarea)/i,ft)){Os(nn,H);continue}if(Nr==="attributename"&&D0(ft,"href")){Os(nn,H);continue}if(Ve.forceKeepAttr)continue;if(!Ve.keepAttr){Os(nn,H);continue}if(!X&&Yn(/\/>/i,ft)){Os(nn,H);continue}ve&&kf([U,K,Z],Wm=>{ft=xu(ft,Wm," ")});const dc=Jt(H.nodeName);if(!Wn(dc,Nr,ft)){Os(nn,H);continue}if(I&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!kt)switch(g.getAttributeType(dc,Nr)){case"TrustedHTML":{ft=I.createHTML(ft);break}case"TrustedScriptURL":{ft=I.createScriptURL(ft);break}}if(ft!==$n)try{kt?H.setAttributeNS(kt,nn,ft):H.setAttribute(nn,ft),Jo(H)?Gn(H):S8(t.removed)}catch{Os(nn,H)}}Ds(V.afterSanitizeAttributes,H,null)},Ph=function He(H){let _e=null;const Ve=Pt(H);for(Ds(V.beforeSanitizeShadowDOM,H,null);_e=Ve.nextNode();)Ds(V.uponSanitizeShadowNode,_e,null),Mr(_e),Gm(_e),_e.content instanceof r&&He(_e.content);Ds(V.afterSanitizeShadowDOM,H,null)};return t.sanitize=function(He){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=null,Ve=null,Lt=null,En=null;if(eo=!He,eo&&(He="<!-->"),typeof He!="string"&&!ja(He))if(typeof He.toString=="function"){if(He=He.toString(),typeof He!="string")throw Su("dirty is not a string, aborting")}else throw Su("toString is not a function");if(!t.isSupported)return He;if(Xe||Oa(H),t.removed=[],typeof He=="string"&&(Ce=!1),Ce){if(He.nodeName){const to=Jt(He.nodeName);if(!W[to]||xe[to])throw Su("root node is forbidden and cannot be sanitized in-place")}}else if(He instanceof i)_e=Da("<!---->"),Ve=_e.ownerDocument.importNode(He,!0),Ve.nodeType===wu.element&&Ve.nodeName==="BODY"||Ve.nodeName==="HTML"?_e=Ve:_e.appendChild(Ve);else{if(!fe&&!ve&&!qe&&He.indexOf("<")===-1)return I&&Ae?I.createHTML(He):He;if(_e=Da(He),!_e)return fe?null:Ae?_:""}_e&&et&&Gn(_e.firstChild);const nn=Pt(Ce?He:_e);for(;Lt=nn.nextNode();)Mr(Lt),Gm(Lt),Lt.content instanceof r&&Ph(Lt.content);if(Ce)return He;if(fe){if(Ee)for(En=k.call(_e.ownerDocument);_e.firstChild;)En.appendChild(_e.firstChild);else En=_e;return(Se.shadowroot||Se.shadowrootmode)&&(En=P.call(s,En,!0)),En}let kt=qe?_e.outerHTML:_e.innerHTML;return qe&&W["!doctype"]&&_e.ownerDocument&&_e.ownerDocument.doctype&&_e.ownerDocument.doctype.name&&Yn(iP,_e.ownerDocument.doctype.name)&&(kt="<!DOCTYPE "+_e.ownerDocument.doctype.name+`>
`+kt),ve&&kf([U,K,Z],to=>{kt=xu(kt,to," ")}),I&&Ae?I.createHTML(kt):kt},t.setConfig=function(){let He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Oa(He),Xe=!0},t.clearConfig=function(){Ls=null,Xe=!1},t.isValidAttribute=function(He,H,_e){Ls||Oa({});const Ve=Jt(He),Lt=Jt(H);return Wn(Ve,Lt,_e)},t.addHook=function(He,H){typeof H=="function"&&bu(V[He],H)},t.removeHook=function(He,H){if(H!==void 0){const _e=dSe(V[He],H);return _e===-1?void 0:mSe(V[He],_e,1)[0]}return S8(V[He])},t.removeHooks=function(He){V[He]=[]},t.removeAllHooks=function(){V=A8()},t}var k8=cP(),qu=class{constructor(e,t,n,s,o,r){O(this,"type",3);O(this,"name","");O(this,"prefix","");O(this,"value","");O(this,"suffix","");O(this,"modifier",3);this.type=e,this.name=t,this.prefix=n,this.value=s,this.suffix=o,this.modifier=r}hasCustomName(){return this.name!==""&&typeof this.name!="number"}},kSe=/[$_\p{ID_Start}]/u,MSe=/[$_\u200C\u200D\p{ID_Continue}]/u,W5=".*";function NSe(e,t){return/^[\x00-\x7F]*$/.test(e)}function lP(e,t=!1){let n=[],s=0;for(;s<e.length;){let o=e[s],r=function(a){if(!t)throw new TypeError(a);n.push({type:"INVALID_CHAR",index:s,value:e[s++]})};if(o==="*"){n.push({type:"ASTERISK",index:s,value:e[s++]});continue}if(o==="+"||o==="?"){n.push({type:"OTHER_MODIFIER",index:s,value:e[s++]});continue}if(o==="\\"){n.push({type:"ESCAPED_CHAR",index:s++,value:e[s++]});continue}if(o==="{"){n.push({type:"OPEN",index:s,value:e[s++]});continue}if(o==="}"){n.push({type:"CLOSE",index:s,value:e[s++]});continue}if(o===":"){let a="",i=s+1;for(;i<e.length;){let u=e.substr(i,1);if(i===s+1&&kSe.test(u)||i!==s+1&&MSe.test(u)){a+=e[i++];continue}break}if(!a){r(`Missing parameter name at ${s}`);continue}n.push({type:"NAME",index:s,value:a}),s=i;continue}if(o==="("){let a=1,i="",u=s+1,d=!1;if(e[u]==="?"){r(`Pattern cannot start with "?" at ${u}`);continue}for(;u<e.length;){if(!NSe(e[u])){r(`Invalid character '${e[u]}' at ${u}.`),d=!0;break}if(e[u]==="\\"){i+=e[u++]+e[u++];continue}if(e[u]===")"){if(a--,a===0){u++;break}}else if(e[u]==="("&&(a++,e[u+1]!=="?")){r(`Capturing groups are not allowed at ${u}`),d=!0;break}i+=e[u++]}if(d)continue;if(a){r(`Unbalanced pattern at ${s}`);continue}if(!i){r(`Missing pattern at ${s}`);continue}n.push({type:"REGEX",index:s,value:i}),s=u;continue}n.push({type:"CHAR",index:s,value:e[s++]})}return n.push({type:"END",index:s,value:""}),n}function uP(e,t={}){let n=lP(e);t.delimiter??(t.delimiter="/#?"),t.prefixes??(t.prefixes="./");let s=`[^${Us(t.delimiter)}]+?`,o=[],r=0,a=0,i=new Set,u=E=>{if(a<n.length&&n[a].type===E)return n[a++].value},d=()=>u("OTHER_MODIFIER")??u("ASTERISK"),m=E=>{let S=u(E);if(S!==void 0)return S;let{type:I,index:_}=n[a];throw new TypeError(`Unexpected ${I} at ${_}, expected ${E}`)},f=()=>{let E="",S;for(;S=u("CHAR")??u("ESCAPED_CHAR");)E+=S;return E},h=E=>E,g=t.encodePart||h,C="",v=E=>{C+=E},y=()=>{C.length&&(o.push(new qu(3,"","",g(C),"",3)),C="")},b=(E,S,I,_,T)=>{let A=3;switch(T){case"?":A=1;break;case"*":A=0;break;case"+":A=2;break}if(!S&&!I&&A===3){v(E);return}if(y(),!S&&!I){if(!E)return;o.push(new qu(3,"","",g(E),"",A));return}let k;I?I==="*"?k=W5:k=I:k=s;let R=2;k===s?(R=1,k=""):k===W5&&(R=0,k="");let P;if(S?P=S:I&&(P=r++),i.has(P))throw new TypeError(`Duplicate name '${P}'.`);i.add(P),o.push(new qu(R,P,g(E),k,g(_),A))};for(;a<n.length;){let E=u("CHAR"),S=u("NAME"),I=u("REGEX");if(!S&&!I&&(I=u("ASTERISK")),S||I){let T=E??"";t.prefixes.indexOf(T)===-1&&(v(T),T=""),y();let A=d();b(T,S,I,"",A);continue}let _=E??u("ESCAPED_CHAR");if(_){v(_);continue}if(u("OPEN")){let T=f(),A=u("NAME"),k=u("REGEX");!A&&!k&&(k=u("ASTERISK"));let R=f();m("CLOSE");let P=d();b(T,A,k,R,P);continue}y(),m("END")}return o}function Us(e){return e.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function M8(e){return e&&e.ignoreCase?"ui":"u"}function RSe(e,t,n){return dP(uP(e,n),t,n)}function Bc(e){switch(e){case 0:return"*";case 1:return"?";case 2:return"+";case 3:return""}}function dP(e,t,n={}){n.delimiter??(n.delimiter="/#?"),n.prefixes??(n.prefixes="./"),n.sensitive??(n.sensitive=!1),n.strict??(n.strict=!1),n.end??(n.end=!0),n.start??(n.start=!0),n.endsWith="";let s=n.start?"^":"";for(let i of e){if(i.type===3){i.modifier===3?s+=Us(i.value):s+=`(?:${Us(i.value)})${Bc(i.modifier)}`;continue}t&&t.push(i.name);let u=`[^${Us(n.delimiter)}]+?`,d=i.value;if(i.type===1?d=u:i.type===0&&(d=W5),!i.prefix.length&&!i.suffix.length){i.modifier===3||i.modifier===1?s+=`(${d})${Bc(i.modifier)}`:s+=`((?:${d})${Bc(i.modifier)})`;continue}if(i.modifier===3||i.modifier===1){s+=`(?:${Us(i.prefix)}(${d})${Us(i.suffix)})`,s+=Bc(i.modifier);continue}s+=`(?:${Us(i.prefix)}`,s+=`((?:${d})(?:`,s+=Us(i.suffix),s+=Us(i.prefix),s+=`(?:${d}))*)${Us(i.suffix)})`,i.modifier===0&&(s+="?")}let o=`[${Us(n.endsWith)}]|$`,r=`[${Us(n.delimiter)}]`;if(n.end)return n.strict||(s+=`${r}?`),n.endsWith.length?s+=`(?=${o})`:s+="$",new RegExp(s,M8(n));n.strict||(s+=`(?:${r}(?=${o}))?`);let a=!1;if(e.length){let i=e[e.length-1];i.type===3&&i.modifier===3&&(a=n.delimiter.indexOf(i)>-1)}return a||(s+=`(?=${r}|${o})`),new RegExp(s,M8(n))}var zr={delimiter:"",prefixes:"",sensitive:!0,strict:!0},PSe={delimiter:".",prefixes:"",sensitive:!0,strict:!0},LSe={delimiter:"/",prefixes:"/",sensitive:!0,strict:!0};function OSe(e,t){return e.length?e[0]==="/"?!0:!t||e.length<2?!1:(e[0]=="\\"||e[0]=="{")&&e[1]=="/":!1}function mP(e,t){return e.startsWith(t)?e.substring(t.length,e.length):e}function DSe(e,t){return e.endsWith(t)?e.substr(0,e.length-t.length):e}function fP(e){return!e||e.length<2?!1:e[0]==="["||(e[0]==="\\"||e[0]==="{")&&e[1]==="["}var pP=["ftp","file","http","https","ws","wss"];function hP(e){if(!e)return!0;for(let t of pP)if(e.test(t))return!0;return!1}function jSe(e,t){if(e=mP(e,"#"),t||e==="")return e;let n=new URL("https://example.com");return n.hash=e,n.hash?n.hash.substring(1,n.hash.length):""}function USe(e,t){if(e=mP(e,"?"),t||e==="")return e;let n=new URL("https://example.com");return n.search=e,n.search?n.search.substring(1,n.search.length):""}function FSe(e,t){return t||e===""?e:fP(e)?CP(e):vP(e)}function BSe(e,t){if(t||e==="")return e;let n=new URL("https://example.com");return n.password=e,n.password}function VSe(e,t){if(t||e==="")return e;let n=new URL("https://example.com");return n.username=e,n.username}function HSe(e,t,n){if(n||e==="")return e;if(t&&!pP.includes(t))return new URL(`${t}:${e}`).pathname;let s=e[0]=="/";return e=new URL(s?e:"/-"+e,"https://example.com").pathname,s||(e=e.substring(2,e.length)),e}function zSe(e,t,n){return gP(t)===e&&(e=""),n||e===""?e:yP(e)}function GSe(e,t){return e=DSe(e,":"),t||e===""?e:Ay(e)}function gP(e){switch(e){case"ws":case"http":return"80";case"wws":case"https":return"443";case"ftp":return"21";default:return""}}function Ay(e){if(e==="")return e;if(/^[-+.A-Za-z0-9]*$/.test(e))return e.toLowerCase();throw new TypeError(`Invalid protocol '${e}'.`)}function WSe(e){if(e==="")return e;let t=new URL("https://example.com");return t.username=e,t.username}function $Se(e){if(e==="")return e;let t=new URL("https://example.com");return t.password=e,t.password}function vP(e){if(e==="")return e;if(/[\t\n\r #%/:<>?@[\]^\\|]/g.test(e))throw new TypeError(`Invalid hostname '${e}'`);let t=new URL("https://example.com");return t.hostname=e,t.hostname}function CP(e){if(e==="")return e;if(/[^0-9a-fA-F[\]:]/g.test(e))throw new TypeError(`Invalid IPv6 hostname '${e}'`);return e.toLowerCase()}function yP(e){if(e===""||/^[0-9]*$/.test(e)&&parseInt(e)<=65535)return e;throw new TypeError(`Invalid port '${e}'.`)}function qSe(e){if(e==="")return e;let t=new URL("https://example.com");return t.pathname=e[0]!=="/"?"/-"+e:e,e[0]!=="/"?t.pathname.substring(2,t.pathname.length):t.pathname}function KSe(e){return e===""?e:new URL(`data:${e}`).pathname}function ZSe(e){if(e==="")return e;let t=new URL("https://example.com");return t.search=e,t.search.substring(1,t.search.length)}function YSe(e){if(e==="")return e;let t=new URL("https://example.com");return t.hash=e,t.hash.substring(1,t.hash.length)}var Xc,Qn,In,zt,gi,el,vs,tl,nl,sl,we,Cn,bP,$5,Mu,Qf,Fs,q5,xP,Jf,SP,EP,Xf,Nc,ti,wP,IP,_P,TP,Ro,AP,F8,QSe=(F8=class{constructor(e){Vt(this,we);Vt(this,Xc);Vt(this,Qn,[]);Vt(this,In,{});Vt(this,zt,0);Vt(this,gi,1);Vt(this,el,0);Vt(this,vs,0);Vt(this,tl,0);Vt(this,nl,0);Vt(this,sl,!1);yt(this,Xc,e)}get result(){return de(this,In)}parse(){for(yt(this,Qn,lP(de(this,Xc),!0));de(this,zt)<de(this,Qn).length;yt(this,zt,de(this,zt)+de(this,gi))){if(yt(this,gi,1),de(this,Qn)[de(this,zt)].type==="END"){if(de(this,vs)===0){Le(this,we,$5).call(this),Le(this,we,ti).call(this)?Le(this,we,Cn).call(this,9,1):Le(this,we,Nc).call(this)?Le(this,we,Cn).call(this,8,1):Le(this,we,Cn).call(this,7,0);continue}else if(de(this,vs)===2){Le(this,we,Mu).call(this,5);continue}Le(this,we,Cn).call(this,10,0);break}if(de(this,tl)>0)if(Le(this,we,IP).call(this))yt(this,tl,de(this,tl)-1);else continue;if(Le(this,we,wP).call(this)){yt(this,tl,de(this,tl)+1);continue}switch(de(this,vs)){case 0:Le(this,we,q5).call(this)&&Le(this,we,Mu).call(this,1);break;case 1:if(Le(this,we,q5).call(this)){Le(this,we,AP).call(this);let e=7,t=1;Le(this,we,xP).call(this)?(e=2,t=3):de(this,sl)&&(e=2),Le(this,we,Cn).call(this,e,t)}break;case 2:Le(this,we,Jf).call(this)?Le(this,we,Mu).call(this,3):(Le(this,we,Xf).call(this)||Le(this,we,Nc).call(this)||Le(this,we,ti).call(this))&&Le(this,we,Mu).call(this,5);break;case 3:Le(this,we,SP).call(this)?Le(this,we,Cn).call(this,4,1):Le(this,we,Jf).call(this)&&Le(this,we,Cn).call(this,5,1);break;case 4:Le(this,we,Jf).call(this)&&Le(this,we,Cn).call(this,5,1);break;case 5:Le(this,we,_P).call(this)?yt(this,nl,de(this,nl)+1):Le(this,we,TP).call(this)&&yt(this,nl,de(this,nl)-1),Le(this,we,EP).call(this)&&!de(this,nl)?Le(this,we,Cn).call(this,6,1):Le(this,we,Xf).call(this)?Le(this,we,Cn).call(this,7,0):Le(this,we,Nc).call(this)?Le(this,we,Cn).call(this,8,1):Le(this,we,ti).call(this)&&Le(this,we,Cn).call(this,9,1);break;case 6:Le(this,we,Xf).call(this)?Le(this,we,Cn).call(this,7,0):Le(this,we,Nc).call(this)?Le(this,we,Cn).call(this,8,1):Le(this,we,ti).call(this)&&Le(this,we,Cn).call(this,9,1);break;case 7:Le(this,we,Nc).call(this)?Le(this,we,Cn).call(this,8,1):Le(this,we,ti).call(this)&&Le(this,we,Cn).call(this,9,1);break;case 8:Le(this,we,ti).call(this)&&Le(this,we,Cn).call(this,9,1);break}}de(this,In).hostname!==void 0&&de(this,In).port===void 0&&(de(this,In).port="")}},Xc=new WeakMap,Qn=new WeakMap,In=new WeakMap,zt=new WeakMap,gi=new WeakMap,el=new WeakMap,vs=new WeakMap,tl=new WeakMap,nl=new WeakMap,sl=new WeakMap,we=new WeakSet,Cn=function(e,t){var n,s,o;switch(de(this,vs)){case 0:break;case 1:de(this,In).protocol=Le(this,we,Ro).call(this);break;case 2:break;case 3:de(this,In).username=Le(this,we,Ro).call(this);break;case 4:de(this,In).password=Le(this,we,Ro).call(this);break;case 5:de(this,In).hostname=Le(this,we,Ro).call(this);break;case 6:de(this,In).port=Le(this,we,Ro).call(this);break;case 7:de(this,In).pathname=Le(this,we,Ro).call(this);break;case 8:de(this,In).search=Le(this,we,Ro).call(this);break;case 9:de(this,In).hash=Le(this,we,Ro).call(this);break}de(this,vs)!==0&&e!==10&&([1,2,3,4].includes(de(this,vs))&&[6,7,8,9].includes(e)&&((n=de(this,In)).hostname??(n.hostname="")),[1,2,3,4,5,6].includes(de(this,vs))&&[8,9].includes(e)&&((s=de(this,In)).pathname??(s.pathname=de(this,sl)?"/":"")),[1,2,3,4,5,6,7].includes(de(this,vs))&&e===9&&((o=de(this,In)).search??(o.search=""))),Le(this,we,bP).call(this,e,t)},bP=function(e,t){yt(this,vs,e),yt(this,el,de(this,zt)+t),yt(this,zt,de(this,zt)+t),yt(this,gi,0)},$5=function(){yt(this,zt,de(this,el)),yt(this,gi,0)},Mu=function(e){Le(this,we,$5).call(this),yt(this,vs,e)},Qf=function(e){return e<0&&(e=de(this,Qn).length-e),e<de(this,Qn).length?de(this,Qn)[e]:de(this,Qn)[de(this,Qn).length-1]},Fs=function(e,t){let n=Le(this,we,Qf).call(this,e);return n.value===t&&(n.type==="CHAR"||n.type==="ESCAPED_CHAR"||n.type==="INVALID_CHAR")},q5=function(){return Le(this,we,Fs).call(this,de(this,zt),":")},xP=function(){return Le(this,we,Fs).call(this,de(this,zt)+1,"/")&&Le(this,we,Fs).call(this,de(this,zt)+2,"/")},Jf=function(){return Le(this,we,Fs).call(this,de(this,zt),"@")},SP=function(){return Le(this,we,Fs).call(this,de(this,zt),":")},EP=function(){return Le(this,we,Fs).call(this,de(this,zt),":")},Xf=function(){return Le(this,we,Fs).call(this,de(this,zt),"/")},Nc=function(){if(Le(this,we,Fs).call(this,de(this,zt),"?"))return!0;if(de(this,Qn)[de(this,zt)].value!=="?")return!1;let e=Le(this,we,Qf).call(this,de(this,zt)-1);return e.type!=="NAME"&&e.type!=="REGEX"&&e.type!=="CLOSE"&&e.type!=="ASTERISK"},ti=function(){return Le(this,we,Fs).call(this,de(this,zt),"#")},wP=function(){return de(this,Qn)[de(this,zt)].type=="OPEN"},IP=function(){return de(this,Qn)[de(this,zt)].type=="CLOSE"},_P=function(){return Le(this,we,Fs).call(this,de(this,zt),"[")},TP=function(){return Le(this,we,Fs).call(this,de(this,zt),"]")},Ro=function(){let e=de(this,Qn)[de(this,zt)],t=Le(this,we,Qf).call(this,de(this,el)).index;return de(this,Xc).substring(t,e.index)},AP=function(){let e={};Object.assign(e,zr),e.encodePart=Ay;let t=RSe(Le(this,we,Ro).call(this),void 0,e);yt(this,sl,hP(t))},F8),V0=["protocol","username","password","hostname","port","pathname","search","hash"],Br="*";function N8(e,t){if(typeof e!="string")throw new TypeError("parameter 1 is not of type 'string'.");let n=new URL(e,t);return{protocol:n.protocol.substring(0,n.protocol.length-1),username:n.username,password:n.password,hostname:n.hostname,port:n.port,pathname:n.pathname,search:n.search!==""?n.search.substring(1,n.search.length):void 0,hash:n.hash!==""?n.hash.substring(1,n.hash.length):void 0}}function tr(e,t){return t?Nu(e):e}function Iu(e,t,n){let s;if(typeof t.baseURL=="string")try{s=new URL(t.baseURL),t.protocol===void 0&&(e.protocol=tr(s.protocol.substring(0,s.protocol.length-1),n)),!n&&t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.username===void 0&&(e.username=tr(s.username,n)),!n&&t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.username===void 0&&t.password===void 0&&(e.password=tr(s.password,n)),t.protocol===void 0&&t.hostname===void 0&&(e.hostname=tr(s.hostname,n)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&(e.port=tr(s.port,n)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.pathname===void 0&&(e.pathname=tr(s.pathname,n)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.pathname===void 0&&t.search===void 0&&(e.search=tr(s.search.substring(1,s.search.length),n)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.pathname===void 0&&t.search===void 0&&t.hash===void 0&&(e.hash=tr(s.hash.substring(1,s.hash.length),n))}catch{throw new TypeError(`invalid baseURL '${t.baseURL}'.`)}if(typeof t.protocol=="string"&&(e.protocol=GSe(t.protocol,n)),typeof t.username=="string"&&(e.username=VSe(t.username,n)),typeof t.password=="string"&&(e.password=BSe(t.password,n)),typeof t.hostname=="string"&&(e.hostname=FSe(t.hostname,n)),typeof t.port=="string"&&(e.port=zSe(t.port,e.protocol,n)),typeof t.pathname=="string"){if(e.pathname=t.pathname,s&&!OSe(e.pathname,n)){let o=s.pathname.lastIndexOf("/");o>=0&&(e.pathname=tr(s.pathname.substring(0,o+1),n)+e.pathname)}e.pathname=HSe(e.pathname,e.protocol,n)}return typeof t.search=="string"&&(e.search=USe(t.search,n)),typeof t.hash=="string"&&(e.hash=jSe(t.hash,n)),e}function Nu(e){return e.replace(/([+*?:{}()\\])/g,"\\$1")}function JSe(e){return e.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function XSe(e,t){t.delimiter??(t.delimiter="/#?"),t.prefixes??(t.prefixes="./"),t.sensitive??(t.sensitive=!1),t.strict??(t.strict=!1),t.end??(t.end=!0),t.start??(t.start=!0),t.endsWith="";let n=".*",s=`[^${JSe(t.delimiter)}]+?`,o=/[$_\u200C\u200D\p{ID_Continue}]/u,r="";for(let a=0;a<e.length;++a){let i=e[a];if(i.type===3){if(i.modifier===3){r+=Nu(i.value);continue}r+=`{${Nu(i.value)}}${Bc(i.modifier)}`;continue}let u=i.hasCustomName(),d=!!i.suffix.length||!!i.prefix.length&&(i.prefix.length!==1||!t.prefixes.includes(i.prefix)),m=a>0?e[a-1]:null,f=a<e.length-1?e[a+1]:null;if(!d&&u&&i.type===1&&i.modifier===3&&f&&!f.prefix.length&&!f.suffix.length)if(f.type===3){let h=f.value.length>0?f.value[0]:"";d=o.test(h)}else d=!f.hasCustomName();if(!d&&!i.prefix.length&&m&&m.type===3){let h=m.value[m.value.length-1];d=t.prefixes.includes(h)}d&&(r+="{"),r+=Nu(i.prefix),u&&(r+=`:${i.name}`),i.type===2?r+=`(${i.value})`:i.type===1?u||(r+=`(${s})`):i.type===0&&(!u&&(!m||m.type===3||m.modifier!==3||d||i.prefix!=="")?r+="*":r+=`(${n})`),i.type===1&&u&&i.suffix.length&&o.test(i.suffix[0])&&(r+="\\"),r+=Nu(i.suffix),d&&(r+="}"),i.modifier!==3&&(r+=Bc(i.modifier))}return r}var Oo,vi,ol,_n,io,rl,B8,eEe=(B8=class{constructor(e={},t,n){Vt(this,Oo);Vt(this,vi,{});Vt(this,ol,{});Vt(this,_n,{});Vt(this,io,{});Vt(this,rl,!1);try{let s;if(typeof t=="string"?s=t:n=t,typeof e=="string"){let i=new QSe(e);if(i.parse(),e=i.result,s===void 0&&typeof e.protocol!="string")throw new TypeError("A base URL must be provided for a relative constructor string.");e.baseURL=s}else{if(!e||typeof e!="object")throw new TypeError("parameter 1 is not of type 'string' and cannot convert to dictionary.");if(s)throw new TypeError("parameter 1 is not of type 'string'.")}typeof n>"u"&&(n={ignoreCase:!1});let o={ignoreCase:n.ignoreCase===!0};yt(this,Oo,Iu({pathname:Br,protocol:Br,username:Br,password:Br,hostname:Br,port:Br,search:Br,hash:Br},e,!0)),gP(de(this,Oo).protocol)===de(this,Oo).port&&(de(this,Oo).port="");let a;for(a of V0){if(!(a in de(this,Oo)))continue;let i={},u=de(this,Oo)[a];switch(de(this,ol)[a]=[],a){case"protocol":Object.assign(i,zr),i.encodePart=Ay;break;case"username":Object.assign(i,zr),i.encodePart=WSe;break;case"password":Object.assign(i,zr),i.encodePart=$Se;break;case"hostname":Object.assign(i,PSe),fP(u)?i.encodePart=CP:i.encodePart=vP;break;case"port":Object.assign(i,zr),i.encodePart=yP;break;case"pathname":hP(de(this,vi).protocol)?(Object.assign(i,LSe,o),i.encodePart=qSe):(Object.assign(i,zr,o),i.encodePart=KSe);break;case"search":Object.assign(i,zr,o),i.encodePart=ZSe;break;case"hash":Object.assign(i,zr,o),i.encodePart=YSe;break}try{de(this,io)[a]=uP(u,i),de(this,vi)[a]=dP(de(this,io)[a],de(this,ol)[a],i),de(this,_n)[a]=XSe(de(this,io)[a],i),yt(this,rl,de(this,rl)||de(this,io)[a].some(d=>d.type===2))}catch{throw new TypeError(`invalid ${a} pattern '${de(this,Oo)[a]}'.`)}}}catch(s){throw new TypeError(`Failed to construct 'URLPattern': ${s.message}`)}}test(e={},t){let n={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof e!="string"&&t)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof e>"u")return!1;try{typeof e=="object"?n=Iu(n,e,!1):n=Iu(n,N8(e,t),!1)}catch{return!1}let s;for(s of V0)if(!de(this,vi)[s].exec(n[s]))return!1;return!0}exec(e={},t){let n={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof e!="string"&&t)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof e>"u")return;try{typeof e=="object"?n=Iu(n,e,!1):n=Iu(n,N8(e,t),!1)}catch{return null}let s={};t?s.inputs=[e,t]:s.inputs=[e];let o;for(o of V0){let r=de(this,vi)[o].exec(n[o]);if(!r)return null;let a={};for(let[i,u]of de(this,ol)[o].entries())if(typeof u=="string"||typeof u=="number"){let d=r[i+1];a[u]=d}s[o]={input:n[o]??"",groups:a}}return s}static compareComponent(e,t,n){let s=(i,u)=>{for(let d of["type","modifier","prefix","value","suffix"]){if(i[d]<u[d])return-1;if(i[d]!==u[d])return 1}return 0},o=new qu(3,"","","","",3),r=new qu(0,"","","","",3),a=(i,u)=>{let d=0;for(;d<Math.min(i.length,u.length);++d){let m=s(i[d],u[d]);if(m)return m}return i.length===u.length?0:s(i[d]??o,u[d]??o)};return!de(t,_n)[e]&&!de(n,_n)[e]?0:de(t,_n)[e]&&!de(n,_n)[e]?a(de(t,io)[e],[r]):!de(t,_n)[e]&&de(n,_n)[e]?a([r],de(n,io)[e]):a(de(t,io)[e],de(n,io)[e])}get protocol(){return de(this,_n).protocol}get username(){return de(this,_n).username}get password(){return de(this,_n).password}get hostname(){return de(this,_n).hostname}get port(){return de(this,_n).port}get pathname(){return de(this,_n).pathname}get search(){return de(this,_n).search}get hash(){return de(this,_n).hash}get hasRegExpGroups(){return de(this,rl)}},Oo=new WeakMap,vi=new WeakMap,ol=new WeakMap,_n=new WeakMap,io=new WeakMap,rl=new WeakMap,B8);globalThis.URLPattern||(globalThis.URLPattern=eEe);let kP;function BMe(e){kP=e}const R8=["copilot.microsoft.com","copilot.com","copilot-stg.com","studiostaticassetsprod.azureedge.net",window.location.hostname];function tEe(){var e,t;typeof window<"u"&&(window.copilotTrustedTypesPolicy=(e=window.trustedTypes)==null?void 0:e.createPolicy("copilotPolicy",{createHTML:n=>k8.sanitize(n)}),(t=window.trustedTypes)==null||t.createPolicy("default",{createScriptURL:n=>{if(!n)throw new Error(`Invalid script URL "${n}" blocked by CSP.`);const s=/^\/cl\//,o=new URLPattern({protocol:"https",hostname:"*.clarity.ms"}),r=new URLPattern({protocol:"https",hostname:"*.cloudflare.com"}),a=new URLPattern({protocol:"https",hostname:"bat.bing.com"}),i=new URLPattern({protocol:"https",hostname:"az416426.vo.msecnd.net"}),u=new URLPattern({protocol:"https",hostname:"fpt.dfp.microsoft.com"}),d=new URLPattern({protocol:"https",hostname:"assets.msn.com"}),m=new URLPattern({protocol:"https",hostname:"content.lifecycle.office.net"}),f=new URLPattern({protocol:"https",hostname:"*.paypal.com"}),h=new URLPattern({protocol:"https",hostname:"*.paypalobjects.com"}),g=new URLPattern({protocol:"https",hostname:"*.stripe.com"}),C=new URLPattern({protocol:window.location.protocol,hostname:window.location.hostname,port:window.location.port||void 0,pathname:"/src/workers/*.worker.ts*"}),v=R8.map(b=>new URLPattern({protocol:"https",hostname:b,pathname:"*/assets/*.worker-*.js"})),y=b=>{if(!b.startsWith("blob:"))return!1;const E=b.match(/^blob:(https?:\/\/[^/]+)/);if(!E||!E[1])return!1;const S=E[1];try{const I=new URL(S);return R8.some(_=>I.hostname===_)}catch{return!1}};if(s.test(n)||o.test(n)||r.test(n)||a.test(n)||i.test(n)||u.test(n)||d.test(n)||m.test(n)||f.test(n)||h.test(n)||g.test(n)||C.test(n)||v.some(b=>b.test(n))||n===kP||y(n))return n;throw new Error(`Unsafe script URL "${n}" blocked by CSP.`)},createHTML:n=>k8.sanitize(n)}))}const nEe="6472538445",sEe="6738511300";function oEe(){const e=document.querySelector('meta[name="apple-itunes-app"]');e&&e.remove();let t=null;if(rC()?t=nEe:SZ()&&(t=sEe),t){const n=document.createElement("meta");n.name="apple-itunes-app",n.content=`app-id=${t}`,document.head.appendChild(n)}}tEe();oEe();AO.createRoot(document.getElementById("app")).render(l.jsx(Ei.StrictMode,{children:l.jsx(iSe,{})}));export{awe as $,D as A,be as B,Zf as C,dn as D,mt as E,Al as F,dle as G,Zt as H,I_e as I,__e as J,Wo as K,Ji as L,ne as M,an as N,zn as O,LEe as P,jn as Q,U_e as R,$Ee as S,HEe as T,k3 as U,c_e as V,So as W,FN as X,Eo as Y,ct as Z,XN as _,$ke as a,JR as a$,Pi as a0,pie as a1,o_e as a2,ln as a3,t2 as a4,cs as a5,jl as a6,FT as a7,d_e as a8,Yp as a9,Qw as aA,un as aB,XEe as aC,R$ as aD,p3 as aE,nI as aF,Cl as aG,Up as aH,a3 as aI,$fe as aJ,MC as aK,T1 as aL,zwe as aM,Jd as aN,mQ as aO,CT as aP,lbe as aQ,cbe as aR,nR as aS,Ud as aT,RQ as aU,xt as aV,I5e as aW,xA as aX,v3e as aY,Ta as aZ,Nm as a_,it as aa,us as ab,pt as ac,es as ad,nt as ae,Fe as af,yae as ag,Ri as ah,Qt as ai,B_e as aj,wt as ak,EEe as al,Vn as am,KT as an,ym as ao,ye as ap,Ase as aq,wm as ar,iwe as as,Vo as at,L3 as au,zl as av,Tk as aw,pu as ax,bl as ay,Yt as az,Ue as b,w5 as b$,Cm as b0,V5e as b1,n5 as b2,cS as b3,GZ as b4,M3 as b5,wwe as b6,Is as b7,gw as b8,Io as b9,Ge as bA,Vl as bB,ka as bC,efe as bD,MEe as bE,Kd as bF,ir as bG,rn as bH,cp as bI,pv as bJ,ZN as bK,Fc as bL,An as bM,yEe as bN,t3 as bO,Lp as bP,pp as bQ,jN as bR,hn as bS,Qke as bT,uA as bU,nue as bV,vte as bW,X1e as bX,R5 as bY,ql as bZ,txe as b_,gt as ba,Kp as bb,ps as bc,Js as bd,Ife as be,lIe as bf,zde as bg,iY as bh,mh as bi,Qwe as bj,cn as bk,wQ as bl,y3 as bm,Gce as bn,x2e as bo,S2e as bp,pte as bq,PJ as br,l6 as bs,jC as bt,LIe as bu,tfe as bv,Lme as bw,e_e as bx,tie as by,xTe as bz,ile as c,Ch as c$,tN as c0,eN as c1,vve as c2,yve as c3,Eve as c4,Sve as c5,Wke as c6,xve as c7,rc as c8,T3 as c9,ZAe as cA,Ar as cB,Sh as cC,Ko as cD,vo as cE,xS as cF,$t as cG,MN as cH,YI as cI,jle as cJ,Xn as cK,Uu as cL,ks as cM,Ml as cN,Z1e as cO,Ca as cP,JC as cQ,cy as cR,Eke as cS,ly as cT,wke as cU,Ike as cV,BM as cW,UM as cX,Pm as cY,KIe as cZ,ZIe as c_,MA as ca,Sm as cb,pn as cc,ny as cd,Xi as ce,Ol as cf,Na as cg,va as ch,Rl as ci,tT as cj,hm as ck,oh as cl,nh as cm,Ll as cn,th as co,Bee as cp,Nt as cq,tIe as cr,eIe as cs,oIe as ct,uIe as cu,vf as cv,fT as cw,ofe as cx,rk as cy,Zx as cz,G as d,GI as d$,Oc as d0,wh as d1,ty as d2,Zs as d3,eAe as d4,gR as d5,Jr as d6,vQ as d7,gs as d8,_4 as d9,sk as dA,Wme as dB,Sn as dC,_M as dD,rwe as dE,uTe as dF,Cke as dG,dTe as dH,mTe as dI,pke as dJ,X0e as dK,v2e as dL,hr as dM,uwe as dN,lwe as dO,dwe as dP,bEe as dQ,OEe as dR,ma as dS,mY as dT,Mc as dU,Aw as dV,s0e as dW,Rge as dX,ewe as dY,Ks as dZ,IQ as d_,k1 as da,Cwe as db,Ki as dc,Mn as dd,Qd as de,Uwe as df,Fce as dg,sA as dh,$s as di,mf as dj,f_e as dk,hTe as dl,O3e as dm,tn as dn,tke as dp,nke as dq,ATe as dr,PEe as ds,Ir as dt,$1 as du,bMe as dv,Tm as dw,Mm as dx,BA as dy,PTe as dz,zEe as e,Ra as e$,vt as e0,Ns as e1,dh as e2,L_e as e3,$Ce as e4,oc as e5,A_e as e6,RR as e7,NR as e8,Y3e as e9,$e as eA,Bme as eB,Rm as eC,cC as eD,ds as eE,$2 as eF,wM as eG,ta as eH,JCe as eI,oMe as eJ,nTe as eK,tMe as eL,eMe as eM,rMe as eN,nMe as eO,sMe as eP,Rie as eQ,_r as eR,k_e as eS,xM as eT,rR as eU,E_e as eV,w_e as eW,Vee as eX,Ah as eY,Gl as eZ,D3 as e_,Dl as ea,L1 as eb,rI as ec,nm as ed,gIe as ee,td as ef,bi as eg,um as eh,HZ as ei,HF as ej,dC as ek,Tr as el,XTe as em,yM as en,Lse as eo,C5 as ep,Wfe as eq,fY as er,Pse as es,e9e as et,Xxe as eu,u0 as ev,fk as ew,Sfe as ex,ht as ey,nS as ez,St as f,TMe as f$,E3 as f0,K3 as f1,ac as f2,rh as f3,WIe as f4,W2e as f5,jM as f6,hie as f7,mie as f8,$u as f9,km as fA,v1e as fB,pM as fC,Ih as fD,g_e as fE,$Y as fF,gC as fG,X3 as fH,p_e as fI,S_e as fJ,SEe as fK,Owe as fL,Dwe as fM,Lwe as fN,$w as fO,h_e as fP,YX as fQ,pfe as fR,Th as fS,dv as fT,N as fU,Jn as fV,gl as fW,Wp as fX,p3e as fY,jpe as fZ,b9 as f_,Ft as fa,_9 as fb,W6e as fc,i_e as fd,a_e as fe,B6e as ff,v_ as fg,tte as fh,g3e as fi,Jw as fj,Fwe as fk,Vp as fl,Bp as fm,qpe as fn,Co as fo,W2 as fp,HIe as fq,mA as fr,tI as fs,O1 as ft,da as fu,AS as fv,IJ as fw,uC as fx,LR as fy,Ho as fz,pe as g,yT as g$,Il as g0,V1 as g1,py as g2,HN as g3,Jke as g4,Bke as g5,$f as g6,zs as g7,Ka as g8,Fr as g9,P_ as gA,NTe as gB,RTe as gC,UTe as gD,Fk as gE,Xme as gF,Gr as gG,nwe as gH,Ufe as gI,owe as gJ,vS as gK,YZ as gL,QZ as gM,Dp as gN,g_ as gO,YCe as gP,twe as gQ,OTe as gR,LTe as gS,tm as gT,uv as gU,vEe as gV,lv as gW,z2e as gX,r2e as gY,ay as gZ,TM as g_,zu as ga,sm as gb,kr as gc,j3 as gd,Rh as ge,xd as gf,_y as gg,nxe as gh,lxe as gi,HC as gj,bv as gk,i4e as gl,vMe as gm,vTe as gn,wxe as go,b3e as gp,xR as gq,y3e as gr,QIe as gs,XE as gt,nie as gu,_Te as gv,jTe as gw,DTe as gx,ITe as gy,Ome as gz,kn as h,jd as h$,Yde as h0,oy as h1,DN as h2,ho as h3,I1 as h4,bQ as h5,Swe as h6,bw as h7,ek as h8,l3 as h9,Ice as hA,PR as hB,H5 as hC,MR as hD,tY as hE,m_e as hF,KTe as hG,Bm as hH,Nk as hI,zpe as hJ,Lm as hK,e6 as hL,JEe as hM,Fke as hN,mge as hO,eke as hP,Ty as hQ,v8 as hR,sae as hS,gT as hT,vT as hU,K9e as hV,e8e as hW,jMe as hX,UMe as hY,gte as hZ,FMe as h_,r_ as ha,Dve as hb,y_ as hc,a_ as hd,_Me as he,Z6e as hf,Zi as hg,FIe as hh,F1 as hi,BIe as hj,jIe as hk,sI as hl,vv as hm,Kee as hn,Hp as ho,tk as hp,Hfe as hq,xxe as hr,_6e as hs,Hpe as ht,yd as hu,FAe as hv,KN as hw,Ige as hx,DMe as hy,OMe as hz,It as i,qN as i$,S9e as i0,nhe as i1,QAe as i2,XR as i3,zk as i4,CM as i5,the as i6,q3 as i7,Ed as i8,Sd as i9,YC as iA,$se as iB,uo as iC,cfe as iD,qTe as iE,Xke as iF,gm as iG,UN as iH,bh as iI,y5 as iJ,C8 as iK,P_e as iL,che as iM,T_e as iN,hN as iO,$3 as iP,Vk as iQ,$me as iR,W1 as iS,MIe as iT,uMe as iU,pTe as iV,fTe as iW,cwe as iX,gTe as iY,cw as iZ,Yae as i_,aN as ia,vy as ib,IEe as ic,_Ee as id,YEe as ie,ZEe as ig,QEe as ih,Xs as ii,kh as ij,Pwe as ik,v_e as il,y_e as im,C_e as io,lk as ip,Gx as iq,afe as ir,ype as is,rC as it,gwe as iu,vwe as iv,EZ as iw,Sf as ix,_ce as iy,zC as iz,M as j,_a as j$,L3e as j0,W_e as j1,fAe as j2,K_e as j3,q_e as j4,V_e as j5,G_e as j6,LQ as j7,Z_e as j8,wpe as j9,pI as jA,bxe as jB,F_e as jC,FEe as jD,due as jE,Dm as jF,pN as jG,Zp as jH,Zc as jI,Un as jJ,cM as jK,cte as jL,yg as jM,iIe as jN,jEe as jO,$l as jP,Ow as jQ,Bx as jR,T2e as jS,oI as jT,A2e as jU,hQ as jV,gQ as jW,go as jX,U1 as jY,pd as jZ,w_ as j_,fw as ja,Spe as jb,Rv as jc,qIe as jd,nx as je,nIe as jf,K4 as jg,aIe as jh,rIe as ji,vg as jj,bo as jk,Pfe as jl,Wwe as jm,ube as jn,Aa as jo,vl as jp,dk as jq,Vu as jr,ku as js,$M as jt,mwe as ju,ot as jv,Cte as jw,hte as jx,$V as jy,PIe as jz,je as k,xIe as k$,OIe as k0,HR as k1,Zo as k2,Uke as k3,N6e as k4,Sk as k5,wr as k6,I3 as k7,yte as k8,k8 as k9,q5e as kA,eve as kB,ea as kC,Gke as kD,zke as kE,tAe as kF,I2e as kG,u3 as kH,bAe as kI,gAe as kJ,vAe as kK,EAe as kL,pAe as kM,CAe as kN,hAe as kO,yAe as kP,xAe as kQ,SAe as kR,wAe as kS,Ik as kT,rfe as kU,_s as kV,bV as kW,SIe as kX,XC as kY,e3 as kZ,t5 as k_,Uee as ka,UEe as kb,QN as kc,Hn as kd,M2 as ke,Nh as kf,Ete as kg,xte as kh,WR as ki,GR as kj,I_ as kk,Ope as kl,Dpe as km,Ewe as kn,l_e as ko,Awe as kp,BEe as kq,VEe as kr,WEe as ks,GEe as kt,M_e as ku,Wx as kv,oAe as kw,nAe as kx,sAe as ky,Q5e as kz,F as l,vn as l$,bIe as l0,sIe as l1,BMe as l2,A3 as l3,CEe as l4,qee as l5,Ade as l6,gX as l7,od as l8,z7 as l9,qbe as lA,ni as lB,qCe as lC,g5e as lD,ive as lE,Q8 as lF,kM as lG,U9 as lH,YIe as lI,DC as lJ,p5e as lK,hI as lL,f6e as lM,kde as lN,Rke as lO,bTe as lP,hy as lQ,Qs as lR,u_e as lS,CTe as lT,GB as lU,AZ as lV,ET as lW,sn as lX,NIe as lY,SS as lZ,Kt as l_,rue as la,aue as lb,XF as lc,oue as ld,$_e as le,H_e as lf,XX as lg,nY as lh,Hl as li,qo as lj,VAe as lk,h3e as ll,o1e as lm,jk as ln,vR as lo,Tw as lp,Dke as lq,B9 as lr,M3e as ls,Mye as lt,Oke as lu,SM as lv,z_e as lw,ak as lx,Vae as ly,Qbe as lz,le as m,DAe as m$,JIe as m0,Gae as m1,KR as m2,cTe as m3,iTe as m4,Dse as m5,Ose as m6,gme as m7,sTe as m8,oTe as m9,dve as mA,fwe as mB,jke as mC,Vke as mD,P5e as mE,Hke as mF,Gee as mG,EIe as mH,IIe as mI,_Ie as mJ,CIe as mK,vIe as mL,yIe as mM,bX as mN,yX as mO,SX as mP,xX as mQ,DEe as mR,sd as mS,_X as mT,TX as mU,wIe as mV,ybe as mW,bd as mX,H1 as mY,PAe as mZ,OAe as m_,rTe as ma,Vx as mb,aTe as mc,dJ as md,Nx as me,x_e as mf,TR as mg,JTe as mh,hIe as mi,pIe as mj,fle as mk,mle as ml,gie as mm,N_e as mn,iA as mo,vle as mp,R_e as mq,DIe as mr,Vwe as ms,bn as mt,vse as mu,Bwe as mv,Yw as mw,VIe as mx,lle as my,mve as mz,G1 as n,tTe as n$,jAe as n0,NAe as n1,RAe as n2,kk as n3,b5 as n4,TAe as n5,MAe as n6,AAe as n7,XIe as n8,kAe as n9,Gpe as nA,_se as nB,wy as nC,w2e as nD,Go as nE,YS as nF,b_e as nG,jo as nH,tle as nI,pwe as nJ,Dn as nK,hwe as nL,lr as nM,mx as nN,Nue as nO,KEe as nP,rAe as nQ,GM as nR,gMe as nS,oY as nT,xi as nU,qEe as nV,eY as nW,Gwe as nX,lh as nY,h3 as nZ,WA as n_,IAe as na,LAe as nb,_Ae as nc,CC as nd,_h as ne,A6e as nf,EMe as ng,tge as nh,C9e as ni,Oae as nj,UI as nk,cIe as nl,v9e as nm,T6e as nn,Tge as no,RIe as np,Z9 as nq,dMe as nr,aMe as ns,nte as nt,t0e as nu,bf as nv,i0e as nw,ste as nx,iMe as ny,FR as nz,ge as o,yTe as o$,Tfe as o0,Afe as o1,kfe as o2,GF as o3,uY as o4,Tpe as o5,UAe as o6,KF as o7,_1 as o8,Rfe as o9,Xd as oA,cve as oB,Xw as oC,zZ as oD,W7 as oE,eue as oF,rde as oG,JA as oH,yye as oI,CQ as oJ,SC as oK,qwe as oL,Kwe as oM,kw as oN,lI as oO,SQ as oP,EQ as oQ,xQ as oR,Jwe as oS,Xwe as oT,AIe as oU,_2e as oV,Q0e as oW,fIe as oX,mIe as oY,GAe as oZ,Pie as o_,xo as oa,Tce as ob,F4 as oc,xh as od,Mfe as oe,kEe as of,TEe as og,AEe as oh,Cd as oi,Qp as oj,Sy as ok,pQ as ol,$we as om,NEe as on,ume as oo,fQ as op,x0e as oq,REe as or,n3 as os,Iwe as ot,lY as ou,_we as ov,kwe as ow,Nwe as ox,Mwe as oy,fl as oz,O_e as p,a7 as p$,xEe as p0,xC as p1,Ywe as p2,UIe as p3,Hwe as p4,Zwe as p5,pC as p6,jwe as p7,SZ as p8,xv as p9,fd as pA,ife as pB,$6e as pC,s_e as pD,fde as pE,r_e as pF,mv as pG,XT as pH,BR as pI,Wpe as pJ,wk as pK,Md as pL,ws as pM,W8 as pN,ED as pO,Nd as pP,pEe as pQ,Rc as pR,fr as pS,YO as pT,WD as pU,GD as pV,qD as pW,KD as pX,_7 as pY,b7 as pZ,Yu as p_,uM as pa,Hu as pb,w1 as pc,$A as pd,eme as pe,qA as pf,KA as pg,ZA as ph,YA as pi,QA as pj,X_e as pk,uR as pl,dIe as pm,Dd as pn,Iy as po,I4e as pp,Gfe as pq,zfe as pr,dAe as ps,cMe as pt,lMe as pu,Twe as pv,xk as pw,mAe as px,Bfe as py,sy as pz,ae as q,m7 as q$,sp as q0,aD as q1,Rd as q2,tt as q3,Ru as q4,Va as q5,fEe as q6,mEe as q7,vj as q8,gEe as q9,PO as qA,JO as qB,dEe as qC,QO as qD,FD as qE,BD as qF,Ci as qG,ej as qH,VD as qI,uEe as qJ,_D as qK,W0 as qL,j7 as qM,$8 as qN,Z5 as qO,GO as qP,tp as qQ,ND as qR,s7 as qS,i7 as qT,p7 as qU,MD as qV,e7 as qW,RD as qX,LD as qY,u7 as qZ,PD as q_,op as qa,Sj as qb,tj as qc,JD as qd,XD as qe,k7 as qf,Vc as qg,X5 as qh,Sa as qi,Yj as qj,h7 as qk,Y5 as ql,$D as qm,H0 as qn,G0 as qo,zO as qp,J8 as qq,wD as qr,HO as qs,a1 as qt,Ku as qu,sv as qv,s1 as qw,r1 as qx,ua as qy,X8 as qz,ut as r,zAe as r$,l7 as r0,DD as r1,VO as r2,IU as r3,H7 as r4,wi as r5,V7 as r6,zD as r7,mr as r8,M7 as r9,Wb as rA,ap as rB,R7 as rC,AU as rD,ev as rE,y7 as rF,tv as rG,Ld as rH,Fj as rI,O7 as rJ,Bj as rK,v7 as rL,C7 as rM,rv as rN,BO as rO,Fee as rP,aS as rQ,l1 as rR,$Ie as rS,dm as rT,TIe as rU,_3e as rV,TTe as rW,FTe as rX,Bk as rY,Kf as rZ,GN as r_,Z0 as ra,Vj as rb,D7 as rc,Gj as rd,L7 as re,q8 as rf,cD as rg,kd as rh,qO as ri,ZO as rj,f7 as rk,o1 as rl,al as rm,$b as rn,of as ro,hEe as rp,UO as rq,Qj as rr,lEe as rs,tD as rt,np as ru,mD as rv,Pj as rw,EU as rx,av as ry,NU as rz,D_e as s,GIe as s$,ywe as s0,Rwe as s1,wo as s2,bye as s3,STe as s4,ah as s5,s1e as s6,Ok as s7,Cr as s8,Mh as s9,t_e as sA,n_e as sB,swe as sC,eie as sD,MTe as sE,iC as sF,R6e as sG,kTe as sH,VE as sI,pr as sJ,ul as sK,hB as sL,wEe as sM,iv as sN,vd as sO,fh as sP,g1 as sQ,H1e as sR,a3e as sS,R3e as sT,_f as sU,P3e as sV,wve as sW,U3 as sX,fke as sY,kIe as sZ,zIe as s_,xwe as sa,Xae as sb,N3e as sc,WAe as sd,g1e as se,$Te as sf,zTe as sg,I1e as sh,L1e as si,x1e as sj,k1e as sk,HAe as sl,HTe as sm,$Ae as sn,V3 as so,GTe as sp,WTe as sq,VTe as sr,Pke as ss,Lke as st,Q4e as su,BTe as sv,bwe as sw,YR as sx,wTe as sy,ETe as sz,qt as t,Q_e as t0,J_e as t1,eTe as t2,lTe as t3,P3 as t4,ZTe as t5,YTe as t6,QTe as t7,aAe as t8,iAe as t9,Ake as tA,kke as tB,Mke as tC,Nke as tD,qke as tE,Kke as tF,Zke as tG,Yke as tH,mMe as tI,fMe as tJ,pMe as tK,hMe as tL,CMe as tM,yMe as tN,xMe as tO,SMe as tP,wMe as tQ,IMe as tR,AMe as tS,kMe as tT,MMe as tU,NMe as tV,RMe as tW,PMe as tX,LMe as tY,cAe as ta,lAe as tb,uAe as tc,BAe as td,qAe as te,KAe as tf,YAe as tg,ske as th,oke as ti,rke as tj,ake as tk,ike as tl,cke as tm,lke as tn,uke as to,dke as tp,mke as tq,hke as tr,gke as ts,vke as tt,yke as tu,bke as tv,xke as tw,Ske as tx,_ke as ty,Tke as tz,yl as u,oe as v,j_e as w,FC as x,ehe as y,Pa as z};

//# debugId=c8961bcf-2e86-5d35-8857-a5b4e48ed34d
