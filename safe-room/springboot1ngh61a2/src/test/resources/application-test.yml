# Test configuration for unit tests
spring:
  datasource:
    driverClassName: org.h2.Driver
    url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    username: sa
    password: ""
  sql:
    init:
      mode: always
      schema-locations: classpath:schema-h2.sql
      data-locations: classpath:data-h2.sql

# Disable MinIO for tests
minio:
  enabled: false

# Test logging
logging:
  level:
    root: WARN
    com.controller: DEBUG
    com.service: DEBUG
    org.testcontainers: INFO
    org.testcontainers.containers: DEBUG

# Test-specific configurations
test:
  authentication:
    skip: false  # Set to true if you want to skip authentication in tests
    token-expiry-check: false  # Disable token expiry check in tests
    # Test user credentials for integration tests
    admin-username: admin
    admin-password: admin
    member-username: user01
    member-password: 123456
  containers:
    enabled: true  # Enable Testcontainers for integration tests
    postgres:
      image: postgres:13
      database: testdb
      username: test
      password: test123
  data:
    cleanup-enabled: true  # Enable automatic test data cleanup
    cleanup-prefixes: ["test-", "auto-", "temp-"]  # Prefixes for test data identification