/**
 * SCSS混入 - 现代化样式工具函数
 */

// 玻璃拟态效果
@mixin glassmorphism($opacity: 0.7, $blur: 10px) {
  background: rgba(255, 255, 255, $opacity);
  backdrop-filter: blur($blur);
  -webkit-backdrop-filter: blur($blur);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

// 渐变背景
@mixin gradient-bg($gradient: var(--gradient-primary)) {
  background: $gradient;
}

// 卡片样式
@mixin card($elevated: false) {
  @include glassmorphism(0.8, 16px);
  border-radius: var(--radius-card);
  box-shadow: var(--shadow-lg);
  padding: var(--space-6);
  transition: all var(--duration-200) var(--ease-in-out);

  @if $elevated {
    box-shadow: var(--shadow-xl);
  }

  &:hover {
    box-shadow: var(--shadow-xl);
    transform: translateY(-2px);
  }
}

// 按钮基础样式
@mixin button-base() {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: var(--font-weight-medium);
  transition: all var(--duration-200) var(--ease-in-out);
  border: none;
  cursor: pointer;
  outline: none;
  border-radius: var(--radius-button);

  &:focus-visible {
    outline: 2px solid var(--color-primary-500);
    outline-offset: 2px;
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

// 输入框样式
@mixin input-base() {
  width: 100%;
  padding: var(--space-3) var(--space-4);
  background: rgba(255, 255, 255, 0.5);
  backdrop-filter: blur(8px);
  border: 1px solid var(--color-border-medium);
  border-radius: var(--radius-input);
  color: var(--color-text-primary);
  font-size: var(--font-size-body-md);
  transition: all var(--duration-200) var(--ease-in-out);

  &::placeholder {
    color: var(--color-text-tertiary);
  }

  &:focus {
    outline: none;
    border-color: var(--color-primary-500);
    background: rgba(255, 255, 255, 1);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
  }

  &:hover:not(:focus) {
    background: rgba(255, 255, 255, 0.7);
    border-color: var(--color-border-dark);
  }
}

// 响应式断点
@mixin respond-to($breakpoint) {
  @if $breakpoint == sm {
    @media (min-width: 640px) { @content; }
  }
  @if $breakpoint == md {
    @media (min-width: 768px) { @content; }
  }
  @if $breakpoint == lg {
    @media (min-width: 1024px) { @content; }
  }
  @if $breakpoint == xl {
    @media (min-width: 1280px) { @content; }
  }
  @if $breakpoint == 2xl {
    @media (min-width: 1536px) { @content; }
  }
}

// 动画关键帧
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeOut {
  from { opacity: 1; }
  to { opacity: 0; }
}

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(1rem);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInDown {
  from {
    opacity: 0;
    transform: translateY(-1rem);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes scaleOut {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.95);
  }
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

// 动画类
.animate-fadeIn {
  animation: fadeIn var(--duration-200) var(--ease-out);
}

.animate-fadeOut {
  animation: fadeOut var(--duration-200) var(--ease-in);
}

.animate-slideInUp {
  animation: slideInUp var(--duration-300) var(--ease-out);
}

.animate-slideInDown {
  animation: slideInDown var(--duration-300) var(--ease-out);
}

.animate-scaleIn {
  animation: scaleIn var(--duration-300) var(--ease-emphasized-out);
}

.animate-scaleOut {
  animation: scaleOut var(--duration-300) var(--ease-emphasized-in);
}

.animate-spin {
  animation: spin 1s linear infinite;
}

// 减少动画支持
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

