# 后台注册页面需求文档（Admin Register v1.0）

> 版本：v1.0  
> 更新日期：2025-11-15（计划日期）  
> 适用路由：`/register`  
> 关联组件：`src/views/register.vue`

---

## 0. 设计关键词

简洁高效 · 角色区分 · 安全校验 · 友好提示 · 快速注册

> 要求：注册流程 ≤ 30 秒，支持多角色注册，表单校验清晰。

---

## 1. 页面逻辑结构

| 顺序 | 区块 | 目的 |
| --- | --- | --- |
| ① | 页面标题和角色选择 | 明确注册目的，选择注册角色 |
| ② | 注册表单 | 根据角色动态显示字段，输入必要信息 |
| ③ | 操作按钮 | 提交注册、返回登录 |

---

## 2. 视觉规范

### 2.1 背景
- 渐变背景：`linear-gradient(135deg, #1e1f42, #0a0b17)`  
- 与登录页保持一致的视觉风格

### 2.2 注册卡片
- 宽度：`min(640px, 100%)`，圆角 24px  
- 背景：`#FFFFFF`，阴影 `0 30px 80px rgba(10, 24, 64, 0.45)`  
- 标题区：显示"创建后台账号"，副标题"选择角色并填写必要信息"

### 2.3 表单元素
- 标签：左对齐，字重 500，宽度 140px  
- 输入框：标准输入框样式，支持 `clearable`  
- 必填标识：红色星号 `*`  
- 提交按钮：主色 `#3A80FF`，hover 明度 +8%

---

## 3. 功能需求

### 3.1 角色选择

| 功能 | 说明 | 数据来源 |
| --- | --- | --- |
| 角色列表 | 显示可注册的角色（会员用户、健身教练） | 前端配置 `roleOptions` |
| 角色切换 | 切换角色时动态更新表单字段 | `watch` 监听 `activeRole` |
| 默认角色 | 默认选择"会员用户" | `activeRole = 'yonghu'` |

### 3.2 表单字段配置

#### 会员用户（yonghu）字段

| 字段 | 类型 | 标签 | 必填 | 说明 |
| --- | --- | --- | --- | --- |
| `yonghuzhanghao` | text | 用户账号 | 是 | 唯一标识，用于登录 |
| `mima` | password | 密码 | 是 | 登录密码 |
| `mima2` | password | 确认密码 | 是 | 需与密码一致 |
| `yonghuxingming` | text | 姓名 | 是 | 用户真实姓名 |
| `shoujihaoma` | text | 手机号 | 否 | 联系方式 |

#### 健身教练（jianshenjiaolian）字段

| 字段 | 类型 | 标签 | 必填 | 说明 |
| --- | --- | --- | --- | --- |
| `jiaoliangonghao` | text | 教练工号 | 是 | 唯一标识，用于登录 |
| `mima` | password | 密码 | 是 | 登录密码 |
| `mima2` | password | 确认密码 | 是 | 需与密码一致 |
| `jiaolianxingming` | text | 教练姓名 | 是 | 教练真实姓名 |
| `lianxidianhua` | text | 联系电话 | 否 | 联系方式 |

### 3.3 表单校验

| 校验项 | 规则 | 错误提示 |
| --- | --- | --- |
| 必填字段 | 所有必填字段不能为空 | "请输入{字段名}" |
| 密码确认 | `mima` 与 `mima2` 必须一致 | "两次密码输入不一致" |
| 账号唯一性 | 后端校验账号是否已存在 | 后端返回错误信息 |
| 密码强度 | （可选）密码长度 ≥ 6 位 | "密码长度至少6位" |

### 3.4 注册流程

| 步骤 | 操作 | 接口/数据 | 边界场景 |
| --- | --- | --- | --- |
| 选择角色 | 从下拉框选择注册角色 | 前端配置 | 角色切换时清空表单 |
| 填写表单 | 输入必要信息 | 前端表单 | 实时校验必填项 |
| 提交注册 | 点击"提交注册"按钮 | `POST /{role}/register` | 网络失败、账号已存在 |
| 注册成功 | 显示成功提示，跳转登录页 | Vue Router | 自动跳转 `/login` |
| 注册失败 | 显示错误信息，保持表单 | `ElMessage.error` | 显示后端返回的错误信息 |

### 3.5 接口规范

**注册接口**：`POST /{tableName}/register`

- **参数**：JSON 格式，包含角色对应的字段（不包含 `mima2`）
- **响应**：
  ```json
  {
    "code": 0,
    "msg": "注册成功"
  }
  ```
- **错误响应**：
  ```json
  {
    "code": 500,
    "msg": "注册用户已存在"
  }
  ```

---

## 4. 交互细节

| 交互点 | 规范 |
| --- | --- |
| 角色切换 | 切换角色时自动清空表单，重新初始化字段 |
| 输入焦点 | 输入框获取焦点时边框高亮 |
| 密码显示 | 密码字段默认隐藏，支持显示/隐藏切换（可选） |
| Loading | 提交时显示 loading，禁止重复提交 |
| 错误提示 | 表单项下方红色提示，顶部使用 `ElMessage.error` |
| 成功提示 | 注册成功后显示 `ElMessage.success('注册成功')`，2秒后跳转 |

---

## 5. 安全与合规

1. **密码安全**：密码字段使用 `type="password"`，不在前端存储
2. **账号唯一性**：后端校验账号是否已存在，防止重复注册
3. **数据校验**：前后端双重校验，确保数据完整性
4. **HTTPS传输**：生产环境使用 HTTPS 传输注册数据
5. **防重复提交**：提交时禁用按钮，防止重复请求

---

## 6. 响应式策略

| 终端 | 处理 |
| --- | --- |
| PC (>992px) | 卡片居中，正常显示 |
| Pad (768-992px) | 调整卡片 padding 至 24px，字体 -2px |
| Mobile (<768px) | 卡片全宽，按钮全宽，隐藏装饰元素 |

---

## 7. 验收标准

| 维度 | 标准 |
| --- | --- |
| 功能 | 支持多角色注册，表单校验正确 |
| 性能 | 页面加载 ≤ 1s；提交响应 ≤ 2s |
| 安全 | 密码不显示，账号唯一性校验正确 |
| 体验 | 角色切换流畅，错误提示清晰 |
| 兼容性 | 主流浏览器正常显示和交互 |

---

## 8. 待确认事项

- 是否需要邮箱/手机号验证？
- 是否需要图形验证码？
- 密码强度要求（长度、复杂度）？
- 是否支持管理员账号注册（或仅限特定角色）？

---

